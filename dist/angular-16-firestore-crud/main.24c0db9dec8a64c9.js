"use strict";(self.webpackChunkangular_16_firestore_crud=self.webpackChunkangular_16_firestore_crud||[]).push([[179],{2011:(ct,Ee,k)=>{k.d(Ee,{Dh:()=>ke,GT:()=>ce,cc:()=>Ce,hO:()=>Pe,on:()=>V,pX:()=>ne,xv:()=>de});var a=k(2223),G=k(9260),O=k(4976);ct=k.hmd(ct);const Q=["ngOnDestroy"],ne=(xe,mt,dt,te={})=>new Proxy(xe,{get:(pe,W)=>dt.runOutsideAngular(()=>{var he;if(xe[W])return!(null===(he=te?.spy)||void 0===he)&&he.get&&te.spy.get(W,xe[W]),xe[W];if(Q.indexOf(W)>-1)return()=>{};const De=mt.toPromise().then(Fe=>{const ie=Fe&&Fe[W];return"function"==typeof ie?ie.bind(Fe):ie&&ie.then?ie.then(He=>dt.run(()=>He)):dt.run(()=>ie)});return new Proxy(()=>{},{get:(Fe,ie)=>De[ie],apply:(Fe,ie,He)=>De.then(jt=>{var fr;const $r=jt&&jt(...He);return!(null===(fr=te?.spy)||void 0===fr)&&fr.apply&&te.spy.apply(W,He,$r),$r})})})}),ce=(xe,mt)=>{mt.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(te=>{Object.defineProperty(xe.prototype,te,Object.getOwnPropertyDescriptor(dt.prototype||dt,te))})})};class fe{constructor(mt){return mt}}const ke=new a.OlP("angularfire2.app.options"),de=new a.OlP("angularfire2.app.name");function V(xe,mt,dt){const pe="object"==typeof dt&&dt||{};pe.name=pe.name||"string"==typeof dt&&dt||"[DEFAULT]";const he=G.Z.apps.filter(De=>De&&De.name===pe.name)[0]||mt.runOutsideAngular(()=>G.Z.initializeApp(xe,pe));try{JSON.stringify(xe)!==JSON.stringify(he.options)&&Z("error",`${he.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(he)}const Z=(xe,...mt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[xe](...mt)},J={provide:fe,useFactory:V,deps:[ke,a.R0b,[new a.FiY,de]]};let Pe=(()=>{class xe{constructor(dt){G.Z.registerVersion("angularfire",O.q4.full,"core"),G.Z.registerVersion("angularfire",O.q4.full,"app-compat"),G.Z.registerVersion("angular",a.q4F.full,dt.toString())}static initializeApp(dt,te){return{ngModule:xe,providers:[{provide:ke,useValue:dt},{provide:de,useValue:te}]}}}return xe.\u0275fac=function(dt){return new(dt||xe)(a.LFG(a.Lbi))},xe.\u0275mod=a.oAB({type:xe}),xe.\u0275inj=a.cJS({providers:[J]}),xe})();function Ce(xe,mt,dt,te,pe){const[,W,he]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===xe)||[];if(W)return function Ye(xe,mt){try{return xe.toString()===mt.toString()}catch{return xe===mt}}(pe,he)||($e("error",`${mt} was already initialized on the ${dt} Firebase App with different settings.${Se?" You may need to reload as Firebase is not HMR aware.":""}`),$e("warn",{is:pe,was:he})),W;{const De=te();return globalThis.\u0275AngularfireInstanceCache.push([xe,De,pe]),De}}const Se=!!ct.hot,$e=(xe,...mt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[xe](...mt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(ct,Ee,k)=>{k.d(Ee,{q4:()=>Qs,iC:()=>up,HU:()=>Mc,vb:()=>sp,JM:()=>ws});var a=k(2223),G=k(259),O=k(5861),Q=k(6881),ne=k(2090),ce=k(4859),fe=k(1877);const ke=(E,C)=>C.some(S=>E instanceof S);let de,V;const Pe=new WeakMap,Ce=new WeakMap,Ye=new WeakMap,Se=new WeakMap,$e=new WeakMap;let dt={get(E,C,S){if(E instanceof IDBTransaction){if("done"===C)return Ce.get(E);if("objectStoreNames"===C)return E.objectStoreNames||Ye.get(E);if("store"===C)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return he(E[C])},set:(E,C,S)=>(E[C]=S,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function W(E){return"function"==typeof E?function pe(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(De(this),C),he(Pe.get(this))}:function(...C){return he(E.apply(De(this),C))}:function(C,...S){const L=E.call(De(this),C,...S);return Ye.set(L,C.sort?C.sort():[C]),he(L)}}(E):(E instanceof IDBTransaction&&function mt(E){if(Ce.has(E))return;const C=new Promise((S,L)=>{const H=()=>{E.removeEventListener("complete",z),E.removeEventListener("error",le),E.removeEventListener("abort",le)},z=()=>{S(),H()},le=()=>{L(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",z),E.addEventListener("error",le),E.addEventListener("abort",le)});Ce.set(E,C)}(E),ke(E,function Z(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,dt):E)}function he(E){if(E instanceof IDBRequest)return function xe(E){const C=new Promise((S,L)=>{const H=()=>{E.removeEventListener("success",z),E.removeEventListener("error",le)},z=()=>{S(he(E.result)),H()},le=()=>{L(E.error),H()};E.addEventListener("success",z),E.addEventListener("error",le)});return C.then(S=>{S instanceof IDBCursor&&Pe.set(S,E)}).catch(()=>{}),$e.set(C,E),C}(E);if(Se.has(E))return Se.get(E);const C=W(E);return C!==E&&(Se.set(E,C),$e.set(C,E)),C}const De=E=>$e.get(E),He=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],fr=new Map;function $r(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(fr.get(C))return fr.get(C);const S=C.replace(/FromIndex$/,""),L=C!==S,H=jt.includes(S);if(!(S in(L?IDBIndex:IDBObjectStore).prototype)||!H&&!He.includes(S))return;const z=function(){var le=(0,O.Z)(function*(ze,...Be){const it=this.transaction(ze,H?"readwrite":"readonly");let It=it.store;return L&&(It=It.index(Be.shift())),(yield Promise.all([It[S](...Be),H&&it.done]))[0]});return function(Be){return le.apply(this,arguments)}}();return fr.set(C,z),z}!function te(E){dt=E(dt)}(E=>({...E,get:(C,S,L)=>$r(C,S)||E.get(C,S,L),has:(C,S)=>!!$r(C,S)||E.has(C,S)}));const Fo="@firebase/installations",se="0.6.4",me=1e4,Te=`w:${se}`,Me="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",Ve=36e5,tt=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function vn({projectId:E}){return`${je}/projects/${E}/installations`}function tn(E){return{token:E.token,requestStatus:2,expiresIn:rs(E.expiresIn),creationTime:Date.now()}}function Rn(E,C){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,O.Z)(function*(E,C){const L=(yield C.json()).error;return tt.create("request-failed",{requestName:E,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ti({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Gr(E){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function rs(E){return Number(E.replace("s","000"))}function ni(){return(ni=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:S}){const L=vn(E),H=ti(E),z=C.getImmediate({optional:!0});if(z){const it=yield z.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const ze={method:"POST",headers:H,body:JSON.stringify({fid:S,authVersion:Me,appId:E.appId,sdkVersion:Te})},Be=yield Gr(()=>fetch(L,ze));if(Be.ok){const it=yield Be.json();return{fid:it.fid||S,registrationStatus:2,refreshToken:it.refreshToken,authToken:tn(it.authToken)}}throw yield Rn("Create Installation",Be)})).apply(this,arguments)}function ri(E){return new Promise(C=>{setTimeout(C,E)})}const Ma=/^[cdef][\w-]{21}$/,Ge="";function ft(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const S=function _t(E){return function Vo(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Ma.test(S)?S:Ge}catch{return Ge}}function cn(E){return`${E.appName}!${E.appId}`}const Dn=new Map;function zr(E,C){const S=cn(E);Sa(S,C),function an(E,C){const S=function Bt(){return!Sr&&"BroadcastChannel"in self&&(Sr=new BroadcastChannel("[Firebase] FID Change"),Sr.onmessage=E=>{Sa(E.data.key,E.data.fid)}),Sr}();S&&S.postMessage({key:E,fid:C}),function Xi(){0===Dn.size&&Sr&&(Sr.close(),Sr=null)}()}(S,C)}function Sa(E,C){const S=Dn.get(E);if(S)for(const L of S)L(C)}let Sr=null;const os="firebase-installations-database",Na=1,ii="firebase-installations-store";let eo=null;function gr(){return eo||(eo=function Fe(E,C,{blocked:S,upgrade:L,blocking:H,terminated:z}={}){const le=indexedDB.open(E,C),ze=he(le);return L&&le.addEventListener("upgradeneeded",Be=>{L(he(le.result),Be.oldVersion,Be.newVersion,he(le.transaction))}),S&&le.addEventListener("blocked",()=>S()),ze.then(Be=>{z&&Be.addEventListener("close",()=>z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}(os,Na,{upgrade:(E,C)=>{0===C&&E.createObjectStore(ii)}})),eo}function nr(E,C){return mn.apply(this,arguments)}function mn(){return(mn=(0,O.Z)(function*(E,C){const S=cn(E),H=(yield gr()).transaction(ii,"readwrite"),z=H.objectStore(ii),le=yield z.get(S);return yield z.put(C,S),yield H.done,(!le||le.fid!==C.fid)&&zr(E,C.fid),C})).apply(this,arguments)}function to(E){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,O.Z)(function*(E){const C=cn(E),L=(yield gr()).transaction(ii,"readwrite");yield L.objectStore(ii).delete(C),yield L.done})).apply(this,arguments)}function no(E,C){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,O.Z)(function*(E,C){const S=cn(E),H=(yield gr()).transaction(ii,"readwrite"),z=H.objectStore(ii),le=yield z.get(S),ze=C(le);return void 0===ze?yield z.delete(S):yield z.put(ze,S),yield H.done,ze&&(!le||le.fid!==ze.fid)&&zr(E,ze.fid),ze})).apply(this,arguments)}function U(E){return F.apply(this,arguments)}function F(){return F=(0,O.Z)(function*(E){let C;const S=yield no(E.appConfig,L=>{const H=function $(E){return dn(E||{fid:ft(),registrationStatus:0})}(L),z=function ve(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(tt.create("app-offline"))};const S={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},L=function oe(E,C){return nt.apply(this,arguments)}(E,S);return{installationEntry:S,registrationPromise:L}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:pt(E)}:{installationEntry:C}}(E,H);return C=z.registrationPromise,z.installationEntry});return S.fid===Ge?{installationEntry:yield C}:{installationEntry:S,registrationPromise:C}}),F.apply(this,arguments)}function nt(){return nt=(0,O.Z)(function*(E,C){try{const S=yield function Aa(E,C){return ni.apply(this,arguments)}(E,C);return nr(E.appConfig,S)}catch(S){throw ht(S)&&409===S.customData.serverCode?yield to(E.appConfig):yield nr(E.appConfig,{fid:C.fid,registrationStatus:0}),S}}),nt.apply(this,arguments)}function pt(E){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(E){let C=yield _n(E.appConfig);for(;1===C.registrationStatus;)yield ri(100),C=yield _n(E.appConfig);if(0===C.registrationStatus){const{installationEntry:S,registrationPromise:L}=yield U(E);return L||S}return C})).apply(this,arguments)}function _n(E){return no(E,C=>{if(!C)throw tt.create("installation-not-found");return dn(C)})}function dn(E){return function bt(E){return 1===E.registrationStatus&&E.registrationTime+me<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function mr(){return(mr=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:C},S){const L=function yi(E,{fid:C}){return`${vn(E)}/${C}/authTokens:generate`}(E,S),H=function zn(E,{refreshToken:C}){const S=ti(E);return S.append("Authorization",function is(E){return`${Me} ${E}`}(C)),S}(E,S),z=C.getImmediate({optional:!0});if(z){const it=yield z.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const ze={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:Te,appId:E.appId}})},Be=yield Gr(()=>fetch(L,ze));if(Be.ok)return tn(yield Be.json());throw yield Rn("Generate Auth Token",Be)})).apply(this,arguments)}function ro(E){return oi.apply(this,arguments)}function oi(){return oi=(0,O.Z)(function*(E,C=!1){let S;const L=yield no(E.appConfig,z=>{if(!Pt(z))throw tt.create("not-registered");const le=z.authToken;if(!C&&function Yt(E){return 2===E.requestStatus&&!function rr(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+Ve}(E)}(le))return z;if(1===le.requestStatus)return S=function ue(E,C){return ee.apply(this,arguments)}(E,C),z;{if(!navigator.onLine)throw tt.create("app-offline");const ze=function Wn(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}(z);return S=function ut(E,C){return Mt.apply(this,arguments)}(E,ze),ze}});return S?yield S:L.authToken}),oi.apply(this,arguments)}function ee(){return(ee=(0,O.Z)(function*(E,C){let S=yield Ne(E.appConfig);for(;1===S.authToken.requestStatus;)yield ri(100),S=yield Ne(E.appConfig);const L=S.authToken;return 0===L.requestStatus?ro(E,C):L})).apply(this,arguments)}function Ne(E){return no(E,C=>{if(!Pt(C))throw tt.create("not-registered");return function mo(E){return 1===E.requestStatus&&E.requestTime+me<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Mt(){return Mt=(0,O.Z)(function*(E,C){try{const S=yield function qt(E,C){return mr.apply(this,arguments)}(E,C),L=Object.assign(Object.assign({},C),{authToken:S});return yield nr(E.appConfig,L),S}catch(S){if(!ht(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const L=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield nr(E.appConfig,L)}else yield to(E.appConfig);throw S}}),Mt.apply(this,arguments)}function Pt(E){return void 0!==E&&2===E.registrationStatus}function xa(){return(xa=(0,O.Z)(function*(E){const C=E,{installationEntry:S,registrationPromise:L}=yield U(C);return L?L.catch(console.error):ro(C).catch(console.error),S.fid})).apply(this,arguments)}function si(){return si=(0,O.Z)(function*(E,C=!1){const S=E;return yield function Nd(E){return vi.apply(this,arguments)}(S),(yield ro(S,C)).token}),si.apply(this,arguments)}function vi(){return(vi=(0,O.Z)(function*(E){const{registrationPromise:C}=yield U(E);C&&(yield C)})).apply(this,arguments)}function as(E){return tt.create("missing-app-config-values",{valueName:E})}const Rd="installations",ym=E=>{const C=E.getProvider("app").getImmediate(),S=function ku(E){if(!E||!E.options)throw as("App Configuration");if(!E.name)throw as("App Name");const C=["projectId","apiKey","appId"];for(const S of C)if(!E.options[S])throw as(S);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:S,heartbeatServiceProvider:(0,Q._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},_o=E=>{const C=E.getProvider("app").getImmediate(),S=(0,Q._getProvider)(C,Rd).getImmediate();return{getId:()=>function ss(E){return xa.apply(this,arguments)}(S),getToken:H=>function Sd(E){return si.apply(this,arguments)}(S,H)}};(function qf(){(0,Q._registerComponent)(new ce.wA(Rd,ym,"PUBLIC")),(0,Q._registerComponent)(new ce.wA("installations-internal",_o,"PRIVATE"))})(),(0,Q.registerVersion)(Fo,se),(0,Q.registerVersion)(Fo,se,"esm2017");const Ra="@firebase/remote-config",un=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kr{constructor(C,S,L,H){this.client=C,this.storage=S,this.storageCache=L,this.logger=H}isCachedDataFresh(C,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-S,H=L<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${H}.`),H}fetch(C){var S=this;return(0,O.Z)(function*(){const[L,H]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(H&&S.isCachedDataFresh(C.cacheMaxAgeMillis,L))return H;C.eTag=H&&H.eTag;const z=yield S.client.fetch(C),le=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&le.push(S.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(le),z})()}}function Ld(E=navigator){return E.languages&&E.languages[0]||E.language}class io{constructor(C,S,L,H,z,le){this.firebaseInstallations=C,this.sdkVersion=S,this.namespace=L,this.projectId=H,this.apiKey=z,this.appId=le}fetch(C){var S=this;return(0,O.Z)(function*(){const[L,H]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Be={sdk_version:S.sdkVersion,app_instance_id:L,app_instance_id_token:H,app_id:S.appId,language_code:Ld()},it={method:"POST",headers:ze,body:JSON.stringify(Be)},It=fetch(le,it),Ct=new Promise((Ai,ji)=>{C.signal.addEventListener(()=>{const du=new Error("The operation was aborted.");du.name="AbortError",ji(du)})});let Tr;try{yield Promise.race([It,Ct]),Tr=yield It}catch(Ai){let ji="fetch-client-network";throw"AbortError"===Ai?.name&&(ji="fetch-timeout"),un.create(ji,{originalErrorMessage:Ai?.message})}let ir=Tr.status;const Hi=Tr.headers.get("ETag")||void 0;let Sc,ci;if(200===Tr.status){let Ai;try{Ai=yield Tr.json()}catch(ji){throw un.create("fetch-client-parse",{originalErrorMessage:ji?.message})}Sc=Ai.entries,ci=Ai.state}if("INSTANCE_STATE_UNSPECIFIED"===ci?ir=500:"NO_CHANGE"===ci?ir=304:("NO_TEMPLATE"===ci||"EMPTY_CONFIG"===ci)&&(Sc={}),304!==ir&&200!==ir)throw un.create("fetch-status",{httpStatus:ir});return{status:ir,eTag:Hi,config:Sc}})()}}class Oa{constructor(C,S){this.client=C,this.storage=S}fetch(C){var S=this;return(0,O.Z)(function*(){const L=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(C,L)})()}attemptFetch(C,{throttleEndTimeMillis:S,backoffCount:L}){var H=this;return(0,O.Z)(function*(){yield function kn(E,C){return new Promise((S,L)=>{const H=Math.max(C-Date.now(),0),z=setTimeout(S,H);E.addEventListener(()=>{clearTimeout(z),L(un.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,S);try{const z=yield H.client.fetch(C);return yield H.storage.deleteThrottleMetadata(),z}catch(z){if(!function Ls(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(z))throw z;const le={throttleEndTimeMillis:Date.now()+(0,ne.$s)(L),backoffCount:L+1};return yield H.storage.setThrottleMetadata(le),H.attemptFetch(C,le)}})()}}class Pd{constructor(C,S,L,H,z){this.app=C,this._client=S,this._storageCache=L,this._storage=H,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ui(E,C){const S=E.target.error||void 0;return un.create(C,{originalErrorMessage:S&&S?.message})}const Un="app_namespace_store";class KT{constructor(C,S,L,H=function Zt(){return new Promise((E,C)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=L=>{C(ui(L,"storage-open"))},S.onsuccess=L=>{E(L.target.result)},S.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Un,{keyPath:"compositeKey"})}}catch(S){C(un.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=C,this.appName=S,this.namespace=L,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var S=this;return(0,O.Z)(function*(){const L=yield S.openDbPromise;return new Promise((H,z)=>{const ze=L.transaction([Un],"readonly").objectStore(Un),Be=S.createCompositeKey(C);try{const it=ze.get(Be);it.onerror=It=>{z(ui(It,"storage-get"))},it.onsuccess=It=>{const Ct=It.target.result;H(Ct?Ct.value:void 0)}}catch(it){z(un.create("storage-get",{originalErrorMessage:it?.message}))}})})()}set(C,S){var L=this;return(0,O.Z)(function*(){const H=yield L.openDbPromise;return new Promise((z,le)=>{const Be=H.transaction([Un],"readwrite").objectStore(Un),it=L.createCompositeKey(C);try{const It=Be.put({compositeKey:it,value:S});It.onerror=Ct=>{le(ui(Ct,"storage-set"))},It.onsuccess=()=>{z()}}catch(It){le(un.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(C){var S=this;return(0,O.Z)(function*(){const L=yield S.openDbPromise;return new Promise((H,z)=>{const ze=L.transaction([Un],"readwrite").objectStore(Un),Be=S.createCompositeKey(C);try{const it=ze.delete(Be);it.onerror=It=>{z(ui(It,"storage-delete"))},it.onsuccess=()=>{H()}}catch(it){z(un.create("storage-delete",{originalErrorMessage:it?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Lu{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,O.Z)(function*(){const S=C.storage.getLastFetchStatus(),L=C.storage.getLastSuccessfulFetchTimestampMillis(),H=C.storage.getActiveConfig(),z=yield S;z&&(C.lastFetchStatus=z);const le=yield L;le&&(C.lastSuccessfulFetchTimestampMillis=le);const ze=yield H;ze&&(C.activeConfig=ze)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function cs(){return ds.apply(this,arguments)}function ds(){return(ds=(0,O.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function oo(){(0,Q._registerComponent)(new ce.wA("remote-config",function E(C,{instanceIdentifier:S}){const L=C.getProvider("app").getImmediate(),H=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw un.create("registration-window");if(!(0,ne.hl)())throw un.create("indexed-db-unavailable");const{projectId:z,apiKey:le,appId:ze}=L.options;if(!z)throw un.create("registration-project-id");if(!le)throw un.create("registration-api-key");if(!ze)throw un.create("registration-app-id");const Be=new KT(ze,L.name,S=S||"firebase"),it=new Lu(Be),It=new fe.Yd(Ra);It.logLevel=fe.in.ERROR;const Ct=new io(H,Q.SDK_VERSION,S,z,le,ze),Tr=new Oa(Ct,Be),ir=new Kr(Tr,Be,it,It),Hi=new Pd(L,ir,it,Be,It);return function Lt(E){const C=(0,ne.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Hi),Hi},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(Ra,"0.4.4"),(0,Q.registerVersion)(Ra,"0.4.4","esm2017")}();const ar=(E,C)=>C.some(S=>E instanceof S);let vm,Bn;const vo=new WeakMap,wo=new WeakMap,yr=new WeakMap,xr=new WeakMap,hs=new WeakMap;let La={get(E,C,S){if(E instanceof IDBTransaction){if("done"===C)return wo.get(E);if("objectStoreNames"===C)return E.objectStoreNames||yr.get(E);if("store"===C)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return so(E[C])},set:(E,C,S)=>(E[C]=S,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function Tm(E){return"function"==typeof E?function Gf(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fs(){return Bn||(Bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Jl(this),C),so(vo.get(this))}:function(...C){return so(E.apply(Jl(this),C))}:function(C,...S){const L=E.call(Jl(this),C,...S);return yr.set(L,C.sort?C.sort():[C]),so(L)}}(E):(E instanceof IDBTransaction&&function Yl(E){if(wo.has(E))return;const C=new Promise((S,L)=>{const H=()=>{E.removeEventListener("complete",z),E.removeEventListener("error",le),E.removeEventListener("abort",le)},z=()=>{S(),H()},le=()=>{L(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",z),E.addEventListener("error",le),E.addEventListener("abort",le)});wo.set(E,C)}(E),ar(E,function li(){return vm||(vm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,La):E)}function so(E){if(E instanceof IDBRequest)return function wm(E){const C=new Promise((S,L)=>{const H=()=>{E.removeEventListener("success",z),E.removeEventListener("error",le)},z=()=>{S(so(E.result)),H()},le=()=>{L(E.error),H()};E.addEventListener("success",z),E.addEventListener("error",le)});return C.then(S=>{S instanceof IDBCursor&&vo.set(S,E)}).catch(()=>{}),hs.set(C,E),C}(E);if(xr.has(E))return xr.get(E);const C=Tm(E);return C!==E&&(xr.set(E,C),hs.set(C,E)),C}const Jl=E=>hs.get(E);function Ql(E,C,{blocked:S,upgrade:L,blocking:H,terminated:z}={}){const le=indexedDB.open(E,C),ze=so(le);return L&&le.addEventListener("upgradeneeded",Be=>{L(so(le.result),Be.oldVersion,Be.newVersion,so(le.transaction))}),S&&le.addEventListener("blocked",()=>S()),ze.then(Be=>{z&&Be.addEventListener("close",()=>z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}function Pa(E,{blocked:C}={}){const S=indexedDB.deleteDatabase(E);return C&&S.addEventListener("blocked",()=>C()),so(S).then(()=>{})}const Fd=["get","getKey","getAll","getAllKeys","count"],zf=["put","add","delete","clear"],Xl=new Map;function Vd(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Xl.get(C))return Xl.get(C);const S=C.replace(/FromIndex$/,""),L=C!==S,H=zf.includes(S);if(!(S in(L?IDBIndex:IDBObjectStore).prototype)||!H&&!Fd.includes(S))return;const z=function(){var le=(0,O.Z)(function*(ze,...Be){const it=this.transaction(ze,H?"readwrite":"readonly");let It=it.store;return L&&(It=It.index(Be.shift())),(yield Promise.all([It[S](...Be),H&&it.done]))[0]});return function(Be){return le.apply(this,arguments)}}();return Xl.set(C,z),z}!function $f(E){La=E(La)}(E=>({...E,get:(C,S,L)=>Vd(C,S)||E.get(C,S,L),has:(C,S)=>!!Vd(C,S)||E.has(C,S)}));const Ud="/firebase-messaging-sw.js",Fa="/firebase-cloud-messaging-push-scope",Va="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Em="https://fcmregistrations.googleapis.com/v1",ec="google.c.a.c_id",Zn="google.c.a.c_l",Ho="google.c.a.ts";var To=(()=>((To=To||{}).PUSH_RECEIVED="push-received",To.NOTIFICATION_CLICKED="notification-clicked",To))();function Li(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pu(E){const S=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(S),H=new Uint8Array(L.length);for(let z=0;z<L.length;++z)H[z]=L.charCodeAt(z);return H}const Ua="fcm_token_details_db",Bd=5,Ba="fcm_token_object_Store";function Zr(){return Zr=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(z=>z.name).includes(Ua))return null;let C=null;return(yield Ql(Ua,Bd,{upgrade:(L=(0,O.Z)(function*(H,z,le,ze){var Be;if(z<2||!H.objectStoreNames.contains(Ba))return;const it=ze.objectStore(Ba),It=yield it.index("fcmSenderId").get(E);if(yield it.clear(),It)if(2===z){const Ct=It;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;C={token:Ct.fcmToken,createTime:null!==(Be=Ct.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:Li(Ct.vapidKey)}}}else if(3===z){const Ct=It;C={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Li(Ct.auth),p256dh:Li(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Li(Ct.vapidKey)}}}else if(4===z){const Ct=It;C={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Li(Ct.auth),p256dh:Li(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Li(Ct.vapidKey)}}}}),function(z,le,ze,Be){return L.apply(this,arguments)})})).close(),yield Pa(Ua),yield Pa("fcm_vapid_details_db"),yield Pa("undefined"),function Fu(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var L}),Zr.apply(this,arguments)}const Jn="firebase-messaging-database",Vu=1,Ei="firebase-messaging-store";let Za=null;function Vs(){return Za||(Za=Ql(Jn,Vu,{upgrade:(E,C)=>{0===C&&E.createObjectStore(Ei)}})),Za}function Us(E){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,O.Z)(function*(E){const C=fs(E),L=yield(yield Vs()).transaction(Ei).objectStore(Ei).get(C);if(L)return L;{const H=yield function Cm(E){return Zr.apply(this,arguments)}(E.appConfig.senderId);if(H)return yield Wf(E,H),H}}),Bs.apply(this,arguments)}function Wf(E,C){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,O.Z)(function*(E,C){const S=fs(E),H=(yield Vs()).transaction(Ei,"readwrite");return yield H.objectStore(Ei).put(C,S),yield H.done,C})).apply(this,arguments)}function Uu(){return(Uu=(0,O.Z)(function*(E){const C=fs(E),L=(yield Vs()).transaction(Ei,"readwrite");yield L.objectStore(Ei).delete(C),yield L.done})).apply(this,arguments)}function fs({appConfig:E}){return E.appId}const Hr=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yf(E,C){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,O.Z)(function*(E,C){const S=yield ic(E),L=oc(C),H={method:"POST",headers:S,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(ja(E.appConfig),H)).json()}catch(le){throw Hr.create("token-subscribe-failed",{errorInfo:le?.toString()})}if(z.error)throw Hr.create("token-subscribe-failed",{errorInfo:z.error.message});if(!z.token)throw Hr.create("token-subscribe-no-token");return z.token})).apply(this,arguments)}function Hd(){return(Hd=(0,O.Z)(function*(E,C){const S=yield ic(E),L=oc(C.subscriptionOptions),H={method:"PATCH",headers:S,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(`${ja(E.appConfig)}/${C.token}`,H)).json()}catch(le){throw Hr.create("token-update-failed",{errorInfo:le?.toString()})}if(z.error)throw Hr.create("token-update-failed",{errorInfo:z.error.message});if(!z.token)throw Hr.create("token-update-no-token");return z.token})).apply(this,arguments)}function rc(E,C){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,O.Z)(function*(E,C){const L={method:"DELETE",headers:yield ic(E)};try{const z=yield(yield fetch(`${ja(E.appConfig)}/${C}`,L)).json();if(z.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:z.error.message})}catch(H){throw Hr.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function ja({projectId:E}){return`${Em}/projects/${E}/registrations`}function ic(E){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,O.Z)(function*({appConfig:E,installations:C}){const S=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function oc({p256dh:E,auth:C,endpoint:S,vapidKey:L}){const H={web:{endpoint:S,auth:C,p256dh:E}};return L!==Va&&(H.web.applicationPubKey=L),H}const Hu=6048e5;function Zs(){return Zs=(0,O.Z)(function*(E){const C=yield function ju(E,C){return jr.apply(this,arguments)}(E.swRegistration,E.vapidKey),S={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:Li(C.getKey("auth")),p256dh:Li(C.getKey("p256dh"))},L=yield Us(E.firebaseDependencies);if(L){if(function qu(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}(L.subscriptionOptions,S))return Date.now()>=L.createTime+Hu?function jd(E,C){return qa.apply(this,arguments)}(E,{token:L.token,createTime:Date.now(),subscriptionOptions:S}):L.token;try{yield rc(E.firebaseDependencies,L.token)}catch(H){console.warn(H)}return En(E.firebaseDependencies,S)}return En(E.firebaseDependencies,S)}),Zs.apply(this,arguments)}function Pi(){return Pi=(0,O.Z)(function*(E){const C=yield Us(E.firebaseDependencies);C&&(yield rc(E.firebaseDependencies,C.token),yield function tc(E){return Uu.apply(this,arguments)}(E.firebaseDependencies));const S=yield E.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Pi.apply(this,arguments)}function qa(){return qa=(0,O.Z)(function*(E,C){try{const S=yield function nc(E,C){return Hd.apply(this,arguments)}(E.firebaseDependencies,C),L=Object.assign(Object.assign({},C),{token:S,createTime:Date.now()});return yield Wf(E.firebaseDependencies,L),S}catch(S){throw yield function Jf(E){return Pi.apply(this,arguments)}(E),S}}),qa.apply(this,arguments)}function En(E,C){return ps.apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(E,C){const L={token:yield Yf(E,C),createTime:Date.now(),subscriptionOptions:C};return yield Wf(E,L),L.token})).apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pu(C)})})).apply(this,arguments)}function sc(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function jo(E,C){if(!C.notification)return;E.notification={};const S=C.notification.title;S&&(E.notification.title=S);const L=C.notification.body;L&&(E.notification.body=L);const H=C.notification.image;H&&(E.notification.image=H);const z=C.notification.icon;z&&(E.notification.icon=z)}(C,E),function ur(E,C){C.data&&(E.data=C.data)}(C,E),function Am(E,C){var S,L,H,z,le;if(!(C.fcmOptions||null!==(S=C.notification)&&void 0!==S&&S.click_action))return;E.fcmOptions={};const ze=null!==(H=null===(L=C.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==H?H:null===(z=C.notification)||void 0===z?void 0:z.click_action;ze&&(E.fcmOptions.link=ze);const Be=null===(le=C.fcmOptions)||void 0===le?void 0:le.analytics_label;Be&&(E.fcmOptions.analyticsLabel=Be)}(C,E),C}function qd(E,C){const S=[];for(let L=0;L<E.length;L++)S.push(E.charAt(L)),L<C.length&&S.push(C.charAt(L));return S.join("")}function ac(E){return Hr.create("missing-app-config-values",{valueName:E})}qd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $d{constructor(C,S,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function qo(E){if(!E||!E.options)throw ac("App Configuration Object");if(!E.name)throw ac("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:S}=E;for(const L of C)if(!S[L])throw ac(L);return{appName:E.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:H,installations:S,analyticsProvider:L}}_delete(){return Promise.resolve()}}function $u(){return($u=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ud,{scope:Fa}),E.swRegistration.update().catch(()=>{})}catch(C){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield function uc(E){return $u.apply(this,arguments)}(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function $o(){return($o=(0,O.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=Va)})).apply(this,arguments)}function cc(){return cc=(0,O.Z)(function*(E,C){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield function gt(E,C){return $o.apply(this,arguments)}(E,C?.vapidKey),yield function lc(E,C){return js.apply(this,arguments)}(E,C?.serviceWorkerRegistration),function Dm(E){return Zs.apply(this,arguments)}(E)}),cc.apply(this,arguments)}function zd(){return(zd=(0,O.Z)(function*(E,C,S){const L=function Kd(E){switch(E){case To.NOTIFICATION_CLICKED:return"notification_open";case To.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:S[ec],message_name:S[Zn],message_time:S[Ho],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $a(){return $a=(0,O.Z)(function*(E,C){const S=C.data;if(!S.isFirebaseMessaging)return;E.onMessageHandler&&S.messageType===To.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(sc(S)):E.onMessageHandler.next(sc(S)));const L=S.data;(function Hs(E){return"object"==typeof E&&!!E&&ec in E})(L)&&"1"===L["google.c.a.e"]&&(yield function Qf(E,C,S){return zd.apply(this,arguments)}(E,S.messageType,L))}),$a.apply(this,arguments)}const Ga="@firebase/messaging",$s=E=>{const C=new $d(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function qs(E,C){return $a.apply(this,arguments)}(C,S)),C},Wd=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:L=>function Gd(E,C){return cc.apply(this,arguments)}(C,L)}};function zt(){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,O.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function be(){(0,Q._registerComponent)(new ce.wA("messaging",$s,"PUBLIC")),(0,Q._registerComponent)(new ce.wA("messaging-internal",Wd,"PRIVATE")),(0,Q.registerVersion)(Ga,"0.12.4"),(0,Q.registerVersion)(Ga,"0.12.4","esm2017")}();const Hn="analytics",fc="firebase_id",Rr="origin",Io=6e4,zu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Go="https://www.googletagmanager.com/gtag/js",hn=new fe.Yd("@firebase/analytics"),kr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ka(E){if(!E.startsWith(Go)){const C=kr.create("invalid-gtag-resource",{gtagURL:E});return hn.warn(C.message),""}return E}function Ku(E){return Promise.all(E.map(C=>C.catch(S=>S)))}function Yu(){return(Yu=(0,O.Z)(function*(E,C,S,L,H,z){const le=L[H];try{if(le)yield C[le];else{const Be=(yield Ku(S)).find(it=>it.measurementId===H);Be&&(yield C[Be.appId])}}catch(ze){hn.error(ze)}E("config",H,z)})).apply(this,arguments)}function zs(){return(zs=(0,O.Z)(function*(E,C,S,L,H){try{let z=[];if(H&&H.send_to){let le=H.send_to;Array.isArray(le)||(le=[le]);const ze=yield Ku(S);for(const Be of le){const it=ze.find(Ct=>Ct.measurementId===Be),It=it&&C[it.appId];if(!It){z=[];break}z.push(It)}}0===z.length&&(z=Object.values(C)),yield Promise.all(z),E("event",L,H||{})}catch(z){hn.error(z)}})).apply(this,arguments)}const Ju=30,ep=new class Ja{constructor(C={},S=1e3){this.throttleMetadata=C,this.intervalMillis=S}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,S){this.throttleMetadata[C]=S}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Yr(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Cn(){return(Cn=(0,O.Z)(function*(E){var C;const{appId:S,apiKey:L}=E,H={method:"GET",headers:Yr(L)},z=zu.replace("{app-id}",S),le=yield fetch(z,H);if(200!==le.status&&304!==le.status){let ze="";try{const Be=yield le.json();null!==(C=Be.error)&&void 0!==C&&C.message&&(ze=Be.error.message)}catch{}throw kr.create("config-fetch-failed",{httpStatus:le.status,responseMessage:ze})}return le.json()})).apply(this,arguments)}function Qa(){return(Qa=(0,O.Z)(function*(E,C=ep,S){const{appId:L,apiKey:H,measurementId:z}=E.options;if(!L)throw kr.create("no-app-id");if(!H){if(z)return{measurementId:z,appId:L};throw kr.create("no-api-key")}const le=C.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new _c;return setTimeout((0,O.Z)(function*(){ze.abort()}),void 0!==S?S:Io),tp({appId:L,apiKey:H,measurementId:z},le,ze,C)})).apply(this,arguments)}function tp(E,C,S){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,O.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:S},L,H=ep){var z;const{appId:le,measurementId:ze}=E;try{yield function np(E,C){return new Promise((S,L)=>{const H=Math.max(C-Date.now(),0),z=setTimeout(S,H);E.addEventListener(()=>{clearTimeout(z),L(kr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(L,C)}catch(Be){if(ze)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:le,measurementId:ze};throw Be}try{const Be=yield function ms(E){return Cn.apply(this,arguments)}(E);return H.deleteThrottleMetadata(le),Be}catch(Be){const it=Be;if(!function mc(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(it)){if(H.deleteThrottleMetadata(le),ze)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:le,measurementId:ze};throw Be}const It=503===Number(null===(z=it?.customData)||void 0===z?void 0:z.httpStatus)?(0,ne.$s)(S,H.intervalMillis,Ju):(0,ne.$s)(S,H.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+It,backoffCount:S+1};return H.setThrottleMetadata(le,Ct),hn.debug(`Calling attemptFetch again in ${It} millis`),tp(E,Ct,L,H)}}),Xd.apply(this,arguments)}class _c{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let ao,eu;function Xa(){return(Xa=(0,O.Z)(function*(E,C,S,L,H){if(H&&H.global)E("event",S,L);else{const z=yield C;E("event",S,Object.assign(Object.assign({},L),{send_to:z}))}})).apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(){if(!(0,ne.hl)())return hn.warn(kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return hn.warn(kr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function jn(){return jn=(0,O.Z)(function*(E,C,S,L,H,z,le){var ze;const Be=function Mm(E){return Qa.apply(this,arguments)}(E);Be.then(ir=>{S[ir.measurementId]=ir.appId,E.options.measurementId&&ir.measurementId!==E.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>hn.error(ir)),C.push(Be);const it=function Tc(){return tu.apply(this,arguments)}().then(ir=>{if(ir)return L.getId()}),[It,Ct]=yield Promise.all([Be,it]);(function Qd(E){const C=window.document.getElementsByTagName("script");for(const S of Object.values(C))if(S.src&&S.src.includes(Go)&&S.src.includes(E))return S;return null})(z)||function Wa(E,C){const S=function gs(E,C){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(E,C)),S}("firebase-js-sdk-policy",{createScriptURL:Ka}),L=document.createElement("script"),H=`${Go}?l=${E}&id=${C}`;L.src=S?S?.createScriptURL(H):H,L.async=!0,document.head.appendChild(L)}(z,It.measurementId),eu&&(H("consent","default",eu),function wc(E){eu=E}(void 0)),H("js",new Date);const Tr=null!==(ze=le?.config)&&void 0!==ze?ze:{};return Tr[Rr]="firebase",Tr.update=!0,null!=Ct&&(Tr[fc]=Ct),H("config",It.measurementId,Tr),ao&&(H("set",ao),function Ws(E){ao=E}(void 0)),It.measurementId}),jn.apply(this,arguments)}class Dt{constructor(C){this.app=C}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},nu=[];const ru={};let iu,wr,zo="dataLayer",bi=!1;function Js(E,C,S){!function nh(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((L,H)=>`(${H+1}) ${L}`).join(" "),S=kr.create("invalid-analytics-context",{errorInfo:C});hn.warn(S.message)}}();const L=E.options.appId;if(!L)throw kr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw kr.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[L])throw kr.create("already-exists",{id:L});if(!bi){!function Jd(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(zo);const{wrappedGtag:z,gtagCore:le}=function pc(E,C,S,L,H){let z=function(...le){window[L].push(arguments)};return window[H]&&"function"==typeof window[H]&&(z=window[H]),window[H]=function Fi(E,C,S,L){function z(){return z=(0,O.Z)(function*(le,...ze){try{if("event"===le){const[Be,it]=ze;yield function Ya(E,C,S,L,H){return zs.apply(this,arguments)}(E,C,S,Be,it)}else if("config"===le){const[Be,it]=ze;yield function Wu(E,C,S,L,H,z){return Yu.apply(this,arguments)}(E,C,S,L,Be,it)}else if("consent"===le){const[Be]=ze;E("consent","update",Be)}else if("get"===le){const[Be,it,It]=ze;E("get",Be,it,It)}else if("set"===le){const[Be]=ze;E("set",Be)}else E(le,...ze)}catch(Be){hn.error(Be)}}),z.apply(this,arguments)}return function H(le){return z.apply(this,arguments)}}(z,E,C,S),{gtagCore:z,wrappedGtag:window[H]}}(Ci,nu,ru,zo,"gtag");wr=z,iu=le,bi=!0}return Ci[L]=function Ys(E,C,S,L,H,z,le){return jn.apply(this,arguments)}(E,nu,ru,C,iu,zo,S),new Dt(E)}function Co(){return Di.apply(this,arguments)}function Di(){return(Di=(0,O.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const su="@firebase/analytics";!function _s(){(0,Q._registerComponent)(new ce.wA(Hn,(C,{options:S})=>Js(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,Q._registerComponent)(new ce.wA("analytics-internal",function E(C){try{const S=C.getProvider(Hn).getImmediate();return{logEvent:(L,H,z)=>function uo(E,C,S,L){E=(0,ne.m9)(E),function eh(E,C,S,L,H){return Xa.apply(this,arguments)}(wr,Ci[E.app.options.appId],C,S,L).catch(H=>hn.error(H))}(S,L,H,z)}}catch(S){throw kr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,Q.registerVersion)(su,"0.10.0"),(0,Q.registerVersion)(su,"0.10.0","esm2017")}();var rl=k(4408),il=k(7565);const bc=new class ol extends il.v{}(class au extends rl.o{constructor(C,S){super(C,S),this.scheduler=C,this.work=S}schedule(C,S=0){return S>0?super.schedule(C,S):(this.delay=S,this.state=C,this.scheduler.flush(this),this)}execute(C,S){return S>0||this.closed?super.execute(C,S):this._execute(C,S)}requestAsyncId(C,S,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(C,S,L):(C.flush(this),0)}});var Ko=k(4986),ys=k(8505),bo=k(9468),vs=k(5363);const Qs=new a.GfV("7.6.1"),Bi="__angularfire_symbol__analyticsIsSupportedValue",uu="__angularfire_symbol__analyticsIsSupported",sl="__angularfire_symbol__remoteConfigIsSupportedValue",al="__angularfire_symbol__remoteConfigIsSupported",lu="__angularfire_symbol__messagingIsSupportedValue",Xs="__angularfire_symbol__messagingIsSupported";function ws(E,C,S){if(C){if(1===C.length)return C[0];const z=C.filter(le=>le.app===S);if(1===z.length)return z[0]}return S.container.getProvider(E).getImmediate({optional:!0})}globalThis[uu]||(globalThis[uu]=Co().then(E=>globalThis[Bi]=E).catch(()=>globalThis[Bi]=!1)),globalThis[Xs]||(globalThis[Xs]=zt().then(E=>globalThis[lu]=E).catch(()=>globalThis[lu]=!1)),globalThis[al]||(globalThis[al]=cs().then(E=>globalThis[sl]=E).catch(()=>globalThis[sl]=!1));const sp=(E,C)=>{const S=C?[C]:(0,G.C6)(),L=[];return S.forEach(H=>{H.container.getProvider(E).instances.forEach(le=>{L.includes(le)||L.push(le)})}),L};function In(){}class ap{constructor(C,S=bc){this.zone=C,this.delegate=S}now(){return this.delegate.now()}schedule(C,S,L){const H=this.zone;return this.delegate.schedule(function(le){H.runGuarded(()=>{C.apply(this,[le])})},S,L)}}class Wo{constructor(C){this.zone=C,this.task=null}call(C,S){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",In,{},In,In)),S.pipe((0,ys.b)({next:L,complete:L,error:L})).subscribe(C).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Mc=(()=>{class E{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new ap(Zone.current)),this.insideAngular=S.run(()=>new ap(Zone.current,Ko.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(S){return new(S||E)(a.LFG(a.R0b))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Qn(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function up(E){return Qn(),function gv(E){return function(S){return(S=S.lift(new Wo(E.ngZone))).pipe((0,bo.R)(E.outsideAngular),(0,vs.Q)(E.insideAngular))}}(Qn())(E)}},2090:(ct,Ee,k)=>{k.d(Ee,{$s:()=>to,BH:()=>W,G6:()=>Te,L:()=>de,LL:()=>Ut,Pz:()=>pe,Sg:()=>he,UG:()=>ie,US:()=>ce,ZB:()=>J,ZR:()=>Xe,aH:()=>te,b$:()=>fr,eu:()=>je,hl:()=>Me,jU:()=>He,m9:()=>Gt,ne:()=>cn,pd:()=>ft,r3:()=>Kn,ru:()=>jt,tV:()=>V,uI:()=>Fe,vZ:()=>ni,w1:()=>Fo,xO:()=>Ma,xb:()=>is,z$:()=>De,zI:()=>Ve,zd:()=>Ge});const Q=function(U){const F=[];let $=0;for(let ve=0;ve<U.length;ve++){let oe=U.charCodeAt(ve);oe<128?F[$++]=oe:oe<2048?(F[$++]=oe>>6|192,F[$++]=63&oe|128):55296==(64512&oe)&&ve+1<U.length&&56320==(64512&U.charCodeAt(ve+1))?(oe=65536+((1023&oe)<<10)+(1023&U.charCodeAt(++ve)),F[$++]=oe>>18|240,F[$++]=oe>>12&63|128,F[$++]=oe>>6&63|128,F[$++]=63&oe|128):(F[$++]=oe>>12|224,F[$++]=oe>>6&63|128,F[$++]=63&oe|128)}return F},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let oe=0;oe<U.length;oe+=3){const nt=U[oe],pt=oe+1<U.length,xt=pt?U[oe+1]:0,_n=oe+2<U.length,dn=_n?U[oe+2]:0;let mr=(15&xt)<<2|dn>>6,yi=63&dn;_n||(yi=64,pt||(mr=64)),ve.push($[nt>>2],$[(3&nt)<<4|xt>>4],$[mr],$[yi])}return ve.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(Q(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let $=0,ve=0;for(;$<U.length;){const oe=U[$++];if(oe<128)F[ve++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const nt=U[$++];F[ve++]=String.fromCharCode((31&oe)<<6|63&nt)}else if(oe>239&&oe<365){const _n=((7&oe)<<18|(63&U[$++])<<12|(63&U[$++])<<6|63&U[$++])-65536;F[ve++]=String.fromCharCode(55296+(_n>>10)),F[ve++]=String.fromCharCode(56320+(1023&_n))}else{const nt=U[$++],pt=U[$++];F[ve++]=String.fromCharCode((15&oe)<<12|(63&nt)<<6|63&pt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let oe=0;oe<U.length;){const nt=$[U.charAt(oe++)],xt=oe<U.length?$[U.charAt(oe)]:0;++oe;const dn=oe<U.length?$[U.charAt(oe)]:64;++oe;const qt=oe<U.length?$[U.charAt(oe)]:64;if(++oe,null==nt||null==xt||null==dn||null==qt)throw new fe;ve.push(nt<<2|xt>>4),64!==dn&&(ve.push(xt<<4&240|dn>>2),64!==qt&&ve.push(dn<<6&192|qt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(U){return function(U){const F=Q(U);return ce.encodeByteArray(F,!0)}(U).replace(/\./g,"")},V=function(U){try{return ce.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function J(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const $ in F)!F.hasOwnProperty($)||!Pe($)||(U[$]=J(U[$],F[$]));return U}function Pe(U){return"__proto__"!==U}const xe=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&V(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},te=()=>{var U;return null===(U=xe())||void 0===U?void 0:U.config},pe=U=>{var F;return null===(F=xe())||void 0===F?void 0:F[`_${U}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,ve)=>{$?this.reject($):this.resolve(ve),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,ve))}}}function he(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=F||"demo-project",oe=U.iat||0,nt=U.sub||U.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:oe,exp:oe+3600,auth_time:oe,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},U);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(pt)),""].join(".")}function De(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function ie(){var U;const F=null===(U=xe())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function jt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function fr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fo(){const U=De();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Te(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((U,F)=>{try{let $=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ve);oe.onsuccess=()=>{oe.result.close(),$||self.indexedDB.deleteDatabase(ve),U(!0)},oe.onupgradeneeded=()=>{$=!1},oe.onerror=()=>{var nt;F((null===(nt=oe.error)||void 0===nt?void 0:nt.message)||"")}}catch($){F($)}})}function Ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(F,$,ve){super($),this.code=F,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}}class Ut{constructor(F,$,ve){this.service=F,this.serviceName=$,this.errors=ve}create(F,...$){const ve=$[0]||{},oe=`${this.service}/${F}`,nt=this.errors[F],pt=nt?function tt(U,F){return U.replace(ht,($,ve)=>{const oe=F[ve];return null!=oe?String(oe):`<${ve}?>`})}(nt,ve):"Error";return new Xe(oe,`${this.serviceName}: ${pt} (${oe}).`,ve)}}const ht=/\{\$([^}]+)}/g;function Kn(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function is(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function ni(U,F){if(U===F)return!0;const $=Object.keys(U),ve=Object.keys(F);for(const oe of $){if(!ve.includes(oe))return!1;const nt=U[oe],pt=F[oe];if(ri(nt)&&ri(pt)){if(!ni(nt,pt))return!1}else if(nt!==pt)return!1}for(const oe of ve)if(!$.includes(oe))return!1;return!0}function ri(U){return null!==U&&"object"==typeof U}function Ma(U){const F=[];for(const[$,ve]of Object.entries(U))Array.isArray(ve)?ve.forEach(oe=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(oe))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(ve));return F.length?"&"+F.join("&"):""}function Ge(U){const F={};return U.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[oe,nt]=ve.split("=");F[decodeURIComponent(oe)]=decodeURIComponent(nt)}}),F}function ft(U){const F=U.indexOf("?");if(!F)return"";const $=U.indexOf("#",F);return U.substring(F,$>0?$:void 0)}function cn(U,F){const $=new Dn(U,F);return $.subscribe.bind($)}class Dn{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(ve=>{this.error(ve)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,ve){let oe;if(void 0===F&&void 0===$&&void 0===ve)throw new Error("Missing Observer.");oe=function rn(U,F){if("object"!=typeof U||null===U)return!1;for(const $ of F)if($ in U&&"function"==typeof U[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:ve},void 0===oe.next&&(oe.next=pr),void 0===oe.error&&(oe.error=pr),void 0===oe.complete&&(oe.complete=pr);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),nt}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}const eo=1e3,gr=2,nr=144e5,mn=.5;function to(U,F=eo,$=gr){const ve=F*Math.pow($,U),oe=Math.round(mn*ve*(Math.random()-.5)*2);return Math.min(nr,ve+oe)}function Gt(U){return U&&U._delegate?U._delegate:U}},8541:(ct,Ee,k)=>{var a=k(2223);let G=null;function O(){return G}class ne{}const ce=new a.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(de)},providedIn:"platform"}),n})();const ke=new a.OlP("Location Initialized");let de=(()=>{class n extends fe{constructor(){super(),this._doc=(0,a.f3M)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function V(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function J(n){return n&&"?"!==n[0]?"?"+n:n}let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ye)},providedIn:"root"}),n})();const Ce=new a.OlP("appBaseHref");let Ye=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return V(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+J(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const d=this.prepareExternalUrl(o+J(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){const d=this.prepareExternalUrl(o+J(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(Ce,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=V(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let d=this.prepareExternalUrl(o+J(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){let d=this.prepareExternalUrl(o+J(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(Ce,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),$e=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(dt(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+J(r))}normalize(t){return n.stripTrailingSlash(function mt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,dt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+J(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+J(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=J,n.joinWithSlash=V,n.stripTrailingSlash=Z,n.\u0275fac=function(t){return new(t||n)(a.LFG(Pe))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function xe(){return new $e((0,a.LFG)(Pe))}()},providedIn:"root"}),n})();function dt(n){return n.replace(/\/index.html$/,"")}class $l{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ru=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,l,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new $l(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const m=r.get(l);r.move(m,d),xd(m,o)}});for(let o=0,l=r.length;o<l;o++){const m=r.get(o).context;m.index=o,m.count=l,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{xd(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xd(n,e){n.context.$implicit=e.item}let Uo=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _m,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jf("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jf("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class _m{constructor(){this.$implicit=null,this.ngIf=null}}function jf(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let wi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function ls(n){return"server"===n}let oo=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Wr((0,a.LFG)(ce),window)}),n})();class Wr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function cs(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ti(this.window.history)||Ti(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ti(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sc extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jo extends sc{static makeCurrent(){!function Q(n){G||(G=n)}(new jo)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Am(){return ur=ur||document.querySelector("base"),ur?ur.getAttribute("href"):null}();return null==t?null:function qd(n){Hs=Hs||document.createElement("a"),Hs.setAttribute("href",n);const e=Hs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ur=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ss(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Hs,ur=null,ac=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const $d=new a.OlP("EventManagerPlugins");let uc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(l=>l.supports(t)),!r)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG($d),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class $u{constructor(e){this._doc=e}}const lc="ng-app-id";let js=(()=>{class n{constructor(t,r,o,l={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ls(l),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${lc}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const l=o.get(t);return l.usage+=r,l.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,l=o?.get(r);if(l?.parentNode===t)return o.delete(r),l.removeAttribute(lc),l;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(lc,this.appId),d}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const l=this.styleRef,d=l.get(r)?.elements;d?d.push(o):l.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$o=/%COMP%/g,Kd=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ga(n,e){return e.map(t=>t.replace($o,n))}let dc=(()=>{class n{constructor(t,r,o,l,d,m,T,b=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=l,this.doc=d,this.platformId=m,this.ngZone=T,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=ls(m),this.defaultRenderer=new $s(t,d,T,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===a.ifc.ShadowDom&&(r={...r,encapsulation:a.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof An?o.applyToHost(t):o instanceof hc&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let l=o.get(r.id);if(!l){const d=this.doc,m=this.ngZone,T=this.eventManager,b=this.sharedStylesHost,M=this.removeStylesOnCompDestory,R=this.platformIsServer;switch(r.encapsulation){case a.ifc.Emulated:l=new An(T,b,r,this.appId,M,d,m,R);break;case a.ifc.ShadowDom:return new Gu(T,b,t,r,d,m,this.nonce,R);default:l=new hc(T,b,r,M,d,m,R)}l.onDestroy=()=>o.delete(r.id),o.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(uc),a.LFG(js),a.LFG(a.AFp),a.LFG(Kd),a.LFG(ce),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class $s{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gt[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zt(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zt(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new a.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=gt[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=gt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,o&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function zt(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Gu extends $s{constructor(e,t,r,o,l,d,m,T){super(e,l,d,T),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const b=Ga(o.id,o.styles);for(const M of b){const R=document.createElement("style");m&&R.setAttribute("nonce",m),R.textContent=M,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hc extends $s{constructor(e,t,r,o,l,d,m,T){super(e,l,d,m),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=T?Ga(T,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class An extends hc{constructor(e,t,r,o,l,d,m,T){const b=o+"-"+r.id;super(e,t,r,l,d,m,T,b),this.contentAttr=function qs(n){return"_ngcontent-%COMP%".replace($o,n)}(b),this.hostAttr=function $a(n){return"_nghost-%COMP%".replace($o,n)}(b)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Xf=(()=>{class n extends $u{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ii=["alt","control","meta","shift"],Eo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},za={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Gs=(()=>{class n extends $u{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),Ii.forEach(b=>{const M=r.indexOf(b);M>-1&&(r.splice(M,1),d+=b+".")}),d+=l,0!=r.length||0===l.length)return null;const T={};return T.domEventName=o,T.fullKey=d,T}static matchEventFullKeyCode(t,r){let o=Eo[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(o=t.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ii.forEach(d=>{d!==o&&(0,za[d])(t)&&(l+=d+".")}),l+=o,l===r)}static eventCallback(t,r,o){return l=>{n.matchEventFullKeyCode(l,t)&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Yd=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function Io(){jo.makeCurrent()},multi:!0},{provide:ce,useFactory:function Go(){return(0,a.RDi)(document),document},deps:[]}]),kr=new a.OlP(""),Ka=[{provide:a.rWj,useClass:class qo{addToWindow(e){a.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new a.vHH(5103,!1);return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const o=a.dqk.getAllAngularTestabilities();let l=o.length,d=!1;const m=function(T){d=d||T,l--,0==l&&r(d)};o.forEach(function(T){T.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Ku=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function zu(){return new a.qLn},deps:[]},{provide:$d,useClass:Xf,multi:!0,deps:[ce,a.R0b,a.Lbi]},{provide:$d,useClass:Gs,multi:!0,deps:[ce]},dc,js,uc,{provide:a.FYo,useExisting:dc},{provide:class ar{},useClass:ac,deps:[]},[]];let gs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(kr,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Ku,...Ka],imports:[wi,a.hGG]}),n})(),Ya=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Yu(){return new Ya((0,a.LFG)(ce))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var fn=k(8996),vr=k(9751);const{isArray:ip}=Array,{getPrototypeOf:Xu,prototype:eu,keys:wc}=Object;function Ws(n){if(1===n.length){const e=n[0];if(ip(e))return{args:e,keys:null};if(function Tc(n){return n&&"object"==typeof n&&Xu(n)===eu}(e)){const t=wc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var tu=k(8421),Ys=k(7669),jn=k(5403),Dt=k(4004);const{isArray:Ci}=Array;function ru(n){return(0,Dt.U)(e=>function nu(n,e){return Ci(e)?n(...e):n(e)}(n,e))}function zo(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let iu=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),wr=(()=>{class n extends iu{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const bi=new a.OlP("NgValueAccessor"),Js={provide:bi,useExisting:(0,a.Gpc)(()=>Co),multi:!0},el=new a.OlP("CompositionEventMode");let Co=(()=>{class n extends iu{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rh(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(el,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([Js]),a.qOj]}),n})();const Or=new a.OlP("NgValidators"),Ui=new a.OlP("NgAsyncValidators");function uo(n){return function Di(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function au(n){return null}function il(n){return null!=n}function ol(n){return(0,a.QGY)(n)?(0,fn.D)(n):n}function bc(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Dc(n,e){return e.map(t=>t(n))}function ys(n){return n.map(e=>function Ko(n){return!n.validate}(e)?e:t=>e.validate(t))}function vs(n){return null!=n?function bo(n){if(!n)return null;const e=n.filter(il);return 0==e.length?null:function(t){return bc(Dc(t,e))}}(ys(n)):null}function Bi(n){return null!=n?function Qs(n){if(!n)return null;const e=n.filter(il);return 0==e.length?null:function(t){return function Ec(...n){const e=(0,Ys.jO)(n),{args:t,keys:r}=Ws(n),o=new vr.y(l=>{const{length:d}=t;if(!d)return void l.complete();const m=new Array(d);let T=d,b=d;for(let M=0;M<d;M++){let R=!1;(0,tu.Xf)(t[M]).subscribe((0,jn.x)(l,j=>{R||(R=!0,b--),m[M]=j},()=>T--,void 0,()=>{(!T||!R)&&(b||l.next(r?zo(r,m):m),l.complete())}))}});return e?o.pipe(ru(e)):o}(Dc(t,e).map(ol)).pipe((0,Dt.U)(bc))}}(ys(n)):null}function uu(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function lu(n){return n?Array.isArray(n)?n:[n]:[]}function Xs(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ac(n,e){const t=lu(e);return lu(n).forEach(o=>{Xs(t,o)||t.push(o)}),t}function op(n,e){return lu(e).filter(t=>!Xs(n,t))}class sh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vs(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class lr extends sh{get formDirective(){return null}get path(){return null}}class ws extends sh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sp{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wo=(()=>{class n extends sp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ws,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),Mc=(()=>{class n extends sp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(lr,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();const Be="VALID",it="INVALID",It="PENDING",Ct="DISABLED";function Tr(n){return(ci(n)?n.validators:n)||null}function Hi(n,e){return(ci(e)?e.asyncValidators:n)||null}function ci(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class du{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Be}get invalid(){return this.status===it}get pending(){return this.status==It}get disabled(){return this.status===Ct}get enabled(){return this.status!==Ct}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ac(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ac(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(op(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(op(e,this._rawAsyncValidators))}hasValidator(e){return Xs(this._rawValidators,e)}hasAsyncValidator(e){return Xs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=It,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ct,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Be,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Be||this.status===It)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ct:Be}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=It,this._hasOwnPendingAsyncValidator=!0;const t=ol(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Ct:this.errors?it:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(It)?It:this._anyControlsHaveStatus(it)?it:Be}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ci(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ir(n){return Array.isArray(n)?vs(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Sc(n){return Array.isArray(n)?Bi(n):n||null}(this._rawAsyncValidators)}}class ea extends du{constructor(e,t,r){super(Tr(t),Hi(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ji(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new a.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Ai(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[t])throw new a.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,l)=>{r=t(r,o,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const qi=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Nc}),Nc="always";function cl(n,e,t=Nc){dp(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function lh(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ta(n,e)})}(n,e),function Nm(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ta(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _v(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dp(n,e){const t=function sl(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(uu(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function al(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(uu(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();cp(e._rawValidators,o),cp(e._rawAsyncValidators,o)}function ta(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const JT={provide:lr,useExisting:(0,a.Gpc)(()=>na)},Rc=(()=>Promise.resolve())();let na=(()=>{class n extends lr{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new ea({},vs(t),Bi(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Rc.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),cl(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Rc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Rc.then(()=>{const r=this._findContainer(t.path),o=new ea({});(function vv(n,e){dp(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Rc.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Rc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function gp(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Or,10),a.Y36(Ui,10),a.Y36(qi,8))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([JT]),a.qOj]}),n})();function dl(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function mp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _p=class extends du{constructor(e=null,t,r){super(Tr(t),Hi(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ci(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=mp(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dl(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dl(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){mp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Om={provide:ws,useExisting:(0,a.Gpc)(()=>kc)},dh=(()=>Promise.resolve())();let kc=(()=>{class n extends ws{constructor(t,r,o,l,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new _p,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function km(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===Co?t=l:function pp(n){return Object.getPrototypeOf(n.constructor)===wr}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Rm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){cl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){dh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,a.D6c)(r);dh.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function ah(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(lr,9),a.Y36(Or,10),a.Y36(Ui,10),a.Y36(bi,10),a.Y36(a.sBO,8),a.Y36(qi,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Om]),a.qOj,a.TTD]}),n})(),Lm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),di=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const _h={provide:bi,useExisting:(0,a.Gpc)(()=>fl),multi:!0};function Vm(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fl=(()=>{class n extends wr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=Vm(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function lo(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([_h]),a.qOj]}),n})(),Sp=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Vm(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(fl,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Np={provide:bi,useExisting:(0,a.Gpc)(()=>sa),multi:!0};function yh(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sa=(()=>{class n extends wr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(l=>this._getOptionId(l));r=(l,d)=>{l._setSelected(o.indexOf(d.toString())>-1)}}else r=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],l=r.selectedOptions;if(void 0!==l){const d=l;for(let m=0;m<d.length;m++){const b=this._getOptionValue(d[m].value);o.push(b)}}else{const d=r.options;for(let m=0;m<d.length;m++){const T=d[m];if(T.selected){const b=this._getOptionValue(T.value);o.push(b)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function xp(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Np]),a.qOj]}),n})(),pl=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(yh(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(yh(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(sa,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Do=(()=>{class n{constructor(){this._validator=au}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):au,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const Iv={provide:Or,useExisting:(0,a.Gpc)(()=>hu),multi:!0};let hu=(()=>{class n extends Do{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=t=>uo}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Iv]),a.qOj]}),n})(),rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[di]}),n})(),Ih=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:qi,useValue:t.callSetDisabledState??Nc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rt]}),n})();var Mi=k(2011),bh=k(4986),Tt=k(9646),Ir=k(4976),gl=k(8189);function Cv(...n){return function oD(){return(0,gl.J)(1)}()((0,fn.D)(n,(0,Ys.yG)(n)))}var Mo=k(4482);function Fp(...n){const e=(0,Ys.yG)(n);return(0,Mo.e)((t,r)=>{(e?Cv(n,t,e):Cv(n,t)).subscribe(r)})}function Zm(){return(0,Mo.e)((n,e)=>{let t,r=!1;n.subscribe((0,jn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function Dh(n,e){return(0,Mo.e)(function Hm(n,e,t,r,o){return(l,d)=>{let m=t,T=e,b=0;l.subscribe((0,jn.x)(d,M=>{const R=b++;T=m?n(T,M,R):(m=!0,M),r&&d.next(T)},o&&(()=>{m&&d.next(T),d.complete()})))}}(n,e,arguments.length>=2,!0))}var Ah=k(1884);function Es(n,e){return(0,Mo.e)((t,r)=>{let o=0;t.subscribe((0,jn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}k(2644);var Qe,bM=k(3942),ge=k(5861),fu=k(6881),jm=k(4859),Jo=k(1877),nn=k(2090),bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qo={},qm=qm||{},Vt=bv||self;function $m(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Vp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Dv="closure_uid_"+(1e9*Math.random()>>>0),aD=0;function ml(n,e,t){return n.call.apply(n.bind,arguments)}function Up(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Si(n,e,t){return(Si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ml:Up).apply(null,arguments)}function Av(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Pc(){this.s=this.s,this.o=this.o}Pc.prototype.s=!1,Pc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sD(n){Object.prototype.hasOwnProperty.call(n,Dv)&&n[Dv]||(n[Dv]=++aD)}(this)},Pc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Gm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function eE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if($m(r)){const o=n.length||0,l=r.length||0;n.length=o+l;for(let d=0;d<l;d++)n[o+d]=r[d]}else n.push(r)}}function Ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ni.prototype.h=function(){this.defaultPrevented=!0};var lD=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",()=>{},e),Vt.removeEventListener("test",()=>{},e)}catch{}return n}();function Bp(n){return/^[\s\xa0]*$/.test(n)}function Mh(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function Jr(n){return-1!=Mh().indexOf(n)}function Fc(n){return Fc[" "](n),n}Fc[" "]=function(){};var iE,n,nE=Jr("Opera"),Vc=Jr("Trident")||Jr("MSIE"),cD=Jr("Edge"),rE=cD||Vc,dD=Jr("Gecko")&&!(-1!=Mh().toLowerCase().indexOf("webkit")&&!Jr("Edge"))&&!(Jr("Trident")||Jr("MSIE"))&&!Jr("Edge"),Mv=-1!=Mh().toLowerCase().indexOf("webkit")&&!Jr("Edge");function zm(){var n=Vt.document;return n?n.documentMode:void 0}e:{var oE="",Km=(n=Mh(),dD?/rv:([^\);]+)(\)|;)/.exec(n):cD?/Edge\/([\d\.]+)/.exec(n):Vc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Mv?/WebKit\/(\S+)/.exec(n):nE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Km&&(oE=Km?Km[1]:""),Vc){var Sv=zm();if(null!=Sv&&Sv>parseFloat(oE)){iE=String(Sv);break e}}iE=oE}var hD=Vt.document&&Vc&&(zm()||parseInt(iE,10))||void 0;function Sh(n,e){if(Ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(dD){e:{try{Fc(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Wm[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sh.$.h.call(this)}}hi(Sh,Ni);var Wm={2:"touch",3:"pen",4:"mouse"};Sh.prototype.h=function(){Sh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zp="closure_listenable_"+(1e6*Math.random()|0),xv=0;function fD(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++xv,this.fa=this.ia=!1}function or(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Rv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kv(n){const e={};for(const t in n)e[t]=n[t];return e}const Ov="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aE(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Ov.length;l++)t=Ov[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ym(n){this.src=n,this.g={},this.h=0}function Lv(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=uD(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(or(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Pv(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==r)return o}return-1}Ym.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Pv(n,e,r,o);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new fD(e,this.src,l,!!r,o)).ia=t,n.push(e)),e};var Jm="closure_lm_"+(1e6*Math.random()|0),uE={};function gD(n,e,t,r,o){if(r&&r.once)return xh(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)gD(n,e[l],t,r,o);return null}return t=e_(t),n&&n[Zp]?n.O(e,t,Vp(r)?!!r.capture:!!r,o):Nh(n,e,t,!1,r,o)}function Nh(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var d=Vp(o)?!!o.capture:!!o,m=Uv(n);if(m||(n[Jm]=m=new Ym(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function pn(){const e=lE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lD||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Vv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xh(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)xh(n,e[l],t,r,o);return null}return t=e_(t),n&&n[Zp]?n.P(e,t,Vp(r)?!!r.capture:!!r,o):Nh(n,e,t,!0,r,o)}function Fv(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Fv(n,e[l],t,r,o);else r=Vp(r)?!!r.capture:!!r,t=e_(t),n&&n[Zp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Pv(l=n.g[e],t,r,o))&&(or(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Uv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Pv(e,t,r,o)),(t=-1<n?e[n]:null)&&Qm(t))}function Qm(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Zp])Lv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Vv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Uv(e))?(Lv(t,n),0==t.h&&(t.src=null,e[Jm]=null)):or(n)}}}function Vv(n){return n in uE?uE[n]:uE[n]="on"+n}function lE(n,e){if(n.fa)n=!0;else{e=new Sh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Qm(n),n=t.call(r,e)}return n}function Uv(n){return(n=n[Jm])instanceof Ym?n:null}var Xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function e_(n){return"function"==typeof n?n:(n[Xm]||(n[Xm]=function(e){return n.handleEvent(e)}),n[Xm])}function Pr(){Pc.call(this),this.i=new Ym(this),this.S=this,this.J=null}function xi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ni(e,n);else if(e instanceof Ni)e.target=e.target||n;else{var o=e;aE(e=new Ni(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];o=Rh(d,r,!0,e)&&o}if(o=Rh(d=e.g=n,r,!0,e)&&o,o=Rh(d,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Rh(d=e.g=t[l],r,!1,e)&&o}function Rh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.fa&&d.capture==t){var m=d.listener,T=d.la||d.src;d.ia&&Lv(n.i,d),o=!1!==m.call(T,r)&&o}}return o&&!r.defaultPrevented}hi(Pr,Pc),Pr.prototype[Zp]=!0,Pr.prototype.removeEventListener=function(n,e,t,r){Fv(this,n,e,t,r)},Pr.prototype.N=function(){if(Pr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)or(t[r]);delete n.g[e],n.h--}}this.J=null},Pr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Bv=Vt.JSON.stringify;function cE(){var n=kh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _l=new class Zv{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mD,n=>n.reset());class mD{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Hv(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function t_(n){Vt.setTimeout(()=>{throw n},0)}let Hp,Uc=!1,kh=new class dE{constructor(){this.h=this.g=null}add(e,t){const r=_l.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},yl=()=>{const n=Vt.Promise.resolve(void 0);Hp=()=>{n.then(jv)}};var jv=()=>{for(var n;n=cE();){try{n.h.call(n.g)}catch(t){t_(t)}var e=_l;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Uc=!1};function Oh(n,e){Pr.call(this),this.h=n||1,this.g=e||Vt,this.j=Si(this.qb,this),this.l=Date.now()}function qv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function $v(n,e,t){if("function"==typeof n)t&&(n=Si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Si(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function Gv(n){n.g=$v(()=>{n.g=null,n.i&&(n.i=!1,Gv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hi(Oh,Pr),(Qe=Oh.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xi(this,"tick"),this.ga&&(qv(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){Oh.$.N.call(this),qv(this),delete this.g};class Lh extends Pc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Gv(this)}N(){super.N(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jp(n){Pc.call(this),this.h=n,this.g={}}hi(jp,Pc);var hE=[];function fE(n,e,t,r){Array.isArray(t)||(t&&(hE[0]=t.toString()),t=hE);for(var o=0;o<t.length;o++){var l=gD(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function n_(n){Rv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Qm(e)},n),n.g={}}function qp(){this.g=!0}function vl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function MM(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<o.length;d++)o[d]=""}}}return Bv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}jp.prototype.N=function(){jp.$.N.call(this),n_(this)},jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qp.prototype.Ea=function(){this.g=!1},qp.prototype.info=function(){};var Bc={},gE=null;function zv(){return gE=gE||new Pr}function yD(n){Ni.call(this,Bc.Ta,n)}function wl(n){const e=zv();xi(e,new yD(e))}function mE(n,e){Ni.call(this,Bc.STAT_EVENT,n),this.stat=e}function fi(n){const e=zv();xi(e,new mE(e,n))}function r_(n,e){Ni.call(this,Bc.Ua,n),this.size=e}function pu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Bc.Ta="serverreachability",hi(yD,Ni),Bc.STAT_EVENT="statevent",hi(mE,Ni),Bc.Ua="timingevent",hi(r_,Ni);var Ph={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},i_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zc(){}function Fh(){}Zc.prototype.h=null;var _E,Vh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gp(){Ni.call(this,"d")}function Uh(){Ni.call(this,"c")}function Bh(){}function Hc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new jp(this),this.P=vD,this.V=new Oh(n=rE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kv}function Kv(){this.i=null,this.g="",this.h=!1}hi(Gp,Ni),hi(Uh,Ni),hi(Bh,Zc),Bh.prototype.g=function(){return new XMLHttpRequest},Bh.prototype.i=function(){return{}},_E=new Bh;var vD=45e3,Wv={},zp={};function o_(n,e,t){n.L=1,n.v=Kp(Xo(e)),n.s=t,n.S=!0,yE(n,null)}function yE(n,e){n.G=Date.now(),jc(n),n.A=Xo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Xv(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Kv,n.g=FE(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Lh(Si(n.Pa,n,n.g),n.O)),fE(n.U,n.g,"readystatechange",n.nb),e=n.I?kv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),wl(),function _D(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),T=0;T<m.length;T++){var b=m[T].split("=");if(1<b.length){var M=b[0];b=b[1];var R=M.split("_");d=2<=R.length&&"type"==R[1]?d+(M+"=")+b+"&":d+(M+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function vE(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function wD(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=TD(n,t),o==zp){4==e&&(n.o=4,fi(14),r=!1),vl(n.j,n.m,null,"[Incomplete Response]");break}if(o==Wv){n.o=4,fi(15),vl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}vl(n.j,n.m,o,null),Hh(n,o)}vE(n)&&o!=zp&&o!=Wv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ig(e),e.M=!0,fi(11))):(vl(n.j,n.m,t,"[Invalid Chunked Response]"),gu(n),Zh(n))}function TD(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zp:(t=Number(e.substring(t,r)),isNaN(t)?Wv:(r+=1)+t>e.length?zp:(e=e.slice(r,r+t),n.C=r+t,e))}function jc(n){n.Y=Date.now()+n.P,s_(n,n.P)}function s_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=pu(Si(n.lb,n),e)}function a_(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Zh(n){0==n.l.H||n.J||OE(n.l,n)}function gu(n){a_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,qv(n.V),n_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Hh(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||c_(t.i,n)))if(!n.K&&c_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Wh(t),ng(t)}rg(t),fi(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=pu(Si(t.ib,t),6e3));if(1>=DE(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Kc(t,11)}else if((n.K||t.g==n)&&Wh(t),!Bp(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const M=b[3];null!=M&&(t.ra=M,t.l.info("VER="+t.ra));const R=b[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const j=b[5];null!=j&&"number"==typeof j&&0<j&&(t.L=r=1.5*j,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const X=n.g;if(X){const _e=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_e){var l=r.i;l.g||-1==_e.indexOf("spdy")&&-1==_e.indexOf("quic")&&-1==_e.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(Tl(l,l.h),l.h=null))}if(r.F){const Le=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(r.Da=Le,qn(r.I,r.F,Le))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=PE(r,r.J?r.pa:null,r.Y),d.K){ua(r.i,d);var m=d,T=r.L;T&&m.setTimeout(T),m.B&&(a_(m),jc(m)),r.g=d}else p_(r);0<t.j.length&&zc(t)}else"stop"!=b[0]&&"close"!=b[0]||Kc(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Kc(t,7):El(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}wl()}catch{}}function TE(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($m(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function wE(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if($m(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ED(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if($m(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}(Qe=Hc.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==Is(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const M=Is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>M)&&(3!=M||rE||this.g&&(this.h.h||this.g.ja()||RE(this.g)))){this.J||4!=M||7==e||wl(),a_(this);var t=this.g.da();this.ca=t;t:if(vE(this)){var r=RE(this.g);n="";var o=r.length,l=4==Is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gu(this),Zh(this);var d="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function pE(n,e,t,r,o,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.W,M,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,T=this.g;if((m=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bp(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,fi(12),gu(this),Zh(this);break e}vl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hh(this,t)}this.S?(wD(this,M,d),rE&&this.i&&3==M&&(fE(this.U,this.V,"tick",this.mb),this.V.start())):(vl(this.j,this.m,d,null),Hh(this,d)),4==M&&gu(this),this.i&&!this.J&&(4==M?OE(this.l,this):(this.i=!1,jc(this)))}else(function SD(n){const e={};n=(n.g&&2<=Is(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Bp(n[r]))continue;var t=Hv(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[o]||[];e[o]=l,l.push(t)}!function pD(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.o=3,fi(12)):(this.o=0,fi(13)),gu(this),Zh(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=Is(this.g),e=this.g.ja();this.C<e.length&&(a_(this),wD(this,n,e),this.i&&4!=n&&jc(this))}},Qe.cancel=function(){this.J=!0,gu(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function AM(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(wl(),fi(17)),gu(this),this.o=2,Zh(this)):s_(this,this.Y-n)};var Yv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qc){this.h=n.h,u_(this,n.j),this.s=n.s,this.g=n.g,mu(this,n.m),this.l=n.l;var e=n.i,t=new l_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),jh(this,t),this.o=n.o}else n&&(e=String(n).match(Yv))?(this.h=!1,u_(this,e[1]||"",!0),this.s=Wp(e[2]||""),this.g=Wp(e[3]||"",!0),mu(this,e[4]),this.l=Wp(e[5]||"",!0),jh(this,e[6]||"",!0),this.o=Wp(e[7]||"")):(this.h=!1,this.i=new l_(null,this.h))}function Xo(n){return new qc(n)}function u_(n,e,t){n.j=t?Wp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function jh(n,e,t){e instanceof l_?(n.i=e,function CD(n,e){e&&!n.j&&(aa(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&($c(this,r),Xv(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Yp(e,Jp)),n.i=new l_(e,n.h))}function qn(n,e,t){n.i.set(e,t)}function Kp(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ID),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ID(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yp(e,Jv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yp(e,Jv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yp(t,"/"==t.charAt(0)?Qv:EE,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yp(t,IE)),n.join("")};var Jv=/[#\/\?@]/g,EE=/[#\?:]/g,Qv=/[#\?]/g,Jp=/[#\?@]/g,IE=/#/g;function l_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function aa(n){n.g||(n.g=new Map,n.h=0,n.i&&function SM(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function $c(n,e){aa(n),e=Gc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Qp(n,e){return aa(n),e=Gc(n,e),n.g.has(e)}function Xv(n,e,t){$c(n,e),0<t.length&&(n.i=null,n.g.set(Gc(n,e),Gm(t)),n.h+=t.length)}function Gc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function CE(n){this.l=n||DD,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ka&&Vt.g.Ka()&&Vt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=l_.prototype).add=function(n,e){aa(this),this.i=null,n=Gc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){aa(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Qe.ta=function(){aa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let l=0;l<o.length;l++)t.push(e[r])}return t},Qe.Z=function(n){aa(this);let e=[];if("string"==typeof n)Qp(this,n)&&(e=e.concat(this.g.get(Gc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return aa(this),this.i=null,Qp(this,n=Gc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var o=l;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var DD=10;function bE(n){return!!n.h||!!n.g&&n.g.size>=n.j}function DE(n){return n.h?1:n.g?n.g.size:0}function c_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Tl(n,e){n.g?n.g.add(e):n.h=e}function ua(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function e0(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Gm(n.i)}CE.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var NM=class{stringify(n){return Vt.JSON.stringify(n,void 0)}parse(n){return Vt.JSON.parse(n,void 0)}};function AD(){this.g=new NM}function xM(n,e,t){const r=t||"";try{TE(n,function(o,l){let d=o;Vp(o)&&(d=Bv(o)),e.push(r+l+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Xp(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function qh(n){this.l=n.fc||null,this.j=n.ob||!1}function t0(n,e){Pr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=d_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hi(qh,Zc),qh.prototype.g=function(){return new t0(this.l,this.j)},qh.prototype.i=function(n){return function(){return n}}({}),hi(t0,Pr);var d_=0;function eg(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function $h(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Gh(n)}function Gh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=t0.prototype).open=function(n,e){if(this.readyState!=d_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Gh(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Vt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$h(this)),this.readyState=d_},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gh(this)),this.g&&(this.readyState=3,Gh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eg(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$h(this):Gh(this),3==this.readyState&&eg(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,$h(this))},Qe.Ya=function(n){this.g&&(this.response=n,$h(this))},Qe.ka=function(){this.g&&$h(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(t0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AE=Vt.JSON.parse;function at(n){Pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=n0,this.L=this.M=!1}hi(at,Pr);var n0="",ME=/^https?$/i,kM=["POST","PUT"];function r0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,SE(n),tg(n)}function SE(n){n.F||(n.F=!0,xi(n,"complete"),xi(n,"error"))}function NE(n){if(n.h&&typeof qm<"u"&&(!n.C[1]||4!=Is(n)||2!=n.da()))if(n.v&&4==Is(n))$v(n.La,0,n);else if(xi(n,"readystatechange"),4==Is(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var o=String(n.I).match(Yv)[1]||null;!o&&Vt.self&&Vt.self.location&&(o=Vt.self.location.protocol.slice(0,-1)),r=!ME.test(o?o.toLowerCase():"")}t=r}if(t)xi(n,"complete"),xi(n,"success");else{n.m=6;try{var l=2<Is(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",SE(n)}}finally{tg(n)}}}function tg(n,e){if(n.g){xE(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||xi(n,"ready");try{t.onreadystatechange=r}catch{}}}function xE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function Is(n){return n.g?n.g.readyState:0}function RE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case n0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ND(n){let e="";return Rv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function h_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ND(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function zh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _u(n){this.Ga=0,this.j=[],this.l=new qp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=zh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=zh("baseRetryDelayMs",5e3,n),this.hb=zh("retryDelaySeedMs",1e4,n),this.eb=zh("forwardChannelMaxRetries",2,n),this.xa=zh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new CE(n&&n.concurrentRequestLimit),this.Ja=new AD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function El(n){if(kE(n),3==n.H){var e=n.W++,t=Xo(n.I);if(qn(t,"SID",n.K),qn(t,"RID",e),qn(t,"TYPE","terminate"),yu(n,t),(e=new Hc(n,n.l,e)).L=2,e.v=Kp(Xo(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon)try{t=Vt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=FE(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jc(e)}a0(n)}function ng(n){n.g&&(ig(n),n.g.cancel(),n.g=null)}function kE(n){ng(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),Wh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function zc(n){if(!bE(n.i)&&!n.m){n.m=!0;var e=n.Na;Hp||yl(),Uc||(Hp(),Uc=!0),kh.add(e,n),n.C=0}}function f_(n,e){var t;t=e?e.m:n.W++;const r=Xo(n.I);qn(r,"SID",n.K),qn(r,"RID",t),qn(r,"AID",n.V),yu(n,r),n.o&&n.s&&h_(r,n.o,n.s),t=new Hc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=o0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Tl(n.i,t),o_(t,r,e)}function yu(n,e){n.na&&Rv(n.na,function(t,r){qn(e,r,t)}),n.h&&TE({},function(t,r){qn(e,r,t)})}function o0(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Si(n.h.Va,n.h,n):null;e:{var o=n.j;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=o[0].g,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let T=0;T<t;T++){let b=o[T].g;const M=o[T].map;if(b-=l,0>b)l=Math.max(0,o[T].g-100),m=!1;else try{xM(M,d,"req"+b+"_")}catch{r&&r(M)}}if(m){r=d.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function p_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Hp||yl(),Uc||(Hp(),Uc=!0),kh.add(e,n),n.A=0}}function rg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=pu(Si(n.Ma,n),LE(n,n.A)),n.A++,0))}function ig(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function s0(n){n.g=new Hc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Xo(n.wa);qn(e,"RID","rpc"),qn(e,"SID",n.K),qn(e,"AID",n.V),qn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&qn(e,"TO",n.qa),qn(e,"TYPE","xmlhttp"),yu(n,e),n.o&&n.s&&h_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Kp(Xo(e)),t.s=null,t.S=!0,yE(t,n)}function Wh(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function OE(n,e){var t=null;if(n.g==e){Wh(n),ig(n),n.g=null;var r=2}else{if(!c_(n.i,e))return;t=e.F,ua(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;xi(r=zv(),new r_(r,t)),zc(n)}else p_(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function Kh(n,e){return!(DE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=pu(Si(n.Na,n,e),LE(n,n.C)),n.C++,0)))}(n,e)||2==r&&rg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Kc(n,5);break;case 4:Kc(n,10);break;case 3:Kc(n,6);break;default:Kc(n,2)}}function LE(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Kc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Si(n.pb,n);t||(t=new qc("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||u_(t,"https"),Kp(t)),function RM(n,e){const t=new qp;if(Vt.Image){const r=new Image;r.onload=Av(Xp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Av(Xp,t,r,"TestLoadImage: error",!1,e),r.onabort=Av(Xp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Av(Xp,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fi(2);n.H=0,n.h&&n.h.za(e),a0(n),kE(n)}function a0(n){if(n.H=0,n.ma=[],n.h){const e=e0(n.i);(0!=e.length||0!=n.j.length)&&(eE(n.ma,e),eE(n.ma,n.j),n.i.i.length=0,Gm(n.j),n.j.length=0),n.h.ya()}}function PE(n,e,t){var r=t instanceof qc?Xo(t):new qc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),mu(r,r.m);else{var o=Vt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var l=new qc(null);r&&u_(l,r),e&&(l.g=e),o&&mu(l,o),t&&(l.l=t),r=l}return e=n.Da,(t=n.F)&&e&&qn(r,t,e),qn(r,"VER",n.ra),yu(n,r),r}function FE(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(t&&n.Ha&&!n.va?new qh({ob:!0}):n.va)).Oa(n.J),e}function VE(){}function g_(){if(Vc&&!(10<=Number(hD)))throw Error("Environmental error: no available transport.")}function co(n,e){Pr.call(this),this.g=new _u(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Bp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Yh(this)}function u0(n){Gp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function UE(){Uh.call(this),this.status=1}function Yh(n){this.g=n}function Cs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function l0(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=n.g[3],d=(e=n.g[0])+(l^(t=n.g[1])&((o=n.g[2])^l))+r[0]+3614090360&4294967295;d=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=t+(d<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(o^l))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(o^l))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(o^l))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(o^l&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^l&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^l&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^l&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^o^l)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^l)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^l)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^l)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(o^(t|~l))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(l|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~l))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(l|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~l))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(l|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((l=(e=t+((d=e+(o^(t|~l))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((o=l+((d=o+(e^(l|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+l&4294967295}function bn(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var l=0|n[o];r&&l==e||(t[o]=l,r=!1)}this.g=t}(Qe=at.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_E.g(),this.C=function $p(n){return n.h||(n.h=n.i())}(this.u?this.u:_E),this.g.onreadystatechange=Si(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(l){return void r0(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),o=Vt.FormData&&n instanceof Vt.FormData,!(0<=uD(kM,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{xE(this),0<this.B&&((this.L=function MD(n){return Vc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Si(this.ua,this)):this.A=$v(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){r0(this,l)}},Qe.ua=function(){typeof qm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xi(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,xi(this,"complete"),xi(this,"abort"),tg(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tg(this,!0)),at.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?NE(this):this.kb())},Qe.kb=function(){NE(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),AE(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=_u.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Hc(this,this.l,n);let l=this.s;if(this.U&&(l?(l=kv(l),aE(l,this.U)):l=this.U),null!==this.o||this.O||(o.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=o0(this,o,e),qn(t=Xo(this.I),"RID",n),qn(t,"CVER",22),this.F&&qn(t,"X-HTTP-Session-Id",this.F),yu(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(ND(l)))+"&"+e:this.o&&h_(t,this.o,l)),Tl(this.i,o),this.bb&&qn(t,"TYPE","init"),this.P?(qn(t,"$req",e),qn(t,"SID","null"),o.aa=!0,o_(o,t,null)):o_(o,t,e),this.H=2}}else 3==this.H&&(n?f_(this,n):0==this.j.length||bE(this.i)||f_(this))},Qe.Ma=function(){if(this.u=null,s0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=pu(Si(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fi(10),ng(this),s0(this))},Qe.ib=function(){null!=this.v&&(this.v=null,ng(this),rg(this),fi(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),fi(2)):(this.l.info("Failed to ping google.com"),fi(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=VE.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},g_.prototype.g=function(n,e){return new co(n,e)},hi(co,Pr),co.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;fi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=PE(n,null,n.Y),zc(n)},co.prototype.close=function(){El(this.g)},co.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Bv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&zc(e)},co.prototype.N=function(){this.g.h=null,delete this.j,El(this.g),delete this.g,co.$.N.call(this)},hi(u0,Gp),hi(UE,Uh),hi(Yh,VE),Yh.prototype.Ba=function(){xi(this.g,"a")},Yh.prototype.Aa=function(n){xi(this.g,new u0(n))},Yh.prototype.za=function(n){xi(this.g,new UE)},Yh.prototype.ya=function(){xi(this.g,"b")},hi(Cs,function So(){this.blockSize=-1}),Cs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,l=0;l<e;){if(0==o)for(;l<=t;)l0(this,n,l),l+=this.blockSize;if("string"==typeof n){for(;l<e;)if(r[o++]=n.charCodeAt(l++),o==this.blockSize){l0(this,r),o=0;break}}else for(;l<e;)if(r[o++]=n[l++],o==this.blockSize){l0(this,r),o=0;break}}this.h=o,this.i+=e},Cs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var c0={};function m_(n){return-128<=n&&128>n?function tE(n,e){var t=c0;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new bn([0|e],0>e?-1:0)}):new bn([0|n],0>n?-1:0)}function la(n){if(isNaN(n)||!isFinite(n))return Wc;if(0>n)return pi(la(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=d0;return new bn(e,0)}var d0=4294967296,Wc=m_(0),h0=m_(1),ZE=m_(16777216);function bs(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function es(n){return-1==n.h}function pi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new bn(t,~n.h).add(h0)}function __(n,e){return n.add(pi(e))}function y_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function og(n,e){this.g=n,this.h=e}function No(n,e){if(bs(e))throw Error("division by zero");if(bs(n))return new og(Wc,Wc);if(es(n))return e=No(pi(n),e),new og(pi(e.g),pi(e.h));if(es(e))return e=No(n,pi(e)),new og(pi(e.g),e.h);if(30<n.g.length){if(es(n)||es(e))throw Error("slowDivide_ only works with positive integers.");for(var t=h0,r=e;0>=r.X(n);)t=v_(t),r=v_(r);var o=Jh(t,1),l=Jh(r,1);for(r=Jh(r,2),t=Jh(t,2);!bs(r);){var d=l.add(r);0>=d.X(n)&&(o=o.add(t),l=d),r=Jh(r,1),t=Jh(t,1)}return e=__(n,o.R(e)),new og(o,e)}for(o=Wc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(l=la(t)).R(e);es(d)||0<d.X(n);)d=(l=la(t-=r)).R(e);bs(l)&&(l=h0),o=o.add(l),n=__(n,d)}return new og(o,n)}function v_(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new bn(t,n.h)}function Jh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],l=0;l<r;l++)o[l]=0<e?n.D(l+t)>>>e|n.D(l+t+1)<<32-e:n.D(l+t);return new bn(o,n.h)}(Qe=bn.prototype).ea=function(){if(es(this))return-pi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:d0+r)*e,e*=d0}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(bs(this))return"0";if(es(this))return"-"+pi(this).toString(n);for(var e=la(Math.pow(n,6)),t=this,r="";;){var o=No(t,e).g,l=((0<(t=__(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(bs(t=o))return l+r;for(;6>l.length;)l="0"+l;r=l+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return es(n=__(this,n))?-1:bs(n)?0:1},Qe.abs=function(){return es(this)?pi(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var l=r+(65535&this.D(o))+(65535&n.D(o)),d=(l>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=d>>>16,t[o]=(d&=65535)<<16|(l&=65535)}return new bn(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(bs(this)||bs(n))return Wc;if(es(this))return es(n)?pi(this).R(pi(n)):pi(pi(this).R(n));if(es(n))return pi(this.R(pi(n)));if(0>this.X(ZE)&&0>n.X(ZE))return la(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var l=this.D(r)>>>16,d=65535&this.D(r),m=n.D(o)>>>16,T=65535&n.D(o);t[2*r+2*o]+=d*T,y_(t,2*r+2*o),t[2*r+2*o+1]+=l*T,y_(t,2*r+2*o+1),t[2*r+2*o+1]+=d*m,y_(t,2*r+2*o+1),t[2*r+2*o+2]+=l*m,y_(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new bn(t,0)},Qe.gb=function(n){return No(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new bn(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new bn(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new bn(t,this.h^n.h)},g_.prototype.createWebChannel=g_.prototype.g,co.prototype.send=co.prototype.u,co.prototype.open=co.prototype.m,co.prototype.close=co.prototype.close,Ph.NO_ERROR=0,Ph.TIMEOUT=8,Ph.HTTP_ERROR=6,i_.COMPLETE="complete",Fh.EventType=Vh,Vh.OPEN="a",Vh.CLOSE="b",Vh.ERROR="c",Vh.MESSAGE="d",Pr.prototype.listen=Pr.prototype.O,at.prototype.listenOnce=at.prototype.P,at.prototype.getLastError=at.prototype.Sa,at.prototype.getLastErrorCode=at.prototype.Ia,at.prototype.getStatus=at.prototype.da,at.prototype.getResponseJson=at.prototype.Wa,at.prototype.getResponseText=at.prototype.ja,at.prototype.send=at.prototype.ha,at.prototype.setWithCredentials=at.prototype.Oa,Cs.prototype.digest=Cs.prototype.l,Cs.prototype.reset=Cs.prototype.reset,Cs.prototype.update=Cs.prototype.j,bn.prototype.add=bn.prototype.add,bn.prototype.multiply=bn.prototype.R,bn.prototype.modulo=bn.prototype.gb,bn.prototype.compare=bn.prototype.X,bn.prototype.toNumber=bn.prototype.ea,bn.prototype.toString=bn.prototype.toString,bn.prototype.getBits=bn.prototype.D,bn.fromNumber=la,bn.fromString=function BE(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return pi(BE(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=la(Math.pow(e,8)),r=Wc,o=0;o<n.length;o+=8){var l=Math.min(8,n.length-o),d=parseInt(n.substring(o,o+l),e);8>l?(l=la(Math.pow(e,l)),r=r.R(l).add(la(d))):r=(r=r.R(t)).add(la(d))}return r};var HE=Qo.createWebChannelTransport=function(){return new g_},xD=Qo.getStatEventTarget=function(){return zv()},w_=Qo.ErrorCode=Ph,jE=Qo.EventType=i_,T_=Qo.Event=Bc,E_=Qo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},OM=Qo.FetchXmlHttpFactory=qh,sg=Qo.WebChannel=Fh,qE=Qo.XhrIo=at,$E=Qo.Md5=Cs,Yc=Qo.Integer=bn;const I_="@firebase/firestore";class Ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let Qh="9.23.0";const Il=new Jo.Yd("@firebase/firestore");function ag(){return Il.logLevel}function Oe(n,...e){if(Il.logLevel<=Jo.in.DEBUG){const t=e.map(C_);Il.debug(`Firestore (${Qh}): ${n}`,...t)}}function Cr(n,...e){if(Il.logLevel<=Jo.in.ERROR){const t=e.map(C_);Il.error(`Firestore (${Qh}): ${n}`,...t)}}function Ds(n,...e){if(Il.logLevel<=Jo.in.WARN){const t=e.map(C_);Il.warn(`Firestore (${Qh}): ${n}`,...t)}}function C_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${Qh}) INTERNAL ASSERTION FAILED: `+n;throw Cr(e),new Error(e)}function lt(n,e){n||ot()}function We(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class GE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ln.UNAUTHENTICATED))}shutdown(){}}class OD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f0{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=b=>this.i!==o?(o=this.i,t(b)):Promise.resolve();let d=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new cr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const b=d;e.enqueueRetryable((0,ge.Z)(function*(){yield b.promise,yield l(r.currentUser)}))},T=b=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(b=>T(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?T(b):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new cr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new GE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new Ln(e)}}class LD{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class lg{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new LD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KE{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=l=>{null!=l.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.T;return this.T=l.token,Oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?o(l):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt("string"==typeof t.token),this.T=t.token,new zE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class WE{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=FD(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[l]%62))}return r}}function Nt(n,e){return n<e?-1:n>e?1:0}function Xh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function VD(n){return n+"\0"}class Xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Xn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Xn(0,0))}static max(){return new yt(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cg{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===cg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends cg{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new on(t)}static emptyPath(){return new on([])}}const UD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends cg{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return UD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Ie(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ie(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const T=e[o+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new Ie(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=T,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(l(),o++)}if(l(),d)throw new Ie(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(on.fromString(e))}static fromName(e){return new Je(on.fromString(e).popFirst(5))}static empty(){return new Je(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new on(e.slice()))}}class dg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function hg(n){return n.fields.find(e=>2===e.kind)}function Jc(n){return n.fields.filter(e=>2!==e.kind)}dg.UNKNOWN_ID=-1;class b_{constructor(e,t){this.fieldPath=e,this.kind=t}}class fg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fg(0,xo.min())}}function YE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(1e9===r?new Xn(t+1,0):new Xn(t,r));return new xo(o,Je.empty(),e)}function JE(n){return new xo(n.readTime,n.key,-1)}class xo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xo(yt.min(),Je.empty(),-1)}static max(){return new xo(yt.max(),Je.empty(),-1)}}function g0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:Nt(n.largestBatchId,e.largestBatchId))}const m0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cl(n){return QE.apply(this,arguments)}function QE(){return QE=(0,ge.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==m0)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),QE.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let o=0,l=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++l,d&&l===o&&t()},T=>r(T))}),d=!0,l===o&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(o=>o?re.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new re((r,o)=>{const l=e.length,d=new Array(l);let m=0;for(let T=0;T<l;T++){const b=T;t(e[b]).next(M=>{d[b]=M,++m,m===l&&r(d)},M=>o(M))}})}static doWhile(e,t){return new re((r,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):r()};l()})}}class y0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new cr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new pg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=Qr(r.target.error);this.v.reject(new pg(e,o))}}static open(e,t,r,o){try{return new y0(t,e.transaction(o,r))}catch(l){throw new pg(t,l)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new HD(t)}}class ho{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===ho.S((0,nn.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),Ri(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,nn.hl)())return!1;if(ho.C())return!0;const e=(0,nn.z$)(),t=ho.S(e),r=0<t&&t<10,o=ho.N(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ge.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{o(new pg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Ie(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ie(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new pg(e,m))},l.onupgradeneeded=d=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.O(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,ge.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.$(e);const T=y0.open(l.db,e,d?"readonly":"readwrite",r),b=o(T).next(M=>(T.P(),M)).catch(M=>(T.abort(M),re.reject(M))).toPromise();return b.catch(()=>{}),yield T.R,b}catch(T){const b=T,M="FirebaseError"!==b.name&&m<3;if(Oe("SimpleDb","Transaction failed with error:",b.message,"Retrying:",M),l.close(),!M)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ZD{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ri(this.L.delete())}}class pg extends Ie{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ca(n){return"IndexedDbTransactionError"===n.name}class HD{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ri(r)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),Ri(this.store.add(e))}get(e){return Ri(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),Ri(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),Ri(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.W(o,(d,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new re((l,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new re((o,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}J(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(l,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new re((r,o)=>{t.onerror=l=>{const d=Qr(l.target.error);o(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new re((o,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const T=new ZD(m),b=t(m.primaryKey,m.value,T);if(b instanceof re){const M=b.catch(R=>(T.done(),re.reject(R)));r.push(M)}T.isDone?o():null===T.K?m.continue():m.continue(T.K)}}).next(()=>re.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ri(n){return new re((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Qr(r.target.error);t(o)}})}let ef=!1;function Qr(n){const e=ho.S((0,nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ef||(ef=!0,setTimeout(()=>{throw r},0)),r}}return n}class Qc{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){t.task=null;try{Oe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){ca(r)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Cl(r)}yield t.et(6e4)}))}}class D_{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ge.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,l=!0;return re.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Oe("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,o).next(m=>{o-=m,r.add(d)});l=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(o,l)).next(m=>(Oe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,l)=>{const d=JE(l);g0(d,r)>0&&(r=d)}),new xo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let er=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Xc(n){return null==n}function da(n){return 0===n&&1/n==-1/0}function ed(n){return"number"==typeof n&&Number.isInteger(n)&&!da(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function br(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=td(e)),e=tf(n.get(t),e);return td(e)}function tf(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function td(n){return n+"\x01\x01"}function zi(n){const e=n.length;if(lt(e>=2),2===e)return lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&ot(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let T;0===o.length?T=m:(o+=m,T=o,o=""),r.push(T);break;case"\x10":o+=n.substring(l,d),o+="\0";break;case"\x11":o+=n.substring(l,d+1);break;default:ot()}l=d+2}return new on(r)}const nd=["userId","batchId"];function vu(n,e){return[n,br(e)]}function rd(n,e,t){return[n,br(e),t]}const XE={},eI=["prefixPath","collectionGroup","readTime","documentId"],tI=["prefixPath","collectionGroup","documentId"],nI=["collectionGroup","readTime","prefixPath","documentId"],rI=["canonicalId","targetId"],iI=["targetId","path"],oI=["path","targetId"],sI=["collectionId","parent"],aI=["indexId","uid"],v0=["uid","sequenceNumber"],jD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LM=["indexId","uid","orderedDocumentKey"],PM=["userId","collectionPath","documentId"],qD=["userId","collectionPath","largestBatchId"],$D=["userId","collectionGroup","largestBatchId"],GD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zD=[...GD,"documentOverlays"],KD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uI=KD,WD=[...uI,"indexConfiguration","indexState","indexEntries"];class w0 extends _0{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=We(n);return ho.M(t.ht,e)}function nf(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Mn{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new Mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bl(this.root,e,this.comparator,!0)}}class bl{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??Xr.RED,this.left=o??Xr.EMPTY,this.right=l??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Xr(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $n{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rf(this.data.getIterator())}getIteratorFrom(e){return new rf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof $n)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new $n(this.comparator);return t.data=e,t}}class rf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sf(n){return n.hasNext()?n.getNext():void 0}class fo{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new fo([])}unionWith(e){let t=new $n(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class lI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lI("Invalid base64 string: "+o):o}}(e);return new Dr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new Dr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const A_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(n){if(lt(!!n),"string"==typeof n){let e=0;const t=A_.exec(n);if(lt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ar(n.seconds),nanos:Ar(n.nanos)}}function Ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wu(n){return"string"==typeof n?Dr.fromBase64String(n):Dr.fromUint8Array(n)}function M_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function af(n){const e=n.mapValue.fields.__previous_value__;return M_(e)?af(e):e}function mg(n){const e=As(n.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}class cI{constructor(e,t,r,o,l,d,m,T,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=T,this.useFetchStreams=b}}class Dl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}const Al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_g={nullValue:"NULL_VALUE"};function Tu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?M_(n)?4:hI(n)?9007199254740991:10:ot()}function Ms(n,e){if(n===e)return!0;const t=Tu(n);if(t!==Tu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mg(n).isEqual(mg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=As(r.timestampValue),d=As(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,wu(n.bytesValue).isEqual(wu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ar(r.geoPointValue.latitude)===Ar(o.geoPointValue.latitude)&&Ar(r.geoPointValue.longitude)===Ar(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ar(r.integerValue)===Ar(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Ar(r.doubleValue),d=Ar(o.doubleValue);return l===d?da(l)===da(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Xh(n.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:return function(r,o){const l=r.mapValue.fields||{},d=o.mapValue.fields||{};if(nf(l)!==nf(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!Ms(l[m],d[m])))return!1;return!0}(n,e);default:return ot()}var o}function yg(n,e){return void 0!==(n.values||[]).find(t=>Ms(t,e))}function Ml(n,e){if(n===e)return 0;const t=Tu(n),r=Tu(e);if(t!==r)return Nt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Nt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const d=Ar(o.integerValue||o.doubleValue),m=Ar(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return dI(n.timestampValue,e.timestampValue);case 4:return dI(mg(n),mg(e));case 5:return Nt(n.stringValue,e.stringValue);case 6:return function(o,l){const d=wu(o),m=wu(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const d=o.split("/"),m=l.split("/");for(let T=0;T<d.length&&T<m.length;T++){const b=Nt(d[T],m[T]);if(0!==b)return b}return Nt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const d=Nt(Ar(o.latitude),Ar(l.latitude));return 0!==d?d:Nt(Ar(o.longitude),Ar(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const d=o.values||[],m=l.values||[];for(let T=0;T<d.length&&T<m.length;++T){const b=Ml(d[T],m[T]);if(b)return b}return Nt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Al.mapValue&&l===Al.mapValue)return 0;if(o===Al.mapValue)return 1;if(l===Al.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),T=l.fields||{},b=Object.keys(T);m.sort(),b.sort();for(let M=0;M<m.length&&M<b.length;++M){const R=Nt(m[M],b[M]);if(0!==R)return R;const j=Ml(d[m[M]],T[b[M]]);if(0!==j)return j}return Nt(m.length,b.length)}(n.mapValue,e.mapValue);default:throw ot()}}function dI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Nt(n,e);const t=As(n),r=As(e),o=Nt(t.seconds,r.seconds);return 0!==o?o:Nt(t.nanos,r.nanos)}function uf(n){return vg(n)}function vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=As(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wu(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const d of r.values||[])l?l=!1:o+=",",o+=vg(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of o)d?d=!1:l+=",",l+=`${m}:${vg(r.fields[m])}`;return l+"}"}(n.mapValue):ot();var e}function id(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cf(n){return!!n&&"integerValue"in n}function Sl(n){return!!n&&"arrayValue"in n}function S_(n){return!!n&&"nullValue"in n}function T0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function N_(n){return!!n&&"mapValue"in n}function wg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ha(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function E0(n){return"nullValue"in n?_g:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?id(Dl.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function I0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?id(Dl.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Al:ot()}function C0(n,e){const t=Ml(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function b0(n,e){const t=Ml(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!N_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wg(t)}setAll(e){let t=dr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const T=this.getFieldsMap(t);this.applyChanges(T,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=wg(d):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());N_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];N_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ha(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new gi(wg(this.value))}}function fI(n){const e=[];return ha(n.fields,(t,r)=>{const o=new dr([t]);if(N_(r)){const l=fI(r.mapValue).fields;if(0===l.length)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new fo(e)}class Pn{constructor(e,t,r,o,l,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Pn(e,0,yt.min(),yt.min(),yt.min(),gi.empty(),0)}static newFoundDocument(e,t,r,o){return new Pn(e,1,t,yt.min(),r,o,0)}static newNoDocument(e,t){return new Pn(e,2,t,yt.min(),yt.min(),gi.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,yt.min(),yt.min(),gi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fa{constructor(e,t){this.position=e,this.inclusive=t}}function D0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(r=l.field.isKeyField()?Je.comparator(Je.fromName(d.referenceValue),t.key):Ml(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function x_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ms(n.position[t],e.position[t]))return!1;return!0}class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function JD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class A0{}class Xt extends A0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new gI(e,t,r):"array-contains"===t?new yI(e,r):"in"===t?new k0(e,r):"not-in"===t?new O_(e,r):"array-contains-any"===t?new Nl(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new mI(e,r):new _I(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ml(t,this.value)):null!==t&&Tu(this.value)===Tu(t)&&this.matchesComparison(Ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends A0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new yn(e,t)}matches(e){return sd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sd(n){return"and"===n.op}function M0(n){return"or"===n.op}function S0(n){return pI(n)&&sd(n)}function pI(n){for(const e of n.filters)if(e instanceof yn)return!1;return!0}function R_(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+uf(n.value);if(S0(n))return n.filters.map(e=>R_(e)).join(",");{const e=n.filters.map(t=>R_(t)).join(",");return`${n.op}(${e})`}}function k_(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&Ms(t.value,r.value)):n instanceof yn?function(t,r){return r instanceof yn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,l,d)=>o&&k_(l,r.filters[d]),!0)}(n,e):void ot();var t,r}function N0(n,e){const t=n.filters.concat(e);return yn.create(t,n.op)}function x0(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${uf(e.value)}`:n instanceof yn?function(e){return e.op.toString()+" {"+e.getFilters().map(x0).join(" ,")+"}"}(n):"Filter";var e}class gI extends Xt{constructor(e,t,r){super(e,t,r),this.key=Je.fromName(r.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class mI extends Xt{constructor(e,t){super(e,"in",t),this.keys=R0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _I extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=R0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function R0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Je.fromName(r.referenceValue))}class yI extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sl(t)&&yg(t.arrayValue,this.value)}}class k0 extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yg(this.value.arrayValue,t)}}class O_ extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yg(this.value.arrayValue,t)}}class Nl extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yg(this.value.arrayValue,r))}}class QD{constructor(e,t=null,r=[],o=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=m,this.dt=null}}function O0(n,e=null,t=[],r=[],o=null,l=null,d=null){return new QD(n,e,t,r,o,l,d)}function Eu(n){const e=We(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>R_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uf(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uf(r)).join(",")),e.dt=t}return e.dt}function Ss(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!k_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!x_(n.startAt,e.startAt)&&x_(n.endAt,e.endAt)}function df(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function L_(n,e){return n.filters.filter(t=>t instanceof Xt&&t.field.isEqual(e))}function P_(n,e,t){let r=_g,o=!0;for(const l of L_(n,e)){let d=_g,m=!0;switch(l.op){case"<":case"<=":d=E0(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,m=!1;break;case"!=":case"not-in":d=_g}C0({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];C0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function XD(n,e,t){let r=Al,o=!0;for(const l of L_(n,e)){let d=Al,m=!0;switch(l.op){case">=":case">":d=I0(l.value),m=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,m=!1;break;case"!=":case"not-in":d=Al}b0({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];b0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class xl{constructor(e,t=null,r=[],o=[],l=null,d="F",m=null,T=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=T,this.wt=null,this._t=null}}function vI(n,e,t,r,o,l,d,m){return new xl(n,e,t,r,o,l,d,m)}function hf(n){return new xl(n)}function L0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function P0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function hr(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function F_(n){return null!==n.collectionGroup}function ad(n){const e=We(n);if(null===e.wt){e.wt=[];const t=hr(e),r=P0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new od(t)),e.wt.push(new od(dr.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new od(dr.keyField(),l))}}}return e.wt}function Ki(n){const e=We(n);if(!e._t)if("F"===e.limitType)e._t=O0(e.path,e.collectionGroup,ad(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of ad(e))t.push(new od(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new fa(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new fa(e.startAt.position,e.startAt.inclusive):null;e._t=O0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function V_(n,e){e.getFirstInequalityField(),hr(n);const t=n.filters.concat([e]);return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function U_(n,e,t){return new xl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ff(n,e){return Ss(Ki(n),Ki(e))&&n.limitType===e.limitType}function F0(n){return`${Eu(Ki(n))}|lt:${n.limitType}`}function Rl(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>x0(r)).join(", ")}]`),Xc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uf(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uf(r)).join(",")),`Target(${t})`}(Ki(n))}; limitType=${n.limitType})`}function Tg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Je.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of ad(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,d){const m=D0(o,l,d);return o.inclusive?m<=0:m<0}(t.startAt,ad(t),r)||t.endAt&&!function(o,l,d){const m=D0(o,l,d);return o.inclusive?m>=0:m>0}(t.endAt,ad(t),r)));var t,r}function wI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function V0(n){return(e,t)=>{let r=!1;for(const o of ad(n)){const l=eA(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function eA(n,e,t){const r=n.field.isKeyField()?Je.comparator(e.key,t.key):function(o,l,d){const m=l.data.field(o),T=d.data.field(o);return null!==m&&null!==T?Ml(m,T):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return gg(this.inner)}size(){return this.innerSize}}const FM=new Mn(Je.comparator);function Wi(){return FM}const B_=new Mn(Je.comparator);function po(...n){let e=B_;for(const t of n)e=e.insert(t.key,t);return e}function TI(n){let e=B_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ga(){return Yi()}function Ns(){return Yi()}function Yi(){return new pa(n=>n.toString(),(n,e)=>n.isEqual(e))}const xs=new Mn(Je.comparator),EI=new $n(Je.comparator);function Ht(...n){let e=EI;for(const t of n)e=e.add(t);return e}const tA=new $n(Nt);function U0(){return tA}function II(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:da(e)?"-0":e}}function CI(n){return{integerValue:""+n}}function Z_(n,e){return ed(e)?CI(e):II(n,e)}class kl{constructor(){this._=void 0}}function nA(n,e,t){return n instanceof pf?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&M_(o)&&(o=af(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Ol?B0(n,e):n instanceof ma?AI(n,e):function(r,o){const l=DI(r,o),d=Z0(l)+Z0(r.gt);return cf(l)&&cf(r.gt)?CI(d):II(r.serializer,d)}(n,e)}function bI(n,e,t){return n instanceof Ol?B0(n,e):n instanceof ma?AI(n,e):t}function DI(n,e){return n instanceof ud?cf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class pf extends kl{}class Ol extends kl{constructor(e){super(),this.elements=e}}function B0(n,e){const t=H0(e);for(const r of n.elements)t.some(o=>Ms(o,r))||t.push(r);return{arrayValue:{values:t}}}class ma extends kl{constructor(e){super(),this.elements=e}}function AI(n,e){let t=H0(e);for(const r of n.elements)t=t.filter(o=>!Ms(o,r));return{arrayValue:{values:t}}}class ud extends kl{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Z0(n){return Ar(n.integerValue||n.doubleValue)}function H0(n){return Sl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Eg{constructor(e,t){this.field=e,this.transform=t}}class j0{constructor(e,t){this.version=e,this.transformResults=t}}class Sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ig(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class gf{}function H_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new mf(n.key,Sn.none()):new cd(n.key,n.data,Sn.none());{const t=n.data,r=gi.empty();let o=new $n(dr.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),o=o.add(l)}return new Iu(n.key,r,new fo(o.toArray()),Sn.none())}}function MI(n,e,t){n instanceof cd?function(r,o,l){const d=r.value.clone(),m=xI(r.fieldTransforms,o,l.transformResults);d.setAll(m),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Iu?function(r,o,l){if(!Ig(r.precondition,o))return void o.convertToUnknownDocument(l.version);const d=xI(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(NI(r)),m.setAll(d),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ld(n,e,t,r){return n instanceof cd?function(o,l,d,m){if(!Ig(o.precondition,l))return d;const T=o.value.clone(),b=RI(o.fieldTransforms,m,l);return T.setAll(b),l.convertToFoundDocument(l.version,T).setHasLocalMutations(),null}(n,e,t,r):n instanceof Iu?function(o,l,d,m){if(!Ig(o.precondition,l))return d;const T=RI(o.fieldTransforms,m,l),b=l.data;return b.setAll(NI(o)),b.setAll(T),l.convertToFoundDocument(l.version,b).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(M=>M.field))}(n,e,t,r):(d=t,Ig(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function SI(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=DI(r.transform,o||null);null!=l&&(null===t&&(t=gi.empty()),t.set(r.field,l))}return t||null}function q0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Xh(t,r,(o,l)=>function rA(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ol&&r instanceof Ol||t instanceof ma&&r instanceof ma?Xh(t.elements,r.elements,Ms):t instanceof ud&&r instanceof ud?Ms(t.gt,r.gt):t instanceof pf&&r instanceof pf);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class cd extends gf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Iu extends gf{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function NI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xI(n,e,t){const r=new Map;lt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,m=e.data.field(l.field);r.set(l.field,bI(d,m,t[o]))}return r}function RI(n,e,t){const r=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);r.set(o.field,nA(l,d,e))}return r}class mf extends gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $0 extends gf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G0{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&MI(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ld(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ld(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ns();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let m=this.applyToLocalView(d,l.mutatedFields);m=t.has(o.key)?null:m;const T=H_(d,m);null!==T&&r.set(o.key,T),d.isValidDocument()||d.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&Xh(this.mutations,e.mutations,(t,r)=>q0(t,r))&&Xh(this.baseMutations,e.baseMutations,(t,r)=>q0(t,r))}}class z0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){lt(e.mutations.length===r.length);let o=xs;const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new z0(e,t,r,o)}}class K0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class oA{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vr,sn;function kI(n){switch(n){default:return ot();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function OI(n){if(void 0===n)return Cr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Vr.OK:return ae.OK;case Vr.CANCELLED:return ae.CANCELLED;case Vr.UNKNOWN:return ae.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return ae.INTERNAL;case Vr.UNAVAILABLE:return ae.UNAVAILABLE;case Vr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Vr.NOT_FOUND:return ae.NOT_FOUND;case Vr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Vr.ABORTED:return ae.ABORTED;case Vr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Vr.DATA_LOSS:return ae.DATA_LOSS;default:return ot()}}(sn=Vr||(Vr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class W0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return j_}static getOrCreateInstance(){return null===j_&&(j_=new W0),j_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let j_=null;function LI(){return new TextEncoder}const PI=new Yc([4294967295,4294967295],0);function Y0(n){const e=LI().encode(n),t=new $E;return t.update(e),new Uint8Array(t.digest())}function J0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Yc([t,r],0),new Yc([o,l],0)]}class q_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _f(`Invalid padding: ${t}`);if(r<0)throw new _f(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new _f(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new _f(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Yc.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(Yc.fromNumber(r)));return 1===o.compare(PI)&&(o=new Yc([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Y0(e),[r,o]=J0(t);for(let l=0;l<this.hashCount;l++){const d=this.Et(r,o,l);if(!this.At(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new q_(l,o,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.It)return;const t=Y0(e),[r,o]=J0(t);for(let l=0;l<this.hashCount;l++){const d=this.Et(r,o,l);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class _f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yf{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,vf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new yf(yt.min(),o,new Mn(Nt),Wi(),Ht())}}class vf{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vf(r,t,Ht(),Ht(),Ht())}}class Cg{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class Q0{constructor(e,t){this.targetId=e,this.Vt=t}}class X0{constructor(e,t,r=Dr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class ew{constructor(){this.St=0,this.Dt=VI(),this.Ct=Dr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ht(),t=Ht(),r=Ht();return this.Dt.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ot()}}),new vf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=VI()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class dd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Wi(),this.zt=FI(),this.Wt=new Mn(Nt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,l=this.se(r);if(l){const d=l.target;if(df(d))if(0===o){const m=new Je(d.path);this.Yt(r,m,Pn.newNoDocument(m,yt.min()))}else lt(1===o);else{const m=this.ie(r);if(m!==o){const T=this.re(e,m);0!==T&&(this.ee(r),this.Wt=this.Wt.insert(r,2===T?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=W0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,M,R){var j,X,_e,Le,Ue,wt;const Rt={localCacheCount:M,existenceFilterCount:R.count},At=R.unchangedNames;return At&&(Rt.bloomFilter={applied:0===b,hashCount:null!==(j=At?.hashCount)&&void 0!==j?j:0,bitmapLength:null!==(Le=null===(_e=null===(X=At?.bits)||void 0===X?void 0:X.bitmap)||void 0===_e?void 0:_e.length)&&void 0!==Le?Le:0,padding:null!==(wt=null===(Ue=At?.bits)||void 0===Ue?void 0:Ue.padding)&&void 0!==wt?wt:0}),Rt}(T,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:l="",padding:d=0},hashCount:m=0}=r;let T,b;try{T=wu(l).toUint8Array()}catch(M){if(M instanceof lI)return Ds("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw M}try{b=new q_(T,d,m)}catch(M){return Ds(M instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",M),1}return 0===b.It?1:o!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(l=>{const d=this.Gt.ue(),m=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;t.vt(m)||(this.Yt(e,l,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((l,d)=>{const m=this.se(d);if(m){if(l.current&&df(m.target)){const T=new Je(m.target.path);null!==this.jt.get(T)||this.ae(d,T)||this.Yt(d,T,Pn.newNoDocument(T,e))}l.Mt&&(t.set(d,l.Ot()),l.Ft())}});let r=Ht();this.zt.forEach((l,d)=>{let m=!0;d.forEachWhile(T=>{const b=this.se(T);return!b||"TargetPurposeLimboResolution"===b.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.jt.forEach((l,d)=>d.setReadTime(e));const o=new yf(e,t,this.Wt,this.jt,r);return this.jt=Wi(),this.zt=FI(),this.Wt=new Mn(Nt),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ew,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new $n(Nt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ew),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function FI(){return new Mn(Je.comparator)}function VI(){return new Mn(Je.comparator)}const wf={asc:"ASCENDING",desc:"DESCENDING"},VM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tw={and:"AND",or:"OR"};class UM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $_(n,e){return n.useProto3Json||Xc(e)?e:{value:e}}function hd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function St(n,e){return hd(n,e.toTimestamp())}function Mr(n){return lt(!!n),yt.fromTimestamp(function(e){const t=As(e);return new Xn(t.seconds,t.nanos)}(n))}function nw(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UI(n){const e=on.fromString(n);return lt(If(e)),e}function _a(n,e){return nw(n.databaseId,e.path)}function ya(n,e){const t=UI(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(aA(t))}function Tf(n,e){return nw(n.databaseId,e)}function bg(n){const e=UI(n);return 4===e.length?on.emptyPath():aA(e)}function Fn(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aA(n){return lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rw(n,e,t){return{name:_a(n,e),fields:t.value.mapValue.fields}}function iw(n,e,t){const r=ya(n,e.name),o=Mr(e.updateTime),l=e.createTime?Mr(e.createTime):yt.min(),d=new gi({mapValue:{fields:e.fields}}),m=Pn.newFoundDocument(r,o,l,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Ef(n,e){let t;if(e instanceof cd)t={update:rw(n,e.key,e.value)};else if(e instanceof mf)t={delete:_a(n,e.key)};else if(e instanceof Iu)t={update:rw(n,e.key,e.data),updateMask:dA(e.fieldMask)};else{if(!(e instanceof $0))return ot();t={verify:_a(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const d=l.transform;if(d instanceof pf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ol)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ma)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ud)return{fieldPath:l.field.canonicalString(),increment:d.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:St(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),t;var o}function G_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Sn.updateTime(Mr(o.updateTime)):void 0!==o.exists?Sn.exists(o.exists):Sn.none():Sn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,d){let m=null;"setToServerValue"in d?(lt("REQUEST_TIME"===d.setToServerValue),m=new pf):"appendMissingElements"in d?m=new Ol(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new ma(d.removeAllFromArray.values||[]):"increment"in d?m=new ud(l,d.increment):ot();const T=dr.fromServerFormat(d.fieldPath);return new Eg(T,m)}(n,o)):[];var o;if(e.update){const o=ya(n,e.update.name),l=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new fo((e.updateMask.fieldPaths||[]).map(b=>dr.fromServerFormat(b)));return new Iu(o,l,d,t,r)}return new cd(o,l,t,r)}if(e.delete){const o=ya(n,e.delete);return new mf(o,t)}if(e.verify){const o=ya(n,e.verify);return new $0(o,t)}return ot()}function HI(n,e){return{documents:[Tf(n,e.path)]}}function ow(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Tf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Tf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(T){if(0!==T.length)return sw(yn.create(T,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(T){if(0!==T.length)return T.map(b=>{return{field:Cu((M=b).field),direction:lA(M.dir)};var M})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=$_(n,e.limit);var m,T;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(T=e.endAt).inclusive,values:T.position}),t}function jI(n){let e=bg(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){lt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=function(M){const R=qI(M);return R instanceof yn&&S0(R)?R.getFilters():[R]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(M=>{return new od(fd((R=M).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(M){let R;return R="object"==typeof M?M.value:M,Xc(R)?null:R}(t.limit));let T=null;var M;t.startAt&&(T=new fa((M=t.startAt).values||[],!!M.before));let b=null;return t.endAt&&(b=function(M){return new fa(M.values||[],!M.before)}(t.endAt)),vI(e,o,d,l,m,"F",T,b)}function qI(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fd(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=fd(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fd(e.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fd(e.unaryFilter.field);return Xt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?Xt.create(fd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return yn.create(e.compositeFilter.filters.map(t=>qI(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function lA(n){return wf[n]}function cA(n){return VM[n]}function z_(n){return tw[n]}function Cu(n){return{fieldPath:n.canonicalString()}}function fd(n){return dr.fromServerFormat(n.fieldPath)}function sw(n){return n instanceof Xt?function(e){if("=="===e.op){if(T0(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NAN"}};if(S_(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(T0(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NAN"}};if(S_(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(e.field),op:cA(e.op),value:e.value}}}(n):n instanceof yn?function(e){const t=e.getFilters().map(r=>sw(r));return 1===t.length?t[0]:{compositeFilter:{op:z_(e.op),filters:t}}}(n):ot()}function dA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function If(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ro{constructor(e,t,r,o,l=yt.min(),d=yt.min(),m=Dr.EMPTY_BYTE_STRING,T=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=T}withSequenceNumber(e){return new Ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $I{constructor(e){this.fe=e}}function GI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ag(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_a(o=n.fe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:hd(o,l.version.toTimestamp()),createTime:hd(o,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ll(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Ll(e.version)}}var o,l;return r}function Ag(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ll(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pl(n){const e=new Xn(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function pd(n,e){const t=(e.baseMutations||[]).map(l=>G_(n.fe,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const r=e.mutations.map(l=>G_(n.fe,l)),o=Xn.fromMillis(e.localWriteTimeMs);return new G0(e.batchId,o,t,r)}function Cf(n){const e=Pl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Pl(n.lastLimboFreeSnapshotVersion):yt.min();let r;var o;return void 0!==n.query.documents?(lt(1===(o=n.query).documents.length),r=Ki(hf(bg(o.documents[0])))):r=Ki(jI(n.query)),new Ro(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Dr.fromBase64String(n.resumeToken))}function zI(n,e){const t=Ll(e.snapshotVersion),r=Ll(e.lastLimboFreeSnapshotVersion);let o;o=df(e.target)?HI(n.fe,e.target):ow(n.fe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Eu(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function aw(n){const e=jI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?U_(e,e.limit,"L"):e}function KI(n,e){return new K0(e.largestBatchId,G_(n.fe,e.overlayMutation))}function fA(n,e){const t=e.path.lastSegment();return[n,br(e.path.popLast()),t]}function pA(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ll(r.readTime),documentKey:br(r.documentKey.path),largestBatchId:r.largestBatchId}}class BM{getBundleMetadata(e,t){return uw(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Pl(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return uw(e).put({bundleId:(r=t).id,createTime:Ll(Mr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Mg(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:aw(o.bundledQuery),readTime:Pl(o.readTime)};var o})}saveNamedQuery(e,t){return Mg(e).put({name:(r=t).name,readTime:Ll(Mr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function uw(n){return Fr(n,"bundles")}function Mg(n){return Fr(n,"namedQueries")}class K_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new K_(e,t.uid||"")}getOverlay(e,t){return Sg(e).get(fA(this.userId,t)).next(r=>r?KI(this.serializer,r):null)}getOverlays(e,t){const r=ga();return re.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((l,d)=>{const m=new K0(t,d);o.push(this.we(e,m))}),re.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(br(d.getCollectionPath())));const l=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Sg(e).J("collectionPathOverlayIndex",m))}),re.waitFor(l)}getOverlaysForCollection(e,t,r){const o=ga(),l=br(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Sg(e).j("collectionPathOverlayIndex",d).next(m=>{for(const T of m){const b=KI(this.serializer,T);o.set(b.getKey(),b)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=ga();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sg(e).X({index:"collectionGroupOverlayIndex",range:m},(T,b,M)=>{const R=KI(this.serializer,b);l.size()<o||R.largestBatchId===d?(l.set(R.getKey(),R),d=R.largestBatchId):M.done()}).next(()=>l)}we(e,t){return Sg(e).put(function(r,o,l){const[d,m,T]=fA(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:T,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Ef(r.fe,l.mutation)}}(this.serializer,this.userId,t))}}function Sg(n){return Fr(n,"documentOverlays")}class Fl{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ar(e.integerValue));else if("doubleValue"in e){const r=Ar(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),da(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(wu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?hI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Je.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function Ng(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function WI(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=Ng(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Fl.Ve=new Fl;class gA{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=WI(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=WI(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class mA{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class _A{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class W_{constructor(){this.je=new gA,this.ze=new mA(this.je),this.We=new _A(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class gd{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new gd(this.indexId,this.documentKey,this.arrayValue,r)}}function bu(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=YI(n.arrayValue,e.arrayValue),0!==t?t:(t=YI(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function YI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class yA{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){lt(e.collectionGroup===this.collectionId);const t=hg(e);if(void 0!==t&&!this.en(t))return!1;const r=Jc(e);let o=new Set,l=0,d=0;for(;l<r.length&&this.en(r[l]);++l)o=o.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[l];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[d++],m))return!1}++l}for(;l<r.length;++l)if(d>=this.Ye.length||!this.sn(this.Ye[d++],r[l]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function bf(n){var e,t;if(lt(n instanceof Xt||n instanceof yn),n instanceof Xt){if(n instanceof k0){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>Xt.create(n.field,"==",l)))||[];return yn.create(o,"or")}return n}const r=n.filters.map(o=>bf(o));return yn.create(r,n.op)}function vA(n){if(0===n.getFilters().length)return[];const e=dw(bf(n));return lt(cw(e)),Y_(e)||lw(e)?[e]:e.getFilters()}function Y_(n){return n instanceof Xt}function lw(n){return n instanceof yn&&S0(n)}function cw(n){return Y_(n)||lw(n)||function(e){if(e instanceof yn&&M0(e)){for(const t of e.getFilters())if(!Y_(t)&&!lw(t))return!1;return!0}return!1}(n)}function dw(n){if(lt(n instanceof Xt||n instanceof yn),n instanceof Xt)return n;if(1===n.filters.length)return dw(n.filters[0]);const e=n.filters.map(r=>dw(r));let t=yn.create(e,n.op);return t=Df(t),cw(t)?t:(lt(t instanceof yn),lt(sd(t)),lt(t.filters.length>1),t.filters.reduce((r,o)=>J_(r,o)))}function J_(n,e){let t;return lt(n instanceof Xt||n instanceof yn),lt(e instanceof Xt||e instanceof yn),t=n instanceof Xt?e instanceof Xt?yn.create([n,e],"and"):JI(n,e):e instanceof Xt?JI(e,n):function(r,o){if(lt(r.filters.length>0&&o.filters.length>0),sd(r)&&sd(o))return N0(r,o.getFilters());const l=M0(r)?r:o,d=M0(r)?o:r,m=l.filters.map(T=>J_(T,d));return yn.create(m,"or")}(n,e),Df(t)}function JI(n,e){if(sd(e))return N0(e,n.getFilters());{const t=e.filters.map(r=>J_(n,r));return yn.create(t,"or")}}function Df(n){if(lt(n instanceof Xt||n instanceof yn),n instanceof Xt)return n;const e=n.getFilters();if(1===e.length)return Df(e[0]);if(pI(n))return n;const t=e.map(o=>Df(o)),r=[];return t.forEach(o=>{o instanceof Xt?r.push(o):o instanceof yn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:yn.create(r,n.op)}class wA{constructor(){this.rn=new Q_}addToCollectionParentIndex(e,t){return this.rn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(xo.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class Q_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new $n(on.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new $n(on.comparator)).toArray()}}const xg=new Uint8Array(0);class TA{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Q_,this.un=new pa(r=>Eu(r),(r,o)=>Ss(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const l={collectionId:r,parent:br(o)};return QI(e).put(l)}return re.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[VD(t),""],!1,!0);return QI(e).j(o).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(zi(d.parent))}return r})}addFieldIndex(e,t){const r=Af(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const l=r.add(o);if(t.indexState){const d=kg(e);return l.next(m=>{d.put(pA(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Af(e),o=kg(e),l=Rg(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Rg(e);let o=!0;const l=new Map;return re.forEach(this.cn(t),d=>this.an(e,d).next(m=>{o&&(o=!!m),l.set(d,m)})).next(()=>{if(o){let d=Ht();const m=[];return re.forEach(l,(T,b)=>{var M;Oe("IndexedDbIndexManager",`Using index ${M=T,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(At=>`${At.fieldPath}:${At.kind}`).join(",")}`} to execute ${Eu(t)}`);const R=function(At,Ot){const $t=hg(Ot);if(void 0===$t)return null;for(const ln of L_(At,$t.fieldPath))switch(ln.op){case"array-contains-any":return ln.value.arrayValue.values||[];case"array-contains":return[ln.value]}return null}(b,T),j=function(At,Ot){const $t=new Map;for(const ln of Jc(Ot))for(const go of L_(At,ln.fieldPath))switch(go.op){case"==":case"in":$t.set(ln.fieldPath.canonicalString(),go.value);break;case"not-in":case"!=":return $t.set(ln.fieldPath.canonicalString(),go.value),Array.from($t.values())}return null}(b,T),X=function(At,Ot){const $t=[];let ln=!0;for(const go of Jc(Ot)){const mm=0===go.kind?P_(At,go.fieldPath,At.startAt):XD(At,go.fieldPath,At.startAt);$t.push(mm.value),ln&&(ln=mm.inclusive)}return new fa($t,ln)}(b,T),_e=function(At,Ot){const $t=[];let ln=!0;for(const go of Jc(Ot)){const mm=0===go.kind?XD(At,go.fieldPath,At.endAt):P_(At,go.fieldPath,At.endAt);$t.push(mm.value),ln&&(ln=mm.inclusive)}return new fa($t,ln)}(b,T),Le=this.hn(T,b,X),Ue=this.hn(T,b,_e),wt=this.ln(T,b,j),Rt=this.fn(T.indexId,R,Le,X.inclusive,Ue,_e.inclusive,wt);return re.forEach(Rt,At=>r.H(At,t.limit).next(Ot=>{Ot.forEach($t=>{const ln=Je.fromSegments($t.documentKey);d.has(ln)||(d=d.add(ln),m.push(ln))})}))}).next(()=>m)}return re.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:vA(yn.create(e.filters,"and")).map(r=>O0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,l,d,m){const T=(null!=t?t.length:1)*Math.max(r.length,l.length),b=T/(null!=t?t.length:1),M=[];for(let R=0;R<T;++R){const j=t?this.dn(t[R/b]):xg,X=this.wn(e,j,r[R%b],o),_e=this._n(e,j,l[R%b],d),Le=m.map(Ue=>this.wn(e,j,Ue,!0));M.push(...this.createRange(X,_e,Le))}return M}wn(e,t,r,o){const l=new gd(e,Je.empty(),t,r);return o?l:l.Je()}_n(e,t,r,o){const l=new gd(e,Je.empty(),t,r);return o?l.Je():l}an(e,t){const r=new yA(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let d=null;for(const m of l)r.tn(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const o=this.cn(t);return re.forEach(o,l=>this.an(e,l).next(d=>{d?0!==r&&d.fields.length<function(m){let T=new $n(dr.comparator),b=!1;for(const M of m.filters)for(const R of M.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?b=!0:T=T.add(R.field));for(const M of m.orderBy)M.field.isKeyField()||(T=T.add(M.field));return T.size+(b?1:0)}(l)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new W_;for(const o of Jc(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const d=r.He(o.kind);Fl.Ve._e(l,d)}return r.Qe()}dn(e){const t=new W_;return Fl.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new W_;return Fl.Ve._e(id(this.databaseId,t),r.He(function(o){const l=Jc(o);return 0===l.length?0:l[l.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new W_);let l=0;for(const d of Jc(e)){const m=r[l++];for(const T of o)if(this.yn(t,d.fieldPath)&&Sl(m))o=this.pn(o,d,m);else{const b=T.He(d.kind);Fl.Ve._e(m,b)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of o){const T=new W_;T.seed(m.Qe()),Fl.Ve._e(d,T.He(t.kind)),l.push(T)}return l}yn(e,t){return!!e.filters.find(r=>r instanceof Xt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Af(e),o=kg(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(l=>{const d=[];return re.forEach(l,m=>o.get([m.indexId,this.uid]).next(T=>{d.push(function(b,M){const R=M?new fg(M.sequenceNumber,new xo(Pl(M.readTime),new Je(zi(M.documentKey)),M.largestBatchId)):fg.empty(),j=b.fields.map(([X,_e])=>new b_(dr.fromServerFormat(X),_e));return new dg(b.indexId,b.collectionGroup,j,R)}(m,T))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:Nt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Af(e),l=kg(e);return this.Tn(e).next(d=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>re.forEach(m,T=>l.put(pA(T.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return re.forEach(t,(o,l)=>{const d=r.get(o.collectionGroup);return(d?re.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),re.forEach(m,T=>this.En(e,o,T).next(b=>{const M=this.An(l,T);return b.isEqual(M)?re.resolve():this.vn(e,l,T,b,M)}))))})}Rn(e,t,r,o){return Rg(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return Rg(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=Rg(e);let l=new $n(bu);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(d,m)=>{l=l.add(new gd(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}An(e,t){let r=new $n(bu);const o=this.mn(t,e);if(null==o)return r;const l=hg(t);if(null!=l){const d=e.data.field(l.fieldPath);if(Sl(d))for(const m of d.arrayValue.values||[])r=r.add(new gd(t.indexId,e.key,this.dn(m),o))}else r=r.add(new gd(t.indexId,e.key,xg,o));return r}vn(e,t,r,o,l){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,T,b,M,R){const j=m.getIterator(),X=T.getIterator();let _e=sf(j),Le=sf(X);for(;_e||Le;){let Ue=!1,wt=!1;if(_e&&Le){const Rt=b(_e,Le);Rt<0?wt=!0:Rt>0&&(Ue=!0)}else null!=_e?wt=!0:Ue=!0;Ue?(M(Le),Le=sf(X)):wt?(R(_e),_e=sf(j)):(_e=sf(j),Le=sf(X))}}(o,l,bu,m=>{d.push(this.Rn(e,t,r,m))},m=>{d.push(this.Pn(e,t,r,m))}),re.waitFor(d)}Tn(e){let t=1;return kg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>bu(d,m)).filter((d,m,T)=>!m||0!==bu(d,T[m-1]));const o=[];o.push(e);for(const d of r){const m=bu(d,e),T=bu(d,t);if(0===m)o[0]=e.Je();else if(m>0&&T<0)o.push(d),o.push(d.Je());else if(T>0)break}o.push(t);const l=[];for(let d=0;d<o.length;d+=2){if(this.bn(o[d],o[d+1]))return[];l.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,xg,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,xg,[]]))}return l}bn(e,t){return bu(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(hw)}getMinOffset(e,t){return re.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||ot())).next(hw)}}function QI(n){return Fr(n,"collectionParents")}function Rg(n){return Fr(n,"indexEntries")}function Af(n){return Fr(n,"indexConfiguration")}function kg(n){return Fr(n,"indexState")}function hw(n){lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;g0(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new xo(e.readTime,e.documentKey,t)}const XI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ki{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ki(e,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function eC(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const T=r.X({range:d},(M,R,j)=>(m++,j.delete()));l.push(T.next(()=>{lt(1===m)}));const b=[];for(const M of t.mutations){const R=rd(e,M.key.path,t.batchId);l.push(o.delete(R)),b.push(M.key)}return re.waitFor(l).next(()=>b)}function X_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(41943040,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);class ey{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){lt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new ey(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).X({index:"userMutationsIndex",range:r},(o,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Mf(e),d=Vl(e);return d.add({}).next(m=>{lt("number"==typeof m);const T=new G0(m,t,r,o),b=function(j,X,_e){const Le=_e.baseMutations.map(wt=>Ef(j.fe,wt)),Ue=_e.mutations.map(wt=>Ef(j.fe,wt));return{userId:X,batchId:_e.batchId,localWriteTimeMs:_e.localWriteTime.toMillis(),baseMutations:Le,mutations:Ue}}(this.serializer,this.userId,T),M=[];let R=new $n((j,X)=>Nt(j.canonicalString(),X.canonicalString()));for(const j of o){const X=rd(this.userId,j.key.path,m);R=R.add(j.key.path.popLast()),M.push(d.put(b)),M.push(l.put(X,XE))}return R.forEach(j=>{M.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Vn[m]=T.keys()}),re.waitFor(M).next(()=>T)})}lookupMutationBatch(e,t){return Vl(e).get(t).next(r=>r?(lt(r.userId===this.userId),pd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?re.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Vl(e).X({index:"userMutationsIndex",range:o},(d,m,T)=>{m.userId===this.userId&&(lt(m.batchId>=r),l=pd(this.serializer,m)),T.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vl(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vl(e).j("userMutationsIndex",t).next(r=>r.map(o=>pd(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vu(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Mf(e).X({range:o},(d,m,T)=>{const[b,M,R]=d,j=zi(M);if(b===this.userId&&t.path.isEqual(j))return Vl(e).get(R).next(X=>{if(!X)throw ot();lt(X.userId===this.userId),l.push(pd(this.serializer,X))});T.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $n(Nt);const o=[];return t.forEach(l=>{const d=vu(this.userId,l.path),m=IDBKeyRange.lowerBound(d),T=Mf(e).X({range:m},(b,M,R)=>{const[j,X,_e]=b,Le=zi(X);j===this.userId&&l.path.isEqual(Le)?r=r.add(_e):R.done()});o.push(T)}),re.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=vu(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new $n(Nt);return Mf(e).X({range:d},(T,b,M)=>{const[R,j,X]=T,_e=zi(j);R===this.userId&&r.isPrefixOf(_e)?_e.length===o&&(m=m.add(X)):M.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Vl(e).get(l).next(d=>{if(null===d)throw ot();lt(d.userId===this.userId),r.push(pd(this.serializer,d))}))}),re.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return eC(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),re.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Mf(e).X({range:r},(l,d,m)=>{if(l[0]===this.userId){const T=zi(l[1]);o.push(T)}else m.done()}).next(()=>{lt(0===o.length)})})}containsKey(e,t){return tC(e,this.userId,t)}xn(e){return fw(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tC(n,e,t){const r=vu(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Mf(n).X({range:l,Y:!0},(m,T,b)=>{const[M,R,j]=m;M===e&&R===o&&(d=!0),b.done()}).next(()=>d)}function Vl(n){return Fr(n,"mutations")}function Mf(n){return Fr(n,"documentMutations")}function fw(n){return Fr(n,"mutationQueues")}class Ul{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ul(0)}static Mn(){return new Ul(-1)}}class EA{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Ul(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>yt.fromTimestamp(new Xn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(lt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Sf(e).X((d,m)=>{const T=Cf(m);T.sequenceNumber<=t&&null===r.get(T.targetId)&&(o++,l.push(this.removeTargetData(e,T)))}).next(()=>re.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Sf(e).X((r,o)=>{const l=Cf(o);t(l)})}$n(e){return pw(e).get("targetGlobalKey").next(t=>(lt(null!==t),t))}On(e,t){return pw(e).put("targetGlobalKey",t)}Fn(e,t){return Sf(e).put(zI(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Eu(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Sf(e).X({range:o,index:"queryTargetsIndex"},(d,m,T)=>{const b=Cf(m);Ss(t,b.target)&&(l=b,T.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Bl(e);return t.forEach(d=>{const m=br(d.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),re.waitFor(o)}removeMatchingKeys(e,t,r){const o=Bl(e);return re.forEach(t,l=>{const d=br(l.path);return re.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Bl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Bl(e);let l=Ht();return o.X({range:r,Y:!0},(d,m,T)=>{const b=zi(d[1]),M=new Je(b);l=l.add(M)}).next(()=>l)}containsKey(e,t){const r=br(t.path),o=IDBKeyRange.bound([r],[VD(r)],!1,!0);let l=0;return Bl(e).X({index:"documentTargetsIndex",Y:!0,range:o},([d,m],T,b)=>{0!==d&&(l++,b.done())}).next(()=>l>0)}le(e,t){return Sf(e).get(t).next(r=>r?Cf(r):null)}}function Sf(n){return Fr(n,"targets")}function pw(n){return Fr(n,"targetGlobal")}function Bl(n){return Fr(n,"targetDocuments")}function nC([n,e],[t,r]){const o=Nt(n,t);return 0===o?Nt(e,r):o}class IA{constructor(e){this.Ln=e,this.buffer=new $n(nC),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ty{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ca(r)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Cl(r)}yield t.Qn(3e5)}))}}class gw{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return re.resolve(er.ct);const r=new IA(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(XI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XI):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,l,d,m,T,b;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(l=R,T=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(b=Date.now(),ag()<=Jo.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-M}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(T-m)+`ms\n\tRemoved ${R} documents in `+(b-T)+`ms\nTotal Duration: ${b-M}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:R})))}}class _w{constructor(e,t){this.db=e,this.garbageCollector=function mw(n,e){return new gw(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return ny(e,r)}removeReference(e,t,r){return ny(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ny(e,t)}Xn(e,t){return function(r,o){let l=!1;return fw(r).Z(d=>tC(r,d,o).next(m=>(m&&(l=!0),re.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Yn(e,(d,m)=>{if(m<=t){const T=this.Xn(e,d).next(b=>{if(!b)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,yt.min()),Bl(e).delete([0,br(d.path)])))});o.push(T)}}).next(()=>re.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ny(e,t)}Yn(e,t){const r=Bl(e);let o,l=er.ct;return r.X({index:"documentTargetsIndex"},([d,m],{path:T,sequenceNumber:b})=>{0===d?(l!==er.ct&&t(new Je(zi(o)),l),l=b,o=T):l=er.ct}).next(()=>{l!==er.ct&&t(new Je(zi(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ny(n,e){return Bl(n).put((r=n.currentSequenceNumber,{targetId:0,path:br(e.path),sequenceNumber:r}));var r}class rC{constructor(){this.changes=new pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yw{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Zl(e).put(r)}removeEntry(e,t,r){return Zl(e).delete(function(o,l){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ag(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Pn.newInvalidDocument(t);return Zl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Og(t))},(o,l)=>{r=this.ts(t,l)}).next(()=>r)}es(e,t){let r={size:0,document:Pn.newInvalidDocument(t)};return Zl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Og(t))},(o,l)=>{r={document:this.ts(t,l),size:X_(l)}}).next(()=>r)}getEntries(e,t){let r=Wi();return this.ns(e,t,(o,l)=>{const d=this.ts(o,l);r=r.insert(o,d)}).next(()=>r)}ss(e,t){let r=Wi(),o=new Mn(Je.comparator);return this.ns(e,t,(l,d)=>{const m=this.ts(l,d);r=r.insert(l,m),o=o.insert(l,X_(d))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return re.resolve();let o=new $n(ry);t.forEach(T=>o=o.add(T));const l=IDBKeyRange.bound(Og(o.first()),Og(o.last())),d=o.getIterator();let m=d.getNext();return Zl(e).X({index:"documentKeyIndex",range:l},(T,b,M)=>{const R=Je.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;m&&ry(m,R)<0;)r(m,null),m=d.getNext();m&&m.isEqual(R)&&(r(m,b),m=d.hasNext()?d.getNext():null),m?M.G(Og(m)):M.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const l=t.path,d=[l.popLast().toArray(),l.lastSegment(),Ag(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zl(e).j(IDBKeyRange.bound(d,m,!0)).next(T=>{let b=Wi();for(const M of T){const R=this.ts(Je.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);R.isFoundDocument()&&(Tg(t,R)||o.has(R.key))&&(b=b.insert(R.key,R))}return b})}getAllFromCollectionGroup(e,t,r,o){let l=Wi();const d=CA(t,r),m=CA(t,xo.max());return Zl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(T,b,M)=>{const R=this.ts(Je.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);l=l.insert(R.key,R),l.size===o&&M.done()}).next(()=>l)}newChangeBuffer(e){return new oC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return md(e).get("remoteDocumentGlobalKey").next(t=>(lt(!!t),t))}Zn(e,t){return md(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function hA(n,e){let t;if(e.document)t=iw(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Je.fromSegments(e.noDocument.path),o=Pl(e.noDocument.readTime);t=Pn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Je.fromSegments(e.unknownDocument.path),o=Pl(e.unknownDocument.version);t=Pn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Xn(r[0],r[1]);return yt.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(yt.min()))return r}return Pn.newInvalidDocument(e)}}function iC(n){return new yw(n)}class oC extends rC{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new pa(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new $n((l,d)=>Nt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.us.get(l);if(t.push(this.os.removeEntry(e,l,m.readTime)),d.isValidDocument()){const T=GI(this.os.serializer,d);o=o.add(l.path.popLast());const b=X_(T);r+=b-m.size,t.push(this.os.addEntry(e,l,T))}else if(r-=m.size,this.trackRemovals){const T=GI(this.os.serializer,d.convertToNoDocument(yt.min()));t.push(this.os.addEntry(e,l,T))}}),o.forEach(l=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.os.updateMetadata(e,r)),re.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((l,d)=>{this.us.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function md(n){return Fr(n,"remoteDocumentGlobal")}function Zl(n){return Fr(n,"remoteDocumentsV14")}function Og(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function CA(n,e){const t=e.documentKey.path.toArray();return[n,Ag(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ry(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(o=Nt(t[l],r[l]),o)return o;return o=Nt(t.length,r.length),o||(o=Nt(t[t.length-2],r[r.length-2]),o||Nt(t[t.length-1],r[r.length-1]))}class vw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sC{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&ld(r.mutation,o,fo.empty(),Xn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const o=ga();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let d=po();return l.forEach((m,T)=>{d=d.insert(m,T.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ga();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let l=Wi();const d=Yi(),m=Yi();return t.forEach((T,b)=>{const M=r.get(b.key);o.has(b.key)&&(void 0===M||M.mutation instanceof Iu)?l=l.insert(b.key,b):void 0!==M?(d.set(b.key,M.mutation.getFieldMask()),ld(M.mutation,b,M.mutation.getFieldMask(),Xn.now())):d.set(b.key,fo.empty())}),this.recalculateAndSaveOverlays(e,l).next(T=>(T.forEach((b,M)=>d.set(b,M)),t.forEach((b,M)=>{var R;return m.set(b,new vw(M,null!==(R=d.get(b))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Yi();let o=new Mn((d,m)=>d-m),l=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(T=>{const b=t.get(T);if(null===b)return;let M=r.get(T)||fo.empty();M=m.applyToLocalView(b,M),r.set(T,M);const R=(o.get(m.batchId)||Ht()).add(T);o=o.insert(m.batchId,R)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const T=m.getNext(),b=T.key,M=T.value,R=Ns();M.forEach(j=>{if(!l.has(j)){const X=H_(t.get(j),r.get(j));null!==X&&R.set(j,X),l=l.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(e,b,R))}return re.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Je.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):F_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):re.resolve(ga());let m=-1,T=l;return d.next(b=>re.forEach(b,(M,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),l.get(M)?re.resolve():this.remoteDocumentCache.getEntry(e,M).next(j=>{T=T.insert(M,j)}))).next(()=>this.populateOverlays(e,b,l)).next(()=>this.computeViews(e,T,b,Ht())).next(M=>({batchId:m,changes:TI(M)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(r=>{let o=po();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let l=po();return this.indexManager.getCollectionParents(e,o).next(d=>re.forEach(d,m=>{const T=(b=t,M=m.child(o),new xl(M,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,M;return this.getDocumentsMatchingCollectionQuery(e,T,r).next(b=>{b.forEach((M,R)=>{l=l.insert(M,R)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(l=>{o.forEach((m,T)=>{const b=T.getKey();null===l.get(b)&&(l=l.insert(b,Pn.newInvalidDocument(b)))});let d=po();return l.forEach((m,T)=>{const b=o.get(m);void 0!==b&&ld(b.mutation,T,fo.empty(),Xn.now()),Tg(t,T)&&(d=d.insert(m,T))}),d})}}class aC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return re.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Mr(r.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:aw(r.bundledQuery),readTime:Mr(r.readTime)}),re.resolve();var r}}class uC{constructor(){this.overlays=new Mn(Je.comparator),this.ls=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ga();return re.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.we(e,t,l)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const o=ga(),l=t.length+1,d=new Je(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const T=m.getNext().value,b=T.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===l&&T.largestBatchId>r&&o.set(T.getKey(),T)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Mn((b,M)=>b-M);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let M=l.get(b.largestBatchId);null===M&&(M=ga(),l=l.insert(b.largestBatchId,M)),M.set(b.getKey(),b)}}const m=ga(),T=l.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach((b,M)=>m.set(b,M)),!(m.size()>=o)););return re.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new K0(t,r));let l=this.ls.get(t);void 0===l&&(l=Ht(),this.ls.set(t,l)),this.ls.set(t,l.add(r.key))}}class ww{constructor(){this.fs=new $n(qr.ds),this.ws=new $n(qr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new qr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new qr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Je(new on([])),r=new qr(t,e),o=new qr(t,e+1),l=[];return this.ws.forEachInRange([r,o],d=>{this.ys(d),l.push(d.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Je(new on([])),r=new qr(t,e),o=new qr(t,e+1);let l=Ht();return this.ws.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new qr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class qr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Je.comparator(e.key,t.key)||Nt(e.As,t.As)}static _s(e,t){return Nt(e.As,t.As)||Je.comparator(e.key,t.key)}}class Tw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new $n(qr.ds)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const l=this.vs;this.vs++;const d=new G0(l,t,r,o);this.mutationQueue.push(d);for(const m of o)this.Rs=this.Rs.add(new qr(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,t){return re.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),l=o<0?0:o;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qr(t,0),o=new qr(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([r,o],d=>{const m=this.Ps(d.As);l.push(m)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new $n(Nt);return t.forEach(o=>{const l=new qr(o,0),d=new qr(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,d],m=>{r=r.add(m.As)})}),re.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Je.isDocumentKey(l)||(l=l.child(""));const d=new qr(new Je(l),0);let m=new $n(Nt);return this.Rs.forEachWhile(T=>{const b=T.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(m=m.add(T.As)),!0)},d),re.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){lt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return re.forEach(t.mutations,o=>{const l=new qr(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new qr(t,0),o=this.Rs.firstAfterOrEqual(r);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return re.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class lC{constructor(e){this.Ds=e,this.docs=new Mn(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let r=Wi();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Pn.newInvalidDocument(o))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=Wi();const d=t.path,m=new Je(d.child("")),T=this.docs.getIteratorFrom(m);for(;T.hasNext();){const{key:b,value:{document:M}}=T.getNext();if(!d.isPrefixOf(b.path))break;b.path.length>d.length+1||g0(JE(M),r)<=0||(o.has(M.key)||Tg(t,M))&&(l=l.insert(M.key,M.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,r,o){ot()}Cs(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new cC(this)}getSize(e){return re.resolve(this.size)}}class cC extends rC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class dC{constructor(e){this.persistence=e,this.xs=new pa(t=>Eu(t),Ss),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ww,this.targetCount=0,this.Ms=Ul.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),re.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ul(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Fn(t),re.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.xs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(l).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.ks.containsKey(t))}}class iy{constructor(e,t){this.$s={},this.overlays={},this.Os=new er(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new dC(this),this.indexManager=new wA,this.remoteDocumentCache=new lC(r=>this.referenceDelegate.Ls(r)),this.serializer=new $I(t),this.qs=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Tw(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const o=new bA(this.Os.next());return this.referenceDelegate.Us(),r(o).next(l=>this.referenceDelegate.Ks(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Gs(e,t){return re.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class bA extends _0{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Qs=new ww,this.js=null}static zs(e){return new oy(e)}get Ws(){if(this.js)return this.js;throw ot()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),re.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Ws.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ws,r=>{const o=Je.fromPath(r);return this.Hs(e,o).next(l=>{l||t.removeEntry(o,yt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return re.or([()=>re.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class DA{constructor(e){this.serializer=e}O(e,t,r,o){const l=new y0("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nd,{unique:!0}),m.createObjectStore("documentMutations"),Ew(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=re.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Ew(e)),d=d.next(()=>function(m){const T=m.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return T.put("targetGlobalKey",b)}(l))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,T){return T.store("mutations").j().next(b=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nd,{unique:!0});const M=T.store("mutations"),R=b.map(j=>M.put(j));return re.waitFor(R)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Ys(l))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(l)))),r<7&&o>=7&&(d=d.next(()=>this.Zs(l))),r<8&&o>=8&&(d=d.next(()=>this.ti(e,l))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.ei(l))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const T=m.createObjectStore("documentOverlays",{keyPath:PM});T.createIndex("collectionPathOverlayIndex",qD,{unique:!1}),T.createIndex("collectionGroupOverlayIndex",$D,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const T=m.createObjectStore("remoteDocumentsV14",{keyPath:eI});T.createIndex("documentKeyIndex",tI),T.createIndex("collectionGroupIndex",nI)}(e)).next(()=>this.ni(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.si(e,l))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:aI}).createIndex("sequenceNumberIndex",v0,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:jD}).createIndex("documentKeyIndex",LM,{unique:!1})}(e))),d}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=X_(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>re.forEach(o,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>re.forEach(m,T=>{lt(T.userId===l.userId);const b=pd(this.serializer,T);return eC(e,l.userId,b).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.X((d,m)=>{const T=new on(d),b=[0,br(T)];l.push(t.get(b).next(M=>M?re.resolve():t.put({targetId:0,path:br(T),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>re.waitFor(l))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:sI});const r=t.store("collectionParents"),o=new Q_,l=d=>{if(o.add(d)){const m=d.lastSegment(),T=d.popLast();return r.put({collectionId:m,parent:br(T)})}};return t.store("remoteDocuments").X({Y:!0},(d,m)=>{const T=new on(d);return l(T.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,m,T],b)=>{const M=zi(m);return l(M.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const l=Cf(o),d=zI(this.serializer,l);return t.put(d)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((l,d)=>{const m=t.store("remoteDocumentsV14"),T=(b=d,b.document?new Je(on.fromString(b.document.name).popFirst(5)):b.noDocument?Je.fromSegments(b.noDocument.path):b.unknownDocument?Je.fromSegments(b.unknownDocument.path):ot()).path.toArray();var b;const M={prefixPath:T.slice(0,T.length-2),collectionGroup:T[T.length-2],documentId:T[T.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(M))}).next(()=>re.waitFor(o))}si(e,t){const r=t.store("mutations"),o=iC(this.serializer),l=new iy(oy.zs,this.serializer.fe);return r.j().next(d=>{const m=new Map;return d.forEach(T=>{var b;let M=null!==(b=m.get(T.userId))&&void 0!==b?b:Ht();pd(this.serializer,T).keys().forEach(R=>M=M.add(R)),m.set(T.userId,M)}),re.forEach(m,(T,b)=>{const M=new Ln(b),R=K_.de(this.serializer,M),j=l.getIndexManager(M),X=ey.de(M,this.serializer,j,l.referenceDelegate);return new sC(o,X,R,j).recalculateAndSaveOverlaysForDocumentKeys(new w0(t,er.ct),T).next()})})}}function Ew(n){n.createObjectStore("targetDocuments",{keyPath:iI}).createIndex("documentTargetsIndex",oI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rI,{unique:!0}),n.createObjectStore("targetGlobal")}const hC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ay{constructor(e,t,r,o,l,d,m,T,b,M,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=l,this.window=d,this.document=m,this.ri=b,this.oi=M,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=j=>Promise.resolve(),!ay.D())throw new Ie(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _w(this,o),this.di=t+"main",this.serializer=new $I(T),this.wi=new ho(this.di,this.ui,new DA(this.serializer)),this.Bs=new EA(this.referenceDelegate,this.serializer),this.remoteDocumentCache=iC(this.serializer),this.qs=new BM,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===M&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(ae.FAILED_PRECONDITION,hC);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new er(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ge.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ge.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(ca(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Lg(e).get("owner").next(t=>re.resolve(this.Ri(t)))}Pi(e){return uy(e).delete(this.clientId)}bi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Fr(r,"clientMetadata");return o.j().next(l=>{const d=e.Si(l,18e5),m=l.filter(T=>-1===d.indexOf(T));return re.forEach(m,T=>o.delete(T.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?re.resolve(!0):Lg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ie(ae.FAILED_PRECONDITION,hC);return!1}}return!(!this.networkEnabled||!this.inForeground)||uy(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new w0(t,er.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>uy(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return ey.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new TA(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return K_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Oe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=15===(d=this.ui)?WD:14===d?uI:13===d?KD:12===d?zD:11===d?GD:void ot();var d;let m;return this.wi.runTransaction(e,o,l,T=>(m=new w0(T,this.Os?this.Os.next():er.ct),"readwrite-primary"===t?this.Ti(m).next(b=>!!b||this.Ei(m)).next(b=>{if(!b)throw Cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ie(ae.FAILED_PRECONDITION,m0);return r(m)}).next(b=>this.vi(m).next(()=>b)):this.Oi(m).next(()=>r(m)))).then(T=>(m.raiseOnCommittedEvent(),T))}Oi(e){return Lg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ie(ae.FAILED_PRECONDITION,hC)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lg(e).put("owner",t)}static D(){return ho.D()}Ai(e){const t=Lg(e);return t.get("owner").next(r=>this.Ri(r)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Cr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,nn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Cr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lg(n){return Fr(n,"owner")}function uy(n){return Fr(n,"clientMetadata")}function fC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Iw{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=Ht(),o=Ht();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Iw(e,t.fromCache,r,o)}}class pC{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(l=>l||this.Gi(e,t,o,r)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(L0(t))return re.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=U_(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=Ht(...l);return this.Ui.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(T=>{const b=this.ji(t,m);return this.zi(t,b,d,T.readTime)?this.Ki(e,U_(t,null,"F")):this.Wi(e,b,t,T)}))})))}Gi(e,t,r,o){return L0(t)||o.isEqual(yt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(l=>{const d=this.ji(t,l);return this.zi(t,d,r,o)?this.Qi(e,t):(ag()<=Jo.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rl(t)),this.Wi(e,d,t,YE(o,-1)))})}ji(e,t){let r=new $n(V0(e));return t.forEach((o,l)=>{Tg(e,l)&&(r=r.add(l))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Qi(e,t){return ag()<=Jo.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Rl(t)),this.Ui.getDocumentsMatchingQuery(e,t,xo.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class AA{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new Mn(Nt),this.Yi=new pa(l=>Eu(l),Ss),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function gC(n,e,t,r){return new AA(n,e,t,r)}function mC(n,e){return Cw.apply(this,arguments)}function Cw(){return Cw=(0,ge.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let T=Ht();for(const b of o){d.push(b.batchId);for(const M of b.mutations)T=T.add(M.key)}for(const b of l){m.push(b.batchId);for(const M of b.mutations)T=T.add(M.key)}return t.localDocuments.getDocuments(r,T).next(b=>({er:b,removedBatchIds:d,addedBatchIds:m}))})})}),Cw.apply(this,arguments)}function _C(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function yC(n,e,t){let r=Ht(),o=Ht();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Wi();return t.forEach((m,T)=>{const b=l.get(m);T.isFoundDocument()!==b.isFoundDocument()&&(o=o.add(m)),T.isNoDocument()&&T.version.isEqual(yt.min())?(e.removeEntry(m,T.readTime),d=d.insert(m,T)):!b.isValidDocument()||T.version.compareTo(b.version)>0||0===T.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(T),d=d.insert(m,T)):Oe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",T.version)}),{nr:d,sr:o}})}function NA(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Nf(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(l=>l?(o=l,re.resolve(o)):t.Bs.allocateTargetId(r).next(d=>(o=new Ro(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function va(n,e,t){return ly.apply(this,arguments)}function ly(){return ly=(0,ge.Z)(function*(n,e,t){const r=We(n),o=r.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ca(d))throw d;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),ly.apply(this,arguments)}function Pg(n,e,t){const r=We(n);let o=yt.min(),l=Ht();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,T,b){const M=We(m),R=M.Yi.get(b);return void 0!==R?re.resolve(M.Ji.get(R)):M.Bs.getTargetData(T,b)}(r,d,Ki(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(d,m.targetId).next(T=>{l=T})}).next(()=>r.Hi.getDocumentsMatchingQuery(d,e,t?o:yt.min(),t?l:Ht())).next(m=>(Aw(r,wI(e),m),{documents:m,ir:l})))}function bw(n,e){const t=We(n),r=We(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.le(l,e).next(d=>d?d.target:null))}function Dw(n,e){const t=We(n),r=t.Xi.get(e)||yt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,YE(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(Aw(t,e,o),o))}function Aw(n,e,t){let r=n.Xi.get(e)||yt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Xi.set(e,r)}function Mw(){return Mw=(0,ge.Z)(function*(n,e,t,r){const o=We(n);let l=Ht(),d=Wi();for(const b of t){const M=e.rr(b.metadata.name);b.document&&(l=l.add(M));const R=e.ur(b);R.setReadTime(e.cr(b.metadata.readTime)),d=d.insert(M,R)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),T=yield Nf(o,(b=r,Ki(hf(on.fromString(`__bundle__/docs/${b}`)))));var b;return o.persistence.runTransaction("Apply bundle documents","readwrite",b=>yC(b,m,d).next(M=>(m.apply(b),M)).next(M=>o.Bs.removeMatchingKeysForTargetId(b,T.targetId).next(()=>o.Bs.addMatchingKeys(b,l,T.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(b,M.nr,M.sr)).next(()=>M.nr)))}),Mw.apply(this,arguments)}function ZM(n,e){return Sw.apply(this,arguments)}function Sw(){return Sw=(0,ge.Z)(function*(n,e,t=Ht()){const r=yield Nf(n,Ki(aw(e.bundledQuery))),o=We(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const d=Mr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.qs.saveNamedQuery(l,e);const m=r.withResumeToken(Dr.EMPTY_BYTE_STRING,d);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(l,m).next(()=>o.Bs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.Bs.addMatchingKeys(l,t,r.targetId)).next(()=>o.qs.saveNamedQuery(l,e))})}),Sw.apply(this,arguments)}function vC(n,e){return`firestore_clients_${n}_${e}`}function wC(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Nw(n,e){return`firestore_targets_${n}_${e}`}class cy{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let l,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new Ie(o.error.code,o.error.message))),d?new cy(e,t,o.state,l):(Cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Du{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Ie(r.error.code,r.error.message))),l?new Du(e,r.state,o):(Cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=U0();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=ed(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return o?new dy(e,l):(Cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fg(t.clientId,t.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ts{constructor(){this.activeTargetIds=U0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xw{constructor(e,t,r,o,l){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Mn(Nt),this.started=!1,this.yr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=vC(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ts),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const l=e.getItem(vC(e.persistenceKey,o));if(l){const d=dy.ar(o,l);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Nw(this.persistenceKey,e));if(r){const o=Du.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nw(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Oe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ge.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(l){let d=er.ct;if(null!=l)try{const m=JSON.parse(l);lt("number"==typeof m),d=m}catch(m){Cr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==er.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Qr(l)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new cy(this.currentUser,e,t,r),l=wC(this.persistenceKey,this.currentUser,e);this.setItem(l,o.hr())}Cr(e){const t=wC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=Nw(this.persistenceKey,e),l=new Du(e,t,r);this.setItem(o,l.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return dy.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return cy.ar(new Ln(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return Du.ar(o,t)}br(e){return Fg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),l=this.Sr(r),d=[],m=[];return l.forEach(T=>{o.has(T)||d.push(T)}),o.forEach(T=>{l.has(T)||m.push(T)}),this.syncEngine.Wr(d,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=U0();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class hy{constructor(){this.Hr=new ts,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ts,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vg{Yr(e){}shutdown(){}}class TC{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fy=null;function Rw(){return null===fy?fy=268435456+Math.round(2147483648*Math.random()):fy++,"0x"+fy.toString(16)}const py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Oi="WebChannelConnection";class RA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,l){const d=Rw(),m=this.To(e,t);Oe("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const T={};return this.Eo(T,o,l),this.Ao(e,m,T,r).then(b=>(Oe("RestConnection",`Received RPC '${e}' ${d}: `,b),b),b=>{throw Ds("RestConnection",`RPC '${e}' ${d} failed with error: `,b,"url: ",m,"request:",r),b})}vo(e,t,r,o,l,d){return this.Io(e,t,r,o,l)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}To(e,t){return`${this.mo}/v1/${t}:${py[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const l=Rw();return new Promise((d,m)=>{const T=new qE;T.setWithCredentials(!0),T.listenOnce(jE.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case w_.NO_ERROR:const M=T.getResponseJson();Oe(Oi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(M)),d(M);break;case w_.TIMEOUT:Oe(Oi,`RPC '${e}' ${l} timed out`),m(new Ie(ae.DEADLINE_EXCEEDED,"Request time out"));break;case w_.HTTP_ERROR:const R=T.getStatus();if(Oe(Oi,`RPC '${e}' ${l} failed with status:`,R,"response text:",T.getResponseText()),R>0){let j=T.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const _e=function(Le){const Ue=Le.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Ue)>=0?Ue:ae.UNKNOWN}(X.status);m(new Ie(_e,X.message))}else m(new Ie(ae.UNKNOWN,"Server responded with status "+T.getStatus()))}else m(new Ie(ae.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Oe(Oi,`RPC '${e}' ${l} completed.`)}});const b=JSON.stringify(o);Oe(Oi,`RPC '${e}' ${l} sending request:`,o),T.send(t,"POST",b,r,15)})}Ro(e,t,r){const o=Rw(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=HE(),m=xD(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(T.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(T.xmlHttpFactory=new OM({})),this.Eo(T.initMessageHeaders,t,r),T.encodeInitMessageHeaders=!0;const M=l.join("");Oe(Oi,`Creating RPC '${e}' stream ${o}: ${M}`,T);const R=d.createWebChannel(M,T);let j=!1,X=!1;const _e=new EC({ro:Ue=>{X?Oe(Oi,`Not sending because RPC '${e}' stream ${o} is closed:`,Ue):(j||(Oe(Oi,`Opening RPC '${e}' stream ${o} transport.`),R.open(),j=!0),Oe(Oi,`RPC '${e}' stream ${o} sending:`,Ue),R.send(Ue))},oo:()=>R.close()}),Le=(Ue,wt,Rt)=>{Ue.listen(wt,At=>{try{Rt(At)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return Le(R,sg.EventType.OPEN,()=>{X||Oe(Oi,`RPC '${e}' stream ${o} transport opened.`)}),Le(R,sg.EventType.CLOSE,()=>{X||(X=!0,Oe(Oi,`RPC '${e}' stream ${o} transport closed`),_e.wo())}),Le(R,sg.EventType.ERROR,Ue=>{X||(X=!0,Ds(Oi,`RPC '${e}' stream ${o} transport errored:`,Ue),_e.wo(new Ie(ae.UNAVAILABLE,"The operation could not be completed")))}),Le(R,sg.EventType.MESSAGE,Ue=>{var wt;if(!X){const Rt=Ue.data[0];lt(!!Rt);const Ot=Rt.error||(null===(wt=Rt[0])||void 0===wt?void 0:wt.error);if(Ot){Oe(Oi,`RPC '${e}' stream ${o} received error:`,Ot);const $t=Ot.status;let ln=function(mm){const sx=Vr[mm];if(void 0!==sx)return OI(sx)}($t),go=Ot.message;void 0===ln&&(ln=ae.INTERNAL,go="Unknown error status: "+$t+" with message "+Ot.message),X=!0,_e.wo(new Ie(ln,go)),R.close()}else Oe(Oi,`RPC '${e}' stream ${o} received:`,Rt),_e._o(Rt)}}),Le(m,T_.STAT_EVENT,Ue=>{Ue.stat===E_.PROXY?Oe(Oi,`RPC '${e}' stream ${o} detected buffering proxy`):Ue.stat===E_.NOPROXY&&Oe(Oi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{_e.fo()},0),_e}}function gy(){return typeof window<"u"?window:null}function my(){return typeof document<"u"?document:null}function Ug(n){return new UM(n,!0)}class _y{constructor(e,t,r=1e3,o=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class IC{constructor(e,t,r,o,l,d,m,T){this.ii=e,this.$o=r,this.Oo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=T,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _y(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ge.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ge.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ge.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Ie(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,ge.Z)(function*(){e.state=0,e.start()}))}tu(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kA extends IC{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function BI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(T=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:ot(),o=e.targetChange.targetIds||[],l=function(T,b){return T.useProto3Json?(lt(void 0===b||"string"==typeof b),Dr.fromBase64String(b||"")):(lt(void 0===b||b instanceof Uint8Array),Dr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(T){const b=void 0===T.code?ae.UNKNOWN:OI(T.code);return new Ie(b,T.message||"")}(d);t=new X0(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=ya(n,r.document.name),l=Mr(r.document.updateTime),d=r.document.createTime?Mr(r.document.createTime):yt.min(),m=new gi({mapValue:{fields:r.document.fields}}),T=Pn.newFoundDocument(o,l,d,m);t=new Cg(r.targetIds||[],r.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const r=e.documentDelete,o=ya(n,r.document),l=r.readTime?Mr(r.readTime):yt.min(),d=Pn.newNoDocument(o,l);t=new Cg([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=ya(n,r.document);t=new Cg([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:o=0,unchangedNames:l}=r,d=new oA(o,l);t=new Q0(r.targetId,d)}}var T;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return yt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?yt.min():l.readTime?Mr(l.readTime):yt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Fn(this.serializer),t.addTarget=function(o,l){let d;const m=l.target;if(d=df(m)?{documents:HI(o,m)}:{query:ow(o,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=sA(o,l.resumeToken);const T=$_(o,l.expectedCount);null!==T&&(d.expectedCount=T)}else if(l.snapshotVersion.compareTo(yt.min())>0){d.readTime=hd(o,l.snapshotVersion.toTimestamp());const T=$_(o,l.expectedCount);null!==T&&(d.expectedCount=T)}return d}(this.serializer,e);const r=function Dg(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Fn(this.serializer),t.removeTarget=e,this.Wo(t)}}class CC extends IC{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function ZI(n,e){return n&&n.length>0?(lt(void 0!==e),n.map(t=>function(r,o){let l=Mr(r.updateTime?r.updateTime:o);return l.isEqual(yt.min())&&(l=Mr(o)),new j0(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.cu(r,t)}return lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fn(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ef(this.serializer,r))};this.Wo(t)}}class yy extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Ie(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Io(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(ae.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.vo(e,t,r,l,d,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(ae.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class bC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Cr(t),this.mu=!1):Oe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class DC{constructor(e,t,r,o,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(m=>{r.enqueueAndForget((0,ge.Z)(function*(){var T;wa(d)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,ge.Z)(function*(b){const M=We(b);M.vu.add(4),yield xf(M),M.bu.set("Unknown"),M.vu.delete(4),yield _d(M)}),function(b){return T.apply(this,arguments)})(d))}))}),this.bu=new bC(r,o)}}function _d(n){return vy.apply(this,arguments)}function vy(){return vy=(0,ge.Z)(function*(n){if(wa(n))for(const e of n.Ru)yield e(!0)}),vy.apply(this,arguments)}function xf(n){return wy.apply(this,arguments)}function wy(){return wy=(0,ge.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),wy.apply(this,arguments)}function Bg(n,e){const t=We(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Ey(t)?Hg(t):kf(t).Ko()&&Ow(t,e))}function Zg(n,e){const t=We(n),r=kf(t);t.Au.delete(e),r.Ko()&&Ty(t,e),0===t.Au.size&&(r.Ko()?r.jo():wa(t)&&t.bu.set("Unknown"))}function Ow(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kf(n).su(e)}function Ty(n,e){n.Vu.qt(e),kf(n).iu(e)}function Hg(n){n.Vu=new dd({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),kf(n).start(),n.bu.gu()}function Ey(n){return wa(n)&&!kf(n).Uo()&&n.Au.size>0}function wa(n){return 0===We(n).vu.size}function Iy(n){n.Vu=void 0}function LA(n){return Lw.apply(this,arguments)}function Lw(){return Lw=(0,ge.Z)(function*(n){n.Au.forEach((e,t)=>{Ow(n,e)})}),Lw.apply(this,arguments)}function PA(n,e){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,ge.Z)(function*(n,e){Iy(n),Ey(n)?(n.bu.Iu(e),Hg(n)):n.bu.set("Unknown")}),Pw.apply(this,arguments)}function AC(n,e,t){return jg.apply(this,arguments)}function jg(){return jg=(0,ge.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof X0&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(o,l){const d=l.cause;for(const m of l.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield qg(n,r)}else if(e instanceof Cg?n.Vu.Ht(e):e instanceof Q0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(yt.min()))try{const r=yield _C(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const d=o.Vu.ce(l);return d.targetChanges.forEach((m,T)=>{if(m.resumeToken.approximateByteSize()>0){const b=o.Au.get(T);b&&o.Au.set(T,b.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach((m,T)=>{const b=o.Au.get(m);if(!b)return;o.Au.set(m,b.withResumeToken(Dr.EMPTY_BYTE_STRING,b.snapshotVersion)),Ty(o,m);const M=new Ro(b.target,m,T,b.sequenceNumber);Ow(o,M)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),yield qg(n,r)}var r}),jg.apply(this,arguments)}function qg(n,e,t){return Fw.apply(this,arguments)}function Fw(){return Fw=(0,ge.Z)(function*(n,e,t){if(!ca(e))throw e;n.vu.add(1),yield xf(n),n.bu.set("Offline"),t||(t=()=>_C(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield _d(n)}))}),Fw.apply(this,arguments)}function Vw(n,e){return e().catch(t=>qg(n,t,e))}function yd(n){return Uw.apply(this,arguments)}function Uw(){return Uw=(0,ge.Z)(function*(n){const e=We(n),t=Au(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;MC(e);)try{const o=yield NA(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,SC(e,o)}catch(o){yield qg(e,o)}NC(e)&&Bw(e)}),Uw.apply(this,arguments)}function MC(n){return wa(n)&&n.Eu.length<10}function SC(n,e){n.Eu.push(e);const t=Au(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function NC(n){return wa(n)&&!Au(n).Uo()&&n.Eu.length>0}function Bw(n){Au(n).start()}function FA(n){return mi.apply(this,arguments)}function mi(){return mi=(0,ge.Z)(function*(n){Au(n).hu()}),mi.apply(this,arguments)}function Rf(n){return Zw.apply(this,arguments)}function Zw(){return Zw=(0,ge.Z)(function*(n){const e=Au(n);for(const t of n.Eu)e.uu(t.mutations)}),Zw.apply(this,arguments)}function VA(n,e,t){return xC.apply(this,arguments)}function xC(){return xC=(0,ge.Z)(function*(n,e,t){const r=n.Eu.shift(),o=z0.from(r,e,t);yield Vw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield yd(n)}),xC.apply(this,arguments)}function HM(n,e){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,ge.Z)(function*(n,e){var t;e&&Au(n).ou&&(yield(t=(0,ge.Z)(function*(r,o){if(kI(l=o.code)&&l!==ae.ABORTED){const d=r.Eu.shift();Au(r).Qo(),yield Vw(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield yd(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),NC(n)&&Bw(n)}),Cy.apply(this,arguments)}function by(n,e){return vd.apply(this,arguments)}function vd(){return vd=(0,ge.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=wa(t);t.vu.add(3),yield xf(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield _d(t)}),vd.apply(this,arguments)}function Hw(n,e){return $g.apply(this,arguments)}function $g(){return $g=(0,ge.Z)(function*(n,e){const t=We(n);e?(t.vu.delete(2),yield _d(t)):e||(t.vu.add(2),yield xf(t),t.bu.set("Unknown"))}),$g.apply(this,arguments)}function kf(n){return n.Su||(n.Su=function(e,t,r){const o=We(e);return o.fu(),new kA(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:LA.bind(null,n),ao:PA.bind(null,n),nu:AC.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Su.Qo(),Ey(n)?Hg(n):n.bu.set("Unknown")):(yield n.Su.stop(),Iy(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Au(n){return n.Du||(n.Du=function(e,t,r){const o=We(e);return o.fu(),new CC(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:FA.bind(null,n),ao:HM.bind(null,n),au:Rf.bind(null,n),cu:VA.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Du.Qo(),yield yd(n)):(yield n.Du.stop(),n.Eu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class jw{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,m=new jw(e,t,d,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Of(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),ca(n))return new Ie(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Lf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Je.comparator(t.key,r.key):(t,r)=>Je.comparator(t.key,r.key),this.keyedMap=po(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new Lf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Dy{constructor(){this.Cu=new Mn(Je.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ot():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class wd{constructor(e,t,r,o,l,d,m,T,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=T,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,o,l){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new wd(e,t,Lf.emptySet(t),d,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ff(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class UA{constructor(){this.Nu=void 0,this.listeners=[]}}class Ay{constructor(){this.queries=new pa(e=>F0(e),ff),this.onlineState="Unknown",this.ku=new Set}}function Gg(n,e){return RC.apply(this,arguments)}function RC(){return RC=(0,ge.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new UA),o)try{l.Nu=yield t.onListen(r)}catch(d){const m=Of(d,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&$w(t)}),RC.apply(this,arguments)}function My(n,e){return qw.apply(this,arguments)}function qw(){return qw=(0,ge.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),qw.apply(this,arguments)}function kC(n,e){const t=We(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.$u(o)&&(r=!0);d.Nu=o}}r&&$w(t)}function Pf(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function $w(n){n.ku.forEach(e=>{e.next()})}class Sy{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new wd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Gw{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class BA{constructor(e){this.serializer=e}rr(e){return ya(this.serializer,e)}ur(e){return e.metadata.exists?iw(this.serializer,e.document,!1):Pn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Mr(e)}}class ZA{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HA(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=on.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new BA(this.serializer);for(const o of e)if(o.metadata.queries){const l=r.rr(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||Ht()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,ge.Z)(function*(){const t=yield function xA(n,e,t,r){return Mw.apply(this,arguments)}(e.localStore,new BA(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield ZM(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function HA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class OC{constructor(e){this.key=e}}class LC{constructor(e){this.key=e}}class PC{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ht(),this.mutatedKeys=Ht(),this.tc=V0(e),this.ec=new Lf(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Dy,o=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const T="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,R)=>{const j=o.get(M),X=Tg(this.query,R)?R:null,_e=!!j&&this.mutatedKeys.has(j.key),Le=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let Ue=!1;j&&X?j.data.isEqual(X.data)?_e!==Le&&(r.track({type:3,doc:X}),Ue=!0):this.rc(j,X)||(r.track({type:2,doc:X}),Ue=!0,(T&&this.tc(X,T)>0||b&&this.tc(X,b)<0)&&(m=!0)):!j&&X?(r.track({type:0,doc:X}),Ue=!0):j&&!X&&(r.track({type:1,doc:j}),Ue=!0,(T||b)&&(m=!0)),Ue&&(X?(d=d.add(X),l=Le?l.add(M):l.delete(M)):(d=d.delete(M),l=l.delete(M)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const M="F"===this.query.limitType?d.last():d.first();d=d.delete(M.key),l=l.delete(M.key),r.track({type:1,doc:M})}return{ec:d,ic:r,zi:m,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((b,M)=>function(R,j){const X=_e=>{switch(_e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return X(R)-X(j)}(b.type,M.type)||this.tc(b.doc,M.doc)),this.oc(r);const d=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,T=m!==this.Xu;return this.Xu=m,0!==l.length||T?{snapshot:new wd(this.query,e.ec,o,l,e.mutatedKeys,0===m,T,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Dy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ht(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new LC(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new OC(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Ht();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return wd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class FC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VC{constructor(e){this.key=e,this.fc=!1}}class jA{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new pa(m=>F0(m),ff),this._c=new Map,this.mc=new Set,this.gc=new Mn(Je.comparator),this.yc=new Map,this.Ic=new ww,this.Tc={},this.Ec=new Map,this.Ac=Ul.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function UC(n,e){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,ge.Z)(function*(n,e){const t=_i(n);let r,o;const l=t.wc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.lc();else{const d=yield Nf(t.localStore,Ki(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield zw(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&Bg(t.remoteStore,d)}return o}),Ny.apply(this,arguments)}function zw(n,e,t,r,o){return Kw.apply(this,arguments)}function Kw(){return Kw=(0,ge.Z)(function*(n,e,t,r,o){n.Rc=(R,j,X)=>{return(_e=(0,ge.Z)(function*(Le,Ue,wt,Rt){let At=Ue.view.sc(wt);At.zi&&(At=yield Pg(Le.localStore,Ue.query,!1).then(({documents:ln})=>Ue.view.sc(ln,At)));const Ot=Rt&&Rt.targetChanges.get(Ue.targetId),$t=Ue.view.applyChanges(At,Le.isPrimaryClient,Ot);return ky(Le,Ue.targetId,$t.cc),$t.snapshot}),function(Le,Ue,wt,Rt){return _e.apply(this,arguments)})(n,R,j,X);var _e};const l=yield Pg(n.localStore,e,!0),d=new PC(e,l.ir),m=d.sc(l.documents),T=vf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),b=d.applyChanges(m,n.isPrimaryClient,T);ky(n,t,b.cc);const M=new FC(e,t,d);return n.wc.set(e,M),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),Kw.apply(this,arguments)}function BC(n,e){return Ww.apply(this,arguments)}function Ww(){return Ww=(0,ge.Z)(function*(n,e){const t=We(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(l=>!ff(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield va(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zg(t.remoteStore,r.targetId),zg(t,r.targetId)}).catch(Cl))):(zg(t,r.targetId),yield va(t.localStore,r.targetId,!0))}),Ww.apply(this,arguments)}function xy(){return xy=(0,ge.Z)(function*(n,e,t){const r=tT(n);try{const o=yield function(l,d){const m=We(l),T=Xn.now(),b=d.reduce((j,X)=>j.add(X.key),Ht());let M,R;return m.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=Wi(),_e=Ht();return m.Zi.getEntries(j,b).next(Le=>{X=Le,X.forEach((Ue,wt)=>{wt.isValidDocument()||(_e=_e.add(Ue))})}).next(()=>m.localDocuments.getOverlayedDocuments(j,X)).next(Le=>{M=Le;const Ue=[];for(const wt of d){const Rt=SI(wt,M.get(wt.key).overlayedDocument);null!=Rt&&Ue.push(new Iu(wt.key,Rt,fI(Rt.value.mapValue),Sn.exists(!0)))}return m.mutationQueue.addMutationBatch(j,T,Ue,d)}).next(Le=>{R=Le;const Ue=Le.applyToLocalDocumentSet(M,_e);return m.documentOverlayCache.saveOverlays(j,Le.batchId,Ue)})}).then(()=>({batchId:R.batchId,changes:TI(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,d,m){let T=l.Tc[l.currentUser.toKey()];T||(T=new Mn(Nt)),T=T.insert(d,m),l.Tc[l.currentUser.toKey()]=T}(r,o.batchId,t),yield Mu(r,o.changes),yield yd(r.remoteStore)}catch(o){const l=Of(o,"Failed to persist write");t.reject(l)}}),xy.apply(this,arguments)}function Yw(n,e){return Ry.apply(this,arguments)}function Ry(){return Ry=(0,ge.Z)(function*(n,e){const t=We(n);try{const r=yield function SA(n,e){const t=We(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((M,R)=>{const j=o.get(R);if(!j)return;m.push(t.Bs.removeMatchingKeys(l,M.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(l,M.addedDocuments,R)));let X=j.withSequenceNumber(l.currentSequenceNumber);var _e,Le,Ue;null!==e.targetMismatches.get(R)?X=X.withResumeToken(Dr.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):M.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(M.resumeToken,r)),o=o.insert(R,X),Le=X,Ue=M,(0===(_e=j).resumeToken.approximateByteSize()||Le.snapshotVersion.toMicroseconds()-_e.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(l,X))});let T=Wi(),b=Ht();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,M))}),m.push(yC(l,d,e.documentUpdates).next(M=>{T=M.nr,b=M.sr})),!r.isEqual(yt.min())){const M=t.Bs.getLastRemoteSnapshotVersion(l).next(R=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(M)}return re.waitFor(m).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,T,b)).next(()=>T)}).then(l=>(t.Ji=o,l))}(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.yc.get(l);d&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.fc=!0:o.modifiedDocuments.size>0?lt(d.fc):o.removedDocuments.size>0&&(lt(d.fc),d.fc=!1))}),yield Mu(t,r,e)}catch(r){yield Cl(r)}}),Ry.apply(this,arguments)}function HC(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((l,d)=>{const m=d.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(l,d){const m=We(l);m.onlineState=d;let T=!1;m.queries.forEach((b,M)=>{for(const R of M.listeners)R.Mu(d)&&(T=!0)}),T&&$w(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qA(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=(0,ge.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),l=o&&o.key;if(l){let d=new Mn(Je.comparator);d=d.insert(l,Pn.newNoDocument(l,yt.min()));const m=Ht().add(l),T=new yf(yt.min(),new Map,new Mn(Nt),d,m);yield Yw(r,T),r.gc=r.gc.remove(l),r.yc.delete(e),Oy(r)}else yield va(r.localStore,e,!1).then(()=>zg(r,e,t)).catch(Cl)}),jC.apply(this,arguments)}function qC(n,e){return $C.apply(this,arguments)}function $C(){return $C=(0,ge.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const o=yield function MA(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(d,m,T,b){const M=T.batch,R=M.keys();let j=re.resolve();return R.forEach(X=>{j=j.next(()=>b.getEntry(m,X)).next(_e=>{const Le=T.docVersions.get(X);lt(null!==Le),_e.version.compareTo(Le)<0&&(M.applyToRemoteDocument(_e,T),_e.isValidDocument()&&(_e.setReadTime(T.commitVersion),b.addEntry(_e)))})}),j.next(()=>d.mutationQueue.removeMutationBatch(m,M))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Ht();for(let T=0;T<d.mutationResults.length;++T)d.mutationResults[T].transformResults.length>0&&(m=m.add(d.batch.mutations[T].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);WC(t,r,null),KC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Mu(t,o)}catch(o){yield Cl(o)}}),$C.apply(this,arguments)}function jM(n,e,t){return GC.apply(this,arguments)}function GC(){return GC=(0,ge.Z)(function*(n,e,t){const r=We(n);try{const o=yield function(l,d){const m=We(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let b;return m.mutationQueue.lookupMutationBatch(T,d).next(M=>(lt(null!==M),b=M.keys(),m.mutationQueue.removeMutationBatch(T,M))).next(()=>m.mutationQueue.performConsistencyCheck(T)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(T,b,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,b)).next(()=>m.localDocuments.getDocuments(T,b))})}(r.localStore,e);WC(r,e,t),KC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Mu(r,o)}catch(o){yield Cl(o)}}),GC.apply(this,arguments)}function zC(){return zC=(0,ge.Z)(function*(n,e){const t=We(n);wa(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=We(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=Of(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),zC.apply(this,arguments)}function KC(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function WC(n,e,t){const r=We(n);let o=r.Tc[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function zg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||$A(n,r)})}function $A(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Zg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Oy(n))}function ky(n,e,t){for(const r of t)r instanceof OC?(n.Ic.addReference(r.key,e),Jw(n,r)):r instanceof LC?(Oe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||$A(n,r.key)):ot()}function Jw(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Oe("SyncEngine","New document in limbo: "+t),n.mc.add(r),Oy(n))}function Oy(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Je(on.fromString(e)),r=n.Ac.next();n.yc.set(r,new VC(t)),n.gc=n.gc.insert(t,r),Bg(n.remoteStore,new Ro(Ki(hf(t.path)),r,"TargetPurposeLimboResolution",er.ct))}}function Mu(n,e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,ge.Z)(function*(n,e,t){const r=We(n),o=[],l=[],d=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,T)=>{d.push(r.Rc(T,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(T.targetId,b?.fromCache?"not-current":"current"),b){o.push(b);const M=Iw.Li(T.targetId,b);l.push(M)}}))}),yield Promise.all(d),r.dc.nu(o),yield(m=(0,ge.Z)(function*(T,b){const M=We(T);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>re.forEach(b,j=>re.forEach(j.Fi,X=>M.persistence.referenceDelegate.addReference(R,j.targetId,X)).next(()=>re.forEach(j.Bi,X=>M.persistence.referenceDelegate.removeReference(R,j.targetId,X)))))}catch(R){if(!ca(R))throw R;Oe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of b){const j=R.targetId;if(!R.fromCache){const X=M.Ji.get(j),Le=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);M.Ji=M.Ji.insert(j,Le)}}}),function(T,b){return m.apply(this,arguments)})(r.localStore,l))}),Ff.apply(this,arguments)}function GA(n,e){return YC.apply(this,arguments)}function YC(){return YC=(0,ge.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=yield mC(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(d=>{d.forEach(m=>{m.reject(new Ie(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Mu(t,r.er)}var o}),YC.apply(this,arguments)}function $M(n,e){const t=We(n),r=t.yc.get(e);if(r&&r.fc)return Ht().add(r.key);{let o=Ht();const l=t._c.get(e);if(!l)return o;for(const d of l){const m=t.wc.get(d);o=o.unionWith(m.view.nc)}return o}}function GM(n,e){return Ly.apply(this,arguments)}function Ly(){return Ly=(0,ge.Z)(function*(n,e){const t=We(n),r=yield Pg(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&ky(t,e.targetId,o.cc),o}),Ly.apply(this,arguments)}function zA(n,e){return Qw.apply(this,arguments)}function Qw(){return Qw=(0,ge.Z)(function*(n,e){const t=We(n);return Dw(t.localStore,e).then(r=>Mu(t,r))}),Qw.apply(this,arguments)}function KA(n,e,t,r){return JC.apply(this,arguments)}function JC(){return JC=(0,ge.Z)(function*(n,e,t,r){const o=We(n),l=yield function(d,m){const T=We(d),b=We(T.mutationQueue);return T.persistence.runTransaction("Lookup mutation documents","readonly",M=>b.Sn(M,m).next(R=>R?T.localDocuments.getDocuments(M,R):re.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield yd(o.remoteStore):"acknowledged"===t||"rejected"===t?(WC(o,e,r||null),KC(o,e),m=e,We(We(o.localStore).mutationQueue).Cn(m)):ot(),yield Mu(o,l)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),JC.apply(this,arguments)}function Py(){return Py=(0,ge.Z)(function*(n,e){const t=We(n);if(_i(t),tT(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Xw(t,r.toArray());t.vc=!0,yield Hw(t.remoteStore,!0);for(const l of o)Bg(t.remoteStore,l)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(zg(t,d),va(t.localStore,d,!0))),Zg(t.remoteStore,d)}),yield o,yield Xw(t,r),function(l){const d=We(l);d.yc.forEach((m,T)=>{Zg(d.remoteStore,T)}),d.Ic.Ts(),d.yc=new Map,d.gc=new Mn(Je.comparator)}(t),t.vc=!1,yield Hw(t.remoteStore,!1)}}),Py.apply(this,arguments)}function Xw(n,e,t){return QC.apply(this,arguments)}function QC(){return QC=(0,ge.Z)(function*(n,e,t){const r=We(n),o=[],l=[];for(const d of e){let m;const T=r._c.get(d);if(T&&0!==T.length){m=yield Nf(r.localStore,Ki(T[0]));for(const b of T){const M=r.wc.get(b),R=yield GM(r,M);R.snapshot&&l.push(R.snapshot)}}else{const b=yield bw(r.localStore,d);m=yield Nf(r.localStore,b),yield zw(r,ns(b),d,!1,m.resumeToken)}o.push(m)}return r.dc.nu(l),o}),QC.apply(this,arguments)}function ns(n){return vI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YA(n){const e=We(n);return We(We(e.localStore).persistence).$i()}function eT(n,e,t,r){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,ge.Z)(function*(n,e,t,r){const o=We(n);if(o.vc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const l=o._c.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield Dw(o.localStore,wI(l[0])),m=yf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Dr.EMPTY_BYTE_STRING);yield Mu(o,d,m);break}case"rejected":yield va(o.localStore,e,!0),zg(o,e,r);break;default:ot()}}),Fy.apply(this,arguments)}function JA(n,e,t){return XC.apply(this,arguments)}function XC(){return XC=(0,ge.Z)(function*(n,e,t){const r=_i(n);if(r.vc){for(const o of e){if(r._c.has(o)){Oe("SyncEngine","Adding an already active target "+o);continue}const l=yield bw(r.localStore,o),d=yield Nf(r.localStore,l);yield zw(r,ns(l),d.targetId,!1,d.resumeToken),Bg(r.remoteStore,d)}for(const o of t)r._c.has(o)&&(yield va(r.localStore,o,!1).then(()=>{Zg(r.remoteStore,o),zg(r,o)}).catch(Cl))}}),XC.apply(this,arguments)}function _i(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$M.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qA.bind(null,e),e.dc.nu=kC.bind(null,e.eventManager),e.dc.Pc=Pf.bind(null,e.eventManager),e}function tT(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jM.bind(null,e),e}class Kg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.serializer=Ug(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gC(this.persistence,new pC,e.initialUser,this.serializer)}createPersistence(e){return new iy(oy.zs,this.serializer)}createSharedClientState(e){return new hy}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wg extends Kg{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield tT(r.Vc.syncEngine),yield yd(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return gC(this.persistence,new pC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ty(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new D_(t,this.persistence);return new Qc(e.asyncQueue,r)}createPersistence(e){const t=fC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new ay(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,gy(),my(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hy}}class rT extends Wg{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof xw&&(r.sharedClientState.syncEngine={jr:KA.bind(null,o),zr:eT.bind(null,o),Wr:JA.bind(null,o),$i:YA.bind(null,o),Qr:zA.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var l=(0,ge.Z)(function*(d){yield function WA(n,e){return Py.apply(this,arguments)}(r.Vc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const t=gy();if(!xw.D(t))throw new Ie(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=fC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Td{initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>HC(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=GA.bind(null,r.syncEngine),yield Hw(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ay}createDatastore(e){const t=Ug(e.databaseInfo.databaseId),r=new RA(e.databaseInfo);return new yy(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>HC(this.syncEngine,m,0),d=TC.D()?new TC:new Vg,new DC(t,r,o,l,d);var t,r,o,l,d}createSyncEngine(e,t){return function(r,o,l,d,m,T,b){const M=new jA(r,o,l,d,m,T);return b&&(M.vc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const r=We(t);Oe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield xf(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eb(n,e=10240){let t=0;return{read:()=>(0,ge.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tb{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new cr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const l=yield e.$c(o);return new Gw(JSON.parse(l),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ge.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nb{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ie(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ge.Z)(function*(l,d){const m=We(l),T=Fn(m.serializer)+"/documents",b={documents:d.map(X=>_a(m.serializer,X))},M=yield m.vo("BatchGetDocuments",T,b,d.length),R=new Map;M.forEach(X=>{const _e=function uA(n,e){return"found"in e?function(t,r){lt(!!r.found);const o=ya(t,r.found.name),l=Mr(r.found.updateTime),d=r.found.createTime?Mr(r.found.createTime):yt.min(),m=new gi({mapValue:{fields:r.found.fields}});return Pn.newFoundDocument(o,l,d,m)}(n,e):"missing"in e?function(t,r){lt(!!r.missing),lt(!!r.readTime);const o=ya(t,r.missing),l=Mr(r.readTime);return Pn.newNoDocument(o,l)}(n,e):ot()}(m.serializer,X);R.set(_e.key.toString(),_e)});const j=[];return d.forEach(X=>{const _e=R.get(X.toString());lt(!!_e),j.push(_e)}),j}),function(l,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Je.fromPath(o);e.mutations.push(new $0(l,e.precondition(l)))}),yield(r=(0,ge.Z)(function*(o,l){const d=We(o),m=Fn(d.serializer)+"/documents",T={writes:l.map(b=>Ef(d.serializer,b))};yield d.Io("Commit",m,T)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=yt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ie(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yt.min())?Sn.exists(!1):Sn.updateTime(t):Sn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new Ie(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sn.updateTime(t)}return Sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rb{constructor(e,t,r,o,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=l,this.Bc=r.maxAttempts,this.qo=new _y(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ge.Z)(function*(){const t=new nb(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Uc(l)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!Xc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!kI(t)}return!1}}class XA{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ln.UNAUTHENTICATED,this.clientId=WE.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ge.Z)(function*(m){Oe("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Oe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Of(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Jg(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ge.Z)(function*(l){r.isEqual(l)||(yield mC(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),iT.apply(this,arguments)}function Qg(n,e){return Ta.apply(this,arguments)}function Ta(){return Ta=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Xg(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>by(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>by(e.remoteStore,l)),n._onlineComponents=e}),Ta.apply(this,arguments)}function oT(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Xg(n){return em.apply(this,arguments)}function em(){return em=(0,ge.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!oT(t))throw t;Ds("Error using user provided cache. Falling back to memory cache: "+t),yield Jg(n,new Kg)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield Jg(n,new Kg);return n._offlineComponents}),em.apply(this,arguments)}function Vy(n){return ib.apply(this,arguments)}function ib(){return ib=(0,ge.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qg(n,n._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield Qg(n,new Td))),n._onlineComponents}),ib.apply(this,arguments)}function sT(n){return Xg(n).then(e=>e.persistence)}function Uy(n){return Xg(n).then(e=>e.localStore)}function ob(n){return Vy(n).then(e=>e.remoteStore)}function aT(n){return Vy(n).then(e=>e.syncEngine)}function Ed(n){return ab.apply(this,arguments)}function ab(){return ab=(0,ge.Z)(function*(n){const e=yield Vy(n),t=e.eventManager;return t.onListen=UC.bind(null,e.syncEngine),t.onUnlisten=BC.bind(null,e.syncEngine),t}),ab.apply(this,arguments)}function t1(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(o,l,d,m,T){const b=new Yg({next:R=>{l.enqueueAndForget(()=>My(o,M));const j=R.docs.has(d);!j&&R.fromCache?T.reject(new Ie(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&R.fromCache&&m&&"server"===m.source?T.reject(new Ie(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(R)},error:R=>T.reject(R)}),M=new Sy(hf(d.path),b,{includeMetadataChanges:!0,Ku:!0});return Gg(o,M)}(yield Ed(n),n.asyncQueue,e,t,r)})),r.promise}function lT(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(o,l,d,m,T){const b=new Yg({next:R=>{l.enqueueAndForget(()=>My(o,M)),R.fromCache&&"server"===m.source?T.reject(new Ie(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(R)},error:R=>T.reject(R)}),M=new Sy(d,b,{includeMetadataChanges:!0,Ku:!0});return Gg(o,M)}(yield Ed(n),n.asyncQueue,e,t,r)})),r.promise}function Id(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const tm=new Map;function By(n,e,t){if(!t)throw new Ie(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cT(n,e,t,r){if(!0===e&&!0===r)throw new Ie(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fb(n){if(!Je.isDocumentKey(n))throw new Ie(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pb(n){if(Je.isDocumentKey(n))throw new Ie(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dT(n);throw new Ie(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gb(n,e){if(e<=0)throw new Ie(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class mb{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Id(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Ie(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ie(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ie(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zy{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kD;switch(t.type){case"firstParty":return new lg(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ie(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tm.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),tm.delete(e),t.terminate())}(this),Promise.resolve()}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class ei{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ei(this.firestore,e,this._query)}}class Ea extends ei{constructor(e,t,r){super(e,t,hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Je(e))}withConverter(e){return new Ea(this.firestore,e,this._path)}}function _b(n,e,...t){if(n=(0,nn.m9)(n),By("collection","path",e),n instanceof Zy){const r=on.fromString(e,...t);return pb(r),new Ea(n,null,r)}{if(!(n instanceof tr||n instanceof Ea))throw new Ie(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return pb(r),new Ea(n.firestore,null,r)}}function hT(n,e,...t){if(n=(0,nn.m9)(n),1===arguments.length&&(e=WE.A()),By("doc","path",e),n instanceof Zy){const r=on.fromString(e,...t);return fb(r),new tr(n,null,new Je(r))}{if(!(n instanceof tr||n instanceof Ea))throw new Ie(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return fb(r),new tr(n.firestore,n instanceof Ea?n.converter:null,new Je(r))}}function o1(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),(n instanceof tr||n instanceof Ea)&&(e instanceof tr||e instanceof Ea)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yb(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),n instanceof ei&&e instanceof ei&&n.firestore===e.firestore&&ff(n._query,e._query)&&n.converter===e.converter}class zM{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _y(this,"async_queue_retry"),this.Xc=()=>{const t=my();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=my();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=my();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new cr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!ca(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=jw.createAndSchedule(this,e,t,r,l=>this.na(l));return this.zc.push(o),o}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function vb(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class s1{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Gn extends Zy{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new zM,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fT(this),this._firestoreClient.terminate()}}function Nn(n){return n._firestoreClient||fT(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fT(n){var e,t,r;const o=n._freezeSettings(),l=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new cI(n._databaseId,m,n._persistenceKey,(b=o).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,Id(b.experimentalLongPollingOptions),b.useFetchStreams));var m,b;n._firestoreClient=new XA(n._authCredentials,n._appCheckCredentials,n._queue,l),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function wb(n,e,t){const r=new cr;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield Jg(n,t),yield Qg(n,e),r.resolve()}catch(o){const l=o;if(!oT(l))throw l;Ds("Error enabling indexeddb cache. Falling back to memory cache: "+l),r.reject(l)}})).then(()=>r.promise)}function Eb(n){if(n._initialized||n._terminated)throw new Ie(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia(Dr.fromBase64String(e))}catch(t){throw new Ie(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ia(Dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ca{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hl{constructor(e){this._methodName=e}}class qy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}const c1=/^__.*__$/;class Ib{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Iu(e,this.data,this.fieldMask,t,this.fieldTransforms):new cd(e,this.data,t,this.fieldTransforms)}}class $y{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Iu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class rm{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(d1(this.ca)&&c1.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class yT{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ug(e)}ya(e,t,r,o=!1){return new rm({ca:e,methodName:t,ga:r,path:dr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cd(n){const e=n._freezeSettings(),t=Ug(n._databaseId);return new yT(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gy(n,e,t,r,o,l={}){const d=n.ya(l.merge||l.mergeFields?2:0,e,t,o);Jy("Data must be an object, but it was:",d,r);const m=Yy(r,d);let T,b;if(l.merge)T=new fo(d.fieldMask),b=d.fieldTransforms;else if(l.mergeFields){const M=[];for(const R of l.mergeFields){const j=im(e,R,t);if(!d.contains(j))throw new Ie(ae.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);ET(M,j)||M.push(j)}T=new fo(M),b=d.fieldTransforms.filter(R=>T.covers(R.field))}else T=null,b=d.fieldTransforms;return new Ib(new gi(m),T,b)}class zy extends Hl{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zy}}function h1(n,e,t){return new rm({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vT extends Hl{_toFieldTransform(e){return new Eg(e.path,new pf)}isEqual(e){return e instanceof vT}}class f1 extends Hl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=h1(this,e,!0),r=this.pa.map(l=>bd(l,t)),o=new Ol(r);return new Eg(e.path,o)}isEqual(e){return this===e}}class p1 extends Hl{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=h1(this,e,!0),r=this.pa.map(l=>bd(l,t)),o=new ma(r);return new Eg(e.path,o)}isEqual(e){return this===e}}class g1 extends Hl{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ud(e.serializer,Z_(e.serializer,this.Ia));return new Eg(e.path,t)}isEqual(e){return this===e}}function Ky(n,e,t,r){const o=n.ya(1,e,t);Jy("Data must be an object, but it was:",o,r);const l=[],d=gi.empty();ha(r,(T,b)=>{const M=Qy(e,T,t);b=(0,nn.m9)(b);const R=o.da(M);if(b instanceof zy)l.push(M);else{const j=bd(b,R);null!=j&&(l.push(M),d.set(M,j))}});const m=new fo(l);return new $y(d,m,o.fieldTransforms)}function Wy(n,e,t,r,o,l){const d=n.ya(1,e,t),m=[im(e,r,t)],T=[o];if(l.length%2!=0)throw new Ie(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<l.length;j+=2)m.push(im(e,l[j])),T.push(l[j+1]);const b=[],M=gi.empty();for(let j=m.length-1;j>=0;--j)if(!ET(b,m[j])){const X=m[j];let _e=T[j];_e=(0,nn.m9)(_e);const Le=d.da(X);if(_e instanceof zy)b.push(X);else{const Ue=bd(_e,Le);null!=Ue&&(b.push(X),M.set(X,Ue))}}const R=new fo(b);return new $y(M,R,d.fieldTransforms)}function m1(n,e,t,r=!1){return bd(t,n.ya(r?4:3,e))}function bd(n,e){if(wT(n=(0,nn.m9)(n)))return Jy("Unsupported field value:",e,n),Yy(n,e);if(n instanceof Hl)return function(t,r){if(!d1(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const d of t){let m=bd(d,r.wa(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Z_(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Xn.fromDate(t);return{timestampValue:hd(r.serializer,o)}}if(t instanceof Xn){const o=new Xn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:hd(r.serializer,o)}}if(t instanceof qy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ia)return{bytesValue:sA(r.serializer,t._byteString)};if(t instanceof tr){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nw(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${dT(t)}`)}(n,e)}function Yy(n,e){const t={};return gg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(n,(r,o)=>{const l=bd(o,e.ha(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function wT(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xn||n instanceof qy||n instanceof Ia||n instanceof tr||n instanceof Hl)}function Jy(n,e,t){if(!wT(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function im(n,e,t){if((e=(0,nn.m9)(e))instanceof Ca)return e._internalPath;if("string"==typeof e)return Qy(n,e);throw Xy("Field path arguments must be of type string or ",n,!1,void 0,t)}const TT=new RegExp("[~\\*/\\[\\]]");function Qy(n,e,t){if(e.search(TT)>=0)throw Xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ca(...e.split("."))._internalPath}catch{throw Xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xy(n,e,t,r,o){const l=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let T="";return(l||d)&&(T+=" (found",l&&(T+=` in field ${r}`),d&&(T+=` in document ${o}`),T+=")"),new Ie(ae.INVALID_ARGUMENT,m+n+T)}function ET(n,e){return n.some(t=>t.isEqual(e))}class Vf{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ev("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JM extends Vf{data(){return super.data()}}function ev(n,e){return"string"==typeof e?Qy(n,e):e instanceof Ca?e._internalPath:e._delegate._internalPath}function om(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cb{}class sm extends Cb{}function Dd(n,e,...t){let r=[];e instanceof Cb&&r.push(e),r=r.concat(t),function(o){const l=o.filter(m=>m instanceof am).length,d=o.filter(m=>m instanceof tv).length;if(l>1||l>0&&d>0)throw new Ie(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class tv extends sm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new tv(e,t,r)}_apply(e){const t=this._parse(e);return p(e._query,t),new ei(e.firestore,e.converter,V_(e._query,t))}_parse(e){const t=Cd(e.firestore);return function(o,l,d,m,T,b,M){let R;if(T.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ie(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){h(M,b);const j=[];for(const X of M)j.push(c(m,o,X));R={arrayValue:{values:j}}}else R=c(m,o,M)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||h(M,b),R=m1(d,"where",M,"in"===b||"not-in"===b);return Xt.create(T,b,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class am extends Cb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new am(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let l=r;const d=o.getFlattenedFilters();for(const m of d)p(l,m),l=V_(l,m)}(e._query,t),new ei(e.firestore,e.converter,V_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bb extends sm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bb(e,t)}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Ie(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ie(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new od(o,l);return function(m,T){if(null===P0(m)){const b=hr(m);null!==b&&_(0,b,T.field)}}(r,d),d}(e._query,this._field,this._direction);return new ei(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new xl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class IT extends sm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new IT(e,t,r)}_apply(e){return new ei(e.firestore,e.converter,U_(e._query,this._limit,this._limitType))}}class CT extends sm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new CT(e,t,r)}_apply(e){const t=u(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(o=t,new xl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class bT extends sm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bT(e,t,r)}_apply(e){const t=u(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(o=t,new xl((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function u(n,e,t,r){if(t[0]=(0,nn.m9)(t[0]),t[0]instanceof Vf)return function(o,l,d,m,T){if(!m)throw new Ie(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const b=[];for(const M of ad(o))if(M.field.isKeyField())b.push(id(l,m.key));else{const R=m.data.field(M.field);if(M_(R))throw new Ie(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const j=M.field.canonicalString();throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}b.push(R)}return new fa(b,T)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Cd(n.firestore);return function(l,d,m,T,b,M){const R=l.explicitOrderBy;if(b.length>R.length)throw new Ie(ae.INVALID_ARGUMENT,`Too many arguments provided to ${T}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let X=0;X<b.length;X++){const _e=b[X];if(R[X].field.isKeyField()){if("string"!=typeof _e)throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${T}(), but got a ${typeof _e}`);if(!F_(l)&&-1!==_e.indexOf("/"))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${T}() must be a plain document ID, but '${_e}' contains a slash.`);const Le=l.path.child(on.fromString(_e));if(!Je.isDocumentKey(Le))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${T}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const Ue=new Je(Le);j.push(id(d,Ue))}else{const Le=m1(m,T,_e);j.push(Le)}}return new fa(j,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function c(n,e,t){if("string"==typeof(t=(0,nn.m9)(t))){if(""===t)throw new Ie(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F_(e)&&-1!==t.indexOf("/"))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Je.isDocumentKey(r))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return id(n,new Je(r))}if(t instanceof tr)return id(n,t._key);throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dT(t)}.`)}function h(n,e){if(!Array.isArray(n)||0===n.length)throw new Ie(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p(n,e){if(e.isInequality()){const r=hr(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const l=P0(n);null!==l&&_(0,o,l)}const t=function(r,o){for(const l of r)for(const d of l.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ie(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _(n,e,t){if(!t.isEqual(e))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class I{convertValue(e,t="none"){switch(Tu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ha(e,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new qy(Ar(e.latitude),Ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=af(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mg(e));default:return null}}convertTimestamp(e){const t=As(e);return new Xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);lt(If(r));const o=new Dl(r.get(1),r.get(3)),l=new Je(r.popFirst(5));return o.isEqual(t)||Cr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function A(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class x extends I{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}class Ze{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class st extends Vf{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new we(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class we extends st{data(e={}){return super.data(e)}}class vt{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ze(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new we(this._firestore,this._userDataWriter,r.key,r,new Ze(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new we(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ze(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new we(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ze(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let T=-1,b=-1;return 0!==d.type&&(T=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),b=l.indexOf(d.doc.key)),{type:Jt(d.type),doc:m,oldIndex:T,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jt(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function gn(n,e){return n instanceof st&&e instanceof st?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof vt&&e instanceof vt&&n._firestore===e._firestore&&yb(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Su extends I{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function tS(n,e,t){n=en(n,tr);const r=en(n.firestore,Gn),o=A(n.converter,e,t);return nv(r,[Gy(Cd(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Sn.none())])}function nS(n,e,t,...r){n=en(n,tr);const o=en(n.firestore,Gn),l=Cd(o);let d;return d="string"==typeof(e=(0,nn.m9)(e))||e instanceof Ca?Wy(l,"updateDoc",n._key,e,t,r):Ky(l,"updateDoc",n._key,e),nv(o,[d.toMutation(n._key,Sn.exists(!0))])}function rS(n,...e){var t,r,o;n=(0,nn.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||vb(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(vb(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[d+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let T,b,M;if(n instanceof tr)b=en(n.firestore,Gn),M=hf(n._key.path),T={next:R=>{e[d]&&e[d](w1(b,n,R))},error:e[d+1],complete:e[d+2]};else{const R=en(n,ei);b=en(R.firestore,Gn),M=R._query;const j=new Su(b);T={next:X=>{e[d]&&e[d](new vt(b,j,R,X))},error:e[d+1],complete:e[d+2]},om(n._query)}return function(R,j,X,_e){const Le=new Yg(_e),Ue=new Sy(j,Le,X);return R.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return Gg(yield Ed(R),Ue)})),()=>{Le.Dc(),R.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return My(yield Ed(R),Ue)}))}}(Nn(b),M,m,T)}function nv(n,e){return function(t,r){const o=new cr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function ZC(n,e,t){return xy.apply(this,arguments)}(yield aT(t),r,o)})),o.promise}(Nn(n),e)}function w1(n,e,t){const r=t.docs.get(e._key),o=new Su(n);return new st(n,o,e._key,r,new Ze(t.hasPendingWrites,t.fromCache),e.converter)}const Dx={maxAttempts:5};class iS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cd(e)}set(e,t,r){this._verifyNotCommitted();const o=Uf(e,this._firestore),l=A(o.converter,t,r),d=Gy(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Sn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Uf(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Ca?Wy(this._dataReader,"WriteBatch.update",l._key,t,r,o):Ky(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uf(e,this._firestore);return this._mutations=this._mutations.concat(new mf(t._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uf(n,e){if((n=(0,nn.m9)(n)).firestore!==e)throw new Ie(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ax extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cd(e)}get(e){const t=Uf(e,this._firestore),r=new x(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ot();const l=o[0];if(l.isFoundDocument())return new Vf(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Vf(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const o=Uf(e,this._firestore),l=A(o.converter,t,r),d=Gy(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const l=Uf(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Ca?Wy(this._dataReader,"Transaction.update",l._key,t,r,o):Ky(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Uf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uf(e,this._firestore),r=new Su(this._firestore);return super.get(e).then(o=>new st(this._firestore,r,t._key,o._document,new Ze(!1,!1),t.converter))}}function T1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sS(){if(typeof Uint8Array>"u")throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function aS(){if(!function YD(){return typeof atob<"u"}())throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Qh=fu.SDK_VERSION,(0,fu._registerComponent)(new jm.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const l=t.getProvider("app").getImmediate(),d=new Gn(new f0(t.getProvider("auth-internal")),new KE(t.getProvider("app-check-internal")),function(m,T){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ie(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(m.options.projectId,T)}(l,r),l);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,fu.registerVersion)(I_,"3.13.0",n),(0,fu.registerVersion)(I_,"3.13.0","esm2017")}();class DT{constructor(e){this._delegate=e}static fromBase64String(e){return aS(),new DT(Ia.fromBase64String(e))}static fromUint8Array(e){return sS(),new DT(Ia.fromUint8Array(e))}toBase64(){return aS(),this._delegate.toBase64()}toUint8Array(){return sS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function E1(n){return function Px(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Fx{enableIndexedDbPersistence(e,t){return function pT(n,e){Eb(n=en(n,Gn));const t=Nn(n);if(t._uninitializedComponentsProvider)throw new Ie(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Ds("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new Td;return wb(t,o,new Wg(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function gT(n){Eb(n=en(n,Gn));const e=Nn(n);if(e._uninitializedComponentsProvider)throw new Ie(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Ds("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Td;return wb(e,r,new rT(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mT(n){if(n._initialized&&!n._terminated)throw new Ie(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(t=(0,ge.Z)(function*(r){if(!ho.D())return Promise.resolve();const o=r+"main";yield ho.delete(o)}),function(r){return t.apply(this,arguments)})(fC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class uS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ds("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function r1(n,e,t,r={}){var o;const l=(n=en(n,Zy))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==d&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),r.mockUserToken){let m,T;if("string"==typeof r.mockUserToken)m=r.mockUserToken,T=Ln.MOCK_USER;else{m=(0,nn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new Ie(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ln(b)}n._authCredentials=new OD(new GE(m,T))}}(this._delegate,e,t,r)}enableNetwork(){return function jy(n){return function ub(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield sT(n),t=yield ob(n);return e.setNetworkEnabled(!0),function(r){const o=We(r);return o.vu.delete(0),_d(o)}(t)}))}(Nn(n=en(n,Gn)))}(this._delegate)}disableNetwork(){return function WM(n){return function e1(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield sT(n),t=yield ob(n);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(o){const l=We(o);l.vu.add(0),yield xf(l),l.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Nn(n=en(n,Gn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,cT("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _T(n){return function(e){const t=new cr;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function qM(n,e){return zC.apply(this,arguments)}(yield aT(e),t)})),t.promise}(Nn(n=en(n,Gn)))}(this._delegate)}onSnapshotsInSync(e){return function _x(n,e){return function cb(n,e){const t=new Yg(e);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Ed(n),o=t,We(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Ed(n),o=t,void We(r).ku.delete(o);var r,o}))}}(Nn(n=en(n,Gn)),vb(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rv(this,_b(this._delegate,e))}catch(t){throw ko(t,"collection()","Firestore.collection()")}}doc(e){try{return new ba(this,hT(this._delegate,e))}catch(t){throw ko(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Oo(this,function i1(n,e){if(n=en(n,Zy),By("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ie(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ei(n,null,(t=e,new xl(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ko(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Mx(n,e,t){n=en(n,Gn);const r=Object.assign(Object.assign({},Dx),t);return function(o){if(o.maxAttempts<1)throw new Ie(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,l,d){const m=new cr;return o.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const T=yield function sb(n){return Vy(n).then(e=>e.datastore)}(o);new rb(o.asyncQueue,T,d,l,m).run()})),m.promise}(Nn(n),o=>e(new Ax(n,o)),r)}(this._delegate,t=>e(new lS(this,t)))}batch(){return Nn(this._delegate),new cS(new iS(this._delegate,e=>nv(this._delegate,e)))}loadBundle(e){return function YM(n,e){const t=Nn(n=en(n,Gn)),r=new s1;return function n1(n,e,t,r){const o=function(l,d){let m;return m="string"==typeof l?LI().encode(l):l,T=function(T,b){if(T instanceof Uint8Array)return eb(T,b);if(T instanceof ArrayBuffer)return eb(new Uint8Array(T),b);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new tb(T,d);var T}(t,Ug(e));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function nT(n,e,t){const r=We(n);var o;(o=(0,ge.Z)(function*(l,d,m){try{const T=yield d.getMetadata();if(yield function(j,X){const _e=We(j),Le=Mr(X.createTime);return _e.persistence.runTransaction("hasNewerBundle","readonly",Ue=>_e.qs.getBundleMetadata(Ue,X.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Le)>=0)}(l.localStore,T))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(j=T).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);m._updateProgress(HA(T));const b=new ZA(T,l.localStore,d.serializer);let M=yield d.bc();for(;M;){const j=yield b.zu(M);j&&m._updateProgress(j),M=yield d.bc()}const R=yield b.complete();return yield Mu(l,R.Ju,void 0),yield function(j,X){const _e=We(j);return _e.persistence.runTransaction("Save bundle","readwrite",Le=>_e.qs.saveBundleMetadata(Le,X))}(l.localStore,T),m._completeWith(R.progress),Promise.resolve(R.Hu)}catch(T){return Ds("SyncEngine",`Loading bundle failed with ${T}`),m._failWith(T),Promise.resolve(new Set)}var j}),function(l,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield aT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Tb(n,e){return function db(n,e){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(t,r){const o=We(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.qs.getNamedQuery(l,r))}(yield Uy(n),e)}))}(Nn(n=en(n,Gn)),e).then(t=>t?new ei(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Oo(this,t):null)}}class Db extends I{constructor(e){super(),this.firestore=e}convertBytes(e){return new DT(new Ia(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ba.forKey(t,this.firestore,null)}}class lS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Db(e)}get(e){const t=lm(e);return this._delegate.get(t).then(r=>new AT(this._firestore,new st(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=lm(e);return r?(T1("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=lm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=lm(e);return this._delegate.delete(t),this}}class cS{constructor(e){this._delegate=e}set(e,t,r){const o=lm(e);return r?(T1("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=lm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=lm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class um{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new we(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new MT(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=um.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new um(e,new Db(e),t),o.set(t,l)),l}}um.INSTANCES=new WeakMap;class ba{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Db(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ba(t,new tr(t._delegate,r,new Je(e)))}static forKey(e,t,r){return new ba(t,new tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new rv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rv(this.firestore,_b(this._delegate,e))}catch(t){throw ko(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nn.m9)(e))instanceof tr&&o1(this._delegate,e)}set(e,t){t=T1("DocumentReference.set",t);try{return t?tS(this._delegate,e,t):tS(this._delegate,e)}catch(r){throw ko(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?nS(this._delegate,e):nS(this._delegate,e,t,...r)}catch(o){throw ko(o,"updateDoc()","DocumentReference.update()")}}delete(){return function gx(n){return nv(en(n.firestore,Gn),[new mf(n._key,Sn.none())])}(this._delegate)}onSnapshot(...e){const t=dS(e),r=hS(e,o=>new AT(this.firestore,new st(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return rS(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function cx(n){n=en(n,tr);const e=en(n.firestore,Gn),t=Nn(e),r=new Su(e);return function lb(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(o,l,d){try{const m=yield function(T,b){const M=We(T);return M.persistence.runTransaction("read document","readonly",R=>M.localDocuments.getDocument(R,b))}(o,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ie(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const T=Of(m,`Failed to get document '${l} from cache`);d.reject(T)}}),function(o,l,d){return r.apply(this,arguments)})(yield Uy(n),e,t);var r})),t.promise}(t,n._key).then(o=>new st(e,r,n._key,o,new Ze(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function dx(n){n=en(n,tr);const e=en(n.firestore,Gn);return t1(Nn(e),n._key,{source:"server"}).then(t=>w1(e,n,t))}(this._delegate):function Rs(n){n=en(n,tr);const e=en(n.firestore,Gn);return t1(Nn(e),n._key).then(t=>w1(e,n,t))}(this._delegate),t.then(r=>new AT(this.firestore,new st(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ba(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function ko(n,e,t){return n.message=n.message.replace(e,t),n}function dS(n){for(const e of n)if("object"==typeof e&&!E1(e))return e;return{}}function hS(n,e){var t,r;let o;return o=E1(n[0])?n[0]:E1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class AT{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ba(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gn(this._delegate,e._delegate)}}class MT extends AT{data(e){const t=this._delegate.data(e);return function ug(n,e){n||ot()}(void 0!==t),t}}class Oo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Db(e)}where(e,t,r){try{return new Oo(this.firestore,Dd(this._delegate,function _1(n,e,t){const r=e,o=ev("where",n);return tv._create(o,r,t)}(e,t,r)))}catch(o){throw ko(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Oo(this.firestore,Dd(this._delegate,function y1(n,e="asc"){const t=e,r=ev("orderBy",n);return bb._create(r,t)}(e,t)))}catch(r){throw ko(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Oo(this.firestore,Dd(this._delegate,function QM(n){return gb("limit",n),IT._create("limit",n,"F")}(e)))}catch(t){throw ko(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Oo(this.firestore,Dd(this._delegate,function XM(n){return gb("limitToLast",n),IT._create("limitToLast",n,"L")}(e)))}catch(t){throw ko(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Oo(this.firestore,Dd(this._delegate,function eS(...n){return CT._create("startAt",n,!0)}(...e)))}catch(t){throw ko(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Oo(this.firestore,Dd(this._delegate,function v1(...n){return CT._create("startAfter",n,!1)}(...e)))}catch(t){throw ko(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Oo(this.firestore,Dd(this._delegate,function i(...n){return bT._create("endBefore",n,!1)}(...e)))}catch(t){throw ko(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Oo(this.firestore,Dd(this._delegate,function s(...n){return bT._create("endAt",n,!0)}(...e)))}catch(t){throw ko(t,"endAt()","Query.endAt()")}}isEqual(e){return yb(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fx(n){n=en(n,ei);const e=en(n.firestore,Gn),t=Nn(e),r=new Su(e);return function uT(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(o,l,d){try{const m=yield Pg(o,l,!0),T=new PC(l,m.ir),b=T.sc(m.documents),M=T.applyChanges(b,!1);d.resolve(M.snapshot)}catch(m){const T=Of(m,`Failed to execute query '${l} against cache`);d.reject(T)}}),function(o,l,d){return r.apply(this,arguments)})(yield Uy(n),e,t);var r})),t.promise}(t,n._query).then(o=>new vt(e,r,n,o))}(this._delegate):"server"===e?.source?function px(n){n=en(n,ei);const e=en(n.firestore,Gn),t=Nn(e),r=new Su(e);return lT(t,n._query,{source:"server"}).then(o=>new vt(e,r,n,o))}(this._delegate):function hx(n){n=en(n,ei);const e=en(n.firestore,Gn),t=Nn(e),r=new Su(e);return om(n._query),lT(t,n._query).then(o=>new vt(e,r,n,o))}(this._delegate),t.then(r=>new I1(this.firestore,new vt(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=dS(e),r=hS(e,o=>new I1(this.firestore,new vt(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return rS(this._delegate,t,r)}withConverter(e){return new Oo(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}class Ux{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new MT(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class I1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Oo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new MT(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ux(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new MT(this._firestore,r))})}isEqual(e){return gn(this._delegate,e._delegate)}}class rv extends Oo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ba(this.firestore,e):null}doc(e){try{return new ba(this.firestore,void 0===e?hT(this._delegate):hT(this._delegate,e))}catch(t){throw ko(t,"doc()","CollectionReference.doc()")}}add(e){return function mx(n,e){const t=en(n.firestore,Gn),r=hT(n),o=A(n.converter,e);return nv(t,[Gy(Cd(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Sn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ba(this.firestore,t))}isEqual(e){return o1(this._delegate,e._delegate)}withConverter(e){return new rv(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function lm(n){return en(n,tr)}class C1{constructor(...e){this._delegate=new Ca(...e)}static documentId(){return new C1(dr.keyField().canonicalString())}isEqual(e){return(e=(0,nn.m9)(e))instanceof Ca&&this._delegate._internalPath.isEqual(e._internalPath)}}class cm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Nx(){return new vT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new cm(e)}static delete(){const e=function Sx(){return new zy("deleteField")}();return e._methodName="FieldValue.delete",new cm(e)}static arrayUnion(...e){const t=function xx(...n){return new f1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new cm(t)}static arrayRemove(...e){const t=function Rx(...n){return new p1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new cm(t)}static increment(e){const t=function kx(n){return new g1("increment",n)}(e);return t._methodName="FieldValue.increment",new cm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Bx={Firestore:uS,GeoPoint:qy,Timestamp:Xn,Blob:DT,Transaction:lS,WriteBatch:cS,DocumentReference:ba,DocumentSnapshot:AT,Query:Oo,QueryDocumentSnapshot:MT,QuerySnapshot:I1,CollectionReference:rv,FieldPath:C1,FieldValue:cm,setLogLevel:function Vx(n){!function RD(n){Il.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Hx(n){(function Zx(n,e){n.INTERNAL.registerComponent(new jm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},Bx)))})(n,(e,t)=>new uS(e,t,new Fx)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(bM.Z);var dm=k(7579),jx=k(6451),Ab=k(5363);function Ji(n,e){return(0,Mo.e)((t,r)=>{let o=null,l=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,jn.x)(r,T=>{o?.unsubscribe();let b=0;const M=l++;(0,tu.Xf)(n(T,M)).subscribe(o=(0,jn.x)(r,R=>r.next(e?e(T,R,M,b++):R),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var qx=k(6063);class $x extends dm.x{constructor(e=1/0,t=1/0,r=qx.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!o&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const d=t.now();let m=0;for(let T=1;T<r.length&&r[T]<=d;T+=2)m=T;m&&r.splice(0,m+1)}}}var Gx=k(3099);function fS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,Gx.B)({connector:()=>new $x(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const Mb=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Bf=k(515);function iv(n){return n<=0?()=>Bf.E:(0,Mo.e)((e,t)=>{let r=0;e.subscribe((0,jn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Sb(n){return(0,Mo.e)((e,t)=>{let r=!1;e.subscribe((0,jn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function pS(n=Kx){return(0,Mo.e)((e,t)=>{let r=!1;e.subscribe((0,jn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Kx(){return new Mb}var Nb=k(4671);function Zf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Es((o,l)=>n(o,l,r)):Nb.y,iv(1),t?Sb(e):pS(()=>new Mb))}var ST=k(576);function gS(n,e){return(0,ST.m)(e)?Ji(()=>n,e):Ji(()=>n)}var b1=k(9468);k(259);const A1=new Map,_S={activated:!1,tokenObservers:[]},Xx={initialized:!1,enabled:!1};function Ur(n){return A1.get(n)||Object.assign({},_S)}function Rb(){return Xx}const M1="https://content-firebaseappcheck.googleapis.com/v1",rR="exchangeDebugToken",yS={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class oR{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ge.Z)(function*(){t.stop();try{t.pending=new nn.BH,yield function sR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qi=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function S1(n){if(!Ur(n).activated)throw Qi.create("use-before-activation",{appName:n.name})}function Lb(n,e){return x1.apply(this,arguments)}function x1(){return x1=(0,ge.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const R=yield o.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(R){throw Qi.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==d.status)throw Qi.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(R){throw Qi.create("fetch-parse-error",{originalErrorMessage:R?.message})}const T=m.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const b=1e3*Number(T[1]),M=Date.now();return{token:m.token,expireTimeMillis:M+b,issuedAtTimeMillis:M}}),x1.apply(this,arguments)}function vS(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${M1}/projects/${t}/apps/${r}:${rR}?key=${o}`,body:{debug_token:e}}}const cR="firebase-app-check-database",dR=1,NT="firebase-app-check-store";let Pb=null;function R1(){return R1=(0,ge.Z)(function*(n,e){const r=(yield function TS(){return Pb||(Pb=new Promise((n,e)=>{try{const t=indexedDB.open(cR,dR);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Qi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(NT,{keyPath:"compositeKey"})}}catch(t){e(Qi.create("storage-open",{originalErrorMessage:t?.message}))}}),Pb)}()).transaction(NT,"readwrite"),l=r.objectStore(NT).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=T=>{d()},r.onerror=T=>{var b;m(Qi.create("storage-set",{originalErrorMessage:null===(b=T.target.error)||void 0===b?void 0:b.message}))}})}),R1.apply(this,arguments)}const xT=new Jo.Yd("@firebase/app-check");function L1(n,e){return(0,nn.hl)()?function fR(n,e){return function ES(n,e){return R1.apply(this,arguments)}(function CS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{xT.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function F1(){return Rb().enabled}function V1(){return U1.apply(this,arguments)}function U1(){return U1=(0,ge.Z)(function*(){const n=Rb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),U1.apply(this,arguments)}const vR={error:"UNKNOWN_ERROR"};function wR(n){return nn.US.encodeString(JSON.stringify(n),!1)}function Fb(n){return B1.apply(this,arguments)}function B1(){return B1=(0,ge.Z)(function*(n,e=!1){const t=n.app;S1(t);const r=Ur(t);let l,o=r.token;if(o&&!ov(o)&&(r.token=void 0,o=void 0),!o){const T=yield r.cachedTokenPromise;T&&(ov(T)?o=T:yield L1(t,void 0))}if(!e&&o&&ov(o))return{token:o.token};let m,d=!1;if(F1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Lb(vS(t,yield V1()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const T=yield r.exchangeTokenPromise;return yield L1(t,T),r.token=T,{token:T.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield Ur(t).exchangeTokenPromise}catch(T){"appCheck/throttled"===T.code?xT.warn(T.message):xT.error(T),l=T}return o?l?m=ov(o)?{token:o.token,internalError:l}:MS(l):(m={token:o.token},r.token=o,yield L1(t,o)):m=MS(l),d&&function AS(n,e){const t=Ur(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),B1.apply(this,arguments)}function Z1(){return Z1=(0,ge.Z)(function*(n){const e=n.app;S1(e);const{provider:t}=Ur(e);if(F1()){const r=yield V1(),{token:o}=yield Lb(vS(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}}),Z1.apply(this,arguments)}function j1(n,e){const t=Ur(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function DS(n){const{app:e}=n,t=Ur(e);let r=t.tokenRefresher;r||(r=function TR(n){const{app:e}=n;return new oR((0,ge.Z)(function*(){let r;if(r=Ur(e).token?yield Fb(n,!0):yield Fb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ur(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},yS.RETRIAL_MIN_WAIT,yS.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ov(n){return n.expireTimeMillis-Date.now()>0}function MS(n){return{token:wR(vR),error:n}}class ER{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ur(this.app);for(const t of e)j1(this.app,t.next);return Promise.resolve()}}const PS="app-check-internal";!function PR(){(0,fu._registerComponent)(new jm.wA("app-check",n=>function IR(n,e){return new ER(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(PS).initialize()})),(0,fu._registerComponent)(new jm.wA(PS,n=>function CR(n){return{getToken:e=>Fb(n,e),getLimitedUseToken:()=>function bS(n){return Z1.apply(this,arguments)}(n),addTokenListener:e=>function H1(n,e,t,r){const{app:o}=n,l=Ur(o);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&ov(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),DS(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>DS(n))}(n,"INTERNAL",e),removeTokenListener:e=>j1(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fu.registerVersion)("@firebase/app-check","0.8.0")}();class z1{constructor(){return(0,Ir.vb)("app-check")}}typeof window<"u"&&window;var ZR=k(9260);const VS=new a.OlP("angularfire2.auth.use-emulator"),US=new a.OlP("angularfire2.auth.settings"),BS=new a.OlP("angularfire2.auth.tenant-id"),ZS=new a.OlP("angularfire2.auth.langugage-code"),HS=new a.OlP("angularfire2.auth.use-device-language"),jS=new a.OlP("angularfire.auth.persistence"),qS=(n,e,t,r,o,l,d,m)=>(0,Mi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const T=e.runOutsideAngular(()=>n.auth());if(t&&T.useEmulator(...t),r&&(T.tenantId=r),T.languageCode=o,l&&T.useDeviceLanguage(),d)for(const[b,M]of Object.entries(d))T.settings[b]=M;return m&&T.setPersistence(m),T},[t,r,o,l,d,m]);let $S=(()=>{class n{constructor(t,r,o,l,d,m,T,b,M,R,j,X){const _e=new dm.x,Le=(0,Tt.of)(void 0).pipe((0,Ab.Q)(d.outsideAngular),Ji(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2644)))),(0,Dt.U)(()=>(0,Mi.on)(t,l,r)),(0,Dt.U)(Ue=>qS(Ue,l,m,b,M,R,T,j)),fS({bufferSize:1,refCount:!1}));if(ls(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Tt.of)(null);else{Le.pipe(Zf()).subscribe();const wt=Le.pipe(Ji(Ot=>Ot.getRedirectResult().then($t=>$t,()=>null)),Ir.iC,fS({bufferSize:1,refCount:!1})),Rt=Le.pipe(Ji(Ot=>new vr.y($t=>({unsubscribe:l.runOutsideAngular(()=>Ot.onAuthStateChanged(ln=>$t.next(ln),ln=>$t.error(ln),()=>$t.complete()))})))),At=Le.pipe(Ji(Ot=>new vr.y($t=>({unsubscribe:l.runOutsideAngular(()=>Ot.onIdTokenChanged(ln=>$t.next(ln),ln=>$t.error(ln),()=>$t.complete()))}))));this.authState=wt.pipe(gS(Rt),(0,b1.R)(d.outsideAngular),(0,Ab.Q)(d.insideAngular)),this.user=wt.pipe(gS(At),(0,b1.R)(d.outsideAngular),(0,Ab.Q)(d.insideAngular)),this.idToken=this.user.pipe(Ji(Ot=>Ot?(0,fn.D)(Ot.getIdToken()):(0,Tt.of)(null))),this.idTokenResult=this.user.pipe(Ji(Ot=>Ot?(0,fn.D)(Ot.getIdTokenResult()):(0,Tt.of)(null))),this.credential=(0,jx.T)(wt,_e,this.authState.pipe(Es(Ot=>!Ot))).pipe((0,Dt.U)(Ot=>Ot?.user?Ot:null),(0,b1.R)(d.outsideAngular),(0,Ab.Q)(d.insideAngular))}return(0,Mi.pX)(this,Le,l,{spy:{apply:(Ue,wt,Rt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&Rt.then(At=>_e.next(At))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Mi.Dh),a.LFG(Mi.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ir.HU),a.LFG(VS,8),a.LFG(US,8),a.LFG(BS,8),a.LFG(ZS,8),a.LFG(HS,8),a.LFG(jS,8),a.LFG(z1,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function GS(n,e){return function jR(n,e=bh.z){return new vr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function W1(n,e){return GS(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function Ub(n,e){return W1(n,e).pipe(Fp(void 0),Zm(),(0,Dt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const T=o.find(M=>M.doc.ref.isEqual(d.ref)),b=t?.payload.docs.find(M=>M.ref.isEqual(d.ref));T&&JSON.stringify(T.doc.metadata)===JSON.stringify(d.metadata)||!T&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function zS(n,e,t){return Ub(n,t).pipe(Dh((r,o)=>function $R(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function GR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Y1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Y1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Y1(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),(0,Ah.x)(),(0,Dt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Y1(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function KS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class WS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=Ub(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Fp(void 0),Zm(),Es(([r,o])=>o.length>0||!r),(0,Dt.U)(([r,o])=>o),Ir.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=KS(e);return zS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}valueChanges(e={}){return W1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ir.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Ir.iC)}add(e){return this.ref.add(e)}doc(e){return new YS(this.ref.doc(e),this.afs)}}class YS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=XS(r,t);return new WS(o,l,this.afs)}snapshotChanges(){return function qR(n,e){return GS(n,e).pipe(Fp(void 0),Zm(),(0,Dt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(Ir.iC)}}class zR{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Ub(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Es(t=>t.length>0),Ir.iC):Ub(this.query,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=KS(e);return zS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}valueChanges(e={}){return W1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ir.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Ir.iC)}}const JS=new a.OlP("angularfire2.enableFirestorePersistence"),QS=new a.OlP("angularfire2.firestore.persistenceSettings"),KR=new a.OlP("angularfire2.firestore.settings"),WR=new a.OlP("angularfire2.firestore.use-emulator");function XS(n,e=(t=>t)){return{query:e(n),ref:n}}let eN=(()=>{class n{constructor(t,r,o,l,d,m,T,b,M,R,j,X,_e,Le,Ue,wt,Rt){this.schedulers=T;const At=(0,Mi.on)(t,m,r),Ot=M;R&&qS(At,m,j,_e,Le,Ue,X,wt),[this.firestore,this.persistenceEnabled$]=(0,Mi.cc)(`${At.name}.firestore`,"AngularFirestore",At.name,()=>{const $t=m.runOutsideAngular(()=>At.firestore());if(l&&$t.settings(l),Ot&&$t.useEmulator(...Ot),o&&!ls(d)){const ln=()=>{try{return(0,fn.D)($t.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(go){return typeof console<"u"&&console.warn(go),(0,Tt.of)(!1)}};return[$t,m.runOutsideAngular(ln)]}return[$t,(0,Tt.of)(!1)]},[l,Ot,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=XS(o,r),m=this.schedulers.ngZone.run(()=>l);return new WS(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),l=this.firestore.collectionGroup(t);return new zR(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new YS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Mi.Dh),a.LFG(Mi.xv,8),a.LFG(JS,8),a.LFG(KR,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ir.HU),a.LFG(QS,8),a.LFG(WR,8),a.LFG($S,8),a.LFG(VS,8),a.LFG(US,8),a.LFG(BS,8),a.LFG(ZS,8),a.LFG(HS,8),a.LFG(jS,8),a.LFG(z1,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YR=(()=>{class n{constructor(){ZR.Z.registerVersion("angularfire",Ir.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:JS,useValue:!0},{provide:QS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[eN]}),n})();const JR_firebase={apiKey:"AIzaSyBE-Xqz8366R9ZGFi9PS53BIGMEzFnjnSE",authDomain:"test-cleaver.firebaseapp.com",projectId:"test-cleaver",storageBucket:"test-cleaver.appspot.com",messagingSenderId:"1089347099344",appId:"1:1089347099344:web:f30bfb900a0b0312585cd5"};var Nu=k(1135),XR=k(9672);function J1(...n){const e=(0,Ys.yG)(n),t=(0,Ys.jO)(n),{args:r,keys:o}=Ws(n);if(0===r.length)return(0,fn.D)([],e);const l=new vr.y(function ek(n,e,t=Nb.y){return r=>{tN(e,()=>{const{length:o}=n,l=new Array(o);let d=o,m=o;for(let T=0;T<o;T++)tN(e,()=>{const b=(0,fn.D)(n[T],e);let M=!1;b.subscribe((0,jn.x)(r,R=>{l[T]=R,M||(M=!0,m--),m||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>zo(o,d):Nb.y));return t?l.pipe(ru(t)):l}function tN(n,e,t){n?(0,XR.f)(t,n,e):e()}function nN(n){return new vr.y(e=>{(0,tu.Xf)(n()).subscribe(e)})}var tk=k(9635);function RT(n,e){const t=(0,ST.m)(n)?n:()=>n,r=o=>o.error(t());return new vr.y(e?o=>e.schedule(r,0,o):r)}var rN=k(727);function Q1(){return(0,Mo.e)((n,e)=>{let t=null;n._refCount++;const r=(0,jn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class iN extends vr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Mo.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rN.w0;const t=this.getSubject();e.add(this.source.subscribe((0,jn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rN.w0.EMPTY)}return e}refCount(){return Q1()(this)}}var Lo=k(5577);function kT(n,e){return(0,ST.m)(e)?(0,Lo.z)(n,e,1):(0,Lo.z)(n,1)}var Po=k(8505);function hm(n){return(0,Mo.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,jn.x)(t,void 0,void 0,d=>{l=(0,tu.Xf)(n(d,hm(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}function X1(n){return n<=0?()=>Bf.E:(0,Mo.e)((e,t)=>{let r=[];e.subscribe((0,jn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function eM(n){return(0,Mo.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Kt="primary",OT=Symbol("RouteTitle");class ik{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function sv(n){return new ik(n)}function ok(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const d=r[l],m=n[l];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function jl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!oN(n[o],e[o]))return!1;return!0}function oN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function sN(n){return n.length>0?n[n.length-1]:null}function Hf(n){return function QR(n){return!!n&&(n instanceof vr.y||(0,ST.m)(n.lift)&&(0,ST.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,fn.D)(Promise.resolve(n)):(0,Tt.of)(n)}const ak={exact:function lN(n,e,t){if(!fm(n.segments,e.segments)||!Bb(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!lN(n.children[r],e.children[r],t))return!1;return!0},subset:cN},aN={exact:function uk(n,e){return jl(n,e)},subset:function lk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oN(n[t],e[t]))},ignored:()=>!0};function uN(n,e,t){return ak[t.paths](n.root,e.root,t.matrixParams)&&aN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cN(n,e,t){return dN(n,e,e.segments,t)}function dN(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!fm(o,t)||e.hasChildren()||!Bb(o,t,r))}if(n.segments.length===t.length){if(!fm(n.segments,t)||!Bb(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!cN(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(fm(n.segments,o)&&Bb(n.segments,o,r)&&n.children[Kt])&&dN(n.children[Kt],e,l,r)}}function Bb(n,e,t){return e.every((r,o)=>aN[t](n[o].parameters,r.parameters))}class av{constructor(e=new xn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sv(this.queryParams)),this._queryParamMap}toString(){return hk.serialize(this)}}class xn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zb(this)}}class LT{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=sv(this.parameters)),this._parameterMap}toString(){return pN(this)}}function fm(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let PT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new tM},providedIn:"root"}),n})();class tM{parse(e){const t=new Ik(e);return new av(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${FT(e.root,!0)}`,r=function gk(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Hb(t)}=${Hb(o)}`).join("&"):`${Hb(t)}=${Hb(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function fk(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const hk=new tM;function Zb(n){return n.segments.map(e=>pN(e)).join("/")}function FT(n,e){if(!n.hasChildren())return Zb(n);if(e){const t=n.children[Kt]?FT(n.children[Kt],!1):"",r=[];return Object.entries(n.children).forEach(([o,l])=>{o!==Kt&&r.push(`${o}:${FT(l,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function dk(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===Kt&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==Kt&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===Kt?[FT(n.children[Kt],!1)]:[`${o}:${FT(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${Zb(n)}/${t[0]}`:`${Zb(n)}/(${t.join("//")})`}}function hN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hb(n){return hN(n).replace(/%3B/gi,";")}function nM(n){return hN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jb(n){return decodeURIComponent(n)}function fN(n){return jb(n.replace(/\+/g,"%20"))}function pN(n){return`${nM(n.path)}${function pk(n){return Object.keys(n).map(e=>`;${nM(e)}=${nM(n[e])}`).join("")}(n.parameters)}`}const mk=/^[^\/()?;#]+/;function rM(n){const e=n.match(mk);return e?e[0]:""}const _k=/^[^\/()?;=#]+/,vk=/^[^=?&#]+/,Tk=/^[^&#]+/;class Ik{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Kt]=new xn(e,t)),r}parseSegment(){const e=rM(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new LT(jb(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function yk(n){const e=n.match(_k);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=rM(this.remaining);o&&(r=o,this.capture(r))}e[jb(t)]=jb(r)}parseQueryParam(e){const t=function wk(n){const e=n.match(vk);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Ek(n){const e=n.match(Tk);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=fN(t),l=fN(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rM(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new a.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Kt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Kt]:new xn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function gN(n){return n.segments.length>0?new xn([],{[Kt]:n}):n}function mN(n){const e={};for(const r of Object.keys(n.children)){const l=mN(n.children[r]);if(r===Kt&&0===l.segments.length&&l.hasChildren())for(const[d,m]of Object.entries(l.children))e[d]=m;else(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Ck(n){if(1===n.numberOfChildren&&n.children[Kt]){const e=n.children[Kt];return new xn(n.segments.concat(e.segments),e.children)}return n}(new xn(n.segments,e))}function pm(n){return n instanceof av}function _N(n){let e;const o=gN(function t(l){const d={};for(const T of l.children){const b=t(T);d[T.outlet]=b}const m=new xn(l.url,d);return l===n&&(e=m),m}(n.root));return e??o}function yN(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return iM(o,o,o,t,r);const l=function Dk(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wN(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Object.entries(l.outlets).forEach(([T,b])=>{m[T]="string"==typeof b?b.split("/"):b}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((m,T)=>{0==T&&"."===m||(0==T&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new wN(t,e,r)}(e);if(l.toRoot())return iM(o,o,new xn([],{}),t,r);const d=function Ak(n,e,t){if(n.isAbsolute)return new $b(e,!0,0);if(!t)return new $b(e,!1,NaN);if(null===t.parent)return new $b(t,!0,0);const r=qb(n.commands[0])?0:1;return function Mk(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new a.vHH(4005,!1);o=r.segments.length}return new $b(r,!1,o-l)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(l,o,n),m=d.processChildren?UT(d.segmentGroup,d.index,l.commands):TN(d.segmentGroup,d.index,l.commands);return iM(o,d.segmentGroup,m,t,r)}function qb(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function VT(n){return"object"==typeof n&&null!=n&&n.outlets}function iM(n,e,t,r,o){let d,l={};r&&Object.entries(r).forEach(([T,b])=>{l[T]=Array.isArray(b)?b.map(M=>`${M}`):`${b}`}),d=n===e?t:vN(n,e,t);const m=gN(mN(d));return new av(m,l,o)}function vN(n,e,t){const r={};return Object.entries(n.children).forEach(([o,l])=>{r[o]=l===e?t:vN(l,e,t)}),new xn(n.segments,r)}class wN{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qb(r[0]))throw new a.vHH(4003,!1);const o=r.find(VT);if(o&&o!==sN(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $b{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function TN(n,e,t){if(n||(n=new xn([],{})),0===n.segments.length&&n.hasChildren())return UT(n,e,t);const r=function Nk(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const d=n.segments[o],m=t[r];if(VT(m))break;const T=`${m}`,b=r<t.length-1?t[r+1]:null;if(o>0&&void 0===T)break;if(T&&b&&"object"==typeof b&&void 0===b.outlets){if(!IN(T,b,d))return l;r+=2}else{if(!IN(T,{},d))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new xn(n.segments.slice(0,r.pathIndex),{});return l.children[Kt]=new xn(n.segments.slice(r.pathIndex),n.children),UT(l,0,o)}return r.match&&0===o.length?new xn(n.segments,{}):r.match&&!n.hasChildren()?oM(n,e,t):r.match?UT(n,0,o):oM(n,e,t)}function UT(n,e,t){if(0===t.length)return new xn(n.segments,{});{const r=function Sk(n){return VT(n[0])?n[0].outlets:{[Kt]:n}}(t),o={};if(!r[Kt]&&n.children[Kt]&&1===n.numberOfChildren&&0===n.children[Kt].segments.length){const l=UT(n.children[Kt],e,t);return new xn(n.segments,l.children)}return Object.entries(r).forEach(([l,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[l]=TN(n.children[l],e,d))}),Object.entries(n.children).forEach(([l,d])=>{void 0===r[l]&&(o[l]=d)}),new xn(n.segments,o)}}function oM(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(VT(l)){const T=xk(l.outlets);return new xn(r,T)}if(0===o&&qb(t[0])){r.push(new LT(n.segments[e].path,EN(t[0]))),o++;continue}const d=VT(l)?l.outlets[Kt]:`${l}`,m=o<t.length-1?t[o+1]:null;d&&m&&qb(m)?(r.push(new LT(d,EN(m))),o+=2):(r.push(new LT(d,{})),o++)}return new xn(r,{})}function xk(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=oM(new xn([],{}),0,r))}),e}function EN(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function IN(n,e,t){return n==t.path&&jl(e,t.parameters)}const BT="imperative";class ql{constructor(e,t){this.id=e,this.url=t}}class sM extends ql{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gm extends ql{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gb extends ql{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ZT extends ql{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class aM extends ql{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rk extends ql{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kk extends ql{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ok extends ql{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Lk extends ql{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pk extends ql{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fk{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vk{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Uk{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bk{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zk{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hk{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CN{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jk{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new HT,this.attachRef=null}}let HT=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new jk,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class bN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uM(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return lM(e,this._root).map(t=>t.value)}}function uM(n,e){if(n===e.value)return e;for(const t of e.children){const r=uM(n,t);if(r)return r}return null}function lM(n,e){if(n===e.value)return[e];for(const t of e.children){const r=lM(n,t);if(r.length)return r.unshift(e),r}return[]}class Ad{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function uv(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class DN extends bN{constructor(e,t){super(e),this.snapshot=t,cM(this,e)}toString(){return this.snapshot.toString()}}function AN(n,e){const t=function qk(n,e){const d=new zb([],{},{},"",{},Kt,e,null,{});return new SN("",new Ad(d,[]))}(0,e),r=new Nu.X([new LT("",{})]),o=new Nu.X({}),l=new Nu.X({}),d=new Nu.X({}),m=new Nu.X(""),T=new lv(r,o,d,m,l,Kt,e,t.root);return T.snapshot=t.root,new DN(new Ad(T,[]),t)}class lv{constructor(e,t,r,o,l,d,m,T){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=l,this.outlet=d,this.component=m,this._futureSnapshot=T,this.title=this.dataSubject?.pipe((0,Dt.U)(b=>b[OT]))??(0,Tt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>sv(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>sv(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function MN(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function $k(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class zb{get title(){return this.data?.[OT]}constructor(e,t,r,o,l,d,m,T,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=d,this.component=m,this.routeConfig=T,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SN extends bN{constructor(e,t){super(t),this.url=e,cM(this,t)}toString(){return NN(this._root)}}function cM(n,e){e.value._routerState=n,e.children.forEach(t=>cM(n,t))}function NN(n){const e=n.children.length>0?` { ${n.children.map(NN).join(", ")} } `:"";return`${n.value}${e}`}function dM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jl(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),jl(e.params,t.params)||n.paramsSubject.next(t.params),function sk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),jl(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hM(n,e){const t=jl(n.params,e.params)&&function ck(n,e){return fm(n,e)&&n.every((t,r)=>jl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hM(n.parent,e.parent))}let fM=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(HT),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(Kb,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,T=new Gk(t,m,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:T,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class Gk{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===lv?this.route:e===HT?this.childContexts:this.parent.get(e,t)}}const Kb=new a.OlP("");let xN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=J1([r.queryParams,r.params,r.data]).pipe(Ji(([l,d,m],T)=>(m={...l,...d,...m},0===T?(0,Tt.of)(m):Promise.resolve(m)))).subscribe(l=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const d=(0,a.qFp)(r.component);if(d)for(const{templateName:m}of d.inputs)t.activatedComponentRef.setInput(m,l[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function jT(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Kk(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return jT(n,r,o);return jT(n,r)})}(n,e,t);return new Ad(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>jT(n,m)),d}}const r=function Wk(n){return new lv(new Nu.X(n.url),new Nu.X(n.params),new Nu.X(n.queryParams),new Nu.X(n.fragment),new Nu.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>jT(n,l));return new Ad(r,o)}}const pM="ngNavigationCancelingError";function RN(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=pm(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=kN(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function kN(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pM]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ON(n){return LN(n)&&pm(n.url)}function LN(n){return n&&n[pM]}let PN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[fM],encapsulation:2}),n})();function gM(n){const e=n.children&&n.children.map(gM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kt&&(t.component=PN),t}function xu(n){return n.outlet||Kt}function qT(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nO{constructor(e,t,r,o,l){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=l}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dM(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=uv(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],r),delete o[d]}),Object.values(o).forEach(l=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=uv(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=uv(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=uv(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Hk(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Bk(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(dM(o),o===l)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),dM(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=qT(o.snapshot);d.attachRef=null,d.route=o,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class FN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wb{constructor(e,t){this.component=e,this.route=t}}function rO(n,e,t){const r=n._root;return $T(r,e?e._root:null,t,[r.value])}function cv(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function $T(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=uv(e);return n.children.forEach(d=>{(function oO(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const T=function sO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fm(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fm(n.url,e.url)||!jl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hM(n,e)||!jl(n.queryParams,e.queryParams);default:return!hM(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);T?o.canActivateChecks.push(new FN(r)):(l.data=d.data,l._resolvedData=d._resolvedData),$T(n,e,l.component?m?m.children:null:t,r,o),T&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new Wb(m.outlet.component,d))}else d&&GT(e,m,o),o.canActivateChecks.push(new FN(r)),$T(n,null,l.component?m?m.children:null:t,r,o)})(d,l[d.value.outlet],t,r.concat([d.value]),o),delete l[d.value.outlet]}),Object.entries(l).forEach(([d,m])=>GT(m,t.getContext(d),o)),o}function GT(n,e,t){const r=uv(n),o=n.value;Object.entries(r).forEach(([l,d])=>{GT(d,o.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Wb(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function zT(n){return"function"==typeof n}function VN(n){return n instanceof Mb||"EmptyError"===n?.name}const Yb=Symbol("INITIAL_VALUE");function dv(){return Ji(n=>J1(n.map(e=>e.pipe(iv(1),Fp(Yb)))).pipe((0,Dt.U)(e=>{for(const t of e)if(!0!==t){if(t===Yb)return Yb;if(!1===t||t instanceof av)return t}return!0}),Es(e=>e!==Yb),iv(1)))}function UN(n){return(0,tk.z)((0,Po.b)(e=>{if(pm(e))throw RN(0,e)}),(0,Dt.U)(e=>!0===e))}class Jb{constructor(e){this.segmentGroup=e||null}}class BN{constructor(e){this.urlTree=e}}function hv(n){return RT(new Jb(n))}function ZN(n){return RT(new BN(n))}class DO{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new a.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Tt.of)(r);if(o.numberOfChildren>1||!o.children[Kt])return RT(new a.vHH(4e3,!1));o=o.children[Kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new av(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,l])=>{if("string"==typeof l&&l.startsWith(":")){const m=l.substring(1);r[o]=t[m]}else r[o]=l}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let d={};return Object.entries(t.children).forEach(([m,T])=>{d[m]=this.createSegmentGroup(e,T,r,o)}),new xn(l,d)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new a.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const mM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AO(n,e,t,r,o){const l=_M(n,e,t);return l.matched?(r=function Yk(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function IO(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,Tt.of)(!0);const l=o.map(d=>{const m=cv(d,n);return Hf(function hO(n){return n&&zT(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,Tt.of)(l).pipe(dv(),UN())}(r,e,t).pipe((0,Dt.U)(d=>!0===d?l:{...mM}))):(0,Tt.of)(l)}function _M(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||ok)(t,n,e);if(!o)return{...mM};const l={};Object.entries(o.posParams??{}).forEach(([m,T])=>{l[m]=T.path});const d=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function HN(n,e,t,r){return t.length>0&&function NO(n,e,t){return t.some(r=>Qb(n,e,r)&&xu(r)!==Kt)}(n,t,r)?{segmentGroup:new xn(e,SO(r,new xn(t,n.children))),slicedSegments:[]}:0===t.length&&function xO(n,e,t){return t.some(r=>Qb(n,e,r))}(n,t,r)?{segmentGroup:new xn(n.segments,MO(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xn(n.segments,n.children),slicedSegments:t}}function MO(n,e,t,r,o){const l={};for(const d of r)if(Qb(n,t,d)&&!o[xu(d)]){const m=new xn([],{});l[xu(d)]=m}return{...o,...l}}function SO(n,e){const t={};t[Kt]=e;for(const r of n)if(""===r.path&&xu(r)!==Kt){const o=new xn([],{});t[xu(r)]=o}return t}function Qb(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class LO{constructor(e,t,r,o,l,d,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=l,this.paramsInheritanceStrategy=d,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new DO(this.urlSerializer,this.urlTree)}noMatchError(e){return new a.vHH(4002,!1)}recognize(){const e=HN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Kt).pipe(hm(t=>{if(t instanceof BN)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Jb?this.noMatchError(t):t}),(0,Dt.U)(t=>{const r=new zb([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,{}),o=new Ad(r,t),l=new SN("",o),d=function bk(n,e,t=null,r=null){return yN(_N(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(l._root),{state:l,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Kt).pipe(hm(r=>{throw r instanceof Jb?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=MN(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,fn.D)(o).pipe(kT(l=>{const d=r.children[l],m=function eO(n,e){const t=n.filter(r=>xu(r)===e);return t.push(...n.filter(r=>xu(r)!==e)),t}(t,l);return this.processSegmentGroup(e,m,d,l)}),Dh((l,d)=>(l.push(...d),l)),Sb(null),function nk(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Es((o,l)=>n(o,l,r)):Nb.y,X1(1),t?Sb(e):pS(()=>new Mb))}(),(0,Lo.z)(l=>{if(null===l)return hv(r);const d=jN(l);return function PO(n){n.sort((e,t)=>e.value.outlet===Kt?-1:t.value.outlet===Kt?1:e.value.outlet.localeCompare(t.value.outlet))}(d),(0,Tt.of)(d)}))}processSegment(e,t,r,o,l,d){return(0,fn.D)(t).pipe(kT(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,l,d).pipe(hm(T=>{if(T instanceof Jb)return(0,Tt.of)(null);throw T}))),Zf(m=>!!m),hm(m=>{if(VN(m))return function kO(n,e,t){return 0===e.length&&!n.children[t]}(r,o,l)?(0,Tt.of)([]):hv(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,l,d,m){return function RO(n,e,t,r){return!!(xu(n)===r||r!==Kt&&Qb(e,t,n))&&("**"===n.path||_M(e,n,t).matched)}(r,o,l,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,l,d,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,l,d):hv(o):hv(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ZN(l):this.applyRedirects.lineralizeSegments(r,l).pipe((0,Lo.z)(d=>{const m=new xn(d,{});return this.processSegment(e,t,m,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){const{matched:m,consumedSegments:T,remainingSegments:b,positionalParamSegments:M}=_M(t,o,l);if(!m)return hv(t);const R=this.applyRedirects.applyRedirectCommands(T,o.redirectTo,M);return o.redirectTo.startsWith("/")?ZN(R):this.applyRedirects.lineralizeSegments(o,R).pipe((0,Lo.z)(j=>this.processSegment(e,r,t,j.concat(b),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,l,d){let m;if("**"===r.path){const T=o.length>0?sN(o).parameters:{},b=new zb(o,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qN(r),xu(r),r.component??r._loadedComponent??null,r,$N(r));m=(0,Tt.of)({snapshot:b,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=AO(t,r,o,e).pipe((0,Dt.U)(({matched:T,consumedSegments:b,remainingSegments:M,parameters:R})=>T?{snapshot:new zb(b,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qN(r),xu(r),r.component??r._loadedComponent??null,r,$N(r)),consumedSegments:b,remainingSegments:M}:null));return m.pipe(Ji(T=>null===T?hv(t):this.getChildConfig(e=r._injector??e,r,o).pipe(Ji(({routes:b})=>{const M=r._loadedInjector??e,{snapshot:R,consumedSegments:j,remainingSegments:X}=T,{segmentGroup:_e,slicedSegments:Le}=HN(t,j,X,b);if(0===Le.length&&_e.hasChildren())return this.processChildren(M,b,_e).pipe((0,Dt.U)(wt=>null===wt?null:[new Ad(R,wt)]));if(0===b.length&&0===Le.length)return(0,Tt.of)([new Ad(R,[])]);const Ue=xu(r)===l;return this.processSegment(M,b,_e,Le,Ue?Kt:l,!0).pipe((0,Dt.U)(wt=>[new Ad(R,wt)]))}))))}getChildConfig(e,t,r){return t.children?(0,Tt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Tt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function EO(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,Tt.of)(!0);const l=o.map(d=>{const m=cv(d,n);return Hf(function uO(n){return n&&zT(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,Tt.of)(l).pipe(dv(),UN())}(e,t,r).pipe((0,Lo.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Po.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function bO(n){return RT(kN(!1,3))}())):(0,Tt.of)({routes:[],injector:e})}}function FO(n){const e=n.value.routeConfig;return e&&""===e.path}function jN(n){const e=[],t=new Set;for(const r of n){if(!FO(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=jN(r.children);e.push(new Ad(r.value,o))}return e.filter(r=>!t.has(r))}function qN(n){return n.data||{}}function $N(n){return n.resolve||{}}function GN(n){return"string"==typeof n.title||null===n.title}function yM(n){return Ji(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,Dt.U)(()=>e)):(0,Tt.of)(e)})}const fv=new a.OlP("ROUTES");let vM=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Tt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hf(t.loadComponent()).pipe((0,Dt.U)(zN),(0,Po.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),eM(()=>{this.componentLoaders.delete(t)})),o=new iN(r,()=>new dm.x).pipe(Q1());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Tt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Dt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let T,b;return Array.isArray(m)?b=m:(T=m.create(t).injector,b=T.get(fv,[],a.XFs.Self|a.XFs.Optional).flat()),{routes:b.map(gM),injector:T}}),eM(()=>{this.childrenLoaders.delete(r)})),d=new iN(l,()=>new dm.x).pipe(Q1());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Hf(t()).pipe((0,Dt.U)(zN),(0,Lo.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,Tt.of)(r):(0,fn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zN(n){return function qO(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Xb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new dm.x,this.configLoader=(0,a.f3M)(vM),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(PT),this.rootContexts=(0,a.f3M)(HT),this.inputBindingEnabled=null!==(0,a.f3M)(Kb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Tt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Vk(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new Fk(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Nu.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:BT,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Es(r=>0!==r.id),(0,Dt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ji(r=>{let o=!1,l=!1;return(0,Tt.of)(r).pipe((0,Po.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ji(d=>{const m=t.browserUrlTree.toString(),T=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!T&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new ZT(d.id,t.serializeUrl(r.rawUrl),M,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Bf.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return KN(d.source)&&(t.browserUrlTree=d.extractedUrl),(0,Tt.of)(d).pipe(Ji(M=>{const R=this.transitions?.getValue();return this.events.next(new sM(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),R!==this.transitions?.getValue()?Bf.E:Promise.resolve(M)}),function VO(n,e,t,r,o,l){return(0,Lo.z)(d=>function OO(n,e,t,r,o,l,d="emptyOnly"){return new LO(n,e,t,r,o,d,l).recognize()}(n,e,t,r,d.extractedUrl,o,l).pipe((0,Dt.U)(({state:m,tree:T})=>({...d,targetSnapshot:m,urlAfterRedirects:T}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Po.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,r.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!M.extras.skipLocationChange){const j=t.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);t.setBrowserUrl(j,M)}t.browserUrlTree=M.urlAfterRedirects}const R=new Rk(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(R)}));if(T&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:M,extractedUrl:R,source:j,restoredState:X,extras:_e}=d,Le=new sM(M,this.urlSerializer.serialize(R),j,X);this.events.next(Le);const Ue=AN(0,this.rootComponentType).snapshot;return r={...d,targetSnapshot:Ue,urlAfterRedirects:R,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}},(0,Tt.of)(r)}{const M="";return this.events.next(new ZT(d.id,t.serializeUrl(r.extractedUrl),M,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Bf.E}}),(0,Po.b)(d=>{const m=new kk(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,Dt.U)(d=>r={...d,guards:rO(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function pO(n,e){return(0,Lo.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?(0,Tt.of)({...t,guardsResult:!0}):function gO(n,e,t,r){return(0,fn.D)(n).pipe((0,Lo.z)(o=>function TO(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,Tt.of)(!0);const d=l.map(m=>{const T=qT(e)??o,b=cv(m,T);return Hf(function dO(n){return n&&zT(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):T.runInContext(()=>b(n,e,t,r))).pipe(Zf())});return(0,Tt.of)(d).pipe(dv())}(o.component,o.route,t,e,r)),Zf(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Lo.z)(m=>m&&function aO(n){return"boolean"==typeof n}(m)?function mO(n,e,t,r){return(0,fn.D)(e).pipe(kT(o=>Cv(function yO(n,e){return null!==n&&e&&e(new Uk(n)),(0,Tt.of)(!0)}(o.route.parent,r),function _O(n,e){return null!==n&&e&&e(new Zk(n)),(0,Tt.of)(!0)}(o.route,r),function wO(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function iO(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>nN(()=>{const m=d.guards.map(T=>{const b=qT(d.node)??t,M=cv(T,b);return Hf(function cO(n){return n&&zT(n.canActivateChild)}(M)?M.canActivateChild(r,n):b.runInContext(()=>M(r,n))).pipe(Zf())});return(0,Tt.of)(m).pipe(dv())}));return(0,Tt.of)(l).pipe(dv())}(n,o.path,t),function vO(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Tt.of)(!0);const o=r.map(l=>nN(()=>{const d=qT(e)??t,m=cv(l,d);return Hf(function lO(n){return n&&zT(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(Zf())}));return(0,Tt.of)(o).pipe(dv())}(n,o.route,t))),Zf(o=>!0!==o,!0))}(r,l,n,e):(0,Tt.of)(m)),(0,Dt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,Po.b)(d=>{if(r.guardsResult=d.guardsResult,pm(d.guardsResult))throw RN(0,d.guardsResult);const m=new Ok(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Es(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),yM(d=>{if(d.guards.canActivateChecks.length)return(0,Tt.of)(d).pipe((0,Po.b)(m=>{const T=new Lk(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(T)}),Ji(m=>{let T=!1;return(0,Tt.of)(m).pipe(function UO(n,e){return(0,Lo.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Tt.of)(t);let l=0;return(0,fn.D)(o).pipe(kT(d=>function BO(n,e,t,r){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!GN(o)&&(l[OT]=o.title),function ZO(n,e,t,r){const o=function HO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Tt.of)({});const l={};return(0,fn.D)(o).pipe((0,Lo.z)(d=>function jO(n,e,t,r){const o=qT(e)??r,l=cv(n,o);return Hf(l.resolve?l.resolve(e,t):o.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(Zf(),(0,Po.b)(m=>{l[d]=m}))),X1(1),function rk(n){return(0,Dt.U)(()=>n)}(l),hm(d=>VN(d)?Bf.E:RT(d)))}(l,n,e,r).pipe((0,Dt.U)(d=>(n._resolvedData=d,n.data=MN(n,t).resolve,o&&GN(o)&&(n.data[OT]=o.title),null)))}(d.route,r,n,e)),(0,Po.b)(()=>l++),X1(1),(0,Lo.z)(d=>l===o.length?(0,Tt.of)(t):Bf.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Po.b)({next:()=>T=!0,complete:()=>{T||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Po.b)(m=>{const T=new Pk(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(T)}))}),yM(d=>{const m=T=>{const b=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(T.routeConfig).pipe((0,Po.b)(M=>{T.component=M}),(0,Dt.U)(()=>{})));for(const M of T.children)b.push(...m(M));return b};return J1(m(d.targetSnapshot.root)).pipe(Sb(),iv(1))}),yM(()=>this.afterPreactivation()),(0,Dt.U)(d=>{const m=function zk(n,e,t){const r=jT(n,e._root,t?t._root:void 0);return new DN(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,Po.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t,r)=>(0,Dt.U)(o=>(new nO(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),iv(1),(0,Po.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new gm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),eM(()=>{o||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),hm(d=>{if(l=!0,LN(d)){ON(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new Gb(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),ON(d)){const T=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||KN(r.source)};t.scheduleNavigation(T,BT,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new aM(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(T){r.reject(T)}}return Bf.E}))}))}cancelNavigationTransition(t,r,o){const l=new Gb(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KN(n){return n!==BT}let WN=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(l=>l.outlet===Kt);return r}getResolvedTitleForRoute(t){return t.data[OT]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)($O)},providedIn:"root"}),n})(),$O=(()=>{class n extends WN{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ya))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(KO)},providedIn:"root"}),n})();class zO{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let KO=(()=>{class n extends zO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eD=new a.OlP("",{providedIn:"root",factory:()=>({})});let WO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(YO)},providedIn:"root"}),n})(),YO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ks=(()=>((ks=ks||{})[ks.COMPLETE=0]="COMPLETE",ks[ks.FAILED=1]="FAILED",ks[ks.REDIRECTING=2]="REDIRECTING",ks))();function YN(n,e){n.events.pipe(Es(t=>t instanceof gm||t instanceof Gb||t instanceof aM||t instanceof ZT),(0,Dt.U)(t=>t instanceof gm||t instanceof ZT?ks.COMPLETE:t instanceof Gb&&(0===t.code||1===t.code)?ks.REDIRECTING:ks.FAILED),Es(t=>t!==ks.REDIRECTING),iv(1)).subscribe(()=>{e()})}function JO(n){throw n}function QO(n,e,t){return e.parse("/")}const XO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Da=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(eD,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||JO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||QO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(WO),this.routeReuseStrategy=(0,a.f3M)(GO),this.titleStrategy=(0,a.f3M)(WN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(fv,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(Xb),this.urlSerializer=(0,a.f3M)(PT),this.location=(0,a.f3M)($e),this.componentInputBindingEnabled=!!(0,a.f3M)(Kb,{optional:!0}),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new av,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=AN(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),BT,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const l={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const T={...o};delete T.navigationId,delete T.\u0275routerPageId,0!==Object.keys(T).length&&(l.state=T)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:T}=r,b=T?this.currentUrlTree.fragment:d;let R,M=null;switch(m){case"merge":M={...this.currentUrlTree.queryParams,...l};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}null!==M&&(M=this.removeEmptyProps(M));try{R=_N(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),R=this.currentUrlTree.root}return yN(R,t,M,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=pm(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,BT,null,r)}navigate(t,r={skipLocationChange:!1}){return function tL(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new a.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...XO}:!1===r?{...eL}:r,pm(t))return uN(this.currentUrlTree,t,o);const l=this.parseUrl(t);return uN(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}scheduleNavigation(t,r,o,l,d){if(this.disposed)return Promise.resolve(!1);let m,T,b;d?(m=d.resolve,T=d.reject,b=d.promise):b=new Promise((R,j)=>{m=R,T=j});const M=this.pendingTasks.add();return YN(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:m,reject:T,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const l={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",l)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-(this.browserPageId??this.currentPageId);0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tD=(()=>{class n{constructor(t,r,o,l,d,m){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=l,this.el=d,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new dm.x;const T=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===T||"area"===T,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof gm&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,l,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||l||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,l=this.el.nativeElement;null!==r?o.setAttribute(l,t,r):o.removeAttribute(l,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Da),a.Y36(lv),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Pe))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class JN{}let iL=(()=>{class n{constructor(t,r,o,l,d){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Es(t=>t instanceof gm),kT(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,a.MMx)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,m=l._loadedInjector??d;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(d,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(m,l.children??l._loadedRoutes))}return(0,fn.D)(o).pipe((0,gl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Tt.of)(null);const l=o.pipe((0,Lo.z)(d=>null===d?(0,Tt.of)(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,fn.D)([l,d]).pipe((0,gl.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Da),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(JN),a.LFG(vM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wM=new a.OlP("");let QN=(()=>{class n{constructor(t,r,o,l,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=l,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gm?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ZT&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof CN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new CN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Md(n,e){return{\u0275kind:n,\u0275providers:e}}function ex(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const r=n.get(Da),o=n.get(tx);1===n.get(TM)&&r.initialNavigation(),n.get(nx,null,a.XFs.Optional)?.setUpPreloading(),n.get(wM,null,a.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const tx=new a.OlP("",{factory:()=>new dm.x}),TM=new a.OlP("",{providedIn:"root",factory:()=>1}),nx=new a.OlP("");function uL(n){return Md(0,[{provide:nx,useExisting:iL},{provide:JN,useExisting:n}])}const rx=new a.OlP("ROUTER_FORROOT_GUARD"),cL=[$e,{provide:PT,useClass:tM},Da,HT,{provide:lv,useFactory:function XN(n){return n.routerState.root},deps:[Da]},vM,[]];function dL(){return new a.PXZ("Router",Da)}let ix=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[cL,[],{provide:fv,multi:!0,useValue:t},{provide:rx,useFactory:gL,deps:[[Da,new a.FiY,new a.tp0]]},{provide:eD,useValue:r||{}},r?.useHash?{provide:Pe,useClass:Se}:{provide:Pe,useClass:Ye},{provide:wM,useFactory:()=>{const n=(0,a.f3M)(oo),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(eD),r=(0,a.f3M)(Xb),o=(0,a.f3M)(PT);return t.scrollOffset&&n.setOffset(t.scrollOffset),new QN(o,r,n,e,t)}},r?.preloadingStrategy?uL(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:dL},r?.initialNavigation?mL(r):[],r?.bindToComponentInputs?Md(8,[xN,{provide:Kb,useExisting:xN}]).\u0275providers:[],[{provide:ox,useFactory:ex},{provide:a.tb,multi:!0,useExisting:ox}]]}}static forChild(t){return{ngModule:n,providers:[{provide:fv,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(rx,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function gL(n){return"guarded"}function mL(n){return["disabled"===n.initialNavigation?Md(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Da);return()=>{e.setUpLocationChangeListener()}}},{provide:TM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Md(2,[{provide:TM,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(ke,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Da),l=e.get(tx);YN(o,()=>{r(!0)}),e.get(Xb).afterPreactivation=()=>(r(!0),l.closed?(0,Tt.of)(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const ox=new a.OlP("");let EM=(()=>{class n{constructor(t){this.db=t,this.dbPath="/tutorials",this.tutorialsRef=t.collection(this.dbPath)}getAll(){return this.tutorialsRef}getByProgram(t){return this.db.collection(this.dbPath,r=>r.where("programaInteres","==",t))}create(t){return this.tutorialsRef.add({...t})}update(t,r){return this.tutorialsRef.doc(t).update(r)}delete(t){return this.tutorialsRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(eN))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class IM{constructor(){this.persuasivoM=0,this.persuasivoL=0,this.gentilM=0,this.gentilL=0,this.humildeM=0,this.humildeL=0,this.originalM=0,this.originalL=0,this.fuerzavoluntadM=0,this.fuerzavoluntadL=0,this.menteabiertaM=0,this.menteabiertaL=0,this.complacienteM=0,this.complacienteL=0,this.animosoM=0,this.animosoL=0,this.obedienteM=0,this.obedienteL=0,this.quisquillosoM=0,this.quisquillosoL=0,this.inconquistableM=0,this.inconquistableL=0,this.juguetonM=0,this.juguetonL=0,this.aventureroM=0,this.aventureroL=0,this.receptivoM=0,this.receptivoL=0,this.cordialM=0,this.cordialL=0,this.moderadoM=0,this.moderadoL=0,this.agresivoM=0,this.agresivoL=0,this.almafiestaM=0,this.almafiestaL=0,this.comodinoM=0,this.comodinoL=0,this.temerosoM=0,this.temerosoL=0,this.confiadoM=0,this.confiadoL=0,this.simpatizadorM=0,this.simpatizadorL=0,this.toleranteM=0,this.toleranteL=0,this.afirmativoM=0,this.afirmativoL=0,this.respetuosoM=0,this.respetuosoL=0,this.emprendedorM=0,this.emprendedorL=0,this.optimistaM=0,this.optimistaL=0,this.servicialM=0,this.servicialL=0,this.indulgenteM=0,this.indulgenteL=0,this.estetaM=0,this.estetaL=0,this.vigorosoM=0,this.vigorosoL=0,this.sociableM=0,this.sociableL=0,this.agradableM=0,this.agradableL=0,this.temerosodiosM=0,this.temerosodiosL=0,this.tenazM=0,this.tenazL=0,this.atractivoM=0,this.atractivoL=0,this.ecuanimeM=0,this.ecuanimeL=0,this.precisoM=0,this.precisoL=0,this.nerviosoM=0,this.nerviosoL=0,this.jovialM=0,this.jovialL=0,this.valienteM=0,this.valienteL=0,this.inspiradorM=0,this.inspiradorL=0,this.sumisoM=0,this.sumisoL=0,this.timidoM=0,this.timidoL=0,this.parlanchinM=0,this.parlanchinL=0,this.controladoM=0,this.controladoL=0,this.convencionalM=0,this.convencionalL=0,this.decisivoM=0,this.decisivoL=0,this.cautelosoM=0,this.cautelosoL=0,this.determinadoM=0,this.determinadoL=0,this.convincenteM=0,this.convincenteL=0,this.bonachonM=0,this.bonachonL=0,this.disciplinadoM=0,this.disciplinadoL=0,this.generosoM=0,this.generosoL=0,this.ani_mosoM=0,this.ani_mosoL=0,this.persistenteM=0,this.persistenteL=0,this.adaptableM=0,this.adaptableL=0,this.disputadorM=0,this.disputadorL=0,this.indiferenteM=0,this.indiferenteL=0,this.sangrelivianaM=0,this.sangrelivianaL=0,this.cohibidoM=0,this.cohibidoL=0,this.exactoM=0,this.exactoL=0,this.francoM=0,this.francoL=0,this.buencompaneroM=0,this.buencompaneroL=0,this.docilM=0,this.docilL=0,this.atrevidoM=0,this.atrevidoL=0,this.lealM=0,this.lealL=0,this.encantadorM=0,this.encantadorL=0,this.competitivoM=0,this.competitivoL=0,this.alegreM=0,this.alegreL=0,this.consideradoM=0,this.consideradoL=0,this.armoniosoM=0,this.armoniosoL=0,this.amigueroM=0,this.amigueroL=0,this.pacienteM=0,this.pacienteL=0,this.confianzamismoM=0,this.confianzamismoL=0,this.mesuradohablarM=0,this.mesuradohablarL=0,this.diplomaticoM=0,this.diplomaticoL=0,this.audazM=0,this.audazL=0,this.refinadoM=0,this.refinadoL=0,this.satisfechoM=0,this.satisfechoL=0,this.dispuestoM=0,this.dispuestoL=0,this.deseosoM=0,this.deseosoL=0,this.consecuenteM=0,this.consecuenteL=0,this.entusiastaM=0,this.entusiastaL=0,this.admirableM=0,this.admirableL=0,this.bondadosoM=0,this.bondadosoL=0,this.resignadoM=0,this.resignadoL=0,this.caracterfirmeM=0,this.caracterfirmeL=0,this.conformeM=0,this.conformeL=0,this.confiableM=0,this.confiableL=0,this.pacificoM=0,this.pacificoL=0,this.positivoM=0,this.positivoL=0,this.inquietoM=0,this.inquietoL=0,this.popularM=0,this.popularL=0,this.buenvecinoM=0,this.buenvecinoL=0,this.devotoM=0,this.devotoL=0,this.facultad="fnt",this.FinalT=0,this.FinalM=0,this.FinalL=0,this.FinalResult=0,this.Result=0,this.message=""}}function yL(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",2)(1,"h4"),a._uU(2,"Datos del estudiante"),a.qZA(),a.TgZ(3,"form")(4,"div",3)(5,"label",4),a._uU(6,"Ap. Paterno"),a.qZA(),a.TgZ(7,"input",5),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.currentTutorial.appPaterno=o)}),a.qZA()()(),a._uU(8),a._UZ(9,"br"),a._uU(10),a._UZ(11,"br"),a._uU(12),a._UZ(13,"br")(14,"br"),a._uU(15),a._UZ(16,"br"),a._uU(17),a._UZ(18,"br"),a._uU(19),a._UZ(20,"br")(21,"br"),a._uU(22),a._UZ(23,"br"),a._uU(24),a._UZ(25,"br"),a._uU(26),a._UZ(27,"br"),a._uU(28),a._UZ(29,"br"),a.qZA()}if(2&n){const t=a.oxw();a.xp6(7),a.Q6J("ngModel",t.currentTutorial.appPaterno),a.xp6(1),a.HOy(" ",t.MD," , ",t.MI," , ",t.MS," , ",t.MC," "),a.xp6(2),a.HOy("\n",t.LD," , ",t.LI," , ",t.LS," , ",t.LC," "),a.xp6(2),a.HOy("\n",t.TotD," , ",t.TotI," , ",t.TotS," , ",t.TotC," "),a.xp6(3),a.HOy("\n",t.ResultMD," - ",t.ResultMI," - ",t.ResultMS," - ",t.ResultMC," "),a.xp6(2),a.HOy("\n",t.ResultLD," - ",t.ResultLI," - ",t.ResultLS," - ",t.ResultLC," "),a.xp6(2),a.HOy("\n",t.ResultTotD," - ",t.ResultTotI," - ",t.ResultTotS," - ",t.ResultTotC," "),a.xp6(3),a.lnq(" ",t.tutorial.FinalT," - ",t.tutorial.FinalM," - ",t.tutorial.FinalL," "),a.xp6(2),a.hij(" ",t.tutorial.FinalResult," "),a.xp6(2),a.hij(" ",t.tutorial.Result," "),a.xp6(2),a.hij(" ",t.tutorial.message," ")}}function vL(n,e){1&n&&(a.TgZ(0,"div"),a._UZ(1,"br"),a.TgZ(2,"p"),a._uU(3,"Cannot access this Tutorial..."),a.qZA()())}let wL=(()=>{class n{constructor(t){this.tutorialService=t,this.tutorial=new IM,this.refreshList=new a.vpe,this.currentTutorial={appPaterno:"",appMaterno:"",nombre:"",persuasivoM:0,persuasivoL:0,gentilM:0,gentilL:0,humildeM:0,humildeL:0,originalM:0,originalL:0,fuerzavoluntadM:0,fuerzavoluntadL:0,menteabiertaM:0,menteabiertaL:0,complacienteM:0,complacienteL:0,animosoM:0,animosoL:0,obedienteM:0,obedienteL:0,quisquillosoM:0,quisquillosoL:0,inconquistableM:0,inconquistableL:0,juguetonM:0,juguetonL:0,aventureroM:0,aventureroL:0,receptivoM:0,receptivoL:0,cordialM:0,cordialL:0,moderadoM:0,moderadoL:0,agresivoM:0,agresivoL:0,almafiestaM:0,almafiestaL:0,comodinoM:0,comodinoL:0,temerosoM:0,temerosoL:0,confiadoM:0,confiadoL:0,simpatizadorM:0,simpatizadorL:0,toleranteM:0,toleranteL:0,afirmativoM:0,afirmativoL:0,respetuosoM:0,respetuosoL:0,emprendedorM:0,emprendedorL:0,optimistaM:0,optimistaL:0,servicialM:0,servicialL:0,indulgenteM:0,indulgenteL:0,estetaM:0,estetaL:0,vigorosoM:0,vigorosoL:0,sociableM:0,sociableL:0,agradableM:0,agradableL:0,temerosodiosM:0,temerosodiosL:0,tenazM:0,tenazL:0,atractivoM:0,atractivoL:0,ecuanimeM:0,ecuanimeL:0,precisoM:0,precisoL:0,nerviosoM:0,nerviosoL:0,jovialM:0,jovialL:0,valienteM:0,valienteL:0,inspiradorM:0,inspiradorL:0,sumisoM:0,sumisoL:0,timidoM:0,timidoL:0,parlanchinM:0,parlanchinL:0,controladoM:0,controladoL:0,convencionalM:0,convencionalL:0,decisivoM:0,decisivoL:0,cautelosoM:0,cautelosoL:0,determinadoM:0,determinadoL:0,convincenteM:0,convincenteL:0,bonachonM:0,bonachonL:0,disciplinadoM:0,disciplinadoL:0,generosoM:0,generosoL:0,ani_mosoM:0,ani_mosoL:0,persistenteM:0,persistenteL:0,adaptableM:0,adaptableL:0,disputadorM:0,disputadorL:0,indiferenteM:0,indiferenteL:0,sangrelivianaM:0,sangrelivianaL:0,cohibidoM:0,cohibidoL:0,exactoM:0,exactoL:0,francoM:0,francoL:0,buencompaneroM:0,buencompaneroL:0,docilM:0,docilL:0,atrevidoM:0,atrevidoL:0,lealM:0,lealL:0,encantadorM:0,encantadorL:0,competitivoM:0,competitivoL:0,alegreM:0,alegreL:0,consideradoM:0,consideradoL:0,armoniosoM:0,armoniosoL:0,amigueroM:0,amigueroL:0,pacienteM:0,pacienteL:0,confianzamismoM:0,confianzamismoL:0,mesuradohablarM:0,mesuradohablarL:0,diplomaticoM:0,diplomaticoL:0,audazM:0,audazL:0,refinadoM:0,refinadoL:0,satisfechoM:0,satisfechoL:0,dispuestoM:0,dispuestoL:0,deseosoM:0,deseosoL:0,consecuenteM:0,consecuenteL:0,entusiastaM:0,entusiastaL:0,admirableM:0,admirableL:0,bondadosoM:0,bondadosoL:0,resignadoM:0,resignadoL:0,caracterfirmeM:0,caracterfirmeL:0,conformeM:0,conformeL:0,confiableM:0,confiableL:0,pacificoM:0,pacificoL:0,positivoM:0,positivoL:0,inquietoM:0,inquietoL:0,popularM:0,popularL:0,buenvecinoM:0,buenvecinoL:0,devotoM:0,devotoL:0,FinalT:0,FinalM:0,FinalL:0,FinalResult:0,Result:0,message:""},this.arrMD=[1,5,10,20,30,40,50,60,65,75,84,87,90,93,95,97,97,98,98,98,99],this.arrMI=[4,10,25,40,55,70,82,90,95,96,97,97,97,97,97,97,97,99],this.arrMS=[5,10,16,30,40,55,63,75,84,90,95,96,97,97,97,97,98,98,98,99],this.arrMC=[1,5,16,30,55,70,84,93,95,97,97,97,98,98,98,99],this.arrLD=[99,95,87,80,65,55,50,35,30,20,18,15,10,6,5,4,3,2,2,2,2,1],this.arrLI=[99,95,87,75,55,40,25,16,10,5,4,4,3,3,3,2,2,2,2,1],this.arrLS=[99,97,95,87,80,65,55,35,28,18,10,5,4,3,3,3,2,2,2,1],this.arrLC=[99,97,95,90,84,70,55,40,38,23,10,5,4,3,2,2,1],this.arrtempTC=[[-21,1],[-20,2],[-19,2],[-18,2],[-17,2],[-16,2],[-15,2],[-14,2],[-13,4],[-12,5],[-11,5],[-10,9],[-9,13],[-8,15],[-7,16],[-6,20],[-5,25],[-4,29],[-3,35],[-2,40],[-1,45],[0,50],[1,55],[2,60],[3,65],[4,67],[5,70],[6,75],[7,80],[8,84],[9,85],[10,90],[11,91],[12,94],[13,95],[14,96],[15,97],[16,97],[17,98],[18,98],[19,98],[20,99]],this.arrTD={"-21":1,"-20":2,"-19":2,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":4,"-12":5,"-11":5,"-10":9,"-9":13,"-8":15,"-7":16,"-6":20,"-5":25,"-4":29,"-3":35,"-2":40,"-1":45,0:50,1:55,2:60,3:65,4:67,5:70,6:75,7:80,8:84,9:85,10:90,11:91,12:94,13:95,14:96,15:97,16:97,17:98,18:98,19:98,20:99},this.arrTI={"-19":1,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":2,"-12":2,"-11":2,"-10":3,"-9":4,"-8":5,"-7":6,"-6":10,"-5":16,"-4":20,"-3":29,"-2":35,"-1":45,0:55,1:60,2:70,3:75,4:85,5:90,6:95,7:96,8:97,9:97,10:98,11:98,12:98,13:98,14:98,15:98,16:98,17:99},this.arrTS={"-19":1,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":2,"-12":3,"-11":4,"-10":5,"-9":8,"-8":10,"-7":15,"-6":20,"-5":25,"-4":30,"-3":35,"-2":40,"-1":50,0:57,1:60,2:70,3:75,4:80,5:84,6:87,7:91,8:94,9:96,10:97,11:97,12:98,13:98,14:98,15:98,16:98,17:98,18:98,19:99},this.arrTC={"-16":1,"-15":2,"-14":2,"-13":2,"-12":2,"-11":3,"-10":4,"-9":6,"-8":9,"-7":13,"-6":20,"-5":25,"-4":30,"-3":35,"-2":55,"-1":60,0:70,1:75,2:84,3:90,4:95,5:96,6:97,7:97,8:98,9:98,10:98,11:98,12:98,13:98,14:98,15:99},this.arrInter={1:"Persuasivo\tel que tiene fuerza para hacer creer a otros una cosa, convencer de algo.",2:"Gentil\tel que act\xfaa con cortes\xeda y soltura, con urbanidad. El amable, gallardo, con gracia.",3:"Humilde\tsencillo, que no alardea (no interpretar como vida cristiana)",4:"Original\tel que no es imitaci\xf3n de otro, el singular.",5:"Agresivo\tel que demuestra empuje e iniciativa en una forma positiva, no es el propenso a ofender.",6:"Alma de la fiesta\tel m\xe1s popular, el que genera mayor atracci\xf3n en  el grupo.",7:"Comodino\tel amante de la comodidad, que busca caminos f\xe1ciles.",8:"Temeroso\tel t\xedmido, el cobarde, aprensivo.",9:"Agradable\tel que agrada y complace, gusta a los dem\xe1s.",10:"Temeroso de Dios\tel que reconoce el poder de Dios sobre todas las cosas, religioso",11:"Tenaz\tel obstinado y testarudo, con inquebrantable fuerza de voluntad para realizar alg\xfan objetivo.",12:"Atractivo\tcualidad de la persona (encanto) que atrae la voluntad de los dem\xe1s.",13:"Cauteloso\tel reservado que act\xfaa con cuidado, con precauci\xf3n.",14:"Determinado\tel atrevido, que toma resoluciones, preciso y decidido, que define.",15:"Convincente\tel que sabe convencer y obligar a otro con razones a que reconozca una cosa o cambie de opini\xf3n.",25:"Fuerza de voluntad\tdeterminaci\xf3n inquebrantable para lograr algo, firmeza.",26:"Mente abierta\tcualidad para escuchar y recibir otro punto de vista diferente.",27:"Complaciente\tel que procura ser agradable, servicial, sol\xedcito, comedido, conciliador o deferente.",28:"Animoso\tel que demuestra valor, energ\xeda voluntad, intenci\xf3n y esfuerzo para la lucha o el trabajo.",29:"Confiado\tel presumido y vanidoso, cr\xe9dulo y sencillo. No el que conf\xeda en s\xed mismo.",30:"Simpatizador\tel que manifiesta inclinaci\xf3n o afecto natural hacia otras personas.",31:"Tolerante\tel que reconoce y respeta las opiniones, pr\xe1cticas y comportamiento de otros, aunque sean diferentes a las de \xe9l. No el que sufre con paciencia o el que deja pasar cosas que no son l\xedcitas.",32:"Afirmativo\tel que responde en la mayor\xeda de las ocasiones de una manera positiva. No el que se sostiene o ratifica lo dicho.",33:"Ecu\xe1nime\tel calmado, sereno, imparcial, inalterable, paciente, prudente. Que tiene siempre el mismo \xe1nimo.",34:"Preciso\tel puntual y exacto, con claridad y determinado.",35:"Nervioso\tel ansioso, al que le falta sentido de seguridad",36:"Jovial\tel apacible, alegre y festivo.",37:"Disciplinado\tel acostumbrado a la obediencia, a seguir las reglas.",38:"Generoso\tel que obra con magnanimidad y nobleza, liberal dadivoso y franco.",39:"Animoso\tel que demuestra valor, energ\xeda voluntad, intenci\xf3n y esfuerzo para la lucha o el trabajo.",40:"Persistente\tel que supera obst\xe1culos, el que es constante, y perseverante, el que se mantiene en un prop\xf3sito.",41:"Competitivo\tel que contiende o disputa con otros por una causa de superaci\xf3n com\xfan por perfecci\xf3n o por la posesi\xf3n de propiedades.",42:"Alegre\tel  que est\xe1 lleno de alegr\xeda y la ocasiona en otros. Contento de animo, festivo.",43:"Considerado\tel que obra con reflexi\xf3n y que trata con respeto a los dem\xe1s.",44:"Armonioso\tel que tiene amistad y buena correspondencia, el que no tiene fricciones con otros.",45:"Admirable\tque es digno de admiraci\xf3n. Notable.",46:"Bondadoso\tel que es muy bueno, humanitario.",47:"Resignado\tel que se conforma, se sujeta, el condescendiente. El que acepta estar bajo la voluntad de otro.",48:"Car\xe1cter firme\tque no cambia f\xe1cilmente su punto de vista o su estilo de condici\xf3n.",49:"Obediente\tel que sabe seguir indicaciones sin poner su creatividad, cumple voluntad de quien manda, d\xf3cil, subordinado.",50:"Quisquilloso\tel que f\xe1cilmente se agravia u ofende, demasiado delicado en el trato, meticuloso.",51:"Inconquistable\tque no se deja vencer con ruegos, detalles o agasajos, susceptible.",52:"Juguet\xf3n\tel que tiene buen sentido del humor, aficionado a bromas.",53:"Respetuoso\tel que guarda reverencia, consideraci\xf3n y cortes\xeda para los dem\xe1s.",54:"Emprendedor\tque muestra imaginaci\xf3n instintiva y empuje, que se dedica a resolver situaciones dif\xedciles. Atrevido.",55:"Optimista\tel que suele ver y juzgar las cosas bajo su aspecto m\xe1s favorable.",56:"Servicial\tel que sirve con diligencia, siempre dispuesto a complacer a otros, amable y colaborador.",57:"Valiente\tel que manifiesta coraje y decisi\xf3n. El fuerte, en\xe9rgico y animoso.",58:"Inspirador\tel que anima la mente o las emociones de otros; infunde entusiasmo.",59:"Sumiso\tel que permite por s\xed mismo estar sujeto a otro. Obediente y d\xf3cil.",60:"T\xedmido\tcallado, no busca sobresalir.",61:"Adaptable\tel que se ajusta f\xe1cilmente a condiciones nuevas o diferentes.",62:"Disputador\tdado a arg\xfcir o debatir razones para, por o contra algo. Discutidor.",63:"Indiferente\tel que parece en forma sistem\xe1tica no estar involucrado. No presenta motivo de preferencia.",64:'"Sangre liviana"\tel que a todo el mundo le cae bien, persona simp\xe1tica.',65:"Amiguero\tel que busca y goza la compa\xf1\xeda de otros, muy sociable.",66:"Paciente\tel que es capaz de soportar, sabe esperar con calma el momento oportuno.",67:"Confianza en s\xed mismo\tconf\xeda en sus propias capacidades y recursos, autosuficiente.",68:"Mesurado para hablar\tmedido para hablar, habla lo necesario.",69:"Conforme\tel satisfecho con lo que tiene, de acuerdo con el parecer de otros.",70:"Confiable\tpersona con la cual se tiene confianza.",71:"Pac\xedfico\tel que tiene calma y serenidad, amante de la paz.",72:"Positivo\toptimista.",73:"Aventurero\tel que busca aventuras",74:"Receptivo\tpersona con capacidad de recibir, facilidad para captar algo",75:"Cordial\tpersona amable, afectuosa, cari\xf1osa.",76:"Moderado\tguarda medio entre dos extremos, que mantiene un equilibrio en sus acciones.",77:"Indulgente\tel que perdona f\xe1cilmente, tolerante, conciliador.",78:"Esteta\tel que es aficionado, percibe o cultiva la belleza. Busca en todo la elegancia.",79:"Vigoroso\tel robusto y fuerte.",80:"Sociable\tel que busca y necesita del compa\xf1erismo de otros, f\xe1cil de tratar con \xe9l.",81:"Parlanch\xedn\tpersona locuaz, que tiene inclinaci\xf3n por hablar mucho, platicador.",82:"Controlado\tejerce influencia resultante en s\xed mismo y en otros, con dominio de s\xed.",83:"Convencional\tel que se mantiene en una trayectoria de uso general.",84:"Decisivo\tel resuelto, determinado e incuestionable.",85:"Cohibido\tel que se limita, restringe o controla ante los dem\xe1s.",86:"Exacto\tjusto, preciso, matem\xe1tico, calculador.",87:"Franco\tespont\xe1neo, leal, sincero.",88:"Buen compa\xf1ero\tpersona sociable, que mantiene armon\xeda con otros.",89:"Diplom\xe1tico\tel que se caracteriza por el buen tacto en su trato con la gente.",90:"Audaz\tel arrogante e insolente. No el osado ni atrevido.",91:"Refinado\tel elegante y fino en su manera de ser, se distingue.",92:"Satisfecho\tse contenta o conforma con lo que tiene.",93:"Inquieto\tel que gusta de lo nuevo, vers\xe1til y cambiante.",94:"Popular\tel que genera atracci\xf3n en el grupo.",95:"Buen vecino\tel que act\xfaa con soltura y cortes\xeda.",96:"Devoto\tel sumiso y fiel."},this.message=""}ngOnInit(){this.message=""}ngOnChanges(){this.message="",this.currentTutorial={...this.tutorial},this.MD=Number(this.tutorial.agresivoM)+Number(this.tutorial.tenazM)+Number(this.tutorial.determinadoM)+Number(this.tutorial.atrevidoM)+Number(this.currentTutorial.afirmativoM)+Number(this.tutorial.persistenteM)+Number(this.tutorial.competitivoM)+Number(this.tutorial.caracterfirmeM)+Number(this.tutorial.inconquistableM)+Number(this.tutorial.emprendedorM)+Number(this.tutorial.valienteM)+Number(this.tutorial.disputadorM)+Number(this.tutorial.confianzamismoM)+Number(this.tutorial.positivoM),Number(this.currentTutorial.aventureroM),Number(this.tutorial.vigorosoM),Number(this.tutorial.decisivoM),Number(this.tutorial.francoM),Number(this.tutorial.audazM),Number(this.tutorial.inquietoM),this.MI=Number(this.currentTutorial.persuasivoM)+Number(this.tutorial.almafiestaM)+Number(this.tutorial.atractivoM)+Number(this.tutorial.convincenteM)+Number(this.tutorial.encantadorM)+Number(this.tutorial.animosoM)+Number(this.tutorial.confiadoM)+Number(this.tutorial.admirableM)+Number(this.tutorial.juguetonM)+Number(this.tutorial.optimistaM)+Number(this.tutorial.inspiradorM)+Number(this.tutorial.sangrelivianaM)+Number(this.tutorial.amigueroM)+Number(this.tutorial.cordialM)+Number(this.tutorial.sociableM)+Number(this.tutorial.parlanchinM)+Number(this.tutorial.buencompaneroM)+Number(this.tutorial.popularM),this.MS=Number(this.currentTutorial.gentilM)+Number(this.tutorial.comodinoM)+Number(this.tutorial.bonachonM)+Number(this.tutorial.lealM)+Number(this.tutorial.dispuestoM)+Number(this.tutorial.complacienteM)+Number(this.tutorial.ecuanimeM)+Number(this.tutorial.generosoM)+Number(this.tutorial.consideradoM)+Number(this.tutorial.bondadosoM)+Number(this.tutorial.obedienteM)+Number(this.tutorial.servicialM)+Number(this.tutorial.pacienteM)+Number(this.tutorial.confiableM)+Number(this.tutorial.moderadoM)+Number(this.tutorial.indulgenteM)+Number(this.tutorial.controladoM)+Number(this.tutorial.satisfechoM)+Number(this.tutorial.buenvecinoM),this.MC=Number(this.tutorial.humildeM)+Number(this.tutorial.temerosodiosM)+Number(this.tutorial.cautelosoM)+Number(this.tutorial.consecuenteM)+Number(this.tutorial.menteabiertaM)+Number(this.tutorial.precisoM)+Number(this.tutorial.disciplinadoM)+Number(this.tutorial.respetuosoM)+Number(this.tutorial.adaptableM)+Number(this.tutorial.mesuradohablarM)+Number(this.tutorial.pacificoM)+Number(this.tutorial.receptivoM)+Number(this.tutorial.exactoM)+Number(this.tutorial.diplomaticoM)+Number(this.tutorial.devotoM),this.LD=Number(this.currentTutorial.originalL)+Number(this.tutorial.tenazL)+Number(this.tutorial.atractivoL)+Number(this.tutorial.entusiastaL)+Number(this.tutorial.fuerzavoluntadL)+Number(this.tutorial.afirmativoL)+Number(this.tutorial.nerviosoL)+Number(this.tutorial.persistenteL)+Number(this.tutorial.competitivoL)+Number(this.tutorial.emprendedorM)+Number(this.tutorial.caracterfirmeL)+Number(this.tutorial.inconquistableL)+Number(this.tutorial.emprendedorL)+Number(this.tutorial.disputadorL),Number(this.tutorial.confianzamismoL),Number(this.tutorial.positivoL),Number(this.tutorial.aventureroL),Number(this.tutorial.vigorosoL),Number(this.tutorial.decisivoL),Number(this.tutorial.francoL),Number(this.tutorial.audazL),Number(this.tutorial.inquietoL),this.LI=Number(this.tutorial.almafiestaL)+Number(this.tutorial.atractivoL)+Number(this.tutorial.convincenteL)+Number(this.tutorial.encantadorL)+Number(this.tutorial.animosoL)+Number(this.tutorial.jovialL)+Number(this.tutorial.ani_mosoL)+Number(this.tutorial.alegreL)+Number(this.tutorial.juguetonL)+Number(this.tutorial.optimistaL)+Number(this.tutorial.sangrelivianaL)+Number(this.tutorial.amigueroL)+Number(this.tutorial.confiableL)+Number(this.tutorial.cordialL)+Number(this.tutorial.sociableL)+Number(this.tutorial.parlanchinL)+Number(this.tutorial.buencompaneroL)+Number(this.tutorial.refinadoL)+Number(this.tutorial.popularL),this.LS=Number(this.tutorial.gentilL)+Number(this.tutorial.comodinoL)+Number(this.tutorial.agradableL)+Number(this.tutorial.complacienteL)+Number(this.tutorial.simpatizadorL)+Number(this.tutorial.ecuanimeL)+Number(this.tutorial.generosoL)+Number(this.tutorial.consideradoL)+Number(this.tutorial.servicialL)+Number(this.tutorial.sumisoL)+Number(this.tutorial.indiferenteL)+Number(this.tutorial.pacienteL)+Number(this.tutorial.conformeL)+Number(this.tutorial.moderadoL)+Number(this.tutorial.indulgenteL)+Number(this.tutorial.controladoL)+Number(this.tutorial.cohibidoL)+Number(this.tutorial.satisfechoL)+Number(this.tutorial.buenvecinoL),this.LC=Number(this.tutorial.humildeL)+Number(this.tutorial.temerosoL)+Number(this.tutorial.temerosodiosL)+Number(this.tutorial.cautelosoL)+Number(this.tutorial.docilL)+Number(this.tutorial.consecuenteL)+Number(this.tutorial.toleranteL)+Number(this.tutorial.precisoL)+Number(this.tutorial.armoniosoL)+Number(this.tutorial.resignadoL)+Number(this.tutorial.quisquillosoL)+Number(this.tutorial.timidoL)+Number(this.tutorial.pacificoL)+Number(this.tutorial.estetaL),Number(this.tutorial.convencionalL),Number(this.tutorial.devotoL),this.TotD=Number(this.MD)-Number(this.LD),this.TotI=Number(this.MI)-Number(this.LI),this.TotS=Number(this.MS)-Number(this.LS),this.TotC=Number(this.MC)-Number(this.LC),this.ResultMD=this.arrMD[this.MD],this.ResultMI=this.arrMI[this.MI],this.ResultMS=this.arrMS[this.MS],this.ResultMC=this.arrMC[this.MC],this.ResultLD=this.arrLD[this.LD],this.ResultLI=this.arrLI[this.LI],this.ResultLS=this.arrLS[this.LS],this.ResultLC=this.arrLC[this.LC],this.ResultTotD=this.arrTD[this.TotD],this.ResultTotI=this.arrTI[this.TotI],this.ResultTotS=this.arrTS[this.TotS],this.ResultTotC=this.arrTC[this.TotC];var r=[this.ResultMD,this.ResultMI,this.ResultMS,this.ResultMC],o=[this.ResultLD,this.ResultLI,this.ResultLS,this.ResultLC],l=Math.max(...[this.ResultTotD,this.ResultTotI,this.ResultTotS,this.ResultTotC].map(T=>T)),d=Math.max(...r.map(T=>T)),m=Math.max(...o.map(T=>T));this.FinalT=l,this.FinalM=d,this.FinalL=m,this.FinalResult=(this.FinalT+this.FinalM+this.FinalL)/3,this.Result=this.FinalResult.toFixed(0),this.message=this.arrInter[this.Result]}updatePublished(t){this.currentTutorial.id&&this.tutorialService.update(this.currentTutorial.id,{published:t}).then(()=>{this.message="The status was updated successfully!"}).catch(r=>console.log(r))}updateTutorial(){this.currentTutorial.id&&this.tutorialService.update(this.currentTutorial.id,{title:this.currentTutorial.appPaterno,description:this.currentTutorial.appMaterno}).then(()=>this.message="The tutorial was updated successfully!").catch(r=>console.log(r))}deleteTutorial(){this.currentTutorial.id&&this.tutorialService.delete(this.currentTutorial.id).then(()=>{this.refreshList.emit(),this.message="The tutorial was updated successfully!"}).catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(EM))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-tutorial-details"]],inputs:{tutorial:"tutorial"},outputs:{refreshList:"refreshList"},features:[a.TTD],decls:2,vars:2,consts:[["class","edit-form",4,"ngIf"],[4,"ngIf"],[1,"edit-form"],[1,"form-group"],["for","title"],["type","text","id","appPaterno","name","appPaterno",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(a.YNc(0,yL,30,31,"div",0),a.YNc(1,vL,4,0,"div",1)),2&t&&(a.Q6J("ngIf",r.currentTutorial),a.xp6(1),a.Q6J("ngIf",!r.currentTutorial))},dependencies:[Uo,Lm,Co,Wo,Mc,kc,na]}),n})();function TL(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",15),a.NdJ("click",function(){const o=a.CHM(t),l=o.$implicit,d=o.index,m=a.oxw();return a.KtG(m.setActiveTutorial(l,d))}),a._uU(1),a.qZA()}if(2&n){const t=e.$implicit,r=e.index,o=a.oxw();a.ekj("active",r==o.currentIndex),a.xp6(1),a.gL8(" ",r+1," ",t.appPaterno,"-",t.appMaterno,", ",t.nombre," : ",t.Result," / ",t.message," ")}}function EL(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"app-tutorial-details",16),a.NdJ("refreshList",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.refreshList())}),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.Q6J("tutorial",t.currentTutorial)}}function IL(n,e){1&n&&(a.TgZ(0,"div"),a._UZ(1,"br"),a.TgZ(2,"p"),a._uU(3,"Seleccione un estudiante ..."),a.qZA()())}let CL=(()=>{class n{constructor(t){this.tutorialService=t,this.currentIndex=-1,this.title="",this.programaInteres="",this.n=0}ngOnInit(){}refreshList(){this.currentTutorial=void 0,this.currentIndex=-1}retrieveTutorialsByProgram(){this.tutorialService.getByProgram(this.programaInteres).snapshotChanges().pipe((0,Dt.U)(t=>t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})))).subscribe(t=>{this.tutorials=t,this.n=this.tutorials.length})}retrieveTutorials(){this.tutorialService.getAll().snapshotChanges().pipe((0,Dt.U)(t=>t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})))).subscribe(t=>{this.tutorials=t})}setActiveTutorial(t,r){this.currentTutorial=t,this.currentIndex=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(EM))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-tutorials-list"]],decls:27,vars:5,consts:[[1,"list","row"],[1,"col-md-6"],[1,"form-group"],["for","description"],["id","programaInteres","required","","name","programaInteres",1,"form-control",3,"ngModel","ngModelChange","change"],["value","LIS2024"],["value","LC2024"],["value","LAE2024"],["value","LGE2024"],["value","LTIO2024"],["value","LPOL2024"],["value","MEIT2024"],[1,"list-group"],["class","list-group-item",3,"active","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"list-group-item",3,"click"],[3,"tutorial","refreshList"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),a._uU(4,"Filtrar por Carrera "),a.qZA(),a.TgZ(5,"select",4),a.NdJ("ngModelChange",function(l){return r.programaInteres=l})("change",function(){return r.retrieveTutorialsByProgram()}),a.TgZ(6,"option",5),a._uU(7,"LIC ING DE SOFTWARE 2024"),a.qZA(),a.TgZ(8,"option",6),a._uU(9,"LIC CONTADURIA 2024"),a.qZA(),a.TgZ(10,"option",7),a._uU(11,"LIC ADM. EMPRESAS 2024"),a.qZA(),a.TgZ(12,"option",8),a._uU(13,"LIC GESTION EMP 2024"),a.qZA(),a.TgZ(14,"option",9),a._uU(15,"LIC TEC DE INFORMACION ORG 2024"),a.qZA(),a.TgZ(16,"option",10),a._uU(17,"LIC GESTION POLITICA 2024"),a.qZA(),a.TgZ(18,"option",11),a._uU(19,"MEIT 2024"),a.qZA()()(),a.TgZ(20,"h3"),a._uU(21),a.qZA(),a.TgZ(22,"ul",12),a.YNc(23,TL,2,8,"li",13),a.qZA()(),a.TgZ(24,"div",1),a.YNc(25,EL,2,1,"div",14),a.YNc(26,IL,4,0,"div",14),a.qZA()()),2&t&&(a.xp6(5),a.Q6J("ngModel",r.programaInteres),a.xp6(16),a.hij("",r.n," estudiantes "),a.xp6(2),a.Q6J("ngForOf",r.tutorials),a.xp6(2),a.Q6J("ngIf",r.currentTutorial),a.xp6(1),a.Q6J("ngIf",!r.currentTutorial))},dependencies:[Ru,Uo,Sp,pl,fl,Wo,hu,kc,wL],styles:[".list[_ngcontent-%COMP%]{text-align:left;max-width:750px;margin:auto}"]}),n})();function bL(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"h5"),a._uU(2,"Ingresar apellido paterno, materno, nombre completo, el numero de folio y puesto "),a.qZA(),a.TgZ(3,"div",2)(4,"label",3),a._uU(5,"Apellido Paterno"),a.qZA(),a.TgZ(6,"input",4),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.appPaterno=o)}),a.qZA()(),a.TgZ(7,"div",2)(8,"label",3),a._uU(9,"Apellido Materno"),a.qZA(),a.TgZ(10,"input",4),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.appMaterno=o)}),a.qZA()(),a.TgZ(11,"div",2)(12,"label",3),a._uU(13,"Nombre completo"),a.qZA(),a.TgZ(14,"input",4),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.nombre=o)}),a.qZA()(),a.TgZ(15,"div",2)(16,"label",3),a._uU(17,"Matricula"),a.qZA(),a.TgZ(18,"input",5),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.facebook=o)}),a.qZA()(),a.TgZ(19,"div",2)(20,"label",3),a._uU(21,"Carrera "),a.qZA(),a.TgZ(22,"select",6),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.programaInteres=o)}),a.TgZ(23,"option",7),a._uU(24,"LIC ING DE SOFTWARE 2024"),a.qZA(),a.TgZ(25,"option",8),a._uU(26,"LIC CONTADURIA 2024"),a.qZA(),a.TgZ(27,"option",9),a._uU(28,"LIC ADM. EMPRESAS 2024"),a.qZA(),a.TgZ(29,"option",10),a._uU(30,"LIC GESTION EMP 2024"),a.qZA(),a.TgZ(31,"option",11),a._uU(32,"LIC TEC DE INFORMACION ORG 2024"),a.qZA(),a.TgZ(33,"option",12),a._uU(34,"LIC GESTION POLITICA 2024"),a.qZA(),a.TgZ(35,"option",13),a._uU(36,"Ingreso a MEIT 2024"),a.qZA()()(),a.TgZ(37,"h5"),a._uU(38,' Encontraran cuatro palabras agrupadas, seleccionar de esas 4, \xfanicamente 2, la que "Mas" se parezca a uds. y la que "Menos" se parezca. '),a.qZA(),a._uU(39," Continuar con los grupos de 4 palabras hasta terminar el test. No dejar ninguna en blanco. "),a._UZ(40,"br")(41,"br"),a.TgZ(42,"div",2)(43,"label",14)(44,"h4"),a._uU(45,"GRUPO 1"),a.qZA()(),a.TgZ(46,"table")(47,"tr"),a._UZ(48,"td"),a.TgZ(49,"td")(50,"b"),a._uU(51,"M"),a.qZA(),a._uU(52,"ore"),a.qZA(),a.TgZ(53,"td")(54,"b"),a._uU(55,"L"),a.qZA(),a._uU(56,"ess"),a.qZA()(),a.TgZ(57,"tr")(58,"td"),a._uU(59,"PERSUASIVO"),a.qZA(),a.TgZ(60,"td")(61,"input",15),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(0))}),a.qZA()(),a.TgZ(62,"td")(63,"input",16),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(0))}),a.qZA()()(),a.TgZ(64,"tr")(65,"td"),a._uU(66,"GENTIL"),a.qZA(),a.TgZ(67,"td")(68,"input",17),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(1))}),a.qZA()(),a.TgZ(69,"td")(70,"input",18),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(1))}),a.qZA()()(),a.TgZ(71,"tr")(72,"td"),a._uU(73,"HUMILDE"),a.qZA(),a.TgZ(74,"td")(75,"input",19),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(2))}),a.qZA()(),a.TgZ(76,"td")(77,"input",20),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(2))}),a.qZA()()(),a.TgZ(78,"tr")(79,"td"),a._uU(80,"ORIGINAL"),a.qZA(),a.TgZ(81,"td")(82,"input",21),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(3))}),a.qZA()(),a.TgZ(83,"td")(84,"input",22),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(3))}),a.qZA()()()()(),a.TgZ(85,"div",2)(86,"label",14)(87,"h4"),a._uU(88,"GRUPO 2"),a.qZA()(),a.TgZ(89,"table")(90,"tr"),a._UZ(91,"td"),a.TgZ(92,"td")(93,"b"),a._uU(94,"M"),a.qZA(),a._uU(95,"ore"),a.qZA(),a.TgZ(96,"td")(97,"b"),a._uU(98,"L"),a.qZA(),a._uU(99,"ess"),a.qZA()(),a.TgZ(100,"tr")(101,"td"),a._uU(102,"FUERZA DE VOLUNTAD"),a.qZA(),a.TgZ(103,"td")(104,"input",23),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(0))}),a.qZA()(),a.TgZ(105,"td")(106,"input",24),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(0))}),a.qZA()()(),a.TgZ(107,"tr")(108,"td"),a._uU(109,"MENTE ABIERTA"),a.qZA(),a.TgZ(110,"td")(111,"input",25),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(1))}),a.qZA()(),a.TgZ(112,"td")(113,"input",26),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(1))}),a.qZA()()(),a.TgZ(114,"tr")(115,"td"),a._uU(116,"COMPLACIENTE"),a.qZA(),a.TgZ(117,"td")(118,"input",27),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(2))}),a.qZA()(),a.TgZ(119,"td")(120,"input",28),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(2))}),a.qZA()()(),a.TgZ(121,"tr")(122,"td"),a._uU(123,"ANIMOSO"),a.qZA(),a.TgZ(124,"td")(125,"input",29),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(3))}),a.qZA()(),a.TgZ(126,"td")(127,"input",30),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(3))}),a.qZA()()()()(),a.TgZ(128,"div",2)(129,"label",14)(130,"h4"),a._uU(131,"GRUPO 3"),a.qZA()(),a.TgZ(132,"table")(133,"tr"),a._UZ(134,"td"),a.TgZ(135,"td")(136,"b"),a._uU(137,"M"),a.qZA(),a._uU(138,"ore"),a.qZA(),a.TgZ(139,"td")(140,"b"),a._uU(141,"L"),a.qZA(),a._uU(142,"ess"),a.qZA()(),a.TgZ(143,"tr")(144,"td"),a._uU(145,"OBEDIENTE"),a.qZA(),a.TgZ(146,"td")(147,"input",31),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(0))}),a.qZA()(),a.TgZ(148,"td")(149,"input",32),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(0))}),a.qZA()()(),a.TgZ(150,"tr")(151,"td"),a._uU(152,"QUISQUILLOSO"),a.qZA(),a.TgZ(153,"td")(154,"input",33),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(1))}),a.qZA()(),a.TgZ(155,"td")(156,"input",34),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(1))}),a.qZA()()(),a.TgZ(157,"tr")(158,"td"),a._uU(159,"INCONQUISTABLE"),a.qZA(),a.TgZ(160,"td")(161,"input",35),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(2))}),a.qZA()(),a.TgZ(162,"td")(163,"input",36),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(2))}),a.qZA()()(),a.TgZ(164,"tr")(165,"td"),a._uU(166,"JUGUETON"),a.qZA(),a.TgZ(167,"td")(168,"input",37),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(3))}),a.qZA()(),a.TgZ(169,"td")(170,"input",38),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(3))}),a.qZA()()()()(),a.TgZ(171,"div",2)(172,"label",14)(173,"h4"),a._uU(174,"GRUPO 4"),a.qZA()(),a.TgZ(175,"table")(176,"tr"),a._UZ(177,"td"),a.TgZ(178,"td")(179,"b"),a._uU(180,"M"),a.qZA(),a._uU(181,"ore"),a.qZA(),a.TgZ(182,"td")(183,"b"),a._uU(184,"L"),a.qZA(),a._uU(185,"ess"),a.qZA()(),a.TgZ(186,"tr")(187,"td"),a._uU(188,"AVENTURERO"),a.qZA(),a.TgZ(189,"td")(190,"input",39),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(0))}),a.qZA()(),a.TgZ(191,"td")(192,"input",40),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(0))}),a.qZA()()(),a.TgZ(193,"tr")(194,"td"),a._uU(195,"RECEPTIVO"),a.qZA(),a.TgZ(196,"td")(197,"input",41),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(1))}),a.qZA()(),a.TgZ(198,"td")(199,"input",42),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(1))}),a.qZA()()(),a.TgZ(200,"tr")(201,"td"),a._uU(202,"CORDIAL"),a.qZA(),a.TgZ(203,"td")(204,"input",43),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(2))}),a.qZA()(),a.TgZ(205,"td")(206,"input",44),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(2))}),a.qZA()()(),a.TgZ(207,"tr")(208,"td"),a._uU(209,"MODERADO"),a.qZA(),a.TgZ(210,"td")(211,"input",45),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(3))}),a.qZA()(),a.TgZ(212,"td")(213,"input",46),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(3))}),a.qZA()()()()(),a.TgZ(214,"div",2)(215,"label",14)(216,"h4"),a._uU(217,"Grupo 5"),a.qZA()(),a.TgZ(218,"table")(219,"tr"),a._UZ(220,"td"),a.TgZ(221,"td")(222,"b"),a._uU(223,"M"),a.qZA(),a._uU(224,"ore"),a.qZA(),a.TgZ(225,"td")(226,"b"),a._uU(227,"L"),a.qZA(),a._uU(228,"ess"),a.qZA()(),a.TgZ(229,"tr")(230,"td"),a._uU(231,"AGRESIVO"),a.qZA(),a.TgZ(232,"td")(233,"input",47),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(0))}),a.qZA()(),a.TgZ(234,"td")(235,"input",48),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(0))}),a.qZA()()(),a.TgZ(236,"tr")(237,"td"),a._uU(238,"ALMA DE LA FIESTA"),a.qZA(),a.TgZ(239,"td")(240,"input",49),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(1))}),a.qZA()(),a.TgZ(241,"td")(242,"input",50),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(1))}),a.qZA()()(),a.TgZ(243,"tr")(244,"td"),a._uU(245,"COMODINO"),a.qZA(),a.TgZ(246,"td")(247,"input",51),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(2))}),a.qZA()(),a.TgZ(248,"td")(249,"input",52),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(2))}),a.qZA()()(),a.TgZ(250,"tr")(251,"td"),a._uU(252,"TEMEROSO"),a.qZA(),a.TgZ(253,"td")(254,"input",53),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(3))}),a.qZA()(),a.TgZ(255,"td")(256,"input",54),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(3))}),a.qZA()()()()(),a.TgZ(257,"div",2)(258,"label",14)(259,"h4"),a._uU(260,"Grupo 6"),a.qZA()(),a.TgZ(261,"table")(262,"tr"),a._UZ(263,"td"),a.TgZ(264,"td")(265,"b"),a._uU(266,"M"),a.qZA(),a._uU(267,"ore"),a.qZA(),a.TgZ(268,"td")(269,"b"),a._uU(270,"L"),a.qZA(),a._uU(271,"ess"),a.qZA()(),a.TgZ(272,"tr")(273,"td"),a._uU(274,"CONFIADO"),a.qZA(),a.TgZ(275,"td")(276,"input",55),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(0))}),a.qZA()(),a.TgZ(277,"td")(278,"input",56),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(0))}),a.qZA()()(),a.TgZ(279,"tr")(280,"td"),a._uU(281,"SIMPATIZADOR"),a.qZA(),a.TgZ(282,"td")(283,"input",57),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(1))}),a.qZA()(),a.TgZ(284,"td")(285,"input",58),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(1))}),a.qZA()()(),a.TgZ(286,"tr")(287,"td"),a._uU(288,"TOLERANTE"),a.qZA(),a.TgZ(289,"td")(290,"input",59),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(2))}),a.qZA()(),a.TgZ(291,"td")(292,"input",60),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(2))}),a.qZA()()(),a.TgZ(293,"tr")(294,"td"),a._uU(295,"AFIRMATIVO"),a.qZA(),a.TgZ(296,"td")(297,"input",61),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(3))}),a.qZA()(),a.TgZ(298,"td")(299,"input",62),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(3))}),a.qZA()()()()(),a.TgZ(300,"div",2)(301,"label",14)(302,"h4"),a._uU(303,"Grupo 7"),a.qZA()(),a.TgZ(304,"table")(305,"tr"),a._UZ(306,"td"),a.TgZ(307,"td")(308,"b"),a._uU(309,"M"),a.qZA(),a._uU(310,"ore"),a.qZA(),a.TgZ(311,"td")(312,"b"),a._uU(313,"L"),a.qZA(),a._uU(314,"ess"),a.qZA()(),a.TgZ(315,"tr")(316,"td"),a._uU(317,"RESPETUOSO"),a.qZA(),a.TgZ(318,"td")(319,"input",63),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(0))}),a.qZA()(),a.TgZ(320,"td")(321,"input",64),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(0))}),a.qZA()()(),a.TgZ(322,"tr")(323,"td"),a._uU(324,"EMPRENDEDOR"),a.qZA(),a.TgZ(325,"td")(326,"input",65),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(1))}),a.qZA()(),a.TgZ(327,"td")(328,"input",66),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(1))}),a.qZA()()(),a.TgZ(329,"tr")(330,"td"),a._uU(331,"OPTIMISTA"),a.qZA(),a.TgZ(332,"td")(333,"input",67),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(2))}),a.qZA()(),a.TgZ(334,"td")(335,"input",68),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(2))}),a.qZA()()(),a.TgZ(336,"tr")(337,"td"),a._uU(338,"SERVICIAL"),a.qZA(),a.TgZ(339,"td")(340,"input",69),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(3))}),a.qZA()(),a.TgZ(341,"td")(342,"input",70),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(3))}),a.qZA()()()()(),a.TgZ(343,"div",2)(344,"label",14)(345,"h4"),a._uU(346,"Grupo 8"),a.qZA()(),a.TgZ(347,"table")(348,"tr"),a._UZ(349,"td"),a.TgZ(350,"td")(351,"b"),a._uU(352,"M"),a.qZA(),a._uU(353,"ore"),a.qZA(),a.TgZ(354,"td")(355,"b"),a._uU(356,"L"),a.qZA(),a._uU(357,"ess"),a.qZA()(),a.TgZ(358,"tr")(359,"td"),a._uU(360,"INDULGENTE"),a.qZA(),a.TgZ(361,"td")(362,"input",71),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(0))}),a.qZA()(),a.TgZ(363,"td")(364,"input",72),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(0))}),a.qZA()()(),a.TgZ(365,"tr")(366,"td"),a._uU(367,"ESTETA"),a.qZA(),a.TgZ(368,"td")(369,"input",73),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(1))}),a.qZA()(),a.TgZ(370,"td")(371,"input",74),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(1))}),a.qZA()()(),a.TgZ(372,"tr")(373,"td"),a._uU(374,"VIGOROSO"),a.qZA(),a.TgZ(375,"td")(376,"input",75),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(2))}),a.qZA()(),a.TgZ(377,"td")(378,"input",76),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(2))}),a.qZA()()(),a.TgZ(379,"tr")(380,"td"),a._uU(381,"SOCIABLE"),a.qZA(),a.TgZ(382,"td")(383,"input",77),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(3))}),a.qZA()(),a.TgZ(384,"td")(385,"input",78),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(3))}),a.qZA()()()()(),a.TgZ(386,"div",2)(387,"label",14)(388,"h4"),a._uU(389,"Grupo 9"),a.qZA()(),a.TgZ(390,"table")(391,"tr"),a._UZ(392,"td"),a.TgZ(393,"td")(394,"b"),a._uU(395,"M"),a.qZA(),a._uU(396,"ore"),a.qZA(),a.TgZ(397,"td")(398,"b"),a._uU(399,"L"),a.qZA(),a._uU(400,"ess"),a.qZA()(),a.TgZ(401,"tr")(402,"td"),a._uU(403,"AGRADABLE"),a.qZA(),a.TgZ(404,"td")(405,"input",79),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(0))}),a.qZA()(),a.TgZ(406,"td")(407,"input",80),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(0))}),a.qZA()()(),a.TgZ(408,"tr")(409,"td"),a._uU(410,"TEMEROSO DE DIOS"),a.qZA(),a.TgZ(411,"td")(412,"input",81),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(1))}),a.qZA()(),a.TgZ(413,"td")(414,"input",82),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(1))}),a.qZA()()(),a.TgZ(415,"tr")(416,"td"),a._uU(417,"TENAZ"),a.qZA(),a.TgZ(418,"td")(419,"input",83),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(2))}),a.qZA()(),a.TgZ(420,"td")(421,"input",84),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(2))}),a.qZA()()(),a.TgZ(422,"tr")(423,"td"),a._uU(424,"ATRACTIVO"),a.qZA(),a.TgZ(425,"td")(426,"input",85),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(3))}),a.qZA()(),a.TgZ(427,"td")(428,"input",86),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(3))}),a.qZA()()()()(),a.TgZ(429,"div",2)(430,"label",14)(431,"h4"),a._uU(432,"Grupo 10"),a.qZA()(),a.TgZ(433,"table")(434,"tr"),a._UZ(435,"td"),a.TgZ(436,"td")(437,"b"),a._uU(438,"M"),a.qZA(),a._uU(439,"ore"),a.qZA(),a.TgZ(440,"td")(441,"b"),a._uU(442,"L"),a.qZA(),a._uU(443,"ess"),a.qZA()(),a.TgZ(444,"tr")(445,"td"),a._uU(446,"ECUANIME"),a.qZA(),a.TgZ(447,"td")(448,"input",87),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(0))}),a.qZA()(),a.TgZ(449,"td")(450,"input",88),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(0))}),a.qZA()()(),a.TgZ(451,"tr")(452,"td"),a._uU(453,"PRECISO"),a.qZA(),a.TgZ(454,"td")(455,"input",89),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(1))}),a.qZA()(),a.TgZ(456,"td")(457,"input",90),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(1))}),a.qZA()()(),a.TgZ(458,"tr")(459,"td"),a._uU(460,"NERVIOSO"),a.qZA(),a.TgZ(461,"td")(462,"input",91),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(2))}),a.qZA()(),a.TgZ(463,"td")(464,"input",92),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(2))}),a.qZA()()(),a.TgZ(465,"tr")(466,"td"),a._uU(467,"JOVIAL"),a.qZA(),a.TgZ(468,"td")(469,"input",93),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(3))}),a.qZA()(),a.TgZ(470,"td")(471,"input",94),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(3))}),a.qZA()()()()(),a.TgZ(472,"div",2)(473,"label",14)(474,"h4"),a._uU(475,"Grupo 11"),a.qZA()(),a.TgZ(476,"table")(477,"tr"),a._UZ(478,"td"),a.TgZ(479,"td")(480,"b"),a._uU(481,"M"),a.qZA(),a._uU(482,"ore"),a.qZA(),a.TgZ(483,"td")(484,"b"),a._uU(485,"L"),a.qZA(),a._uU(486,"ess"),a.qZA()(),a.TgZ(487,"tr")(488,"td"),a._uU(489,"VALIENTE"),a.qZA(),a.TgZ(490,"td")(491,"input",95),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(0))}),a.qZA()(),a.TgZ(492,"td")(493,"input",96),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(0))}),a.qZA()()(),a.TgZ(494,"tr")(495,"td"),a._uU(496,"INSPIRADOR"),a.qZA(),a.TgZ(497,"td")(498,"input",97),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(1))}),a.qZA()(),a.TgZ(499,"td")(500,"input",98),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(1))}),a.qZA()()(),a.TgZ(501,"tr")(502,"td"),a._uU(503,"SUMISO"),a.qZA(),a.TgZ(504,"td")(505,"input",99),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(2))}),a.qZA()(),a.TgZ(506,"td")(507,"input",100),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(2))}),a.qZA()()(),a.TgZ(508,"tr")(509,"td"),a._uU(510,"TIMIDO"),a.qZA(),a.TgZ(511,"td")(512,"input",101),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(3))}),a.qZA()(),a.TgZ(513,"td")(514,"input",102),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(3))}),a.qZA()()()()(),a.TgZ(515,"div",2)(516,"label",14)(517,"h4"),a._uU(518,"Grupo 12"),a.qZA()(),a.TgZ(519,"table")(520,"tr"),a._UZ(521,"td"),a.TgZ(522,"td")(523,"b"),a._uU(524,"M"),a.qZA(),a._uU(525,"ore"),a.qZA(),a.TgZ(526,"td")(527,"b"),a._uU(528,"L"),a.qZA(),a._uU(529,"ess"),a.qZA()(),a.TgZ(530,"tr")(531,"td"),a._uU(532,"PARLANCHIN"),a.qZA(),a.TgZ(533,"td")(534,"input",103),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(0))}),a.qZA()(),a.TgZ(535,"td")(536,"input",104),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(0))}),a.qZA()()(),a.TgZ(537,"tr")(538,"td"),a._uU(539,"CONTROLADO"),a.qZA(),a.TgZ(540,"td")(541,"input",105),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(1))}),a.qZA()(),a.TgZ(542,"td")(543,"input",106),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(1))}),a.qZA()()(),a.TgZ(544,"tr")(545,"td"),a._uU(546,"CONVENCIONAL"),a.qZA(),a.TgZ(547,"td")(548,"input",107),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(2))}),a.qZA()(),a.TgZ(549,"td")(550,"input",108),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(2))}),a.qZA()()(),a.TgZ(551,"tr")(552,"td"),a._uU(553,"DECISIVO"),a.qZA(),a.TgZ(554,"td")(555,"input",109),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(3))}),a.qZA()(),a.TgZ(556,"td")(557,"input",110),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(3))}),a.qZA()()()()(),a.TgZ(558,"div",2)(559,"label",14)(560,"h4"),a._uU(561,"Grupo 13"),a.qZA()(),a.TgZ(562,"table")(563,"tr"),a._UZ(564,"td"),a.TgZ(565,"td")(566,"b"),a._uU(567,"M"),a.qZA(),a._uU(568,"ore"),a.qZA(),a.TgZ(569,"td")(570,"b"),a._uU(571,"L"),a.qZA(),a._uU(572,"ess"),a.qZA()(),a.TgZ(573,"tr")(574,"td"),a._uU(575,"CAUTELOSO"),a.qZA(),a.TgZ(576,"td")(577,"input",111),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(0))}),a.qZA()(),a.TgZ(578,"td")(579,"input",112),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(0))}),a.qZA()()(),a.TgZ(580,"tr")(581,"td"),a._uU(582,"DETERMINADO"),a.qZA(),a.TgZ(583,"td")(584,"input",113),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(1))}),a.qZA()(),a.TgZ(585,"td")(586,"input",114),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(1))}),a.qZA()()(),a.TgZ(587,"tr")(588,"td"),a._uU(589,"CONVINCENTE"),a.qZA(),a.TgZ(590,"td")(591,"input",115),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(2))}),a.qZA()(),a.TgZ(592,"td")(593,"input",116),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(2))}),a.qZA()()(),a.TgZ(594,"tr")(595,"td"),a._uU(596,"BONACHON"),a.qZA(),a.TgZ(597,"td")(598,"input",117),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(3))}),a.qZA()(),a.TgZ(599,"td")(600,"input",118),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(3))}),a.qZA()()()()(),a.TgZ(601,"div",2)(602,"label",14)(603,"h4"),a._uU(604,"Grupo 14"),a.qZA()(),a.TgZ(605,"table")(606,"tr"),a._UZ(607,"td"),a.TgZ(608,"td")(609,"b"),a._uU(610,"M"),a.qZA(),a._uU(611,"ore"),a.qZA(),a.TgZ(612,"td")(613,"b"),a._uU(614,"L"),a.qZA(),a._uU(615,"ess"),a.qZA()(),a.TgZ(616,"tr")(617,"td"),a._uU(618,"DISCIPLINADO"),a.qZA(),a.TgZ(619,"td")(620,"input",119),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(0))}),a.qZA()(),a.TgZ(621,"td")(622,"input",120),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(0))}),a.qZA()()(),a.TgZ(623,"tr")(624,"td"),a._uU(625,"GENEROSO"),a.qZA(),a.TgZ(626,"td")(627,"input",121),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(1))}),a.qZA()(),a.TgZ(628,"td")(629,"input",122),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(1))}),a.qZA()()(),a.TgZ(630,"tr")(631,"td"),a._uU(632,"ANIMOSO"),a.qZA(),a.TgZ(633,"td")(634,"input",123),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(2))}),a.qZA()(),a.TgZ(635,"td")(636,"input",124),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(2))}),a.qZA()()(),a.TgZ(637,"tr")(638,"td"),a._uU(639,"PERSISTENTE"),a.qZA(),a.TgZ(640,"td")(641,"input",125),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(3))}),a.qZA()(),a.TgZ(642,"td")(643,"input",126),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(3))}),a.qZA()()()()(),a.TgZ(644,"div",2)(645,"label",14)(646,"h4"),a._uU(647,"Grupo 15"),a.qZA()(),a.TgZ(648,"table")(649,"tr"),a._UZ(650,"td"),a.TgZ(651,"td")(652,"b"),a._uU(653,"M"),a.qZA(),a._uU(654,"ore"),a.qZA(),a.TgZ(655,"td")(656,"b"),a._uU(657,"L"),a.qZA(),a._uU(658,"ess"),a.qZA()(),a.TgZ(659,"tr")(660,"td"),a._uU(661,"ADAPTABLE"),a.qZA(),a.TgZ(662,"td")(663,"input",127),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(0))}),a.qZA()(),a.TgZ(664,"td")(665,"input",128),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(0))}),a.qZA()()(),a.TgZ(666,"tr")(667,"td"),a._uU(668,"DISPUTADOR"),a.qZA(),a.TgZ(669,"td")(670,"input",129),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(1))}),a.qZA()(),a.TgZ(671,"td")(672,"input",130),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(1))}),a.qZA()()(),a.TgZ(673,"tr")(674,"td"),a._uU(675,"INDIFERENTE"),a.qZA(),a.TgZ(676,"td")(677,"input",131),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(2))}),a.qZA()(),a.TgZ(678,"td")(679,"input",132),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(2))}),a.qZA()()(),a.TgZ(680,"tr")(681,"td"),a._uU(682,"SANGRE LIVIANA"),a.qZA(),a.TgZ(683,"td")(684,"input",133),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(3))}),a.qZA()(),a.TgZ(685,"td")(686,"input",134),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(3))}),a.qZA()()()()(),a.TgZ(687,"div",2)(688,"label",14)(689,"h4"),a._uU(690,"Grupo 16"),a.qZA()(),a.TgZ(691,"table")(692,"tr"),a._UZ(693,"td"),a.TgZ(694,"td")(695,"b"),a._uU(696,"M"),a.qZA(),a._uU(697,"ore"),a.qZA(),a.TgZ(698,"td")(699,"b"),a._uU(700,"L"),a.qZA(),a._uU(701,"ess"),a.qZA()(),a.TgZ(702,"tr")(703,"td"),a._uU(704,"COHIBIDO"),a.qZA(),a.TgZ(705,"td")(706,"input",135),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(0))}),a.qZA()(),a.TgZ(707,"td")(708,"input",136),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(0))}),a.qZA()()(),a.TgZ(709,"tr")(710,"td"),a._uU(711,"EXACTO"),a.qZA(),a.TgZ(712,"td")(713,"input",137),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(1))}),a.qZA()(),a.TgZ(714,"td")(715,"input",138),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(1))}),a.qZA()()(),a.TgZ(716,"tr")(717,"td"),a._uU(718,"FRANCO"),a.qZA(),a.TgZ(719,"td")(720,"input",139),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(2))}),a.qZA()(),a.TgZ(721,"td")(722,"input",140),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(2))}),a.qZA()()(),a.TgZ(723,"tr")(724,"td"),a._uU(725,"BUEN COMPANERO"),a.qZA(),a.TgZ(726,"td")(727,"input",141),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(3))}),a.qZA()(),a.TgZ(728,"td")(729,"input",142),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(3))}),a.qZA()()()()(),a.TgZ(730,"div",2)(731,"label",14)(732,"h4"),a._uU(733,"Grupo 17"),a.qZA()(),a.TgZ(734,"table")(735,"tr"),a._UZ(736,"td"),a.TgZ(737,"td")(738,"b"),a._uU(739,"M"),a.qZA(),a._uU(740,"ore"),a.qZA(),a.TgZ(741,"td")(742,"b"),a._uU(743,"L"),a.qZA(),a._uU(744,"ess"),a.qZA()(),a.TgZ(745,"tr")(746,"td"),a._uU(747,"DOCIL"),a.qZA(),a.TgZ(748,"td")(749,"input",143),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(0))}),a.qZA()(),a.TgZ(750,"td")(751,"input",144),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(0))}),a.qZA()()(),a.TgZ(752,"tr")(753,"td"),a._uU(754,"ATREVIDO"),a.qZA(),a.TgZ(755,"td")(756,"input",145),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(1))}),a.qZA()(),a.TgZ(757,"td")(758,"input",146),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(1))}),a.qZA()()(),a.TgZ(759,"tr")(760,"td"),a._uU(761,"LEAL"),a.qZA(),a.TgZ(762,"td")(763,"input",147),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(2))}),a.qZA()(),a.TgZ(764,"td")(765,"input",148),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(2))}),a.qZA()()(),a.TgZ(766,"tr")(767,"td"),a._uU(768,"ENCANTADOR"),a.qZA(),a.TgZ(769,"td")(770,"input",149),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(3))}),a.qZA()(),a.TgZ(771,"td")(772,"input",150),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(3))}),a.qZA()()()()(),a.TgZ(773,"div",2)(774,"label",14)(775,"h4"),a._uU(776,"Grupo 18"),a.qZA()(),a.TgZ(777,"table")(778,"tr"),a._UZ(779,"td"),a.TgZ(780,"td")(781,"b"),a._uU(782,"M"),a.qZA(),a._uU(783,"ore"),a.qZA(),a.TgZ(784,"td")(785,"b"),a._uU(786,"L"),a.qZA(),a._uU(787,"ess"),a.qZA()(),a.TgZ(788,"tr")(789,"td"),a._uU(790,"COMPETITIVO"),a.qZA(),a.TgZ(791,"td")(792,"input",151),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(0))}),a.qZA()(),a.TgZ(793,"td")(794,"input",152),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(0))}),a.qZA()()(),a.TgZ(795,"tr")(796,"td"),a._uU(797,"ALEGRE"),a.qZA(),a.TgZ(798,"td")(799,"input",153),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(1))}),a.qZA()(),a.TgZ(800,"td")(801,"input",154),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(1))}),a.qZA()()(),a.TgZ(802,"tr")(803,"td"),a._uU(804,"CONSIDERADO"),a.qZA(),a.TgZ(805,"td")(806,"input",155),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(2))}),a.qZA()(),a.TgZ(807,"td")(808,"input",156),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(2))}),a.qZA()()(),a.TgZ(809,"tr")(810,"td"),a._uU(811,"ARMONIOSO"),a.qZA(),a.TgZ(812,"td")(813,"input",157),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(3))}),a.qZA()(),a.TgZ(814,"td")(815,"input",158),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(3))}),a.qZA()()()()(),a.TgZ(816,"div",2)(817,"label",14)(818,"h4"),a._uU(819,"Grupo 19"),a.qZA()(),a.TgZ(820,"table")(821,"tr"),a._UZ(822,"td"),a.TgZ(823,"td")(824,"b"),a._uU(825,"M"),a.qZA(),a._uU(826,"ore"),a.qZA(),a.TgZ(827,"td")(828,"b"),a._uU(829,"L"),a.qZA(),a._uU(830,"ess"),a.qZA()(),a.TgZ(831,"tr")(832,"td"),a._uU(833,"AMIGUERO"),a.qZA(),a.TgZ(834,"td")(835,"input",159),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(0))}),a.qZA()(),a.TgZ(836,"td")(837,"input",160),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(0))}),a.qZA()()(),a.TgZ(838,"tr")(839,"td"),a._uU(840,"PACIENTE"),a.qZA(),a.TgZ(841,"td")(842,"input",161),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(1))}),a.qZA()(),a.TgZ(843,"td")(844,"input",162),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(1))}),a.qZA()()(),a.TgZ(845,"tr")(846,"td"),a._uU(847,"CONFIANZA EN SI MISMO"),a.qZA(),a.TgZ(848,"td")(849,"input",163),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(2))}),a.qZA()(),a.TgZ(850,"td")(851,"input",164),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(2))}),a.qZA()()(),a.TgZ(852,"tr")(853,"td"),a._uU(854,"MESURADO PARA HABLAR"),a.qZA(),a.TgZ(855,"td")(856,"input",165),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(3))}),a.qZA()(),a.TgZ(857,"td")(858,"input",166),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(3))}),a.qZA()()()()(),a.TgZ(859,"div",2)(860,"label",14)(861,"h4"),a._uU(862,"Grupo 20"),a.qZA()(),a.TgZ(863,"table")(864,"tr"),a._UZ(865,"td"),a.TgZ(866,"td")(867,"b"),a._uU(868,"M"),a.qZA(),a._uU(869,"ore"),a.qZA(),a.TgZ(870,"td")(871,"b"),a._uU(872,"L"),a.qZA(),a._uU(873,"ess"),a.qZA()(),a.TgZ(874,"tr")(875,"td"),a._uU(876,"DIPLOMATICO"),a.qZA(),a.TgZ(877,"td")(878,"input",167),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(0))}),a.qZA()(),a.TgZ(879,"td")(880,"input",168),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(0))}),a.qZA()()(),a.TgZ(881,"tr")(882,"td"),a._uU(883,"AUDAZ"),a.qZA(),a.TgZ(884,"td")(885,"input",169),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(1))}),a.qZA()(),a.TgZ(886,"td")(887,"input",170),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(1))}),a.qZA()()(),a.TgZ(888,"tr")(889,"td"),a._uU(890,"REFINADO"),a.qZA(),a.TgZ(891,"td")(892,"input",171),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(2))}),a.qZA()(),a.TgZ(893,"td")(894,"input",172),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(2))}),a.qZA()()(),a.TgZ(895,"tr")(896,"td"),a._uU(897,"SATISFECHO"),a.qZA(),a.TgZ(898,"td")(899,"input",173),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(3))}),a.qZA()(),a.TgZ(900,"td")(901,"input",174),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(3))}),a.qZA()()()()(),a.TgZ(902,"div",2)(903,"label",14)(904,"h4"),a._uU(905,"Grupo 21"),a.qZA()(),a.TgZ(906,"table")(907,"tr"),a._UZ(908,"td"),a.TgZ(909,"td")(910,"b"),a._uU(911,"M"),a.qZA(),a._uU(912,"ore"),a.qZA(),a.TgZ(913,"td")(914,"b"),a._uU(915,"L"),a.qZA(),a._uU(916,"ess"),a.qZA()(),a.TgZ(917,"tr")(918,"td"),a._uU(919,"DISPUESTO"),a.qZA(),a.TgZ(920,"td")(921,"input",175),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(0))}),a.qZA()(),a.TgZ(922,"td")(923,"input",176),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(0))}),a.qZA()()(),a.TgZ(924,"tr")(925,"td"),a._uU(926,"DESEOSO"),a.qZA(),a.TgZ(927,"td")(928,"input",177),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(1))}),a.qZA()(),a.TgZ(929,"td")(930,"input",178),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(1))}),a.qZA()()(),a.TgZ(931,"tr")(932,"td"),a._uU(933,"CONSECUENTE"),a.qZA(),a.TgZ(934,"td")(935,"input",179),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(2))}),a.qZA()(),a.TgZ(936,"td")(937,"input",180),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(2))}),a.qZA()()(),a.TgZ(938,"tr")(939,"td"),a._uU(940,"ENTUSIASTA"),a.qZA(),a.TgZ(941,"td")(942,"input",181),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(3))}),a.qZA()(),a.TgZ(943,"td")(944,"input",182),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(3))}),a.qZA()()()()(),a.TgZ(945,"div",2)(946,"label",14)(947,"h4"),a._uU(948,"Grupo 22"),a.qZA()(),a.TgZ(949,"table")(950,"tr"),a._UZ(951,"td"),a.TgZ(952,"td")(953,"b"),a._uU(954,"M"),a.qZA(),a._uU(955,"ore"),a.qZA(),a.TgZ(956,"td")(957,"b"),a._uU(958,"L"),a.qZA(),a._uU(959,"ess"),a.qZA()(),a.TgZ(960,"tr")(961,"td"),a._uU(962,"ADMIRABLE"),a.qZA(),a.TgZ(963,"td")(964,"input",183),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(0))}),a.qZA()(),a.TgZ(965,"td")(966,"input",184),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(0))}),a.qZA()()(),a.TgZ(967,"tr")(968,"td"),a._uU(969,"BONDADOSO"),a.qZA(),a.TgZ(970,"td")(971,"input",185),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(1))}),a.qZA()(),a.TgZ(972,"td")(973,"input",186),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(1))}),a.qZA()()(),a.TgZ(974,"tr")(975,"td"),a._uU(976,"RESIGNADO"),a.qZA(),a.TgZ(977,"td")(978,"input",187),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(2))}),a.qZA()(),a.TgZ(979,"td")(980,"input",188),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(2))}),a.qZA()()(),a.TgZ(981,"tr")(982,"td"),a._uU(983,"CARACTER FIRME"),a.qZA(),a.TgZ(984,"td")(985,"input",189),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(3))}),a.qZA()(),a.TgZ(986,"td")(987,"input",190),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(3))}),a.qZA()()()()(),a.TgZ(988,"div",2)(989,"label",14)(990,"h4"),a._uU(991,"Grupo 23"),a.qZA()(),a.TgZ(992,"table")(993,"tr"),a._UZ(994,"td"),a.TgZ(995,"td")(996,"b"),a._uU(997,"M"),a.qZA(),a._uU(998,"ore"),a.qZA(),a.TgZ(999,"td")(1e3,"b"),a._uU(1001,"L"),a.qZA(),a._uU(1002,"ess"),a.qZA()(),a.TgZ(1003,"tr")(1004,"td"),a._uU(1005,"CONFORME"),a.qZA(),a.TgZ(1006,"td")(1007,"input",191),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(0))}),a.qZA()(),a.TgZ(1008,"td")(1009,"input",192),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(0))}),a.qZA()()(),a.TgZ(1010,"tr")(1011,"td"),a._uU(1012,"CONFIABLE"),a.qZA(),a.TgZ(1013,"td")(1014,"input",193),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(1))}),a.qZA()(),a.TgZ(1015,"td")(1016,"input",194),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(1))}),a.qZA()()(),a.TgZ(1017,"tr")(1018,"td"),a._uU(1019,"PACIFICO"),a.qZA(),a.TgZ(1020,"td")(1021,"input",195),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(2))}),a.qZA()(),a.TgZ(1022,"td")(1023,"input",196),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(2))}),a.qZA()()(),a.TgZ(1024,"tr")(1025,"td"),a._uU(1026,"POSITIVO"),a.qZA(),a.TgZ(1027,"td")(1028,"input",197),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(3))}),a.qZA()(),a.TgZ(1029,"td")(1030,"input",198),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(3))}),a.qZA()()()()(),a.TgZ(1031,"div",2)(1032,"label",14)(1033,"h4"),a._uU(1034,"Grupo 24"),a.qZA()(),a.TgZ(1035,"table")(1036,"tr"),a._UZ(1037,"td"),a.TgZ(1038,"td")(1039,"b"),a._uU(1040,"M"),a.qZA(),a._uU(1041,"ore"),a.qZA(),a.TgZ(1042,"td")(1043,"b"),a._uU(1044,"L"),a.qZA(),a._uU(1045,"ess"),a.qZA()(),a.TgZ(1046,"tr")(1047,"td"),a._uU(1048,"INQUIETO"),a.qZA(),a.TgZ(1049,"td")(1050,"input",199),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(0))}),a.qZA()(),a.TgZ(1051,"td")(1052,"input",200),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(0))}),a.qZA()()(),a.TgZ(1053,"tr")(1054,"td"),a._uU(1055,"POPULAR"),a.qZA(),a.TgZ(1056,"td")(1057,"input",201),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(1))}),a.qZA()(),a.TgZ(1058,"td")(1059,"input",202),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(1))}),a.qZA()()(),a.TgZ(1060,"tr")(1061,"td"),a._uU(1062,"BUEN VECINO"),a.qZA(),a.TgZ(1063,"td")(1064,"input",203),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(2))}),a.qZA()(),a.TgZ(1065,"td")(1066,"input",204),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(2))}),a.qZA()()(),a.TgZ(1067,"tr")(1068,"td"),a._uU(1069,"DEVOTO"),a.qZA(),a.TgZ(1070,"td")(1071,"input",205),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(3))}),a.qZA()(),a.TgZ(1072,"td")(1073,"input",206),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(3))}),a.qZA()()()()(),a.TgZ(1074,"button",207),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.saveTutorial())}),a._uU(1075,"Guardar Registro"),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(6),a.Q6J("ngModel",t.tutorial.appPaterno),a.xp6(4),a.Q6J("ngModel",t.tutorial.appMaterno),a.xp6(4),a.Q6J("ngModel",t.tutorial.nombre),a.xp6(4),a.Q6J("ngModel",t.tutorial.facebook),a.xp6(4),a.Q6J("ngModel",t.tutorial.programaInteres)}}function DL(n,e){if(1&n&&(a.TgZ(0,"div")(1,"h4"),a._uU(2,"Te has registrado exitosamente!"),a.qZA(),a.TgZ(3,"h3"),a._uU(4,"Felicidades!"),a.qZA(),a._uU(5),a._UZ(6,"br"),a._uU(7),a._UZ(8,"br"),a._uU(9),a._UZ(10,"br")(11,"br")(12,"br"),a._uU(13),a._UZ(14,"br"),a._uU(15),a._UZ(16,"br"),a._uU(17),a._UZ(18,"br")(19,"br")(20,"br"),a._uU(21),a._UZ(22,"br"),a._uU(23),a._UZ(24,"br"),a._uU(25),a._UZ(26,"br"),a._uU(27),a._UZ(28,"br"),a.qZA()),2&n){const t=a.oxw();a.xp6(5),a.HOy(" ",t.MD," - ",t.MI," - ",t.MS," - ",t.MC," "),a.xp6(2),a.HOy("\n",t.LD," - ",t.LI," - ",t.LS," - ",t.LC," "),a.xp6(2),a.HOy("\n",t.TotD," , ",t.TotI," , ",t.TotS," , ",t.TotC," "),a.xp6(4),a.HOy("\n",t.ResultMD," - ",t.ResultMI," - ",t.ResultMS," - ",t.ResultMC," "),a.xp6(2),a.HOy("\n",t.ResultLD," - ",t.ResultLI," - ",t.ResultLS," - ",t.ResultLC," "),a.xp6(2),a.HOy("\n",t.ResultTotD," - ",t.ResultTotI," - ",t.ResultTotS," - ",t.ResultTotC," "),a.xp6(4),a.lnq("\n",t.FinalT," - ",t.FinalM," - ",t.FinalL," "),a.xp6(2),a.hij("\n",t.FinalResult," "),a.xp6(2),a.hij("\n",t.Result," "),a.xp6(2),a.hij("\n",t.message," ")}}const AL=[{path:"",redirectTo:"add",pathMatch:"full"},{path:"tutorials",component:CL},{path:"add",component:(()=>{class n{constructor(t){this.tutorialService=t,this.tutorial=new IM,this.submitted=!1,this.arrMD=[1,5,10,20,30,40,50,60,65,75,84,87,90,93,95,97,97,98,98,98,99],this.arrMI=[4,10,25,40,55,70,82,90,95,96,97,97,97,97,97,97,97,99],this.arrMS=[5,10,16,30,40,55,63,75,84,90,95,96,97,97,97,97,98,98,98,99],this.arrMC=[1,5,16,30,55,70,84,93,95,97,97,97,98,98,98,99],this.arrLD=[99,95,87,80,65,55,50,35,30,20,18,15,10,6,5,4,3,2,2,2,2,1],this.arrLI=[99,95,87,75,55,40,25,16,10,5,4,4,3,3,3,2,2,2,2,1],this.arrLS=[99,97,95,87,80,65,55,35,28,18,10,5,4,3,3,3,2,2,2,1],this.arrLC=[99,97,95,90,84,70,55,40,38,23,10,5,4,3,2,2,1],this.arrtempTC=[[-21,1],[-20,2],[-19,2],[-18,2],[-17,2],[-16,2],[-15,2],[-14,2],[-13,4],[-12,5],[-11,5],[-10,9],[-9,13],[-8,15],[-7,16],[-6,20],[-5,25],[-4,29],[-3,35],[-2,40],[-1,45],[0,50],[1,55],[2,60],[3,65],[4,67],[5,70],[6,75],[7,80],[8,84],[9,85],[10,90],[11,91],[12,94],[13,95],[14,96],[15,97],[16,97],[17,98],[18,98],[19,98],[20,99]],this.arrTD={"-21":1,"-20":2,"-19":2,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":4,"-12":5,"-11":5,"-10":9,"-9":13,"-8":15,"-7":16,"-6":20,"-5":25,"-4":29,"-3":35,"-2":40,"-1":45,0:50,1:55,2:60,3:65,4:67,5:70,6:75,7:80,8:84,9:85,10:90,11:91,12:94,13:95,14:96,15:97,16:97,17:98,18:98,19:98,20:99},this.arrTI={"-19":1,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":2,"-12":2,"-11":2,"-10":3,"-9":4,"-8":5,"-7":6,"-6":10,"-5":16,"-4":20,"-3":29,"-2":35,"-1":45,0:55,1:60,2:70,3:75,4:85,5:90,6:95,7:96,8:97,9:97,10:98,11:98,12:98,13:98,14:98,15:98,16:98,17:99},this.arrTS={"-19":1,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":2,"-12":3,"-11":4,"-10":5,"-9":8,"-8":10,"-7":15,"-6":20,"-5":25,"-4":30,"-3":35,"-2":40,"-1":50,0:57,1:60,2:70,3:75,4:80,5:84,6:87,7:91,8:94,9:96,10:97,11:97,12:98,13:98,14:98,15:98,16:98,17:98,18:98,19:99},this.arrTC={"-16":1,"-15":2,"-14":2,"-13":2,"-12":2,"-11":3,"-10":4,"-9":6,"-8":9,"-7":13,"-6":20,"-5":25,"-4":30,"-3":35,"-2":55,"-1":60,0:70,1:75,2:84,3:90,4:95,5:96,6:97,7:97,8:98,9:98,10:98,11:98,12:98,13:98,14:98,15:99},this.arrInter={1:"Persuasivo\tel que tiene fuerza para hacer creer a otros una cosa, convencer de algo.",2:"Gentil\tel que act\xfaa con cortes\xeda y soltura, con urbanidad. El amable, gallardo, con gracia.",3:"Humilde\tsencillo, que no alardea (no interpretar como vida cristiana)",4:"Original\tel que no es imitaci\xf3n de otro, el singular.",5:"Agresivo\tel que demuestra empuje e iniciativa en una forma positiva, no es el propenso a ofender.",6:"Alma de la fiesta\tel m\xe1s popular, el que genera mayor atracci\xf3n en  el grupo.",7:"Comodino\tel amante de la comodidad, que busca caminos f\xe1ciles.",8:"Temeroso\tel t\xedmido, el cobarde, aprensivo.",9:"Agradable\tel que agrada y complace, gusta a los dem\xe1s.",10:"Temeroso de Dios\tel que reconoce el poder de Dios sobre todas las cosas, religioso",11:"Tenaz\tel obstinado y testarudo, con inquebrantable fuerza de voluntad para realizar alg\xfan objetivo.",12:"Atractivo\tcualidad de la persona (encanto) que atrae la voluntad de los dem\xe1s.",13:"Cauteloso\tel reservado que act\xfaa con cuidado, con precauci\xf3n.",14:"Determinado\tel atrevido, que toma resoluciones, preciso y decidido, que define.",15:"Convincente\tel que sabe convencer y obligar a otro con razones a que reconozca una cosa o cambie de opini\xf3n.",25:"Fuerza de voluntad\tdeterminaci\xf3n inquebrantable para lograr algo, firmeza.",26:"Mente abierta\tcualidad para escuchar y recibir otro punto de vista diferente.",27:"Complaciente\tel que procura ser agradable, servicial, sol\xedcito, comedido, conciliador o deferente.",28:"Animoso\tel que demuestra valor, energ\xeda voluntad, intenci\xf3n y esfuerzo para la lucha o el trabajo.",29:"Confiado\tel presumido y vanidoso, cr\xe9dulo y sencillo. No el que conf\xeda en s\xed mismo.",30:"Simpatizador\tel que manifiesta inclinaci\xf3n o afecto natural hacia otras personas.",31:"Tolerante\tel que reconoce y respeta las opiniones, pr\xe1cticas y comportamiento de otros, aunque sean diferentes a las de \xe9l. No el que sufre con paciencia o el que deja pasar cosas que no son l\xedcitas.",32:"Afirmativo\tel que responde en la mayor\xeda de las ocasiones de una manera positiva. No el que se sostiene o ratifica lo dicho.",33:"Ecu\xe1nime\tel calmado, sereno, imparcial, inalterable, paciente, prudente. Que tiene siempre el mismo \xe1nimo.",34:"Preciso\tel puntual y exacto, con claridad y determinado.",35:"Nervioso\tel ansioso, al que le falta sentido de seguridad",36:"Jovial\tel apacible, alegre y festivo.",37:"Disciplinado\tel acostumbrado a la obediencia, a seguir las reglas.",38:"Generoso\tel que obra con magnanimidad y nobleza, liberal dadivoso y franco.",39:"Animoso\tel que demuestra valor, energ\xeda voluntad, intenci\xf3n y esfuerzo para la lucha o el trabajo.",40:"Persistente\tel que supera obst\xe1culos, el que es constante, y perseverante, el que se mantiene en un prop\xf3sito.",41:"Competitivo\tel que contiende o disputa con otros por una causa de superaci\xf3n com\xfan por perfecci\xf3n o por la posesi\xf3n de propiedades.",42:"Alegre\tel  que est\xe1 lleno de alegr\xeda y la ocasiona en otros. Contento de animo, festivo.",43:"Considerado\tel que obra con reflexi\xf3n y que trata con respeto a los dem\xe1s.",44:"Armonioso\tel que tiene amistad y buena correspondencia, el que no tiene fricciones con otros.",45:"Admirable\tque es digno de admiraci\xf3n. Notable.",46:"Bondadoso\tel que es muy bueno, humanitario.",47:"Resignado\tel que se conforma, se sujeta, el condescendiente. El que acepta estar bajo la voluntad de otro.",48:"Car\xe1cter firme\tque no cambia f\xe1cilmente su punto de vista o su estilo de condici\xf3n.",49:"Obediente\tel que sabe seguir indicaciones sin poner su creatividad, cumple voluntad de quien manda, d\xf3cil, subordinado.",50:"Quisquilloso\tel que f\xe1cilmente se agravia u ofende, demasiado delicado en el trato, meticuloso.",51:"Inconquistable\tque no se deja vencer con ruegos, detalles o agasajos, susceptible.",52:"Juguet\xf3n\tel que tiene buen sentido del humor, aficionado a bromas.",53:"Respetuoso\tel que guarda reverencia, consideraci\xf3n y cortes\xeda para los dem\xe1s.",54:"Emprendedor\tque muestra imaginaci\xf3n instintiva y empuje, que se dedica a resolver situaciones dif\xedciles. Atrevido.",55:"Optimista\tel que suele ver y juzgar las cosas bajo su aspecto m\xe1s favorable.",56:"Servicial\tel que sirve con diligencia, siempre dispuesto a complacer a otros, amable y colaborador.",57:"Valiente\tel que manifiesta coraje y decisi\xf3n. El fuerte, en\xe9rgico y animoso.",58:"Inspirador\tel que anima la mente o las emociones de otros; infunde entusiasmo.",59:"Sumiso\tel que permite por s\xed mismo estar sujeto a otro. Obediente y d\xf3cil.",60:"T\xedmido\tcallado, no busca sobresalir.",61:"Adaptable\tel que se ajusta f\xe1cilmente a condiciones nuevas o diferentes.",62:"Disputador\tdado a arg\xfcir o debatir razones para, por o contra algo. Discutidor.",63:"Indiferente\tel que parece en forma sistem\xe1tica no estar involucrado. No presenta motivo de preferencia.",64:'"Sangre liviana"\tel que a todo el mundo le cae bien, persona simp\xe1tica.',65:"Amiguero\tel que busca y goza la compa\xf1\xeda de otros, muy sociable.",66:"Paciente\tel que es capaz de soportar, sabe esperar con calma el momento oportuno.",67:"Confianza en s\xed mismo\tconf\xeda en sus propias capacidades y recursos, autosuficiente.",68:"Mesurado para hablar\tmedido para hablar, habla lo necesario.",69:"Conforme\tel satisfecho con lo que tiene, de acuerdo con el parecer de otros.",70:"Confiable\tpersona con la cual se tiene confianza.",71:"Pac\xedfico\tel que tiene calma y serenidad, amante de la paz.",72:"Positivo\toptimista.",73:"Aventurero\tel que busca aventuras",74:"Receptivo\tpersona con capacidad de recibir, facilidad para captar algo",75:"Cordial\tpersona amable, afectuosa, cari\xf1osa.",76:"Moderado\tguarda medio entre dos extremos, que mantiene un equilibrio en sus acciones.",77:"Indulgente\tel que perdona f\xe1cilmente, tolerante, conciliador.",78:"Esteta\tel que es aficionado, percibe o cultiva la belleza. Busca en todo la elegancia.",79:"Vigoroso\tel robusto y fuerte.",80:"Sociable\tel que busca y necesita del compa\xf1erismo de otros, f\xe1cil de tratar con \xe9l.",81:"Parlanch\xedn\tpersona locuaz, que tiene inclinaci\xf3n por hablar mucho, platicador.",82:"Controlado\tejerce influencia resultante en s\xed mismo y en otros, con dominio de s\xed.",83:"Convencional\tel que se mantiene en una trayectoria de uso general.",84:"Decisivo\tel resuelto, determinado e incuestionable.",85:"Cohibido\tel que se limita, restringe o controla ante los dem\xe1s.",86:"Exacto\tjusto, preciso, matem\xe1tico, calculador.",87:"Franco\tespont\xe1neo, leal, sincero.",88:"Buen compa\xf1ero\tpersona sociable, que mantiene armon\xeda con otros.",89:"Diplom\xe1tico\tel que se caracteriza por el buen tacto en su trato con la gente.",90:"Audaz\tel arrogante e insolente. No el osado ni atrevido.",91:"Refinado\tel elegante y fino en su manera de ser, se distingue.",92:"Satisfecho\tse contenta o conforma con lo que tiene.",93:"Inquieto\tel que gusta de lo nuevo, vers\xe1til y cambiante.",94:"Popular\tel que genera atracci\xf3n en el grupo.",95:"Buen vecino\tel que act\xfaa con soltura y cortes\xeda.",96:"Devoto\tel sumiso y fiel."},this.message=""}saveTutorial(){console.log(this.tutorial),this.message="",this.MD=Number(this.tutorial.agresivoM)+Number(this.tutorial.tenazM)+Number(this.tutorial.determinadoM)+Number(this.tutorial.atrevidoM)+Number(this.tutorial.afirmativoM)+Number(this.tutorial.persistenteM)+Number(this.tutorial.competitivoM)+Number(this.tutorial.caracterfirmeM)+Number(this.tutorial.inconquistableM)+Number(this.tutorial.emprendedorM)+Number(this.tutorial.valienteM)+Number(this.tutorial.disputadorM)+Number(this.tutorial.confianzamismoM)+Number(this.tutorial.positivoM),Number(this.tutorial.aventureroM),Number(this.tutorial.vigorosoM),Number(this.tutorial.decisivoM),Number(this.tutorial.francoM),Number(this.tutorial.audazM),Number(this.tutorial.inquietoM),this.MI=Number(this.tutorial.persuasivoM)+Number(this.tutorial.almafiestaM)+Number(this.tutorial.atractivoM)+Number(this.tutorial.convincenteM)+Number(this.tutorial.encantadorM)+Number(this.tutorial.animosoM)+Number(this.tutorial.confiadoM)+Number(this.tutorial.admirableM)+Number(this.tutorial.juguetonM)+Number(this.tutorial.optimistaM)+Number(this.tutorial.inspiradorM)+Number(this.tutorial.sangrelivianaM)+Number(this.tutorial.amigueroM)+Number(this.tutorial.cordialM)+Number(this.tutorial.sociableM)+Number(this.tutorial.parlanchinM)+Number(this.tutorial.buencompaneroM)+Number(this.tutorial.popularM),this.MS=Number(this.tutorial.gentilM)+Number(this.tutorial.comodinoM)+Number(this.tutorial.bonachonM)+Number(this.tutorial.lealM)+Number(this.tutorial.dispuestoM)+Number(this.tutorial.complacienteM)+Number(this.tutorial.ecuanimeM)+Number(this.tutorial.generosoM)+Number(this.tutorial.consideradoM)+Number(this.tutorial.bondadosoM)+Number(this.tutorial.obedienteM)+Number(this.tutorial.servicialM)+Number(this.tutorial.pacienteM)+Number(this.tutorial.confiableM)+Number(this.tutorial.moderadoM)+Number(this.tutorial.indulgenteM)+Number(this.tutorial.controladoM)+Number(this.tutorial.satisfechoM)+Number(this.tutorial.buenvecinoM),this.MC=Number(this.tutorial.humildeM)+Number(this.tutorial.temerosodiosM)+Number(this.tutorial.cautelosoM)+Number(this.tutorial.consecuenteM)+Number(this.tutorial.menteabiertaM)+Number(this.tutorial.precisoM)+Number(this.tutorial.disciplinadoM)+Number(this.tutorial.respetuosoM)+Number(this.tutorial.adaptableM)+Number(this.tutorial.mesuradohablarM)+Number(this.tutorial.pacificoM)+Number(this.tutorial.receptivoM)+Number(this.tutorial.exactoM)+Number(this.tutorial.diplomaticoM)+Number(this.tutorial.devotoM),this.LD=Number(this.tutorial.originalL)+Number(this.tutorial.tenazL)+Number(this.tutorial.atractivoL)+Number(this.tutorial.entusiastaL)+Number(this.tutorial.fuerzavoluntadL)+Number(this.tutorial.afirmativoL)+Number(this.tutorial.nerviosoL)+Number(this.tutorial.persistenteL)+Number(this.tutorial.competitivoL)+Number(this.tutorial.emprendedorM)+Number(this.tutorial.caracterfirmeL)+Number(this.tutorial.inconquistableL)+Number(this.tutorial.emprendedorL)+Number(this.tutorial.disputadorL),Number(this.tutorial.confianzamismoL),Number(this.tutorial.positivoL),Number(this.tutorial.aventureroL),Number(this.tutorial.vigorosoL),Number(this.tutorial.decisivoL),Number(this.tutorial.francoL),Number(this.tutorial.audazL),Number(this.tutorial.inquietoL),this.LI=Number(this.tutorial.almafiestaL)+Number(this.tutorial.atractivoL)+Number(this.tutorial.convincenteL)+Number(this.tutorial.encantadorL)+Number(this.tutorial.animosoL)+Number(this.tutorial.jovialL)+Number(this.tutorial.ani_mosoL)+Number(this.tutorial.alegreL)+Number(this.tutorial.juguetonL)+Number(this.tutorial.optimistaL)+Number(this.tutorial.sangrelivianaL)+Number(this.tutorial.amigueroL)+Number(this.tutorial.confiableL)+Number(this.tutorial.cordialL)+Number(this.tutorial.sociableL)+Number(this.tutorial.parlanchinL)+Number(this.tutorial.buencompaneroL)+Number(this.tutorial.refinadoL)+Number(this.tutorial.popularL),this.LS=Number(this.tutorial.gentilL)+Number(this.tutorial.comodinoL)+Number(this.tutorial.agradableL)+Number(this.tutorial.complacienteL)+Number(this.tutorial.simpatizadorL)+Number(this.tutorial.ecuanimeL)+Number(this.tutorial.generosoL)+Number(this.tutorial.consideradoL)+Number(this.tutorial.servicialL)+Number(this.tutorial.sumisoL)+Number(this.tutorial.indiferenteL)+Number(this.tutorial.pacienteL)+Number(this.tutorial.conformeL)+Number(this.tutorial.moderadoL)+Number(this.tutorial.indulgenteL)+Number(this.tutorial.controladoL)+Number(this.tutorial.cohibidoL)+Number(this.tutorial.satisfechoL)+Number(this.tutorial.buenvecinoL),this.LC=Number(this.tutorial.humildeL)+Number(this.tutorial.temerosoL)+Number(this.tutorial.temerosodiosL)+Number(this.tutorial.cautelosoL)+Number(this.tutorial.docilL)+Number(this.tutorial.consecuenteL)+Number(this.tutorial.toleranteL)+Number(this.tutorial.precisoL)+Number(this.tutorial.armoniosoL)+Number(this.tutorial.resignadoL)+Number(this.tutorial.quisquillosoL)+Number(this.tutorial.timidoL)+Number(this.tutorial.pacificoL)+Number(this.tutorial.estetaL),Number(this.tutorial.convencionalL),Number(this.tutorial.devotoL),this.TotD=Number(this.MD)-Number(this.LD),this.TotI=Number(this.MI)-Number(this.LI),this.TotS=Number(this.MS)-Number(this.LS),this.TotC=Number(this.MC)-Number(this.LC),this.ResultMD=this.arrMD[this.MD],this.ResultMI=this.arrMI[this.MI],this.ResultMS=this.arrMS[this.MS],this.ResultMC=this.arrMC[this.MC],this.ResultLD=this.arrLD[this.LD],this.ResultLI=this.arrLI[this.LI],this.ResultLS=this.arrLS[this.LS],this.ResultLC=this.arrLC[this.LC],this.ResultTotD=this.arrTD[this.TotD],this.ResultTotI=this.arrTI[this.TotI],this.ResultTotS=this.arrTS[this.TotS],this.ResultTotC=this.arrTC[this.TotC];var r=[this.ResultMD,this.ResultMI,this.ResultMS,this.ResultMC],o=[this.ResultLD,this.ResultLI,this.ResultLS,this.ResultLC],l=Math.max(...[this.ResultTotD,this.ResultTotI,this.ResultTotS,this.ResultTotC].map(T=>T)),d=Math.max(...r.map(T=>T)),m=Math.max(...o.map(T=>T));this.FinalT=l,this.FinalM=d,this.FinalL=m,this.FinalResult=(this.FinalT+this.FinalM+this.FinalL)/3,this.Result=this.FinalResult.toFixed(0),this.message=this.arrInter[this.Result],this.tutorial.FinalT=this.FinalT,this.tutorial.FinalM=this.FinalM,this.tutorial.FinalL=this.FinalL,this.tutorial.FinalResult=this.FinalResult,this.tutorial.Result=this.Result,this.tutorial.message=this.message,this.tutorialService.create(this.tutorial).then(()=>{console.log("Created new item successfully!"),this.submitted=!0})}newTutorial(){this.submitted=!1,this.tutorial=new IM}setM1(t){return this.tutorial.persuasivoM=0,this.tutorial.gentilM=0,this.tutorial.humildeM=0,this.tutorial.originalM=0,0==t&&(this.tutorial.persuasivoM=1),1==t&&(this.tutorial.gentilM=1),2==t&&(this.tutorial.humildeM=1),3==t&&(this.tutorial.originalM=1),1}setL1(t){this.tutorial.persuasivoL=0,this.tutorial.gentilL=0,this.tutorial.humildeL=0,this.tutorial.originalL=0,0==t&&(this.tutorial.persuasivoL=1),1==t&&(this.tutorial.gentilL=1),2==t&&(this.tutorial.humildeL=1),3==t&&(this.tutorial.originalL=1)}setM2(t){return this.tutorial.fuerzavoluntadM=0,this.tutorial.menteabiertaM=0,this.tutorial.complacienteM=0,this.tutorial.animosoM=0,0==t&&(this.tutorial.fuerzavoluntadM=1),1==t&&(this.tutorial.menteabiertaM=1),2==t&&(this.tutorial.complacienteM=1),3==t&&(this.tutorial.animosoM=1),1}setL2(t){return this.tutorial.fuerzavoluntadL=0,this.tutorial.menteabiertaL=0,this.tutorial.complacienteL=0,this.tutorial.animosoL=0,0==t&&(this.tutorial.fuerzavoluntadL=1),1==t&&(this.tutorial.menteabiertaL=1),2==t&&(this.tutorial.complacienteL=1),3==t&&(this.tutorial.animosoL=1),1}setM3(t){return this.tutorial.obedienteM=0,this.tutorial.quisquillosoM=0,this.tutorial.inconquistableM=0,this.tutorial.juguetonM=0,0==t&&(this.tutorial.obedienteM=1),1==t&&(this.tutorial.quisquillosoM=1),2==t&&(this.tutorial.inconquistableM=1),3==t&&(this.tutorial.juguetonM=1),1}setL3(t){return this.tutorial.obedienteL=0,this.tutorial.quisquillosoL=0,this.tutorial.inconquistableL=0,this.tutorial.juguetonL=0,0==t&&(this.tutorial.obedienteL=1),1==t&&(this.tutorial.quisquillosoL=1),2==t&&(this.tutorial.inconquistableL=1),3==t&&(this.tutorial.juguetonL=1),1}setM4(t){return this.tutorial.aventureroM=0,this.tutorial.receptivoM=0,this.tutorial.cordialM=0,this.tutorial.moderadoM=0,0==t&&(this.tutorial.aventureroM=1),1==t&&(this.tutorial.receptivoM=1),2==t&&(this.tutorial.cordialM=1),3==t&&(this.tutorial.moderadoM=1),1}setL4(t){return this.tutorial.aventureroL=0,this.tutorial.receptivoL=0,this.tutorial.cordialL=0,this.tutorial.moderadoL=0,0==t&&(this.tutorial.aventureroL=1),1==t&&(this.tutorial.receptivoL=1),2==t&&(this.tutorial.cordialL=1),3==t&&(this.tutorial.moderadoL=1),1}setM5(t){return this.tutorial.agresivoM=0,this.tutorial.almafiestaM=0,this.tutorial.comodinoM=0,this.tutorial.temerosoM=0,0==t&&(this.tutorial.agresivoM=1),1==t&&(this.tutorial.almafiestaM=1),2==t&&(this.tutorial.comodinoM=1),3==t&&(this.tutorial.temerosoM=1),1}setL5(t){return this.tutorial.agresivoL=0,this.tutorial.almafiestaL=0,this.tutorial.comodinoL=0,this.tutorial.temerosoL=0,0==t&&(this.tutorial.agresivoL=1),1==t&&(this.tutorial.almafiestaL=1),2==t&&(this.tutorial.comodinoL=1),3==t&&(this.tutorial.temerosoL=1),1}setM6(t){return this.tutorial.confiadoM=0,this.tutorial.simpatizadorM=0,this.tutorial.toleranteM=0,this.tutorial.afirmativoM=0,0==t&&(this.tutorial.confiadoM=1),1==t&&(this.tutorial.simpatizadorM=1),2==t&&(this.tutorial.toleranteM=1),3==t&&(this.tutorial.afirmativoM=1),1}setL6(t){return this.tutorial.confiadoL=0,this.tutorial.simpatizadorL=0,this.tutorial.toleranteL=0,this.tutorial.afirmativoL=0,0==t&&(this.tutorial.confiadoL=1),1==t&&(this.tutorial.simpatizadorL=1),2==t&&(this.tutorial.toleranteL=1),3==t&&(this.tutorial.afirmativoL=1),1}setM7(t){return this.tutorial.respetuosoM=0,this.tutorial.emprendedorM=0,this.tutorial.optimistaM=0,this.tutorial.servicialM=0,0==t&&(this.tutorial.respetuosoM=1),1==t&&(this.tutorial.emprendedorM=1),2==t&&(this.tutorial.optimistaM=1),3==t&&(this.tutorial.servicialM=1),1}setL7(t){return this.tutorial.respetuosoL=0,this.tutorial.emprendedorL=0,this.tutorial.optimistaL=0,this.tutorial.servicialL=0,0==t&&(this.tutorial.respetuosoL=1),1==t&&(this.tutorial.emprendedorL=1),2==t&&(this.tutorial.optimistaL=1),3==t&&(this.tutorial.servicialL=1),1}setM8(t){return this.tutorial.indulgenteM=0,this.tutorial.estetaM=0,this.tutorial.vigorosoM=0,this.tutorial.sociableM=0,0==t&&(this.tutorial.indulgenteM=1),1==t&&(this.tutorial.estetaM=1),2==t&&(this.tutorial.vigorosoM=1),3==t&&(this.tutorial.sociableM=1),1}setL8(t){return this.tutorial.indulgenteL=0,this.tutorial.estetaL=0,this.tutorial.vigorosoL=0,this.tutorial.sociableL=0,0==t&&(this.tutorial.indulgenteL=1),1==t&&(this.tutorial.estetaL=1),2==t&&(this.tutorial.vigorosoL=1),3==t&&(this.tutorial.sociableL=1),1}setM9(t){return this.tutorial.agradableM=0,this.tutorial.temerosodiosM=0,this.tutorial.tenazM=0,this.tutorial.atractivoM=0,0==t&&(this.tutorial.agradableM=1),1==t&&(this.tutorial.temerosodiosM=1),2==t&&(this.tutorial.tenazM=1),3==t&&(this.tutorial.atractivoM=1),1}setL9(t){return this.tutorial.agradableL=0,this.tutorial.temerosodiosL=0,this.tutorial.tenazL=0,this.tutorial.atractivoL=0,0==t&&(this.tutorial.agradableL=1),1==t&&(this.tutorial.temerosodiosL=1),2==t&&(this.tutorial.tenazL=1),3==t&&(this.tutorial.atractivoL=1),1}setM10(t){return this.tutorial.ecuanimeM=0,this.tutorial.precisoM=0,this.tutorial.nerviosoM=0,this.tutorial.jovialM=0,0==t&&(this.tutorial.ecuanimeM=1),1==t&&(this.tutorial.precisoM=1),2==t&&(this.tutorial.nerviosoM=1),3==t&&(this.tutorial.jovialM=1),1}setL10(t){return this.tutorial.ecuanimeL=0,this.tutorial.precisoL=0,this.tutorial.nerviosoL=0,this.tutorial.jovialL=0,0==t&&(this.tutorial.ecuanimeL=1),1==t&&(this.tutorial.precisoL=1),2==t&&(this.tutorial.nerviosoL=1),3==t&&(this.tutorial.jovialL=1),1}setM11(t){return this.tutorial.valienteM=0,this.tutorial.inspiradorM=0,this.tutorial.sumisoM=0,this.tutorial.timidoM=0,0==t&&(this.tutorial.valienteM=1),1==t&&(this.tutorial.inspiradorM=1),2==t&&(this.tutorial.sumisoM=1),3==t&&(this.tutorial.timidoM=1),1}setL11(t){return this.tutorial.valienteL=0,this.tutorial.inspiradorL=0,this.tutorial.sumisoL=0,this.tutorial.timidoL=0,0==t&&(this.tutorial.valienteL=1),1==t&&(this.tutorial.inspiradorL=1),2==t&&(this.tutorial.sumisoL=1),3==t&&(this.tutorial.timidoL=1),1}setM12(t){return this.tutorial.parlanchinM=0,this.tutorial.controladoM=0,this.tutorial.convencionalM=0,this.tutorial.decisivoM=0,0==t&&(this.tutorial.parlanchinM=1),1==t&&(this.tutorial.controladoM=1),2==t&&(this.tutorial.convencionalM=1),3==t&&(this.tutorial.decisivoM=1),1}setL12(t){return this.tutorial.parlanchinL=0,this.tutorial.controladoL=0,this.tutorial.convencionalL=0,this.tutorial.decisivoL=0,0==t&&(this.tutorial.parlanchinL=1),1==t&&(this.tutorial.controladoL=1),2==t&&(this.tutorial.convencionalL=1),3==t&&(this.tutorial.decisivoL=1),1}setM13(t){return this.tutorial.cautelosoM=0,this.tutorial.determinadoM=0,this.tutorial.convincenteM=0,this.tutorial.bonachonM=0,0==t&&(this.tutorial.cautelosoM=1),1==t&&(this.tutorial.determinadoM=1),2==t&&(this.tutorial.convincenteM=1),3==t&&(this.tutorial.bonachonM=1),1}setL13(t){return this.tutorial.cautelosoL=0,this.tutorial.determinadoL=0,this.tutorial.convincenteL=0,this.tutorial.bonachonL=0,0==t&&(this.tutorial.cautelosoL=1),1==t&&(this.tutorial.determinadoL=1),2==t&&(this.tutorial.convincenteL=1),3==t&&(this.tutorial.bonachonL=1),1}setM14(t){return this.tutorial.disciplinadoM=0,this.tutorial.generosoM=0,this.tutorial.ani_mosoM=0,this.tutorial.persistenteM=0,0==t&&(this.tutorial.disciplinadoM=1),1==t&&(this.tutorial.generosoM=1),2==t&&(this.tutorial.ani_mosoM=1),3==t&&(this.tutorial.persistenteM=1),1}setL14(t){return this.tutorial.disciplinadoL=0,this.tutorial.generosoL=0,this.tutorial.ani_mosoL=0,this.tutorial.persistenteL=0,0==t&&(this.tutorial.disciplinadoL=1),1==t&&(this.tutorial.generosoL=1),2==t&&(this.tutorial.ani_mosoL=1),3==t&&(this.tutorial.persistenteL=1),1}setM15(t){return this.tutorial.adaptableM=0,this.tutorial.disputadorM=0,this.tutorial.indiferenteM=0,this.tutorial.sangrelivianaM=0,0==t&&(this.tutorial.adaptableM=1),1==t&&(this.tutorial.disputadorM=1),2==t&&(this.tutorial.indiferenteM=1),3==t&&(this.tutorial.sangrelivianaM=1),1}setL15(t){return this.tutorial.adaptableL=0,this.tutorial.disputadorL=0,this.tutorial.indiferenteL=0,this.tutorial.sangrelivianaL=0,0==t&&(this.tutorial.adaptableL=1),1==t&&(this.tutorial.disputadorL=1),2==t&&(this.tutorial.indiferenteL=1),3==t&&(this.tutorial.sangrelivianaL=1),1}setM16(t){return this.tutorial.cohibidoM=0,this.tutorial.exactoM=0,this.tutorial.francoM=0,this.tutorial.buencompaneroM=0,0==t&&(this.tutorial.cohibidoM=1),1==t&&(this.tutorial.exactoM=1),2==t&&(this.tutorial.francoM=1),3==t&&(this.tutorial.buencompaneroM=1),1}setL16(t){return this.tutorial.cohibidoL=0,this.tutorial.exactoL=0,this.tutorial.francoL=0,this.tutorial.buencompaneroL=0,0==t&&(this.tutorial.cohibidoL=1),1==t&&(this.tutorial.exactoL=1),2==t&&(this.tutorial.francoL=1),3==t&&(this.tutorial.buencompaneroL=1),1}setM17(t){return this.tutorial.docilM=0,this.tutorial.atrevidoM=0,this.tutorial.lealM=0,this.tutorial.encantadorM=0,0==t&&(this.tutorial.docilM=1),1==t&&(this.tutorial.atrevidoM=1),2==t&&(this.tutorial.lealM=1),3==t&&(this.tutorial.encantadorM=1),1}setL17(t){return this.tutorial.docilL=0,this.tutorial.atrevidoL=0,this.tutorial.lealL=0,this.tutorial.encantadorL=0,0==t&&(this.tutorial.docilL=1),1==t&&(this.tutorial.atrevidoL=1),2==t&&(this.tutorial.lealL=1),3==t&&(this.tutorial.encantadorL=1),1}setM18(t){return this.tutorial.competitivoM=0,this.tutorial.alegreM=0,this.tutorial.consideradoM=0,this.tutorial.armoniosoM=0,0==t&&(this.tutorial.competitivoM=1),1==t&&(this.tutorial.alegreM=1),2==t&&(this.tutorial.consideradoM=1),3==t&&(this.tutorial.armoniosoM=1),1}setL18(t){return this.tutorial.competitivoL=0,this.tutorial.alegreL=0,this.tutorial.consideradoL=0,this.tutorial.armoniosoL=0,0==t&&(this.tutorial.competitivoL=1),1==t&&(this.tutorial.alegreL=1),2==t&&(this.tutorial.consideradoL=1),3==t&&(this.tutorial.armoniosoL=1),1}setM19(t){return this.tutorial.amigueroM=0,this.tutorial.pacienteM=0,this.tutorial.confianzamismoM=0,this.tutorial.mesuradohablarM=0,0==t&&(this.tutorial.amigueroM=1),1==t&&(this.tutorial.pacienteM=1),2==t&&(this.tutorial.confianzamismoM=1),3==t&&(this.tutorial.mesuradohablarM=1),1}setL19(t){return this.tutorial.amigueroL=0,this.tutorial.pacienteL=0,this.tutorial.confianzamismoL=0,this.tutorial.mesuradohablarL=0,0==t&&(this.tutorial.amigueroL=1),1==t&&(this.tutorial.pacienteL=1),2==t&&(this.tutorial.confianzamismoL=1),3==t&&(this.tutorial.mesuradohablarL=1),1}setM20(t){return this.tutorial.diplomaticoM=0,this.tutorial.audazM=0,this.tutorial.refinadoM=0,this.tutorial.satisfechoM=0,0==t&&(this.tutorial.diplomaticoM=1),1==t&&(this.tutorial.audazM=1),2==t&&(this.tutorial.refinadoM=1),3==t&&(this.tutorial.satisfechoM=1),1}setL20(t){return this.tutorial.diplomaticoL=0,this.tutorial.audazL=0,this.tutorial.refinadoL=0,this.tutorial.satisfechoL=0,0==t&&(this.tutorial.diplomaticoL=1),1==t&&(this.tutorial.audazL=1),2==t&&(this.tutorial.refinadoL=1),3==t&&(this.tutorial.satisfechoL=1),1}setM21(t){return this.tutorial.dispuestoM=0,this.tutorial.deseosoM=0,this.tutorial.consecuenteM=0,this.tutorial.entusiastaM=0,0==t&&(this.tutorial.dispuestoM=1),1==t&&(this.tutorial.deseosoM=1),2==t&&(this.tutorial.consecuenteM=1),3==t&&(this.tutorial.entusiastaM=1),1}setL21(t){return this.tutorial.dispuestoL=0,this.tutorial.deseosoL=0,this.tutorial.consecuenteL=0,this.tutorial.entusiastaL=0,0==t&&(this.tutorial.dispuestoL=1),1==t&&(this.tutorial.deseosoL=1),2==t&&(this.tutorial.consecuenteL=1),3==t&&(this.tutorial.entusiastaL=1),1}setM22(t){return this.tutorial.admirableM=0,this.tutorial.bondadosoM=0,this.tutorial.resignadoM=0,this.tutorial.caracterfirmeM=0,0==t&&(this.tutorial.admirableM=1),1==t&&(this.tutorial.bondadosoM=1),2==t&&(this.tutorial.resignadoM=1),3==t&&(this.tutorial.caracterfirmeM=1),1}setL22(t){return this.tutorial.admirableL=0,this.tutorial.bondadosoL=0,this.tutorial.resignadoL=0,this.tutorial.caracterfirmeL=0,0==t&&(this.tutorial.admirableL=1),1==t&&(this.tutorial.bondadosoL=1),2==t&&(this.tutorial.resignadoL=1),3==t&&(this.tutorial.caracterfirmeL=1),1}setM23(t){return this.tutorial.conformeM=0,this.tutorial.confiableM=0,this.tutorial.pacificoM=0,this.tutorial.positivoM=0,0==t&&(this.tutorial.conformeM=1),1==t&&(this.tutorial.confiableM=1),2==t&&(this.tutorial.pacificoM=1),3==t&&(this.tutorial.positivoM=1),1}setL23(t){return this.tutorial.conformeL=0,this.tutorial.confiableL=0,this.tutorial.pacificoL=0,this.tutorial.positivoL=0,0==t&&(this.tutorial.conformeL=1),1==t&&(this.tutorial.confiableL=1),2==t&&(this.tutorial.pacificoL=1),3==t&&(this.tutorial.positivoL=1),1}setM24(t){return this.tutorial.inquietoM=0,this.tutorial.popularM=0,this.tutorial.buenvecinoM=0,this.tutorial.devotoM=0,0==t&&(this.tutorial.inquietoM=1),1==t&&(this.tutorial.popularM=1),2==t&&(this.tutorial.buenvecinoM=1),3==t&&(this.tutorial.devotoM=1),1}setL24(t){return this.tutorial.inquietoL=0,this.tutorial.popularL=0,this.tutorial.buenvecinoL=0,this.tutorial.devotoL=0,0==t&&(this.tutorial.inquietoL=1),1==t&&(this.tutorial.popularL=1),2==t&&(this.tutorial.buenvecinoL=1),3==t&&(this.tutorial.devotoL=1),1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(EM))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-add-tutorial"]],decls:3,vars:2,consts:[[1,"submit-form"],[4,"ngIf"],[1,"form-group"],["for","description"],["id","description","required","","name","description",1,"form-control",3,"ngModel","ngModelChange"],["id","facebook","required","","name","facebook",1,"form-control",3,"ngModel","ngModelChange"],["id","programaInteres","required","","name","programaInteres",1,"form-control",3,"ngModel","ngModelChange"],["value","LIS2024"],["value","LC2024"],["value","LAE2024"],["value","LGE2024"],["value","LTIO2024"],["value","LPOL2024"],["value","MEIT2024"],["for","title"],["type","radio","value","0","name","m1",1,"form-control",3,"click"],["type","radio","value","0","name","l1",1,"form-control",3,"click"],["type","radio","value","1","name","m1",1,"form-control",3,"click"],["type","radio","value","1","name","l1",1,"form-control",3,"click"],["type","radio","value","2","name","m1",1,"form-control",3,"click"],["type","radio","value","2","name","l1",1,"form-control",3,"click"],["type","radio","value","3","name","m1",1,"form-control",3,"click"],["type","radio","value","3","name","l1",1,"form-control",3,"click"],["type","radio","value","0","name","m2",1,"form-control",3,"click"],["type","radio","value","0","name","l2",1,"form-control",3,"click"],["type","radio","value","1","name","m2",1,"form-control",3,"click"],["type","radio","value","1","name","l2",1,"form-control",3,"click"],["type","radio","value","2","name","m2",1,"form-control",3,"click"],["type","radio","value","2","name","l2",1,"form-control",3,"click"],["type","radio","value","3","name","m2",1,"form-control",3,"click"],["type","radio","value","3","name","l2",1,"form-control",3,"click"],["type","radio","value","0","name","m3",1,"form-control",3,"click"],["type","radio","value","0","name","l3",1,"form-control",3,"click"],["type","radio","value","1","name","m3",1,"form-control",3,"click"],["type","radio","value","1","name","l3",1,"form-control",3,"click"],["type","radio","value","2","name","m3",1,"form-control",3,"click"],["type","radio","value","2","name","l3",1,"form-control",3,"click"],["type","radio","value","3","name","m3",1,"form-control",3,"click"],["type","radio","value","3","name","l3",1,"form-control",3,"click"],["type","radio","value","0","name","m4",1,"form-control",3,"click"],["type","radio","value","0","name","l4",1,"form-control",3,"click"],["type","radio","value","1","name","m4",1,"form-control",3,"click"],["type","radio","value","1","name","l4",1,"form-control",3,"click"],["type","radio","value","2","name","m4",1,"form-control",3,"click"],["type","radio","value","2","name","l4",1,"form-control",3,"click"],["type","radio","value","3","name","m4",1,"form-control",3,"click"],["type","radio","value","3","name","l4",1,"form-control",3,"click"],["type","radio","value","0","name","m5",1,"form-control",3,"click"],["type","radio","value","0","name","l5",1,"form-control",3,"click"],["type","radio","value","1","name","m5",1,"form-control",3,"click"],["type","radio","value","1","name","l5",1,"form-control",3,"click"],["type","radio","value","2","name","m5",1,"form-control",3,"click"],["type","radio","value","2","name","l5",1,"form-control",3,"click"],["type","radio","value","3","name","m5",1,"form-control",3,"click"],["type","radio","value","3","name","l5",1,"form-control",3,"click"],["type","radio","value","0","name","m6",1,"form-control",3,"click"],["type","radio","value","0","name","l6",1,"form-control",3,"click"],["type","radio","value","1","name","m6",1,"form-control",3,"click"],["type","radio","value","1","name","l6",1,"form-control",3,"click"],["type","radio","value","2","name","m6",1,"form-control",3,"click"],["type","radio","value","2","name","l6",1,"form-control",3,"click"],["type","radio","value","3","name","m6",1,"form-control",3,"click"],["type","radio","value","3","name","l6",1,"form-control",3,"click"],["type","radio","value","0","name","m7",1,"form-control",3,"click"],["type","radio","value","0","name","l7",1,"form-control",3,"click"],["type","radio","value","1","name","m7",1,"form-control",3,"click"],["type","radio","value","1","name","l7",1,"form-control",3,"click"],["type","radio","value","2","name","m7",1,"form-control",3,"click"],["type","radio","value","2","name","l7",1,"form-control",3,"click"],["type","radio","value","3","name","m7",1,"form-control",3,"click"],["type","radio","value","3","name","l7",1,"form-control",3,"click"],["type","radio","value","0","name","m8",1,"form-control",3,"click"],["type","radio","value","0","name","l8",1,"form-control",3,"click"],["type","radio","value","1","name","m8",1,"form-control",3,"click"],["type","radio","value","1","name","l8",1,"form-control",3,"click"],["type","radio","value","2","name","m8",1,"form-control",3,"click"],["type","radio","value","2","name","l8",1,"form-control",3,"click"],["type","radio","value","3","name","m8",1,"form-control",3,"click"],["type","radio","value","3","name","l8",1,"form-control",3,"click"],["type","radio","value","0","name","m9",1,"form-control",3,"click"],["type","radio","value","0","name","l9",1,"form-control",3,"click"],["type","radio","value","1","name","m9",1,"form-control",3,"click"],["type","radio","value","1","name","l9",1,"form-control",3,"click"],["type","radio","value","2","name","m9",1,"form-control",3,"click"],["type","radio","value","2","name","l9",1,"form-control",3,"click"],["type","radio","value","3","name","m9",1,"form-control",3,"click"],["type","radio","value","3","name","l9",1,"form-control",3,"click"],["type","radio","value","0","name","m10",1,"form-control",3,"click"],["type","radio","value","0","name","l10",1,"form-control",3,"click"],["type","radio","value","1","name","m10",1,"form-control",3,"click"],["type","radio","value","1","name","l10",1,"form-control",3,"click"],["type","radio","value","2","name","m10",1,"form-control",3,"click"],["type","radio","value","2","name","l10",1,"form-control",3,"click"],["type","radio","value","3","name","m10",1,"form-control",3,"click"],["type","radio","value","3","name","l10",1,"form-control",3,"click"],["type","radio","value","0","name","m11",1,"form-control",3,"click"],["type","radio","value","0","name","l11",1,"form-control",3,"click"],["type","radio","value","1","name","m11",1,"form-control",3,"click"],["type","radio","value","1","name","l11",1,"form-control",3,"click"],["type","radio","value","2","name","m11",1,"form-control",3,"click"],["type","radio","value","2","name","l11",1,"form-control",3,"click"],["type","radio","value","3","name","m11",1,"form-control",3,"click"],["type","radio","value","3","name","l11",1,"form-control",3,"click"],["type","radio","value","0","name","m12",1,"form-control",3,"click"],["type","radio","value","0","name","l12",1,"form-control",3,"click"],["type","radio","value","1","name","m12",1,"form-control",3,"click"],["type","radio","value","1","name","l12",1,"form-control",3,"click"],["type","radio","value","2","name","m12",1,"form-control",3,"click"],["type","radio","value","2","name","l12",1,"form-control",3,"click"],["type","radio","value","3","name","m12",1,"form-control",3,"click"],["type","radio","value","3","name","l12",1,"form-control",3,"click"],["type","radio","value","0","name","m13",1,"form-control",3,"click"],["type","radio","value","0","name","l13",1,"form-control",3,"click"],["type","radio","value","1","name","m13",1,"form-control",3,"click"],["type","radio","value","1","name","l13",1,"form-control",3,"click"],["type","radio","value","2","name","m13",1,"form-control",3,"click"],["type","radio","value","2","name","l13",1,"form-control",3,"click"],["type","radio","value","3","name","m13",1,"form-control",3,"click"],["type","radio","value","3","name","l13",1,"form-control",3,"click"],["type","radio","value","0","name","m14",1,"form-control",3,"click"],["type","radio","value","0","name","l14",1,"form-control",3,"click"],["type","radio","value","1","name","m14",1,"form-control",3,"click"],["type","radio","value","1","name","l14",1,"form-control",3,"click"],["type","radio","value","2","name","m14",1,"form-control",3,"click"],["type","radio","value","2","name","l14",1,"form-control",3,"click"],["type","radio","value","3","name","m14",1,"form-control",3,"click"],["type","radio","value","3","name","l14",1,"form-control",3,"click"],["type","radio","value","0","name","m15",1,"form-control",3,"click"],["type","radio","value","0","name","l15",1,"form-control",3,"click"],["type","radio","value","1","name","m15",1,"form-control",3,"click"],["type","radio","value","1","name","l15",1,"form-control",3,"click"],["type","radio","value","2","name","m15",1,"form-control",3,"click"],["type","radio","value","2","name","l15",1,"form-control",3,"click"],["type","radio","value","3","name","m15",1,"form-control",3,"click"],["type","radio","value","3","name","l15",1,"form-control",3,"click"],["type","radio","value","0","name","m16",1,"form-control",3,"click"],["type","radio","value","0","name","l16",1,"form-control",3,"click"],["type","radio","value","1","name","m16",1,"form-control",3,"click"],["type","radio","value","1","name","l16",1,"form-control",3,"click"],["type","radio","value","2","name","m16",1,"form-control",3,"click"],["type","radio","value","2","name","l16",1,"form-control",3,"click"],["type","radio","value","3","name","m16",1,"form-control",3,"click"],["type","radio","value","3","name","l16",1,"form-control",3,"click"],["type","radio","value","0","name","m17",1,"form-control",3,"click"],["type","radio","value","0","name","l17",1,"form-control",3,"click"],["type","radio","value","1","name","m17",1,"form-control",3,"click"],["type","radio","value","1","name","l17",1,"form-control",3,"click"],["type","radio","value","2","name","m17",1,"form-control",3,"click"],["type","radio","value","2","name","l17",1,"form-control",3,"click"],["type","radio","value","3","name","m17",1,"form-control",3,"click"],["type","radio","value","3","name","l17",1,"form-control",3,"click"],["type","radio","value","0","name","m18",1,"form-control",3,"click"],["type","radio","value","0","name","l18",1,"form-control",3,"click"],["type","radio","value","1","name","m18",1,"form-control",3,"click"],["type","radio","value","1","name","l18",1,"form-control",3,"click"],["type","radio","value","2","name","m18",1,"form-control",3,"click"],["type","radio","value","2","name","l18",1,"form-control",3,"click"],["type","radio","value","3","name","m18",1,"form-control",3,"click"],["type","radio","value","3","name","l18",1,"form-control",3,"click"],["type","radio","value","0","name","m19",1,"form-control",3,"click"],["type","radio","value","0","name","l19",1,"form-control",3,"click"],["type","radio","value","1","name","m19",1,"form-control",3,"click"],["type","radio","value","1","name","l19",1,"form-control",3,"click"],["type","radio","value","2","name","m19",1,"form-control",3,"click"],["type","radio","value","2","name","l19",1,"form-control",3,"click"],["type","radio","value","3","name","m19",1,"form-control",3,"click"],["type","radio","value","3","name","l19",1,"form-control",3,"click"],["type","radio","value","0","name","m20",1,"form-control",3,"click"],["type","radio","value","0","name","l20",1,"form-control",3,"click"],["type","radio","value","1","name","m20",1,"form-control",3,"click"],["type","radio","value","1","name","l20",1,"form-control",3,"click"],["type","radio","value","2","name","m20",1,"form-control",3,"click"],["type","radio","value","2","name","l20",1,"form-control",3,"click"],["type","radio","value","3","name","m20",1,"form-control",3,"click"],["type","radio","value","3","name","l20",1,"form-control",3,"click"],["type","radio","value","0","name","m21",1,"form-control",3,"click"],["type","radio","value","0","name","l21",1,"form-control",3,"click"],["type","radio","value","1","name","m21",1,"form-control",3,"click"],["type","radio","value","1","name","l21",1,"form-control",3,"click"],["type","radio","value","2","name","m21",1,"form-control",3,"click"],["type","radio","value","2","name","l21",1,"form-control",3,"click"],["type","radio","value","3","name","m21",1,"form-control",3,"click"],["type","radio","value","3","name","l21",1,"form-control",3,"click"],["type","radio","value","0","name","m22",1,"form-control",3,"click"],["type","radio","value","0","name","l22",1,"form-control",3,"click"],["type","radio","value","1","name","m22",1,"form-control",3,"click"],["type","radio","value","1","name","l22",1,"form-control",3,"click"],["type","radio","value","2","name","m22",1,"form-control",3,"click"],["type","radio","value","2","name","l22",1,"form-control",3,"click"],["type","radio","value","3","name","m22",1,"form-control",3,"click"],["type","radio","value","3","name","l22",1,"form-control",3,"click"],["type","radio","value","0","name","m23",1,"form-control",3,"click"],["type","radio","value","0","name","l23",1,"form-control",3,"click"],["type","radio","value","1","name","m23",1,"form-control",3,"click"],["type","radio","value","1","name","l23",1,"form-control",3,"click"],["type","radio","value","2","name","m23",1,"form-control",3,"click"],["type","radio","value","2","name","l23",1,"form-control",3,"click"],["type","radio","value","3","name","m23",1,"form-control",3,"click"],["type","radio","value","3","name","l23",1,"form-control",3,"click"],["type","radio","value","0","name","m24",1,"form-control",3,"click"],["type","radio","value","0","name","l24",1,"form-control",3,"click"],["type","radio","value","1","name","m24",1,"form-control",3,"click"],["type","radio","value","1","name","l24",1,"form-control",3,"click"],["type","radio","value","2","name","m24",1,"form-control",3,"click"],["type","radio","value","2","name","l24",1,"form-control",3,"click"],["type","radio","value","3","name","m24",1,"form-control",3,"click"],["type","radio","value","3","name","l24",1,"form-control",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,bL,1076,5,"div",1),a.YNc(2,DL,29,30,"div",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",!r.submitted),a.xp6(1),a.Q6J("ngIf",r.submitted))},dependencies:[Uo,Sp,pl,Co,fl,Wo,hu,kc],styles:[".submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"]}),n})()}];let ML=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ix.forRoot(AL),ix]}),n})(),SL=(()=>{class n{constructor(){this.title="test Cleaver"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:15,vars:1,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-success"],["href","#",1,"navbar-brand"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","add",1,"nav-link"],["routerLink","tutorials",1,"nav-link"],[1,"container","mt-3"]],template:function(t,r){1&t&&(a.TgZ(0,"div")(1,"nav",0)(2,"a",1),a._uU(3,"UV - test de Cleaver"),a.qZA(),a.TgZ(4,"div",2)(5,"li",3)(6,"a",4),a._uU(7,"Test"),a.qZA()(),a.TgZ(8,"li",3)(9,"a",5),a._uU(10,"Consultas"),a.qZA()()()(),a.TgZ(11,"div",6)(12,"h2"),a._uU(13),a.qZA(),a._UZ(14,"router-outlet"),a.qZA()()),2&t&&(a.xp6(13),a.Oqu(r.title))},dependencies:[fM,tD],styles:[".container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:25px auto}"]}),n})(),NL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[SL]}),n.\u0275inj=a.cJS({imports:[gs,ML,Ih,Mi.hO.initializeApp(JR_firebase),YR]}),n})();Yd().bootstrapModule(NL).catch(n=>console.error(n))},1135:(ct,Ee,k)=>{k.d(Ee,{X:()=>G});var a=k(7579);class G extends a.x{constructor(Q){super(),this._value=Q}get value(){return this.getValue()}_subscribe(Q){const ne=super._subscribe(Q);return!ne.closed&&Q.next(this._value),ne}getValue(){const{hasError:Q,thrownError:ne,_value:ce}=this;if(Q)throw ne;return this._throwIfClosed(),ce}next(Q){super.next(this._value=Q)}}},9751:(ct,Ee,k)=>{k.d(Ee,{y:()=>ke});var a=k(2961),G=k(727),O=k(8822),Q=k(9635),ne=k(2416),ce=k(576),fe=k(2806);let ke=(()=>{class J{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Ye=new J;return Ye.source=this,Ye.operator=Ce,Ye}subscribe(Ce,Ye,Se){const $e=function Z(J){return J&&J instanceof a.Lv||function V(J){return J&&(0,ce.m)(J.next)&&(0,ce.m)(J.error)&&(0,ce.m)(J.complete)}(J)&&(0,G.Nn)(J)}(Ce)?Ce:new a.Hp(Ce,Ye,Se);return(0,fe.x)(()=>{const{operator:xe,source:mt}=this;$e.add(xe?xe.call($e,mt):mt?this._subscribe($e):this._trySubscribe($e))}),$e}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Ye){Ce.error(Ye)}}forEach(Ce,Ye){return new(Ye=de(Ye))((Se,$e)=>{const xe=new a.Hp({next:mt=>{try{Ce(mt)}catch(dt){$e(dt),xe.unsubscribe()}},error:$e,complete:Se});this.subscribe(xe)})}_subscribe(Ce){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Ce)}[O.L](){return this}pipe(...Ce){return(0,Q.U)(Ce)(this)}toPromise(Ce){return new(Ce=de(Ce))((Ye,Se)=>{let $e;this.subscribe(xe=>$e=xe,xe=>Se(xe),()=>Ye($e))})}}return J.create=Pe=>new J(Pe),J})();function de(J){var Pe;return null!==(Pe=J??ne.config.Promise)&&void 0!==Pe?Pe:Promise}},7579:(ct,Ee,k)=>{k.d(Ee,{x:()=>fe});var a=k(9751),G=k(727);const Q=(0,k(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=k(8737),ce=k(2806);let fe=(()=>{class de extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const J=new ke(this,this);return J.operator=Z,J}_throwIfClosed(){if(this.closed)throw new Q}next(Z){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(Z)}})}error(Z){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:J}=this;for(;J.length;)J.shift().error(Z)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:J,isStopped:Pe,observers:Ce}=this;return J||Pe?G.Lc:(this.currentObservers=null,Ce.push(Z),new G.w0(()=>{this.currentObservers=null,(0,ne.P)(Ce,Z)}))}_checkFinalizedStatuses(Z){const{hasError:J,thrownError:Pe,isStopped:Ce}=this;J?Z.error(Pe):Ce&&Z.complete()}asObservable(){const Z=new a.y;return Z.source=this,Z}}return de.create=(V,Z)=>new ke(V,Z),de})();class ke extends fe{constructor(V,Z){super(),this.destination=V,this.source=Z}next(V){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===J||J.call(Z,V)}error(V){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===J||J.call(Z,V)}complete(){var V,Z;null===(Z=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===Z||Z.call(V)}_subscribe(V){var Z,J;return null!==(J=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(V))&&void 0!==J?J:G.Lc}}},2961:(ct,Ee,k)=>{k.d(Ee,{Hp:()=>Se,Lv:()=>J});var a=k(576),G=k(727),O=k(2416),Q=k(7849);function ne(){}const ce=de("C",void 0,void 0);function de(te,pe,W){return{kind:te,value:pe,error:W}}var V=k(3410),Z=k(2806);class J extends G.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,G.Nn)(pe)&&pe.add(this)):this.destination=dt}static create(pe,W,he){return new Se(pe,W,he)}next(pe){this.isStopped?mt(function ke(te){return de("N",te,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?mt(function fe(te){return de("E",void 0,te)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?mt(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Ce(te,pe){return Pe.call(te,pe)}class Ye{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:W}=this;if(W.next)try{W.next(pe)}catch(he){$e(he)}}error(pe){const{partialObserver:W}=this;if(W.error)try{W.error(pe)}catch(he){$e(he)}else $e(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(W){$e(W)}}}class Se extends J{constructor(pe,W,he){let De;if(super(),(0,a.m)(pe)||!pe)De={next:pe??void 0,error:W??void 0,complete:he??void 0};else{let Fe;this&&O.config.useDeprecatedNextContext?(Fe=Object.create(pe),Fe.unsubscribe=()=>this.unsubscribe(),De={next:pe.next&&Ce(pe.next,Fe),error:pe.error&&Ce(pe.error,Fe),complete:pe.complete&&Ce(pe.complete,Fe)}):De=pe}this.destination=new Ye(De)}}function $e(te){O.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(te):(0,Q.h)(te)}function mt(te,pe){const{onStoppedNotification:W}=O.config;W&&V.z.setTimeout(()=>W(te,pe))}const dt={closed:!0,next:ne,error:function xe(te){throw te},complete:ne}},727:(ct,Ee,k)=>{k.d(Ee,{Lc:()=>ce,w0:()=>ne,Nn:()=>fe});var a=k(576);const O=(0,k(3888).d)(de=>function(Z){de(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((J,Pe)=>`${Pe+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var Q=k(8737);class ne{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Ce of Z)Ce.remove(this);else Z.remove(this);const{initialTeardown:J}=this;if((0,a.m)(J))try{J()}catch(Ce){V=Ce instanceof O?Ce.errors:[Ce]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const Ce of Pe)try{ke(Ce)}catch(Ye){V=V??[],Ye instanceof O?V=[...V,...Ye.errors]:V.push(Ye)}}if(V)throw new O(V)}}add(V){var Z;if(V&&V!==this)if(this.closed)ke(V);else{if(V instanceof ne){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(V)}}_hasParent(V){const{_parentage:Z}=this;return Z===V||Array.isArray(Z)&&Z.includes(V)}_addParent(V){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(V),Z):Z?[Z,V]:V}_removeParent(V){const{_parentage:Z}=this;Z===V?this._parentage=null:Array.isArray(Z)&&(0,Q.P)(Z,V)}remove(V){const{_finalizers:Z}=this;Z&&(0,Q.P)(Z,V),V instanceof ne&&V._removeParent(this)}}ne.EMPTY=(()=>{const de=new ne;return de.closed=!0,de})();const ce=ne.EMPTY;function fe(de){return de instanceof ne||de&&"closed"in de&&(0,a.m)(de.remove)&&(0,a.m)(de.add)&&(0,a.m)(de.unsubscribe)}function ke(de){(0,a.m)(de)?de():de.unsubscribe()}},2416:(ct,Ee,k)=>{k.d(Ee,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ee,k)=>{k.d(Ee,{E:()=>G});const G=new(k(9751).y)(ne=>ne.complete())},8996:(ct,Ee,k)=>{k.d(Ee,{D:()=>pe});var a=k(8421),G=k(5363),O=k(9468),ce=k(9751),ke=k(2202),de=k(576),V=k(9672);function J(W,he){if(!W)throw new Error("Iterable cannot be null");return new ce.y(De=>{(0,V.f)(De,he,()=>{const Fe=W[Symbol.asyncIterator]();(0,V.f)(De,he,()=>{Fe.next().then(ie=>{ie.done?De.complete():De.next(ie.value)})},0,!0)})})}var Pe=k(3670),Ce=k(8239),Ye=k(1144),Se=k(6495),$e=k(2206),xe=k(4532),mt=k(3260);function pe(W,he){return he?function te(W,he){if(null!=W){if((0,Pe.c)(W))return function Q(W,he){return(0,a.Xf)(W).pipe((0,O.R)(he),(0,G.Q)(he))}(W,he);if((0,Ye.z)(W))return function fe(W,he){return new ce.y(De=>{let Fe=0;return he.schedule(function(){Fe===W.length?De.complete():(De.next(W[Fe++]),De.closed||this.schedule())})})}(W,he);if((0,Ce.t)(W))return function ne(W,he){return(0,a.Xf)(W).pipe((0,O.R)(he),(0,G.Q)(he))}(W,he);if((0,$e.D)(W))return J(W,he);if((0,Se.T)(W))return function Z(W,he){return new ce.y(De=>{let Fe;return(0,V.f)(De,he,()=>{Fe=W[ke.h](),(0,V.f)(De,he,()=>{let ie,He;try{({value:ie,done:He}=Fe.next())}catch(jt){return void De.error(jt)}He?De.complete():De.next(ie)},0,!0)}),()=>(0,de.m)(Fe?.return)&&Fe.return()})}(W,he);if((0,mt.L)(W))return function dt(W,he){return J((0,mt.Q)(W),he)}(W,he)}throw(0,xe.z)(W)}(W,he):(0,a.Xf)(W)}},8421:(ct,Ee,k)=>{k.d(Ee,{Xf:()=>Pe});var a=k(7582),G=k(1144),O=k(8239),Q=k(9751),ne=k(3670),ce=k(2206),fe=k(4532),ke=k(6495),de=k(3260),V=k(576),Z=k(7849),J=k(8822);function Pe(te){if(te instanceof Q.y)return te;if(null!=te){if((0,ne.c)(te))return function Ce(te){return new Q.y(pe=>{const W=te[J.L]();if((0,V.m)(W.subscribe))return W.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,G.z)(te))return function Ye(te){return new Q.y(pe=>{for(let W=0;W<te.length&&!pe.closed;W++)pe.next(te[W]);pe.complete()})}(te);if((0,O.t)(te))return function Se(te){return new Q.y(pe=>{te.then(W=>{pe.closed||(pe.next(W),pe.complete())},W=>pe.error(W)).then(null,Z.h)})}(te);if((0,ce.D)(te))return xe(te);if((0,ke.T)(te))return function $e(te){return new Q.y(pe=>{for(const W of te)if(pe.next(W),pe.closed)return;pe.complete()})}(te);if((0,de.L)(te))return function mt(te){return xe((0,de.Q)(te))}(te)}throw(0,fe.z)(te)}function xe(te){return new Q.y(pe=>{(function dt(te,pe){var W,he,De,Fe;return(0,a.mG)(this,void 0,void 0,function*(){try{for(W=(0,a.KL)(te);!(he=yield W.next()).done;)if(pe.next(he.value),pe.closed)return}catch(ie){De={error:ie}}finally{try{he&&!he.done&&(Fe=W.return)&&(yield Fe.call(W))}finally{if(De)throw De.error}}pe.complete()})})(te,pe).catch(W=>pe.error(W))})}},6451:(ct,Ee,k)=>{k.d(Ee,{T:()=>ce});var a=k(8189),G=k(8421),O=k(515),Q=k(7669),ne=k(8996);function ce(...fe){const ke=(0,Q.yG)(fe),de=(0,Q._6)(fe,1/0),V=fe;return V.length?1===V.length?(0,G.Xf)(V[0]):(0,a.J)(de)((0,ne.D)(V,ke)):O.E}},9646:(ct,Ee,k)=>{k.d(Ee,{of:()=>O});var a=k(7669),G=k(8996);function O(...Q){const ne=(0,a.yG)(Q);return(0,G.D)(Q,ne)}},5403:(ct,Ee,k)=>{k.d(Ee,{x:()=>G});var a=k(2961);function G(Q,ne,ce,fe,ke){return new O(Q,ne,ce,fe,ke)}class O extends a.Lv{constructor(ne,ce,fe,ke,de,V){super(ne),this.onFinalize=de,this.shouldUnsubscribe=V,this._next=ce?function(Z){try{ce(Z)}catch(J){ne.error(J)}}:super._next,this._error=ke?function(Z){try{ke(Z)}catch(J){ne.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(Z){ne.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},1884:(ct,Ee,k)=>{k.d(Ee,{x:()=>Q});var a=k(4671),G=k(4482),O=k(5403);function Q(ce,fe=a.y){return ce=ce??ne,(0,G.e)((ke,de)=>{let V,Z=!0;ke.subscribe((0,O.x)(de,J=>{const Pe=fe(J);(Z||!ce(V,Pe))&&(Z=!1,V=Pe,de.next(J))}))})}function ne(ce,fe){return ce===fe}},4004:(ct,Ee,k)=>{k.d(Ee,{U:()=>O});var a=k(4482),G=k(5403);function O(Q,ne){return(0,a.e)((ce,fe)=>{let ke=0;ce.subscribe((0,G.x)(fe,de=>{fe.next(Q.call(ne,de,ke++))}))})}},8189:(ct,Ee,k)=>{k.d(Ee,{J:()=>O});var a=k(5577),G=k(4671);function O(Q=1/0){return(0,a.z)(G.y,Q)}},5577:(ct,Ee,k)=>{k.d(Ee,{z:()=>ke});var a=k(4004),G=k(8421),O=k(4482),Q=k(9672),ne=k(5403),fe=k(576);function ke(de,V,Z=1/0){return(0,fe.m)(V)?ke((J,Pe)=>(0,a.U)((Ce,Ye)=>V(J,Ce,Pe,Ye))((0,G.Xf)(de(J,Pe))),Z):("number"==typeof V&&(Z=V),(0,O.e)((J,Pe)=>function ce(de,V,Z,J,Pe,Ce,Ye,Se){const $e=[];let xe=0,mt=0,dt=!1;const te=()=>{dt&&!$e.length&&!xe&&V.complete()},pe=he=>xe<J?W(he):$e.push(he),W=he=>{Ce&&V.next(he),xe++;let De=!1;(0,G.Xf)(Z(he,mt++)).subscribe((0,ne.x)(V,Fe=>{Pe?.(Fe),Ce?pe(Fe):V.next(Fe)},()=>{De=!0},void 0,()=>{if(De)try{for(xe--;$e.length&&xe<J;){const Fe=$e.shift();Ye?(0,Q.f)(V,Ye,()=>W(Fe)):W(Fe)}te()}catch(Fe){V.error(Fe)}}))};return de.subscribe((0,ne.x)(V,pe,()=>{dt=!0,te()})),()=>{Se?.()}}(J,Pe,de,Z)))}},5363:(ct,Ee,k)=>{k.d(Ee,{Q:()=>Q});var a=k(9672),G=k(4482),O=k(5403);function Q(ne,ce=0){return(0,G.e)((fe,ke)=>{fe.subscribe((0,O.x)(ke,de=>(0,a.f)(ke,ne,()=>ke.next(de),ce),()=>(0,a.f)(ke,ne,()=>ke.complete(),ce),de=>(0,a.f)(ke,ne,()=>ke.error(de),ce)))})}},3099:(ct,Ee,k)=>{k.d(Ee,{B:()=>ne});var a=k(8421),G=k(7579),O=k(2961),Q=k(4482);function ne(fe={}){const{connector:ke=(()=>new G.x),resetOnError:de=!0,resetOnComplete:V=!0,resetOnRefCountZero:Z=!0}=fe;return J=>{let Pe,Ce,Ye,Se=0,$e=!1,xe=!1;const mt=()=>{Ce?.unsubscribe(),Ce=void 0},dt=()=>{mt(),Pe=Ye=void 0,$e=xe=!1},te=()=>{const pe=Pe;dt(),pe?.unsubscribe()};return(0,Q.e)((pe,W)=>{Se++,!xe&&!$e&&mt();const he=Ye=Ye??ke();W.add(()=>{Se--,0===Se&&!xe&&!$e&&(Ce=ce(te,Z))}),he.subscribe(W),!Pe&&Se>0&&(Pe=new O.Hp({next:De=>he.next(De),error:De=>{xe=!0,mt(),Ce=ce(dt,de,De),he.error(De)},complete:()=>{$e=!0,mt(),Ce=ce(dt,V),he.complete()}}),(0,a.Xf)(pe).subscribe(Pe))})(J)}}function ce(fe,ke,...de){if(!0===ke)return void fe();if(!1===ke)return;const V=new O.Hp({next:()=>{V.unsubscribe(),fe()}});return(0,a.Xf)(ke(...de)).subscribe(V)}},9468:(ct,Ee,k)=>{k.d(Ee,{R:()=>G});var a=k(4482);function G(O,Q=0){return(0,a.e)((ne,ce)=>{ce.add(O.schedule(()=>ne.subscribe(ce),Q))})}},8505:(ct,Ee,k)=>{k.d(Ee,{b:()=>ne});var a=k(576),G=k(4482),O=k(5403),Q=k(4671);function ne(ce,fe,ke){const de=(0,a.m)(ce)||fe||ke?{next:ce,error:fe,complete:ke}:ce;return de?(0,G.e)((V,Z)=>{var J;null===(J=de.subscribe)||void 0===J||J.call(de);let Pe=!0;V.subscribe((0,O.x)(Z,Ce=>{var Ye;null===(Ye=de.next)||void 0===Ye||Ye.call(de,Ce),Z.next(Ce)},()=>{var Ce;Pe=!1,null===(Ce=de.complete)||void 0===Ce||Ce.call(de),Z.complete()},Ce=>{var Ye;Pe=!1,null===(Ye=de.error)||void 0===Ye||Ye.call(de,Ce),Z.error(Ce)},()=>{var Ce,Ye;Pe&&(null===(Ce=de.unsubscribe)||void 0===Ce||Ce.call(de)),null===(Ye=de.finalize)||void 0===Ye||Ye.call(de)}))}):Q.y}},4408:(ct,Ee,k)=>{k.d(Ee,{o:()=>ne});var a=k(727);class G extends a.w0{constructor(fe,ke){super()}schedule(fe,ke=0){return this}}const O={setInterval(ce,fe,...ke){const{delegate:de}=O;return de?.setInterval?de.setInterval(ce,fe,...ke):setInterval(ce,fe,...ke)},clearInterval(ce){const{delegate:fe}=O;return(fe?.clearInterval||clearInterval)(ce)},delegate:void 0};var Q=k(8737);class ne extends G{constructor(fe,ke){super(fe,ke),this.scheduler=fe,this.work=ke,this.pending=!1}schedule(fe,ke=0){var de;if(this.closed)return this;this.state=fe;const V=this.id,Z=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(Z,V,ke)),this.pending=!0,this.delay=ke,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(Z,this.id,ke),this}requestAsyncId(fe,ke,de=0){return O.setInterval(fe.flush.bind(fe,this),de)}recycleAsyncId(fe,ke,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ke;null!=ke&&O.clearInterval(ke)}execute(fe,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(fe,ke);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ke){let V,de=!1;try{this.work(fe)}catch(Z){de=!0,V=Z||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ke}=this,{actions:de}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.P)(de,this),null!=fe&&(this.id=this.recycleAsyncId(ke,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ee,k)=>{k.d(Ee,{v:()=>O});var a=k(6063);class G{constructor(ne,ce=G.now){this.schedulerActionCtor=ne,this.now=ce}schedule(ne,ce=0,fe){return new this.schedulerActionCtor(this,ne).schedule(fe,ce)}}G.now=a.l.now;class O extends G{constructor(ne,ce=G.now){super(ne,ce),this.actions=[],this._active=!1}flush(ne){const{actions:ce}=this;if(this._active)return void ce.push(ne);let fe;this._active=!0;do{if(fe=ne.execute(ne.state,ne.delay))break}while(ne=ce.shift());if(this._active=!1,fe){for(;ne=ce.shift();)ne.unsubscribe();throw fe}}}},4986:(ct,Ee,k)=>{k.d(Ee,{z:()=>O});var a=k(4408);const O=new(k(7565).v)(a.o)},6063:(ct,Ee,k)=>{k.d(Ee,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(ct,Ee,k)=>{k.d(Ee,{z:()=>a});const a={setTimeout(G,O,...Q){const{delegate:ne}=a;return ne?.setTimeout?ne.setTimeout(G,O,...Q):setTimeout(G,O,...Q)},clearTimeout(G){const{delegate:O}=a;return(O?.clearTimeout||clearTimeout)(G)},delegate:void 0}},2202:(ct,Ee,k)=>{k.d(Ee,{h:()=>G});const G=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ee,k)=>{k.d(Ee,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ct,Ee,k)=>{k.d(Ee,{_6:()=>ce,jO:()=>Q,yG:()=>ne});var a=k(576);function O(fe){return fe[fe.length-1]}function Q(fe){return(0,a.m)(O(fe))?fe.pop():void 0}function ne(fe){return function G(fe){return fe&&(0,a.m)(fe.schedule)}(O(fe))?fe.pop():void 0}function ce(fe,ke){return"number"==typeof O(fe)?fe.pop():ke}},8737:(ct,Ee,k)=>{function a(G,O){if(G){const Q=G.indexOf(O);0<=Q&&G.splice(Q,1)}}k.d(Ee,{P:()=>a})},3888:(ct,Ee,k)=>{function a(G){const Q=G(ne=>{Error.call(ne),ne.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}k.d(Ee,{d:()=>a})},2806:(ct,Ee,k)=>{k.d(Ee,{O:()=>Q,x:()=>O});var a=k(2416);let G=null;function O(ne){if(a.config.useDeprecatedSynchronousErrorHandling){const ce=!G;if(ce&&(G={errorThrown:!1,error:null}),ne(),ce){const{errorThrown:fe,error:ke}=G;if(G=null,fe)throw ke}}else ne()}function Q(ne){a.config.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=ne)}},9672:(ct,Ee,k)=>{function a(G,O,Q,ne=0,ce=!1){const fe=O.schedule(function(){Q(),ce?G.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(G.add(fe),!ce)return fe}k.d(Ee,{f:()=>a})},4671:(ct,Ee,k)=>{function a(G){return G}k.d(Ee,{y:()=>a})},1144:(ct,Ee,k)=>{k.d(Ee,{z:()=>a});const a=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(ct,Ee,k)=>{k.d(Ee,{D:()=>G});var a=k(576);function G(O){return Symbol.asyncIterator&&(0,a.m)(O?.[Symbol.asyncIterator])}},576:(ct,Ee,k)=>{function a(G){return"function"==typeof G}k.d(Ee,{m:()=>a})},3670:(ct,Ee,k)=>{k.d(Ee,{c:()=>O});var a=k(8822),G=k(576);function O(Q){return(0,G.m)(Q[a.L])}},6495:(ct,Ee,k)=>{k.d(Ee,{T:()=>O});var a=k(2202),G=k(576);function O(Q){return(0,G.m)(Q?.[a.h])}},8239:(ct,Ee,k)=>{k.d(Ee,{t:()=>G});var a=k(576);function G(O){return(0,a.m)(O?.then)}},3260:(ct,Ee,k)=>{k.d(Ee,{L:()=>Q,Q:()=>O});var a=k(7582),G=k(576);function O(ne){return(0,a.FC)(this,arguments,function*(){const fe=ne.getReader();try{for(;;){const{value:ke,done:de}=yield(0,a.qq)(fe.read());if(de)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ke)}}finally{fe.releaseLock()}})}function Q(ne){return(0,G.m)(ne?.getReader)}},4482:(ct,Ee,k)=>{k.d(Ee,{A:()=>G,e:()=>O});var a=k(576);function G(Q){return(0,a.m)(Q?.lift)}function O(Q){return ne=>{if(G(ne))return ne.lift(function(ce){try{return Q(ce,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ct,Ee,k)=>{k.d(Ee,{U:()=>O,z:()=>G});var a=k(4671);function G(...Q){return O(Q)}function O(Q){return 0===Q.length?a.y:1===Q.length?Q[0]:function(ce){return Q.reduce((fe,ke)=>ke(fe),ce)}}},7849:(ct,Ee,k)=>{k.d(Ee,{h:()=>O});var a=k(2416),G=k(3410);function O(Q){G.z.setTimeout(()=>{const{onUnhandledError:ne}=a.config;if(!ne)throw Q;ne(Q)})}},4532:(ct,Ee,k)=>{function a(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ee,{z:()=>a})},2223:(ct,Ee,k)=>{k.d(Ee,{$8M:()=>Dc,$WT:()=>Bo,$Z:()=>ng,AFp:()=>qp,AaK:()=>J,CHM:()=>Gu,CRH:()=>yd,D6c:()=>_1,EJc:()=>GA,EpF:()=>Pn,F4k:()=>D0,FYo:()=>Kp,FiY:()=>Hi,GfV:()=>Jv,Gpc:()=>Ye,HDt:()=>Ly,HOy:()=>H_,JOm:()=>Ts,KtG:()=>hc,LFG:()=>Qt,Lbi:()=>vl,Lck:()=>Og,MMx:()=>uC,NdJ:()=>x_,Ojb:()=>Bc,OlP:()=>pn,Oqu:()=>j0,P3R:()=>Jm,PXZ:()=>ob,Q6J:()=>vg,QGY:()=>fa,Qsj:()=>Wp,R0b:()=>_i,RDi:()=>jm,Rgc:()=>Vg,SBq:()=>jh,Sil:()=>Qw,Suo:()=>Vw,TTD:()=>Bu,TgZ:()=>cf,X6Q:()=>mb,XFs:()=>Ge,Xpm:()=>as,Xts:()=>xh,Y36:()=>El,YKP:()=>Zl,YNc:()=>_g,Yjl:()=>zl,Yz7:()=>Wt,Z0I:()=>Kn,ZZ4:()=>$y,_Bn:()=>oC,_UZ:()=>S_,_c5:()=>vT,_uU:()=>Z0,aQg:()=>yT,c2e:()=>Oy,cJS:()=>zn,cg1:()=>tw,dDg:()=>XA,dqk:()=>rn,eFA:()=>ub,eJc:()=>by,ekj:()=>B_,eoX:()=>Jg,f3M:()=>Gt,g9A:()=>pE,gL8:()=>ld,h0i:()=>md,hGG:()=>f1,hij:()=>Sn,iGM:()=>qg,ifc:()=>_n,ip1:()=>ky,jDz:()=>qr,kL8:()=>$_,lG2:()=>Gl,lnq:()=>gf,lqb:()=>yl,lri:()=>nb,n5z:()=>au,oAB:()=>_o,oxw:()=>sd,q4F:()=>EE,qFp:()=>v1,qLn:()=>$c,qOj:()=>hg,qZA:()=>Sl,rWj:()=>rb,rg0:()=>Zd,sBO:()=>Ea,s_b:()=>yy,soG:()=>Ff,tb:()=>em,tp0:()=>ci,uIk:()=>Xc,vHH:()=>te,vpe:()=>ts,wAp:()=>St,xp6:()=>n0,z2F:()=>Id,zSh:()=>Hv,zs3:()=>_u});var a=k(7579),G=k(727),O=k(1135),Q=k(9751),ne=k(6451),ce=k(9646),fe=k(3099),ke=k(5577),de=k(1884);function V(i){for(let s in i)if(i[s]===V)return s;throw Error("Could not find renamed property on target object.")}function Z(i,s){for(const u in s)s.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=s[u])}function J(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(J).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function Pe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ce=V({__forward_ref__:V});function Ye(i){return i.__forward_ref__=Ye,i.toString=function(){return J(this())},i}function Se(i){return $e(i)?i():i}function $e(i){return"function"==typeof i&&i.hasOwnProperty(Ce)&&i.__forward_ref__===Ye}function xe(i){return i&&!!i.\u0275providers}const dt="https://g.co/ng/security#xss";class te extends Error{constructor(s,u){super(function pe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,u)),this.code=s}}function W(i){return"string"==typeof i?i:null==i?"":String(i)}function He(i,s){throw new te(-201,!1)}function tt(i,s){null==i&&function ht(i,s,u,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${u} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function zn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Gr(i){return rs(i,ni)||rs(i,Vo)}function Kn(i){return null!==Gr(i)}function rs(i,s){return i.hasOwnProperty(s)?i[s]:null}function Aa(i){return i&&(i.hasOwnProperty(ri)||i.hasOwnProperty(Ma))?i[ri]:null}const ni=V({\u0275prov:V}),ri=V({\u0275inj:V}),Vo=V({ngInjectableDef:V}),Ma=V({ngInjectorDef:V});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let ft;function cn(i){const s=ft;return ft=i,s}function Dn(i,s,u){const c=Gr(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Ge.Optional?null:void 0!==s?s:void He(J(i))}const rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sr={},Bt="__NG_DI_FLAG__",Xi="ngTempTokenPath",Na=/\n/gm,eo="__source";let gr;function mn(i){const s=gr;return gr=i,s}function to(i,s=Ge.Default){if(void 0===gr)throw new te(-203,!1);return null===gr?Dn(i,void 0,s):gr.get(i,s&Ge.Optional?null:void 0,s)}function Qt(i,s=Ge.Default){return(function _t(){return ft}()||to)(Se(i),s)}function Gt(i,s=Ge.Default){return Qt(i,U(s))}function U(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function F(i){const s=[];for(let u=0;u<i.length;u++){const c=Se(i[u]);if(Array.isArray(c)){if(0===c.length)throw new te(900,!1);let h,p=Ge.Default;for(let _=0;_<c.length;_++){const w=c[_],I=ve(w);"number"==typeof I?-1===I?h=w.token:p|=I:h=w}s.push(Qt(h,p))}else s.push(Qt(c))}return s}function $(i,s){return i[Bt]=s,i.prototype[Bt]=s,i}function ve(i){return i[Bt]}function pt(i){return{toString:i}.toString()}var xt=(()=>((xt=xt||{})[xt.OnPush=0]="OnPush",xt[xt.Default=1]="Default",xt))(),_n=(()=>{return(i=_n||(_n={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",_n;var i})();const dn={},bt=[],qt=V({\u0275cmp:V}),mr=V({\u0275dir:V}),yi=V({\u0275pipe:V}),ro=V({\u0275mod:V}),oi=V({\u0275fac:V}),ue=V({__NG_ELEMENT_ID__:V}),ee=V({__NG_ENV_ID__:V});function Ne(i,s,u){let c=i.length;for(;;){const h=i.indexOf(s,u);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=s.length;if(h+p===c||i.charCodeAt(h+p)<=32)return h}u=h+1}}function ut(i,s,u){let c=0;for(;c<u.length;){const h=u[c];if("number"==typeof h){if(0!==h)break;c++;const p=u[c++],_=u[c++],w=u[c++];i.setAttribute(s,_,w,p)}else{const p=h,_=u[++c];Pt(p)?i.setProperty(s,p,_):i.setAttribute(s,p,_),c++}}return c}function Mt(i){return 3===i||4===i||6===i}function Pt(i){return 64===i.charCodeAt(0)}function Yt(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let u=-1;for(let c=0;c<s.length;c++){const h=s[c];"number"==typeof h?u=h:0===u||rr(i,u,h,null,-1===u||2===u?s[++c]:null)}}return i}function rr(i,s,u,c,h){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===u){if(null===c)return void(null!==h&&(i[p+1]=h));if(c===i[p+1])return void(i[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,u),null!==c&&i.splice(p++,0,c),null!==h&&i.splice(p++,0,h)}const Wn="ng-template";function mo(i,s,u){let c=0,h=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&h){const _=i[c++];if(u&&"class"===p&&-1!==Ne(_.toLowerCase(),s,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function ss(i){return 4===i.type&&i.value!==Wn}function xa(i,s,u){return s===(4!==i.type||u?i.value:Wn)}function Sd(i,s,u){let c=4;const h=i.attrs||[],p=function Ru(i){for(let s=0;s<i.length;s++)if(Mt(i[s]))return s;return i.length}(h);let _=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!_)if(4&c){if(c=2|1&c,""!==I&&!xa(i,I,u)||""===I&&1===s.length){if(si(c))return!1;_=!0}}else{const A=8&c?I:s[++w];if(8&c&&null!==i.attrs){if(!mo(i.attrs,A,u)){if(si(c))return!1;_=!0}continue}const P=Nd(8&c?"class":I,h,ss(i),u);if(-1===P){if(si(c))return!1;_=!0;continue}if(""!==A){let q;q=P>p?"":h[P+1].toLowerCase();const K=8&c?q:null;if(K&&-1!==Ne(K,A,0)||2&c&&A!==q){if(si(c))return!1;_=!0}}}}else{if(!_&&!si(c)&&!si(I))return!1;if(_&&si(I))continue;_=!1,c=I|1&c}}return si(c)||_}function si(i){return 0==(1&i)}function Nd(i,s,u,c){if(null===s)return-1;let h=0;if(c||!u){let p=!1;for(;h<s.length;){const _=s[h];if(_===i)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=s[++h];for(;"string"==typeof w;)w=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function xd(i,s){let u=i.indexOf(4);if(u>-1)for(u++;u<i.length;){const c=i[u];if("number"==typeof c)return-1;if(c===s)return u;u++}return-1}(s,i)}function vi(i,s,u=!1){for(let c=0;c<s.length;c++)if(Sd(i,s[c],u))return!0;return!1}function Uo(i,s){return i?":not("+s.trim()+")":s}function _m(i){let s=i[0],u=1,c=2,h="",p=!1;for(;u<i.length;){let _=i[u];if("string"==typeof _)if(2&c){const w=i[++u];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!si(_)&&(s+=Uo(p,h),h=""),c=_,p=p||!si(c);u++}return""!==h&&(s+=Uo(p,h)),s}function as(i){return pt(()=>{const s=Ou(i),u={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||_n.Emulated,styles:i.styles||bt,_:null,schemas:i.schemas||null,tView:null,id:""};Kl(u);const c=i.dependencies;return u.directiveDefs=Os(c,!1),u.pipeDefs=Os(c,!0),u.id=function Od(i){let s=0;const u=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of u)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(u),u})}function kd(i){return Ft(i)||sr(i)}function ym(i){return null!==i}function _o(i){return pt(()=>({type:i.type,bootstrap:i.bootstrap||bt,declarations:i.declarations||bt,imports:i.imports||bt,exports:i.exports||bt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Ra(i,s){if(null==i)return dn;const u={};for(const c in i)if(i.hasOwnProperty(c)){let h=i[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=c,s&&(s[h]=p)}return u}function Gl(i){return pt(()=>{const s=Ou(i);return Kl(s),s})}function zl(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ft(i){return i[qt]||null}function sr(i){return i[mr]||null}function un(i){return i[yi]||null}function Bo(i){const s=Ft(i)||sr(i)||un(i);return null!==s&&s.standalone}function Nr(i,s){const u=i[ro]||null;if(!u&&!0===s)throw new Error(`Type ${J(i)} does not have '\u0275mod' property.`);return u}function Ou(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||bt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ra(i.inputs,s),outputs:Ra(i.outputs)}}function Kl(i){i.features?.forEach(s=>s(i))}function Os(i,s){if(!i)return null;const u=s?un:kd;return()=>("function"==typeof i?i():i).map(c=>u(c)).filter(ym)}const Vn=0,Ke=1,Lt=2,wn=3,ai=4,Zo=5,Br=6,us=7,Tn=8,_r=9,yo=10,kt=11,Kr=12,Ld=13,io=14,kn=15,Ls=16,Oa=17,wi=18,Ps=19,Pd=20,ui=21,Un=22,Wl=23,ls=24,Zt=25,Lu=1,oo=2,Wr=7,Ti=8,cs=9,ar=11;function Bn(i){return Array.isArray(i)&&"object"==typeof i[Lu]}function li(i){return Array.isArray(i)&&!0===i[Lu]}function Fs(i){return 0!=(4&i.flags)}function vo(i){return i.componentOffset>-1}function wo(i){return 1==(1&i.flags)}function yr(i){return!!i.template}function xr(i){return 0!=(512&i[Lt])}function Ho(i,s){return i.hasOwnProperty(oi)?i[oi]:null}let Ua=rn.WeakRef??class Pu{constructor(s){this.ref=s}deref(){return this.ref}},Cm=0,Zr=null,Fu=!1;function Jn(i){const s=Zr;return Zr=i,s}class Vu{constructor(){this.id=Cm++,this.ref=function Bd(i){return new Ua(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,u]of this.producers){const c=u.producerNode.deref();if(void 0!==c&&u.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(s),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Fu;Fu=!0;try{for(const[u,c]of this.consumers){const h=c.consumerNode.deref();void 0!==h&&h.trackingVersion===c.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),h?.producers.delete(this.id))}}finally{Fu=s}}producerAccessed(){if(Fu)throw new Error("");if(null===Zr)return;let s=Zr.producers.get(this.id);void 0===s?(s={consumerNode:Zr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Zr.trackingVersion},Zr.producers.set(this.id,s),this.consumers.set(Zr.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Zr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Zr?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Ha=null;function Zd(i){const s=Jn(null);try{return i()}finally{Jn(s)}}const nc=()=>{};class Hd extends Vu{constructor(s,u,c){super(),this.watch=s,this.schedule=u,this.dirty=!1,this.cleanupFn=nc,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Jn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=nc,this.watch(this.registerOnCleanup)}finally{Jn(s)}}cleanup(){this.cleanupFn()}}class rc{constructor(s,u,c){this.previousValue=s,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Bu(){return ja}function ja(i){return i.type.prototype.ngOnChanges&&(i.setInput=Zu),ic}function ic(){const i=Hu(this),s=i?.current;if(s){const u=i.previous;if(u===dn)i.previous=s;else for(let c in s)u[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Zu(i,s,u,c){const h=this.declaredInputs[u],p=Hu(i)||function Dm(i,s){return i[oc]=s}(i,{previous:dn,current:null}),_=p.current||(p.current={}),w=p.previous,I=w[h];_[h]=new rc(I&&I.currentValue,s,w===dn),i[c]=s}Bu.ngInherit=!0;const oc="__ngSimpleChanges__";function Hu(i){return i[oc]||null}const Pi=function(i,s,u){};function En(i){for(;Array.isArray(i);)i=i[Vn];return i}function ju(i,s){return En(s[i])}function jr(i,s){return En(s[i.index])}function sc(i,s){return i.data[s]}function ur(i,s){const u=s[i];return Bn(u)?u:u[Vn]}function Hs(i){return 128==(128&i[Lt])}function qo(i,s){return null==s?null:i[s]}function ac(i){i[Oa]=0}function $d(i){1024&i[Lt]||(i[Lt]|=1024,$u(i,1))}function uc(i){1024&i[Lt]&&(i[Lt]&=-1025,$u(i,-1))}function $u(i,s){let u=i[wn];if(null===u)return;u[Zo]+=s;let c=u;for(u=u[wn];null!==u&&(1===s&&1===c[Zo]||-1===s&&0===c[Zo]);)u[Zo]+=s,c=u,u=u[wn]}const gt={lFrame:pc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Kd(){return gt.bindingsEnabled}function be(){return gt.lFrame.lView}function zt(){return gt.lFrame.tView}function Gu(i){return gt.lFrame.contextLView=i,i[Tn]}function hc(i){return gt.lFrame.contextLView=null,i}function An(){let i=Xf();for(;null!==i&&64===i.type;)i=i.parent;return i}function Xf(){return gt.lFrame.currentTNode}function Eo(i,s){const u=gt.lFrame;u.currentTNode=i,u.isParent=s}function za(){return gt.lFrame.isParent}function Io(){return gt.lFrame.bindingIndex}function Go(){return gt.lFrame.bindingIndex++}function hn(i){const s=gt.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,u}function Ka(i,s){const u=gt.lFrame;u.bindingIndex=u.bindingRootIndex=i,gs(s)}function gs(i){gt.lFrame.currentDirectiveIndex=i}function Jd(){return gt.lFrame.currentQueryIndex}function Wu(i){gt.lFrame.currentQueryIndex=i}function Yu(i){const s=i[Ke];return 2===s.type?s.declTNode:1===s.type?i[Br]:null}function Ya(i,s,u){if(u&Ge.SkipSelf){let h=s,p=i;for(;!(h=h.parent,null!==h||u&Ge.Host||(h=Yu(p),null===h||(p=p[io],10&h.type))););if(null===h)return!1;s=h,i=p}const c=gt.lFrame=Fi();return c.currentTNode=s,c.lView=i,!0}function zs(i){const s=Fi(),u=i[Ke];gt.lFrame=s,s.currentTNode=u.firstChild,s.lView=i,s.tView=u,s.contextLView=i,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Fi(){const i=gt.lFrame,s=null===i?null:i.child;return null===s?pc(i):s}function pc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Qd(){const i=gt.lFrame;return gt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ju=Qd;function gc(){const i=Qd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Yr(){return gt.lFrame.selectedIndex}function ms(i){gt.lFrame.selectedIndex=i}function Cn(){const i=gt.lFrame;return sc(i.tView,i.selectedIndex)}let mc=!0;function _c(){return mc}function ao(i){mc=i}function Xa(i,s){for(let u=s.directiveStart,c=s.directiveEnd;u<c;u++){const p=i.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:x}=p;_&&(i.contentHooks??=[]).push(-u,_),w&&((i.contentHooks??=[]).push(u,w),(i.contentCheckHooks??=[]).push(u,w)),I&&(i.viewHooks??=[]).push(-u,I),A&&((i.viewHooks??=[]).push(u,A),(i.viewCheckHooks??=[]).push(u,A)),null!=x&&(i.destroyHooks??=[]).push(u,x)}}function yc(i,s,u){vc(i,s,3,u)}function Ks(i,s,u,c){(3&i[Lt])===u&&vc(i,s,u,c)}function th(i,s){let u=i[Lt];(3&u)===s&&(u&=4095,u+=1,i[Lt]=u)}function vc(i,s,u,c){const p=c??-1,_=s.length-1;let w=0;for(let I=void 0!==c?65535&i[Oa]:0;I<_;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=c&&w>=c)break}else s[I]<0&&(i[Oa]+=65536),(w<p||-1==p)&&(Qu(i,u,s,I),i[Oa]=(4294901760&i[Oa])+I+2),I++}function rp(i,s){Pi(4,i,s);const u=Jn(null);try{s.call(i)}finally{Jn(u),Pi(5,i,s)}}function Qu(i,s,u,c){const h=u[c]<0,p=u[c+1],w=i[h?-u[c]:u[c]];h?i[Lt]>>12<i[Oa]>>16&&(3&i[Lt])===s&&(i[Lt]+=4096,rp(w,p)):rp(w,p)}const fn=-1;class vr{constructor(s,u,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function jn(i){return i!==fn}function Dt(i){return 32767&i}function nu(i,s){let u=function Ci(i){return i>>16}(i),c=s;for(;u>0;)c=c[io],u--;return c}let ru=!0;function zo(i){const s=ru;return ru=i,s}const iu=255,wr=5;let bi=0;const Vi={};function Js(i,s){const u=el(i,s);if(-1!==u)return u;const c=s[Ke];c.firstCreatePass&&(i.injectorIndex=s.length,rh(c.data,i),rh(s,null),rh(c.blueprint,null));const h=Co(i,s),p=i.injectorIndex;if(jn(h)){const _=Dt(h),w=nu(h,s),I=w[Ke].data;for(let A=0;A<8;A++)s[p+A]=w[_+A]|I[_+A]}return s[p+8]=h,p}function rh(i,s){i.push(0,0,0,0,0,0,0,0,s)}function el(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Co(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let u=0,c=null,h=s;for(;null!==h;){if(c=bc(h),null===c)return fn;if(u++,h=h[io],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return fn}function Di(i,s,u){!function nh(i,s,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(ue)&&(c=u[ue]),null==c&&(c=u[ue]=bi++);const h=c&iu;s.data[i+(h>>wr)]|=1<<h}(i,s,u)}function Or(i,s,u){if(u&Ge.Optional||void 0!==i)return i;He()}function Ui(i,s,u,c){if(u&Ge.Optional&&void 0===c&&(c=null),!(u&(Ge.Self|Ge.Host))){const h=i[_r],p=cn(void 0);try{return h?h.get(s,c,u&Ge.Optional):Dn(s,c,u&Ge.Optional)}finally{cn(p)}}return Or(c,0,u)}function Ic(i,s,u,c=Ge.Default,h){if(null!==i){if(2048&s[Lt]&&!(c&Ge.Self)){const _=function ol(i,s,u,c,h){let p=i,_=s;for(;null!==p&&null!==_&&2048&_[Lt]&&!(512&_[Lt]);){const w=ih(p,_,u,c|Ge.Self,Vi);if(w!==Vi)return w;let I=p.parent;if(!I){const A=_[Pd];if(A){const x=A.get(u,Vi,c);if(x!==Vi)return x}I=bc(_),_=_[io]}p=I}return h}(i,s,u,c,Vi);if(_!==Vi)return _}const p=ih(i,s,u,c,Vi);if(p!==Vi)return p}return Ui(s,u,c,h)}function ih(i,s,u,c,h){const p=function oh(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ue)?i[ue]:void 0;return"number"==typeof s?s>=0?s&iu:rl:s}(u);if("function"==typeof p){if(!Ya(s,i,c))return c&Ge.Host?Or(h,0,c):Ui(s,u,c,h);try{const _=p(c);if(null!=_||c&Ge.Optional)return _;He()}finally{Ju()}}else if("number"==typeof p){let _=null,w=el(i,s),I=fn,A=c&Ge.Host?s[kn][Br]:null;for((-1===w||c&Ge.SkipSelf)&&(I=-1===w?Co(i,s):s[w+8],I!==fn&&nl(c,!1)?(_=s[Ke],w=Dt(I),s=nu(I,s)):w=-1);-1!==w;){const x=s[Ke];if(su(p,w,x.data)){const P=Cc(w,s,u,_,c,A);if(P!==Vi)return P}I=s[w+8],I!==fn&&nl(c,s[Ke].data[w+8]===A)&&su(p,w,s)?(_=x,w=Dt(I),s=nu(I,s)):w=-1}}return h}function Cc(i,s,u,c,h,p){const _=s[Ke],w=_.data[i+8],x=tl(w,_,u,null==c?vo(w)&&ru:c!=_&&0!=(3&w.type),h&Ge.Host&&p===w);return null!==x?uo(s,_,x,w):Vi}function tl(i,s,u,c,h){const p=i.providerIndexes,_=s.data,w=1048575&p,I=i.directiveStart,x=p>>20,q=h?w+x:i.directiveEnd;for(let K=c?w:w+x;K<q;K++){const ye=_[K];if(K<I&&u===ye||K>=I&&ye.type===u)return K}if(h){const K=_[I];if(K&&yr(K)&&K.type===u)return I}return null}function uo(i,s,u,c){let h=i[u];const p=s.data;if(function ip(i){return i instanceof vr}(h)){const _=h;_.resolving&&function De(i,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new te(-200,`Circular dependency in DI detected for ${i}${u}`)}(function he(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():W(i)}(p[u]));const w=zo(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?cn(_.injectImpl):null;Ya(i,c,Ge.Default);try{h=i[u]=_.factory(void 0,p,i,c),s.firstCreatePass&&u>=c.directiveStart&&function eh(i,s,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(c){const _=ja(s);(u.preOrderHooks??=[]).push(i,_),(u.preOrderCheckHooks??=[]).push(i,_)}h&&(u.preOrderHooks??=[]).push(0-i,h),p&&((u.preOrderHooks??=[]).push(i,p),(u.preOrderCheckHooks??=[]).push(i,p))}(u,p[u],s)}finally{null!==I&&cn(I),zo(w),_.resolving=!1,Ju()}}return h}function su(i,s,u){return!!(u[s+(i>>wr)]&1<<i)}function nl(i,s){return!(i&Ge.Self||i&Ge.Host&&s)}class _s{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,c){return Ic(this._tNode,this._lView,s,U(c),u)}}function rl(){return new _s(An(),be())}function au(i){return pt(()=>{const s=i.prototype.constructor,u=s[oi]||il(s),c=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==c;){const p=h[oi]||il(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function il(i){return $e(i)?()=>{const s=il(Se(i));return s&&s()}:Ho(i)}function bc(i){const s=i[Ke],u=s.type;return 2===u?s.declTNode:1===u?i[Br]:null}function Dc(i){return function ou(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const u=i.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const p=u[h];if(Mt(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(p===s)return u[h+1];h+=2}}}return null}(An(),i)}const ys="__parameters__";function Bi(i,s,u){return pt(()=>{const c=function Qs(i){return function(...u){if(i){const c=i(...u);for(const h in c)this[h]=c[h]}}}(s);function h(...p){if(this instanceof h)return c.apply(this,p),this;const _=new h(...p);return w.annotation=_,w;function w(I,A,x){const P=I.hasOwnProperty(ys)?I[ys]:Object.defineProperty(I,ys,{value:[]})[ys];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(_),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function Zi(i,s){i.forEach(u=>Array.isArray(u)?Zi(u,s):s(u))}function Yo(i,s,u){s>=i.length?i.push(u):i.splice(s,0,u)}function cu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function E(i,s,u){let c=S(i,s);return c>=0?i[1|c]=u:(c=~c,function Sm(i,s,u,c){let h=i.length;if(h==s)i.push(u,c);else if(1===h)i.push(c,i[0]),i[0]=u;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=u,i[s+1]=c}}(i,c,s,u)),c}function C(i,s){const u=S(i,s);if(u>=0)return i[1|u]}function S(i,s){return function H(i,s,u){let c=0,h=i.length>>u;for(;h!==c;){const p=c+(h-c>>1),_=i[p<<u];if(s===_)return p<<u;_>s?h=p:c=p+1}return~(h<<u)}(i,s,1)}const Hi=$(Bi("Optional"),8),ci=$(Bi("SkipSelf"),4);function wp(i){return 128==(128&i.flags)}var Ts=(()=>((Ts=Ts||{})[Ts.Important=1]="Important",Ts[Ts.DashCase=2]="DashCase",Ts))();const dh=new Map;let kc=0;const hh="__ngContext__";function Er(i,s){Bn(s)?(i[hh]=s[Ps],function Oc(i){dh.set(i[Ps],i)}(s)):i[hh]=s}let mh;function _h(i,s){return mh(i,s)}function lo(i){const s=i[wn];return li(s)?s[wn]:s}function Np(i){return xp(i[Kr])}function yh(i){return xp(i[ai])}function xp(i){for(;null!==i&&!li(i);)i=i[ai];return i}function Lr(i,s,u,c,h){if(null!=c){let p,_=!1;li(c)?p=c:Bn(c)&&(_=!0,c=c[Vn]);const w=En(c);0===i&&null!==u?null==h?B(s,u,w):N(s,u,w,h||null,!0):1===i&&null!==u?N(s,u,w,h||null,!0):2===i?function Ch(i,s,u){const c=et(i,s);c&&function Ae(i,s,u,c){i.removeChild(s,u,c)}(i,c,s,u)}(s,w,_):3===i&&s.destroyNode(w),null!=p&&function oD(i,s,u,c,h){const p=u[Wr];p!==En(u)&&Lr(s,i,c,p,h);for(let w=ar;w<u.length;w++){const I=u[w];Tt(I[Ke],I,i,s,c,p)}}(s,i,p,u,h)}}function Gi(i,s,u){return i.createElement(s,u)}function Bm(i,s){const u=i[cs],c=u.indexOf(s);uc(s),u.splice(c,1)}function hu(i,s){if(i.length<=ar)return;const u=ar+s,c=i[u];if(c){const h=c[Ls];null!==h&&h!==i&&Bm(h,c),s>0&&(i[u-1][ai]=c[ai]);const p=cu(i,ar+s);!function Do(i,s){Tt(i,s,s[kt],2,null,null),s[Vn]=null,s[Br]=null}(c[Ke],c);const _=p[wi];null!==_&&_.detachView(p[Ke]),c[wn]=null,c[ai]=null,c[Lt]&=-129}return c}function kp(i,s){if(!(256&s[Lt])){const u=s[kt];s[Wl]?.destroy(),s[ls]?.destroy(),u.destroyNode&&Tt(i,s,u,3,null,null),function Ev(i){let s=i[Kr];if(!s)return y(i[Ke],i);for(;s;){let u=null;if(Bn(s))u=s[Kr];else{const c=s[ar];c&&(u=c)}if(!u){for(;s&&!s[ai]&&s!==i;)Bn(s)&&y(s[Ke],s),s=s[wn];null===s&&(s=i),Bn(s)&&y(s[Ke],s),u=s&&s[ai]}s=u}}(s)}}function y(i,s){if(!(256&s[Lt])){s[Lt]&=-129,s[Lt]|=256,function g(i,s){let u;if(null!=i&&null!=(u=i.destroyHooks))for(let c=0;c<u.length;c+=2){const h=s[u[c]];if(!(h instanceof vr)){const p=u[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=h[p[_]],I=p[_+1];Pi(4,w,I);try{I.call(w)}finally{Pi(5,w,I)}}else{Pi(4,h,p);try{p.call(h)}finally{Pi(5,h,p)}}}}}(i,s),function f(i,s){const u=i.cleanup,c=s[us];if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const _=u[p+3];_>=0?c[_]():c[-_].unsubscribe(),p+=2}else u[p].call(c[u[p+1]]);null!==c&&(s[us]=null);const h=s[ui];if(null!==h){s[ui]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(i,s),1===s[Ke].type&&s[kt].destroy();const u=s[Ls];if(null!==u&&li(s[wn])){u!==s[wn]&&Bm(u,s);const c=s[wi];null!==c&&c.detachView(i)}!function Pm(i){dh.delete(i[Ps])}(s)}}function v(i,s,u){return function D(i,s,u){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return u[Vn];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:p}=i.data[c.directiveStart+h];if(p===_n.None||p===_n.Emulated)return null}return jr(c,u)}}(i,s.parent,u)}function N(i,s,u,c,h){i.insertBefore(s,u,c,h)}function B(i,s,u){i.appendChild(s,u)}function Y(i,s,u,c,h){null!==c?N(i,s,u,c,h):B(i,s,u)}function et(i,s){return i.parentNode(s)}let Op,fu,nn,Th=function Ao(i,s,u){return 40&i.type?jr(i,u):null};function Eh(i,s,u,c){const h=v(i,c,s),p=s[kt],w=function On(i,s,u){return Th(i,s,u)}(c.parent||s[Br],c,s);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)Y(p,h,u[I],w,!1);else Y(p,h,u,w,!1);void 0!==Op&&Op(p,c,s,u,h)}function Lc(i,s){if(null!==s){const u=s.type;if(3&u)return jr(s,i);if(4&u)return Ih(-1,i[s.index]);if(8&u){const c=s.child;if(null!==c)return Lc(i,c);{const h=i[s.index];return li(h)?Ih(-1,h):En(h)}}if(32&u)return _h(s,i)()||En(i[s.index]);{const c=Pp(i,s);return null!==c?Array.isArray(c)?c[0]:Lc(lo(i[kn]),c):Lc(i,s.next)}}return null}function Pp(i,s){return null!==s?i[kn][Br].projection[s.projection]:null}function Ih(i,s){const u=ar+i+1;if(u<s.length){const c=s[u],h=c[Ke].firstChild;if(null!==h)return Lc(c,h)}return s[Wr]}function bh(i,s,u,c,h,p,_){for(;null!=u;){const w=c[u.index],I=u.type;if(_&&0===s&&(w&&Er(En(w),c),u.flags|=2),32!=(32&u.flags))if(8&I)bh(i,s,u.child,c,h,p,!1),Lr(s,i,h,w,p);else if(32&I){const A=_h(u,c);let x;for(;x=A();)Lr(s,i,h,x,p);Lr(s,i,h,w,p)}else 16&I?gl(i,s,c,u,h,p):Lr(s,i,h,w,p);u=_?u.projectionNext:u.next}}function Tt(i,s,u,c,h,p){bh(u,c,i.firstChild,s,h,p,!1)}function gl(i,s,u,c,h,p){const _=u[kn],I=_[Br].projection[c.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)Lr(s,i,h,I[A],p);else{let A=I;const x=_[wn];wp(c)&&(A.flags|=128),bh(i,s,A,x,h,p,!0)}}function Fp(i,s,u){""===u?i.removeAttribute(s,"class"):i.setAttribute(s,"class",u)}function Zm(i,s,u){const{mergedAttrs:c,classes:h,styles:p}=u;null!==c&&ut(i,s,c),null!==h&&Fp(i,s,h),null!==p&&function Mo(i,s,u){i.setAttribute(s,"style",u)}(i,s,p)}function jm(i){fu=i}function qm(i){return function bv(){if(void 0===nn&&(nn=null,rn.trustedTypes))try{nn=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return nn}()?.createScriptURL(i)||i}class Vt{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}function ml(i){return i instanceof Vt?i.changingThisBreaksApplicationSecurity:i}function Up(i,s){const u=function Si(i){return i instanceof Vt&&i.getTypeName()||null}(i);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see ${dt})`)}return u===s}const Bp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function kv(i){const s=Nh();return s?s.sanitize(or.URL,i)||"":Up(i,"URL")?ml(i):function Mh(i){return(i=String(i)).match(Bp)?i:"unsafe:"+i}(W(i))}function Ov(i){const s=Nh();if(s)return qm(s.sanitize(or.RESOURCE_URL,i)||"");if(Up(i,"ResourceURL"))return qm(ml(i));throw new te(904,!1)}function Jm(i,s,u){return function Pv(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Ov:kv}(s,u)(i)}function Nh(){const i=be();return i&&i[yo].sanitizer}class pn{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xh=new pn("ENVIRONMENT_INITIALIZER"),Fv=new pn("INJECTOR",-1),Qm=new pn("INJECTOR_DEF_TYPES");class Vv{get(s,u=Sr){if(u===Sr){const c=new Error(`NullInjectorError: No provider for ${J(s)}!`);throw c.name="NullInjectorError",c}return u}}function Uv(...i){return{\u0275providers:Xm(0,i),\u0275fromNgModule:!0}}function Xm(i,...s){const u=[],c=new Set;let h;return Zi(s,p=>{const _=p;Pr(_,u,[],c)&&(h||=[],h.push(_))}),void 0!==h&&e_(h,u),u}function e_(i,s){for(let u=0;u<i.length;u++){const{providers:h}=i[u];Rh(h,p=>{s.push(p)})}}function Pr(i,s,u,c){if(!(i=Se(i)))return!1;let h=null,p=Aa(i);const _=!p&&Ft(i);if(p||_){if(_&&!_.standalone)return!1;h=i}else{const I=i.ngModule;if(p=Aa(I),!p)return!1;h=I}const w=c.has(h);if(_){if(w)return!1;if(c.add(h),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const A of I)Pr(A,s,u,c)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let A;c.add(h);try{Zi(p.imports,x=>{Pr(x,s,u,c)&&(A||=[],A.push(x))})}finally{}void 0!==A&&e_(A,s)}if(!w){const A=Ho(h)||(()=>new h);s.push({provide:h,useFactory:A,deps:bt},{provide:Qm,useValue:h,multi:!0},{provide:xh,useValue:()=>Qt(h),multi:!0})}const I=p.providers;null==I||w||Rh(I,x=>{s.push(x)})}}return h!==i&&void 0!==i.providers}function Rh(i,s){for(let u of i)xe(u)&&(u=u.\u0275providers),Array.isArray(u)?Rh(u,s):s(u)}const Bv=V({provide:String,useValue:V});function Zv(i){return null!==i&&"object"==typeof i&&Bv in i}function _l(i){return"function"==typeof i}const Hv=new pn("Set Injector scope."),t_={},Hp={};let Uc;function kh(){return void 0===Uc&&(Uc=new Vv),Uc}class yl{}class jv extends yl{get destroyed(){return this._destroyed}constructor(s,u,c,h){super(),this.parent=u,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,n_(s,_=>this.processProvider(_)),this.records.set(Fv,Lh(void 0,this)),h.has("environment")&&this.records.set(yl,Lh(void 0,this));const p=this.records.get(Hv);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Qm.multi,bt,Ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of s)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const u=mn(this),c=cn(void 0);try{return s()}finally{mn(u),cn(c)}}get(s,u=Sr,c=Ge.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ee))return s[ee](this);c=U(c);const h=mn(this),p=cn(void 0);try{if(!(c&Ge.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function fE(i){return"function"==typeof i||"object"==typeof i&&i instanceof pn}(s)&&Gr(s);w=I&&this.injectableDefInScope(I)?Lh(Oh(s),t_):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(c&Ge.Self?kh():this.parent).get(s,u=c&Ge.Optional&&u===Sr?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Xi]=_[Xi]||[]).unshift(J(s)),h)throw _;return function oe(i,s,u,c){const h=i[Xi];throw s[eo]&&h.unshift(s[eo]),i.message=function nt(i,s,u,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=J(s);if(Array.isArray(s))h=s.map(J).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):J(w)))}h=`{${p.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${i.replace(Na,"\n  ")}`}("\n"+i.message,h,u,c),i.ngTokenPath=h,i[Xi]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{cn(p),mn(h)}}resolveInjectorInitializers(){const s=mn(this),u=cn(void 0);try{const c=this.get(xh.multi,bt,Ge.Self);for(const h of c)h()}finally{mn(s),cn(u)}}toString(){const s=[],u=this.records;for(const c of u.keys())s.push(J(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(s){let u=_l(s=Se(s))?s:Se(s&&s.provide);const c=function $v(i){return Zv(i)?Lh(void 0,i.useValue):Lh(Gv(i),t_)}(s);if(_l(s)||!0!==s.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Lh(void 0,t_,!0),h.factory=()=>F(h.multi),this.records.set(u,h)),u=s,h.multi.push(s)}this.records.set(u,c)}hydrate(s,u){return u.value===t_&&(u.value=Hp,u.value=u.factory()),"object"==typeof u.value&&u.value&&function hE(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=Se(s.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(s){const u=this._onDestroyHooks.indexOf(s);-1!==u&&this._onDestroyHooks.splice(u,1)}}function Oh(i){const s=Gr(i),u=null!==s?s.factory:Ho(i);if(null!==u)return u;if(i instanceof pn)throw new te(204,!1);if(i instanceof Function)return function qv(i){const s=i.length;if(s>0)throw function ul(i,s){const u=[];for(let c=0;c<i;c++)u.push(s);return u}(s,"?"),new te(204,!1);const u=function is(i){return i&&(i[ni]||i[Vo])||null}(i);return null!==u?()=>u.factory(i):()=>new i}(i);throw new te(204,!1)}function Gv(i,s,u){let c;if(_l(i)){const h=Se(i);return Ho(h)||Oh(h)}if(Zv(i))c=()=>Se(i.useValue);else if(function dE(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...F(i.deps||[]));else if(function cE(i){return!(!i||!i.useExisting)}(i))c=()=>Qt(Se(i.useExisting));else{const h=Se(i&&(i.useClass||i.provide));if(!function jp(i){return!!i.deps}(i))return Ho(h)||Oh(h);c=()=>new h(...F(i.deps))}return c}function Lh(i,s,u=!1){return{factory:i,value:s,multi:u?[]:void 0}}function n_(i,s){for(const u of i)Array.isArray(u)?n_(u,s):u&&xe(u)?n_(u.\u0275providers,s):s(u)}const qp=new pn("AppId",{providedIn:"root",factory:()=>_D}),_D="ng",pE=new pn("Platform Initializer"),vl=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bc=new pn("CSP nonce",{providedIn:"root",factory:()=>function Jo(){if(void 0!==fu)return fu;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kv=(i,s)=>null;function zp(i,s){return Kv(i,s)}class ED{}class wE{}class qc{resolveComponentFactory(s){throw function TE(i){const s=Error(`No component factory found for ${J(i)}.`);return s.ngComponent=i,s}(s)}}let Xo=(()=>{class i{}return i.NULL=new qc,i})();function u_(){return mu(An(),be())}function mu(i,s){return new jh(jr(i,s))}let jh=(()=>{class i{constructor(u){this.nativeElement=u}}return i.__NG_ELEMENT_ID__=u_,i})();function qn(i){return i instanceof jh?i.nativeElement:i}class Kp{}let Wp=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Yp(){const i=be(),u=ur(An().index,i);return(Bn(u)?u:i)[kt]}(),i})(),ID=(()=>{class i{}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>null}),i})();class Jv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const EE=new Jv("16.0.4"),Qv={};function Jp(i){for(;i;){i[Lt]|=64;const s=lo(i);if(xr(i)&&!s)return i;i=s}return null}function aa(i){return i.ngOriginalError}class $c{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s);this._console.error("ERROR",s),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&aa(s);for(;u&&aa(u);)u=aa(u);return u||null}}const Gc=new pn("",{providedIn:"root",factory:()=>!1});function ua(i){return i instanceof Function?i():i}class d_ extends Vu{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Jp(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,u,c){const h=Jn(this);this.trackingVersion++;try{s(u,c)}finally{Jn(h)}}destroy(){this.trackingVersion++}}let eg=null;function $h(){return eg??=new d_,eg}function Gh(i,s){return i[s]??$h()}function AE(i,s){const u=$h();u.hasReadASignal&&(i[s]=eg,u.lView=i,eg=new d_)}const at={};function n0(i){ME(zt(),be(),Yr()+i,!1)}function ME(i,s,u,c){if(!c)if(3==(3&s[Lt])){const p=i.preOrderCheckHooks;null!==p&&yc(s,p,u)}else{const p=i.preOrderHooks;null!==p&&Ks(s,p,0,u)}ms(u)}function h_(i,s=null,u=null,c){const h=zh(i,s,u,c);return h.resolveInjectorInitializers(),h}function zh(i,s=null,u=null,c,h=new Set){const p=[u||bt,Uv(i)];return c=c||("object"==typeof i?void 0:J(i)),new jv(p,s||kh(),c||null,h)}let _u=(()=>{class i{static create(u,c){if(Array.isArray(u))return h_({name:""},c,u,"");{const h=u.name??"";return h_({name:h},u.parent,u.providers,h)}}}return i.THROW_IF_NOT_FOUND=Sr,i.NULL=new Vv,i.\u0275prov=Wt({token:i,providedIn:"any",factory:()=>Qt(Fv)}),i.__NG_ELEMENT_ID__=-1,i})();function El(i,s=Ge.Default){const u=be();return null===u?Qt(i,s):Ic(An(),u,Se(i),s)}function ng(){throw new Error("invalid")}function zc(i,s,u,c,h,p,_,w,I,A,x){const P=s.blueprint.slice();return P[Vn]=h,P[Lt]=140|c,(null!==A||i&&2048&i[Lt])&&(P[Lt]|=2048),ac(P),P[wn]=P[io]=i,P[Tn]=u,P[yo]=_||i&&i[yo],P[kt]=w||i&&i[kt],P[_r]=I||i&&i[_r]||null,P[Br]=p,P[Ps]=function Lm(){return kc++}(),P[Un]=x,P[Pd]=A,P[kn]=2==s.type?i[kn]:P,P}function Kh(i,s,u,c,h){let p=i.data[s];if(null===p)p=function f_(i,s,u,c,h){const p=Xf(),_=za(),I=i.data[s]=function g_(i,s,u,c,h,p){let _=s?s.injectorIndex:-1,w=0;return function qs(){return null!==gt.skipHydrationRootTNode}()&&(w|=128),{type:u,index:c,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,u,s,c,h);return null===i.firstChild&&(i.firstChild=I),null!==p&&(_?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(i,s,u,c,h),function Yd(){return gt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=c,p.attrs=h;const _=function Ii(){const i=gt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Eo(p,!0),p}function yu(i,s,u,c){if(0===u)return-1;const h=s.length;for(let p=0;p<u;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return h}function o0(i,s,u,c,h){const p=Gh(s,Wl),_=Yr(),w=2&c;try{if(ms(-1),w&&s.length>Zt&&ME(i,s,Zt,!1),Pi(w?2:0,h),w)p.runInContext(u,c,h);else{const A=Jn(null);try{u(c,h)}finally{Jn(A)}}}finally{w&&null===s[Wl]&&AE(s,Wl),ms(_),Pi(w?3:1,h)}}function p_(i,s,u){if(Fs(s)){const c=Jn(null);try{const p=s.directiveEnd;for(let _=s.directiveStart;_<p;_++){const w=i.data[_];w.contentQueries&&w.contentQueries(1,u[_],_)}}finally{Jn(c)}}}function rg(i,s,u){Kd()&&(function d0(i,s,u,c){const h=u.directiveStart,p=u.directiveEnd;vo(u)&&function og(i,s,u){const c=jr(s,i),_=T_(i,zc(i,s0(u),null,u.onPush?64:16,c,s,null,i[yo].rendererFactory.createRenderer(c,u),null,null,null));i[s.index]=_}(s,u,i.data[h+u.componentOffset]),i.firstCreatePass||Js(u,s),Er(c,s);const _=u.initialInputs;for(let w=h;w<p;w++){const I=i.data[w],A=uo(s,i,w,u);Er(A,s),null!==_&&Jh(0,w-h,A,I,0,_),yr(I)&&(ur(u.index,s)[Tn]=uo(s,i,w,u))}}(i,s,u,jr(u,s)),64==(64&u.flags)&&Wc(i,s,u))}function ig(i,s,u=jr){const c=s.localNames;if(null!==c){let h=s.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],w=-1===_?u(s,i):i[_];i[h++]=w}}}function s0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Wh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Wh(i,s,u,c,h,p,_,w,I,A,x){const P=Zt+c,q=P+h,K=function OE(i,s){const u=[];for(let c=0;c<s;c++)u.push(c<i?null:at);return u}(P,q),ye="function"==typeof A?A():A;return K[Ke]={type:i,blueprint:K,template:u,queries:null,viewQuery:w,declTNode:s,data:K.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:ye,incompleteFirstPass:!1,ssrId:x}}let a0=i=>null;function co(i,s,u,c){for(let h in i)if(i.hasOwnProperty(h)){u=null===u?{}:u;const p=i[h];null===c?u0(u,s,h,p):c.hasOwnProperty(h)&&u0(u,s,c[h],p)}return u}function u0(i,s,u,c){i.hasOwnProperty(u)?i[u].push(s,c):i[u]=[s,c]}function c0(i,s,u,c){if(Kd()){const h=null===c?null:{"":-1},p=function ZE(i,s){const u=i.directiveRegistry;let c=null,h=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];if(vi(s,_.selectors,!1))if(c||(c=[]),yr(_))if(null!==_.findHostDirectiveDefs){const w=[];h=h||new Map,_.findHostDirectiveDefs(_,w,h),c.unshift(...w,_),bs(i,s,w.length)}else c.unshift(_),bs(i,s,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,c,h),c.push(_)}return null===c?null:[c,h]}(i,u);let _,w;null===p?_=w=null:[_,w]=p,null!==_&&m_(i,s,u,_,h,w),h&&function es(i,s,u){if(s){const c=i.localNames=[];for(let h=0;h<s.length;h+=2){const p=u[s[h+1]];if(null==p)throw new te(-301,!1);c.push(s[h],p)}}}(u,c,h)}u.mergedAttrs=Yt(u.mergedAttrs,u.attrs)}function m_(i,s,u,c,h,p){for(let A=0;A<c.length;A++)Di(Js(u,s),i,c[A].type);!function __(i,s,u){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+u,i.providerIndexes=s}(u,i.data.length,c.length);for(let A=0;A<c.length;A++){const x=c[A];x.providersResolver&&x.providersResolver(x)}let _=!1,w=!1,I=yu(i,s,c.length,null);for(let A=0;A<c.length;A++){const x=c[A];u.mergedAttrs=Yt(u.mergedAttrs,x.hostAttrs),y_(i,u,s,I,x),pi(I,x,h),null!==x.contentQueries&&(u.flags|=4),(null!==x.hostBindings||null!==x.hostAttrs||0!==x.hostVars)&&(u.flags|=64);const P=x.type.prototype;!_&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks??=[]).push(u.index),_=!0),!w&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(u.index),w=!0),I++}!function UE(i,s,u){const h=s.directiveEnd,p=i.data,_=s.attrs,w=[];let I=null,A=null;for(let x=s.directiveStart;x<h;x++){const P=p[x],q=u?u.get(P):null,ye=q?q.outputs:null;I=co(P.inputs,x,I,q?q.inputs:null),A=co(P.outputs,x,A,ye);const Re=null===I||null===_||ss(s)?null:xD(I,x,_);w.push(Re)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=8),I.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=I,s.outputs=A}(i,u,p)}function Wc(i,s,u){const c=u.directiveStart,h=u.directiveEnd,p=u.index,_=function Ku(){return gt.lFrame.currentDirectiveIndex}();try{ms(p);for(let w=c;w<h;w++){const I=i.data[w],A=s[w];gs(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&h0(I,A)}}finally{ms(-1),gs(_)}}function h0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function bs(i,s,u){s.componentOffset=u,(i.components??=[]).push(s.index)}function pi(i,s,u){if(u){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)u[s.exportAs[c]]=i;yr(s)&&(u[""]=i)}}function y_(i,s,u,c,h){i.data[c]=h;const p=h.factory||(h.factory=Ho(h.type)),_=new vr(p,yr(h),El);i.blueprint[c]=_,u[c]=_,function la(i,s,u,c,h){const p=h.hostBindings;if(p){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const w=~s.index;(function BE(i){let s=i.length;for(;s>0;){const u=i[--s];if("number"==typeof u&&u<0)return u}return 0})(_)!=w&&_.push(w),_.push(u,c,p)}}(i,s,c,yu(i,u,h.hostVars,at),h)}function No(i,s,u,c,h,p){const _=jr(i,s);!function v_(i,s,u,c,h,p,_){if(null==p)i.removeAttribute(s,h,u);else{const w=null==_?W(p):_(p,c||"",h);i.setAttribute(s,h,w,u)}}(s[kt],_,p,i.value,u,c,h)}function Jh(i,s,u,c,h,p){const _=p[s];if(null!==_)for(let w=0;w<_.length;)HE(c,u,_[w++],_[w++],_[w++])}function HE(i,s,u,c,h){const p=Jn(null);try{null!==i.setInput?i.setInput(s,h,u,c):s[c]=h}finally{Jn(p)}}function xD(i,s,u){let c=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const _=i[p];for(let w=0;w<_.length;w+=2)if(_[w]===s){c.push(p,_[w+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function w_(i,s,u,c){return[i,!0,!1,s,null,0,c,u,null,null,null]}function jE(i,s){const u=i.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const p=u[c+1];if(-1!==p){const _=i.data[p];Wu(u[c]),_.contentQueries(2,s[p],p)}}}function T_(i,s){return i[Kr]?i[Ld][ai]=s:i[Kr]=s,i[Ld]=s,s}function E_(i,s,u){Wu(0);const c=Jn(null);try{s(i,u)}finally{Jn(c)}}function sg(i){return i[us]||(i[us]=[])}function qE(i){return i.cleanup||(i.cleanup=[])}function Yc(i,s){const u=i[_r],c=u?u.get($c,null):null;c&&c.handleError(s)}function I_(i,s,u,c,h){for(let p=0;p<u.length;){const _=u[p++],w=u[p++];HE(i.data[_],s[_],c,w,h)}}function Ln(i,s,u){const c=ju(s,i);!function pl(i,s,u){i.setValue(s,u)}(i[kt],c,u)}function Qh(i,s){const u=ur(s,i),c=u[Ke];!function Il(i,s){for(let u=s.length;u<i.blueprint.length;u++)s.push(i.blueprint[u])}(c,u);const h=u[Vn];null!==h&&null===u[Un]&&(u[Un]=zp(h,u[_r])),ag(c,u,u[Tn])}function ag(i,s,u){zs(s);try{const c=i.viewQuery;null!==c&&E_(1,c,u);const h=i.template;null!==h&&o0(i,s,h,1,u),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&jE(i,s),i.staticViewQueries&&E_(2,i.viewQuery,u);const p=i.components;null!==p&&function RD(i,s){for(let u=0;u<s.length;u++)Qh(i,s[u])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[Lt]&=-5,gc()}}let C_=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(u,c,h){const p=typeof Zone>"u"?null:Zone.current,_=new Hd(u,A=>{this.all.has(A)&&this.queue.set(A,p)},h);let w;this.all.add(_),_.notify();const I=()=>{_.cleanup(),w?.(),this.all.delete(_),this.queue.delete(_)};return w=c?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[u,c]of this.queue)this.queue.delete(u),c?c.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>new i}),i})();function lt(i,s,u){let c=u?i.styles:null,h=u?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?p=w:1==p?h=Pe(h,w):2==p&&(c=Pe(c,w+": "+s[++_]+";"))}u?i.styles=c:i.stylesWithoutHost=c,u?i.classes=h:i.classesWithoutHost=h}function ug(i,s,u,c,h=!1){for(;null!==u;){const p=s[u.index];if(null!==p&&c.push(En(p)),li(p)){for(let w=ar;w<p.length;w++){const I=p[w],A=I[Ke].firstChild;null!==A&&ug(I[Ke],I,A,c)}p[Wr]!==p[Vn]&&c.push(p[Wr])}const _=u.type;if(8&_)ug(i,s,u.child,c);else if(32&_){const w=_h(u,s);let I;for(;I=w();)c.push(I)}else if(16&_){const w=Pp(s,u);if(Array.isArray(w))c.push(...w);else{const I=lo(s[kn]);ug(I[Ke],I,w,c,!0)}}u=h?u.projectionNext:u.next}return c}function We(i,s,u,c=!0){const h=s[yo].rendererFactory;h.begin&&h.begin();try{cr(i,s,i.template,u)}catch(_){throw c&&Yc(s,_),_}finally{h.end&&h.end(),s[yo].effectManager?.flush()}}function cr(i,s,u,c){const h=s[Lt];if(256!=(256&h)){s[yo].effectManager?.flush(),zs(s);try{ac(s),function zu(i){return gt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==u&&o0(i,s,u,2,c);const _=3==(3&h);if(_){const A=i.preOrderCheckHooks;null!==A&&yc(s,A,null)}else{const A=i.preOrderHooks;null!==A&&Ks(s,A,0,null),th(s,0)}if(function kD(i){for(let s=Np(i);null!==s;s=yh(s)){if(!s[oo])continue;const u=s[cs];for(let c=0;c<u.length;c++){$d(u[c])}}}(s),function GE(i){for(let s=Np(i);null!==s;s=yh(s))for(let u=ar;u<s.length;u++){const c=s[u],h=c[Ke];Hs(c)&&cr(h,c,h.template,c[Tn])}}(s),null!==i.contentQueries&&jE(i,s),_){const A=i.contentCheckHooks;null!==A&&yc(s,A)}else{const A=i.contentHooks;null!==A&&Ks(s,A,1),th(s,1)}!function kE(i,s){const u=i.hostBindingOpCodes;if(null===u)return;const c=Gh(s,ls);try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)ms(~p);else{const _=p,w=u[++h],I=u[++h];Ka(w,_),c.runInContext(I,2,s[_])}}}finally{null===s[ls]&&AE(s,ls),ms(-1)}}(i,s);const w=i.components;null!==w&&function LD(i,s){for(let u=0;u<s.length;u++)OD(i,s[u])}(s,w);const I=i.viewQuery;if(null!==I&&E_(2,I,c),_){const A=i.viewCheckHooks;null!==A&&yc(s,A)}else{const A=i.viewHooks;null!==A&&Ks(s,A,2),th(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Lt]&=-73,uc(s)}finally{gc()}}}function OD(i,s){const u=ur(s,i);if(Hs(u)){const c=u[Ke];80&u[Lt]?cr(c,u,c.template,u[Tn]):u[Zo]>0&&f0(u)}}function f0(i){for(let c=Np(i);null!==c;c=yh(c))for(let h=ar;h<c.length;h++){const p=c[h];if(Hs(p))if(1024&p[Lt]){const _=p[Ke];cr(_,p,_.template,p[Tn])}else p[Zo]>0&&f0(p)}const u=i[Ke].components;if(null!==u)for(let c=0;c<u.length;c++){const h=ur(u[c],i);Hs(h)&&h[Zo]>0&&f0(h)}}class lg{get rootNodes(){const s=this._lView,u=s[Ke];return ug(u,s,u.firstChild,[])}constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tn]}set context(s){this._lView[Tn]=s}get destroyed(){return 256==(256&this._lView[Lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[wn];if(li(s)){const u=s[Ti],c=u?u.indexOf(this):-1;c>-1&&(hu(s,c),cu(u,c))}this._attachedToViewContainer=!1}kp(this._lView[Ke],this._lView)}onDestroy(s){!function lc(i,s){if(256==(256&i[Lt]))throw new te(911,!1);null===i[ui]&&(i[ui]=[]),i[ui].push(s)}(this._lView,s)}markForCheck(){Jp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Lt]&=-129}reattach(){this._lView[Lt]|=128}detectChanges(){We(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rp(i,s){Tt(i,s,s[kt],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=s}}class zE extends lg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;We(s[Ke],s,s[Tn],!1)}checkNoChanges(){}get context(){return null}}class KE extends Xo{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=Ft(s);return new Nt(u,this.ngModule)}}function PD(i){const s=[];for(let u in i)i.hasOwnProperty(u)&&s.push({propName:i[u],templateName:u});return s}class WE{constructor(s,u){this.injector=s,this.parentInjector=u}get(s,u,c){c=U(c);const h=this.injector.get(s,Qv,c);return h!==Qv||u===Qv?h:this.parentInjector.get(s,u,c)}}class Nt extends wE{get inputs(){return PD(this.componentDef.inputs)}get outputs(){return PD(this.componentDef.outputs)}constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function jf(i){return i.map(_m).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}create(s,u,c,h){let p=(h=h||this.ngModule)instanceof yl?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new WE(s,p):s,w=_.get(Kp,null);if(null===w)throw new te(407,!1);const x={rendererFactory:w,sanitizer:_.get(ID,null),effectManager:_.get(C_,null)},P=w.createRenderer(null,this.componentDef),q=this.componentDef.selectors[0][0]||"div",K=c?function LE(i,s,u,c){const p=c.get(Gc,!1)||u===_n.ShadowDom,_=i.selectRootElement(s,p);return function Kc(i){a0(i)}(_),_}(P,c,this.componentDef.encapsulation,_):Gi(P,q,function FD(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(q)),ye=this.componentDef.onPush?576:528,Re=Wh(0,null,null,1,0,null,null,null,null,null,null),Ze=zc(null,Re,null,ye,null,null,x,P,_,null,null);let st,we;zs(Ze);try{const vt=this.componentDef;let Jt,gn=null;vt.findHostDirectiveDefs?(Jt=[],gn=new Map,vt.findHostDirectiveDefs(vt,Jt,gn),Jt.push(vt)):Jt=[vt];const Rs=function Xn(i,s){const u=i[Ke],c=Zt;return i[c]=s,Kh(u,c,2,"#host",null)}(Ze,K),Su=function yt(i,s,u,c,h,p,_){const w=h[Ke];!function cg(i,s,u,c){for(const h of i)s.mergedAttrs=Yt(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(lt(s,s.mergedAttrs,!0),null!==u&&Zm(c,u,s))}(c,i,s,_);let I=null;null!==s&&(I=zp(s,h[_r]));const A=p.rendererFactory.createRenderer(s,u),x=zc(h,s0(u),null,u.onPush?64:16,h[i.index],i,p,A,null,null,I);return w.firstCreatePass&&bs(w,i,c.length-1),T_(h,x),h[i.index]=x}(Rs,K,vt,Jt,Ze,x,P);we=sc(Re,Zt),K&&function UD(i,s,u,c){if(c)ut(i,u,["ng-version",EE.full]);else{const{attrs:h,classes:p}=function ku(i){const s=[],u=[];let c=1,h=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===h?""!==p&&s.push(p,i[++c]):8===h&&u.push(p);else{if(!si(h))break;h=p}c++}return{attrs:s,classes:u}}(s.selectors[0]);h&&ut(i,u,h),p&&p.length>0&&Fp(i,u,p.join(" "))}}(P,vt,K,c),void 0!==u&&function dr(i,s,u){const c=i.projection=[];for(let h=0;h<s.length;h++){const p=u[h];c.push(null!=p?Array.from(p):null)}}(we,this.ngContentSelectors,u),st=function on(i,s,u,c,h,p){const _=An(),w=h[Ke],I=jr(_,h);m_(w,h,_,u,null,c);for(let x=0;x<u.length;x++)Er(uo(h,w,_.directiveStart+x,_),h);Wc(w,h,_),I&&Er(I,h);const A=uo(h,w,_.directiveStart+_.componentOffset,_);if(i[Tn]=h[Tn]=A,null!==p)for(const x of p)x(A,s);return p_(w,_,i),A}(Su,vt,Jt,gn,Ze,[Je]),ag(Re,Ze,null)}finally{gc()}return new Xh(this.componentType,st,mu(we,Ze),Ze,we)}}class Xh extends ED{constructor(s,u,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new zE(h),this.componentType=s}setInput(s,u){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),u))return;const p=this._rootLView;I_(p[Ke],p,h,s,u),this.previousInputValues.set(s,u),Jp(ur(this._tNode.index,p))}}get injector(){return new _s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Je(){const i=An();Xa(be()[Ke],i)}function hg(i){let s=function dg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),u=!0;const c=[i];for(;s;){let h;if(yr(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new te(903,!1);h=s.\u0275dir}if(h){if(u){c.push(h);const _=i;_.inputs=p0(i.inputs),_.declaredInputs=p0(i.declaredInputs),_.outputs=p0(i.outputs);const w=h.hostBindings;w&&fg(i,w);const I=h.viewQuery,A=h.contentQueries;if(I&&b_(i,I),A&&BD(i,A),Z(i.inputs,h.inputs),Z(i.declaredInputs,h.declaredInputs),Z(i.outputs,h.outputs),yr(h)&&h.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(i),w===hg&&(u=!1)}}s=Object.getPrototypeOf(s)}!function Jc(i){let s=0,u=null;for(let c=i.length-1;c>=0;c--){const h=i[c];h.hostVars=s+=h.hostVars,h.hostAttrs=Yt(h.hostAttrs,u=Yt(u,h.hostAttrs))}}(c)}function p0(i){return i===dn?{}:i===bt?[]:i}function b_(i,s){const u=i.viewQuery;i.viewQuery=u?(c,h)=>{s(c,h),u(c,h)}:s}function BD(i,s){const u=i.contentQueries;i.contentQueries=u?(c,h,p)=>{s(c,h,p),u(c,h,p)}:s}function fg(i,s){const u=i.hostBindings;i.hostBindings=u?(c,h)=>{s(c,h),u(c,h)}:s}function ho(i){return!!ca(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function ca(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Qr(i,s,u){return!Object.is(i[s],u)&&(i[s]=u,!0)}function Qc(i,s,u,c){const h=Qr(i,s,u);return Qr(i,s+1,c)||h}function er(i,s,u,c,h,p){const _=Qc(i,s,u,c);return Qc(i,s+2,h,p)||_}function Xc(i,s,u,c){const h=be();return Qr(h,Go(),s)&&(zt(),No(Cn(),h,i,s,u,c)),Xc}function tf(i,s,u,c,h,p,_,w){const A=function D_(i,s,u,c,h){const p=Qc(i,s,u,c);return Qr(i,s+2,h)||p}(i,Io(),u,h,_);return hn(3),A?s+W(u)+c+W(h)+p+W(_)+w:at}function _g(i,s,u,c,h,p,_,w){const I=be(),A=zt(),x=i+Zt,P=A.firstCreatePass?function Al(i,s,u,c,h,p,_,w,I){const A=s.consts,x=Kh(s,i,4,_||null,qo(A,w));c0(s,u,x,qo(A,I)),Xa(s,x);const P=x.tView=Wh(2,x,c,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A,null);return null!==s.queries&&(s.queries.template(s,x),P.queries=s.queries.embeddedTView(x)),x}(x,A,I,s,u,c,h,p,_):A.data[x];Eo(P,!1);const q=Tu(A,I,P,i);_c()&&Eh(A,I,q,P),Er(q,I),T_(I,I[x]=w_(q,I,q,P)),wo(P)&&rg(A,I,P),null!=_&&ig(I,P,w)}let Tu=function Ms(i,s,u,c){return ao(!0),s[kt].createComment("")};function vg(i,s,u){const c=be();return Qr(c,Go(),s)&&function So(i,s,u,c,h,p,_,w){const I=jr(s,u);let x,A=s.inputs;!w&&null!=A&&(x=A[c])?(I_(i,u,x,c,h),vo(s)&&function Cs(i,s){const u=ur(s,i);16&u[Lt]||(u[Lt]|=64)}(u,s.index)):3&s.type&&(c=function Yh(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),h=null!=_?_(h,s.value||"",c):h,p.setProperty(I,c,h))}(zt(),Cn(),c,i,s,c[kt],u,!1),vg}function lf(i,s,u,c,h){const _=h?"class":"style";I_(i,u,s.inputs[_],_,c)}function cf(i,s,u,c){const h=be(),p=zt(),_=Zt+i,w=h[kt],I=p.firstCreatePass?function id(i,s,u,c,h,p){const _=s.consts,I=Kh(s,i,2,c,qo(_,h));return c0(s,u,I,qo(_,p)),null!==I.attrs&&lt(I,I.attrs,!1),null!==I.mergedAttrs&&lt(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,p,h,s,u,c):p.data[_],A=T0(p,h,I,w,s,i);h[_]=A;const x=wo(I);return Eo(I,!0),Zm(w,A,I),32!=(32&I.flags)&&_c()&&Eh(p,h,A,I),0===function cc(){return gt.lFrame.elementDepthCount}()&&Er(A,h),function Qf(){gt.lFrame.elementDepthCount++}(),x&&(rg(p,h,I),p_(p,I,h)),null!==c&&ig(h,I),cf}function Sl(){let i=An();za()?function Gs(){gt.lFrame.isParent=!1}():(i=i.parent,Eo(i,!1));const s=i;(function $a(i){return gt.skipHydrationRootTNode===i})(s)&&function Wd(){gt.skipHydrationRootTNode=null}(),function zd(){gt.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(Xa(u,i),Fs(i)&&u.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ws(i){return 0!=(8&i.flags)}(s)&&lf(u,s,be(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Tc(i){return 0!=(16&i.flags)}(s)&&lf(u,s,be(),s.stylesWithoutHost,!1),Sl}function S_(i,s,u,c){return cf(i,s,u,c),Sl(),S_}let T0=(i,s,u,c,h,p)=>(ao(!0),Gi(c,h,function np(){return gt.lFrame.currentNamespace}()));function Pn(){return be()}function fa(i){return!!i&&"function"==typeof i.then}function D0(i){return!!i&&"function"==typeof i.subscribe}function x_(i,s,u,c){const h=be(),p=zt(),_=An();return function A0(i,s,u,c,h,p,_){const w=wo(c),A=i.firstCreatePass&&qE(i),x=s[Tn],P=sg(s);let q=!0;if(3&c.type||_){const Re=jr(c,s),Ze=_?_(Re):Re,st=P.length,we=_?Jt=>_(En(Jt[c.index])):c.index;let vt=null;if(!_&&w&&(vt=function JD(i,s,u,c){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===u&&h[p+1]===c){const w=s[us],I=h[p+2];return w.length>I?w[I]:null}"string"==typeof _&&(p+=2)}return null}(i,s,h,c.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=p,vt.__ngLastListenerFn__=p,q=!1;else{p=yn(c,s,x,p,!1);const Jt=u.listen(Ze,h,p);P.push(p,Jt),A&&A.push(h,we,st,st+1)}}else p=yn(c,s,x,p,!1);const K=c.outputs;let ye;if(q&&null!==K&&(ye=K[h])){const Re=ye.length;if(Re)for(let Ze=0;Ze<Re;Ze+=2){const gn=s[ye[Ze]][ye[Ze+1]].subscribe(p),Rs=P.length;P.push(p,gn),A&&A.push(h,c.index,Rs,-(Rs+1))}}}(p,h,h[kt],_,i,s,c),x_}function Xt(i,s,u,c){try{return Pi(6,s,u),!1!==u(c)}catch(h){return Yc(i,h),!1}finally{Pi(7,s,u)}}function yn(i,s,u,c,h){return function p(_){if(_===Function)return c;Jp(i.componentOffset>-1?ur(i.index,s):s);let I=Xt(s,u,c,_),A=p.__ngNextListenerFn__;for(;A;)I=Xt(s,u,A,_)&&I,A=A.__ngNextListenerFn__;return h&&!1===I&&_.preventDefault(),I}}function sd(i=1){return function Ja(i){return(gt.lFrame.contextLView=function ep(i,s){for(;i>0;)s=s[io],i--;return s}(i,gt.lFrame.contextLView))[Tn]}(i)}function O_(i,s){return i<<17|s<<2}function Nl(i){return i>>17&32767}function Eu(i){return 2|i}function Ss(i){return(131068&i)>>2}function df(i,s){return-131069&i|s<<2}function P_(i){return 1|i}function L0(i,s,u,c,h){const p=i[u+1],_=null===s;let w=c?Nl(p):Ss(p),I=!1;for(;0!==w&&(!1===I||_);){const x=i[w+1];P0(i[w],s)&&(I=!0,i[w+1]=c?P_(x):Eu(x)),w=c?Nl(x):Ss(x)}I&&(i[u+1]=c?Eu(p):P_(p))}function P0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&S(i,s)>=0}function B_(i,s){return function Yi(i,s,u,c){const h=be(),p=zt(),_=hn(2);p.firstUpdatePass&&function Ht(i,s,u,c){const h=i.data;if(null===h[u+1]){const p=h[Yr()],_=function EI(i,s){return s>=i.expandoStartIndex}(i,u);(function ud(i,s){return 0!=(i.flags&(s?8:16))})(p,c)&&null===s&&!_&&(s=!1),s=function tA(i,s,u,c){const h=function Wa(i){const s=gt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===h)0===(c?s.classBindings:s.styleBindings)&&(u=kl(u=Z_(null,i,s,u,c),s.attrs,c),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==h)if(u=Z_(h,i,s,u,c),null===p){let I=function U0(i,s,u){const c=u?s.classBindings:s.styleBindings;if(0!==Ss(c))return i[Nl(c)]}(i,s,c);void 0!==I&&Array.isArray(I)&&(I=Z_(null,i,s,I[1],c),I=kl(I,s.attrs,c),function II(i,s,u,c){i[Nl(u?s.classBindings:s.styleBindings)]=c}(i,s,c,I))}else p=function CI(i,s,u){let c;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)c=kl(c,i[p].hostAttrs,u);return kl(c,s.attrs,u)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),u}(h,p,s,c),function vI(i,s,u,c,h,p){let _=p?s.classBindings:s.styleBindings,w=Nl(_),I=Ss(_);i[c]=u;let x,A=!1;if(Array.isArray(u)?(x=u[1],(null===x||S(u,x)>0)&&(A=!0)):x=u,h)if(0!==I){const q=Nl(i[w+1]);i[c+1]=O_(q,w),0!==q&&(i[q+1]=df(i[q+1],c)),i[w+1]=function O0(i,s){return 131071&i|s<<17}(i[w+1],c)}else i[c+1]=O_(w,0),0!==w&&(i[w+1]=df(i[w+1],c)),w=c;else i[c+1]=O_(I,0),0===w?w=c:i[I+1]=df(i[I+1],c),I=c;A&&(i[c+1]=Eu(i[c+1])),L0(i,x,c,!0),L0(i,x,c,!1),function hf(i,s,u,c,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&S(p,s)>=0&&(u[c+1]=P_(u[c+1]))}(s,x,i,c,p),_=O_(w,I),p?s.classBindings=_:s.styleBindings=_}(h,p,s,u,_,c)}}(p,i,_,c),s!==at&&Qr(h,_,s)&&function Ol(i,s,u,c,h,p,_,w){if(!(3&s.type))return;const I=i.data,A=I[w+1],x=function L_(i){return 1==(1&i)}(A)?B0(I,s,u,h,Ss(A),_):void 0;ma(x)||(ma(p)||function QD(i){return 2==(2&i)}(A)&&(p=B0(I,null,u,h,w,_)),function Cv(i,s,u,c,h){if(s)h?i.addClass(u,c):i.removeClass(u,c);else{let p=-1===c.indexOf("-")?void 0:Ts.DashCase;null==h?i.removeStyle(u,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ts.Important),i.setStyle(u,c,h,p))}}(c,_,ju(Yr(),u),h,p))}(p,p.data[Yr()],h,h[kt],i,h[_+1]=function AI(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=J(ml(i)))),i}(s,u),c,_)}(i,s,null,!0),B_}function Z_(i,s,u,c,h){let p=null;const _=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<_&&(p=s[w],c=kl(c,p.hostAttrs,h),p!==i);)w++;return null!==i&&(u.directiveStylingLast=w),c}function kl(i,s,u){const c=u?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?h=_:h===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),E(i,_,!!u||s[++p]))}return void 0===i?null:i}function B0(i,s,u,c,h,p){const _=null===s;let w;for(;h>0;){const I=i[h],A=Array.isArray(I),x=A?I[1]:I,P=null===x;let q=u[h+1];q===at&&(q=P?bt:void 0);let K=P?C(q,c):x===c?q:void 0;if(A&&!ma(K)&&(K=C(I,c)),ma(K)&&(w=K,_))return w;const ye=i[h+1];h=_?Nl(ye):Ss(ye)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(w=C(I,c))}return w}function ma(i){return void 0!==i}function Z0(i,s=""){const u=be(),c=zt(),h=i+Zt,p=c.firstCreatePass?Kh(c,h,1,s,null):c.data[h],_=H0(c,u,p,s,i);u[h]=_,_c()&&Eh(c,u,_,p),Eo(p,!1)}let H0=(i,s,u,c,h)=>(ao(!0),function sa(i,s){return i.createText(s)}(s[kt],c));function j0(i){return Sn("",i,""),j0}function Sn(i,s,u){const c=be(),h=function ed(i,s,u,c){return Qr(i,Go(),u)?s+W(u)+c:at}(c,i,s,u);return h!==at&&Ln(c,Yr(),h),Sn}function gf(i,s,u,c,h,p,_){const w=be(),I=tf(w,i,s,u,c,h,p,_);return I!==at&&Ln(w,Yr(),I),gf}function H_(i,s,u,c,h,p,_,w,I){const A=be(),x=function td(i,s,u,c,h,p,_,w,I,A){const P=er(i,Io(),u,h,_,I);return hn(4),P?s+W(u)+c+W(h)+p+W(_)+w+W(I)+A:at}(A,i,s,u,c,h,p,_,w,I);return x!==at&&Ln(A,Yr(),x),H_}function ld(i,s,u,c,h,p,_,w,I,A,x,P,q){const K=be(),ye=function nd(i,s,u,c,h,p,_,w,I,A,x,P,q,K){const ye=Io();let Re=er(i,ye,u,h,_,I);return Re=Qc(i,ye+4,x,q)||Re,hn(6),Re?s+W(u)+c+W(h)+p+W(_)+w+W(I)+A+W(x)+P+W(q)+K:at}(K,i,s,u,c,h,p,_,w,I,A,x,P,q);return ye!==at&&Ln(K,Yr(),ye),ld}const dd=void 0;var VI=["en",[["a","p"],["AM","PM"],dd],[["AM","PM"],dd,dd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dd,"{1} 'at' {0}",dd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FI(i){const u=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let wf={};function tw(i){const s=function Mr(i){return i.toLowerCase().replace(/_/g,"-")}(i);let u=hd(s);if(u)return u;const c=s.split("-")[0];if(u=hd(c),u)return u;if("en"===c)return VI;throw new te(701,!1)}function $_(i){return tw(i)[St.PluralCase]}function hd(i){return i in wf||(wf[i]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[i]),wf[i]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const _a="en-US";let rw=_a;function ty(i,s,u,c,h){if(i=Se(i),Array.isArray(i))for(let p=0;p<i.length;p++)ty(i[p],s,u,c,h);else{const p=zt(),_=be();let w=_l(i)?i:Se(i.provide),I=Gv(i);const A=An(),x=1048575&A.providerIndexes,P=A.directiveStart,q=A.providerIndexes>>20;if(_l(i)||!i.multi){const K=new vr(I,h,El),ye=_w(w,s,h?x:x+q,P);-1===ye?(Di(Js(A,_),p,w),gw(p,i,s.length),s.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(K),_.push(K)):(u[ye]=K,_[ye]=K)}else{const K=_w(w,s,x+q,P),ye=_w(w,s,x,x+q),Ze=ye>=0&&u[ye];if(h&&!Ze||!h&&!(K>=0&&u[K])){Di(Js(A,_),p,w);const st=function iC(i,s,u,c,h){const p=new vr(i,u,El);return p.multi=[],p.index=s,p.componentProviders=0,mw(p,h,c&&!u),p}(h?rC:ny,u.length,h,c,I);!h&&Ze&&(u[ye].providerFactory=st),gw(p,i,s.length,0),s.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(st),_.push(st)}else gw(p,i,K>-1?K:ye,mw(u[h?ye:K],I,!h&&c));!h&&c&&Ze&&u[ye].componentProviders++}}}function gw(i,s,u,c){const h=_l(s),p=function mD(i){return!!i.useClass}(s);if(h||p){const I=(p?Se(s.useClass):s).prototype.ngOnDestroy;if(I){const A=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const x=A.indexOf(u);-1===x?A.push(u,[c,I]):A[x+1].push(c,I)}else A.push(u,I)}}}function mw(i,s,u){return u&&i.componentProviders++,i.multi.push(s)-1}function _w(i,s,u,c){for(let h=u;h<c;h++)if(s[h]===i)return h;return-1}function ny(i,s,u,c){return yw(this.multi,[])}function rC(i,s,u,c){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=uo(u,u[Ke],this.providerFactory.index,c);p=w.slice(0,_),yw(h,p);for(let I=_;I<w.length;I++)p.push(w[I])}else p=[],yw(h,p);return p}function yw(i,s){for(let u=0;u<i.length;u++)s.push((0,i[u])());return s}function oC(i,s=[]){return u=>{u.providersResolver=(c,h)=>function IA(i,s,u){const c=zt();if(c.firstCreatePass){const h=yr(i);ty(u,c.data,c.blueprint,h,!0),ty(s,c.data,c.blueprint,h,!1)}}(c,h?h(i):i,s)}}class md{}class Zl{}function Og(i,s){return new ry(i,s??null,[])}class ry extends md{constructor(s,u,c){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KE(this);const h=Nr(s);this._bootstrapComponents=ua(h.bootstrap),this._r3Injector=zh(s,u,[{provide:md,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver},...c],J(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class vw extends Zl{constructor(s){super(),this.moduleType=s}create(s){return new ry(this.moduleType,s,[])}}class aC extends md{constructor(s){super(),this.componentFactoryResolver=new KE(this),this.instance=null;const u=new jv([...s.providers,{provide:md,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],s.parent||kh(),s.debugName,new Set(["environment"]));this.injector=u,s.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function uC(i,s,u=null){return new aC({providers:i,parent:s,debugName:u,runEnvironmentInitializers:!0}).injector}let ww=(()=>{class i{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=Xm(0,u.type),h=c.length>0?uC([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Wt({token:i,providedIn:"environment",factory:()=>new i(Qt(yl))}),i})();function qr(i){i.getStandaloneInjector=s=>s.get(ww).getOrCreateStandaloneInjector(i)}function Fg(i){return s=>{setTimeout(i,void 0,s)}}const ts=class dy extends a.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,c){let h=s,p=u||(()=>null),_=c;if(s&&"object"==typeof s){const I=s;h=I.next?.bind(I),p=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(p=Fg(p),h&&(h=Fg(h)),_&&(_=Fg(_)));const w=super.subscribe({next:h,error:p,complete:_});return s instanceof G.w0&&s.add(w),w}};function xw(){return this._results[Symbol.iterator]()}class hy{get changes(){return this._changes||(this._changes=new ts)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=hy.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=xw)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const c=this;c.dirty=!1;const h=function Qn(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Mc(i,s,u){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let h=i[c],p=s[c];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vg=(()=>{class i{}return i.__NG_ELEMENT_ID__=Rw,i})();const TC=Vg,fy=class extends TC{constructor(s,u,c){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,u){return this.createEmbeddedViewImpl(s,u,null)}createEmbeddedViewImpl(s,u,c){const h=this._declarationTContainer.tView,p=zc(this._declarationLView,h,s,16,null,h.declTNode,null,null,null,u||null,c||null);p[Ls]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[wi];return null!==w&&(p[wi]=w.createEmbeddedView(h)),ag(h,p,s),new lg(p)}};function Rw(){return py(An(),be())}function py(i,s){return 4&i.type?new fy(s,i,mu(i,s)):null}let yy=(()=>{class i{}return i.__NG_ELEMENT_ID__=OA,i})();function OA(){return vy(An(),be())}const kw=yy,bC=class extends kw{constructor(s,u,c){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=c}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new _s(this._hostTNode,this._hostLView)}get parentInjector(){const s=Co(this._hostTNode,this._hostLView);if(jn(s)){const u=nu(s,this._hostLView),c=Dt(s);return new _s(u[Ke].data[c+8],u)}return new _s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=DC(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(s,u,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const w=s.createEmbeddedViewImpl(u||{},p,null);return this.insertImpl(w,h,false),w}createComponent(s,u,c,h,p){const _=s&&!function Wo(i){return"function"==typeof i}(s);let w;if(_)w=u;else{const Re=u||{};w=Re.index,c=Re.injector,h=Re.projectableNodes,p=Re.environmentInjector||Re.ngModuleRef}const I=_?s:new Nt(Ft(s)),A=c||this.parentInjector;if(!p&&null==I.ngModule){const Ze=(_?A:this.parentInjector).get(yl,null);Ze&&(p=Ze)}Ft(I.componentType??{});const K=I.create(A,h,null,p);return this.insertImpl(K.hostView,w,false),K}insert(s,u){return this.insertImpl(s,u,!1)}insertImpl(s,u,c){const h=s._lView,p=h[Ke];if(function qd(i){return li(i[wn])}(h)){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const A=h[wn],x=new bC(A,A[Br],A[wn]);x.detach(x.indexOf(s))}}const _=this._adjustIndex(u),w=this._lContainer;if(function wh(i,s,u,c){const h=ar+c,p=u.length;c>0&&(u[h-1][ai]=s),c<p-ar?(s[ai]=u[h],Yo(u,ar+c,s)):(u.push(s),s[ai]=null),s[wn]=u;const _=s[Ls];null!==_&&u!==_&&function Iv(i,s){const u=i[cs];s[kn]!==s[wn][wn][kn]&&(i[oo]=!0),null===u?i[cs]=[s]:u.push(s)}(_,s);const w=s[wi];null!==w&&w.insertView(i),s[Lt]|=128}(p,h,w,_),!c){const I=Ih(_,w),A=h[kt],x=et(A,w[Wr]);null!==x&&function Um(i,s,u,c,h,p){c[Vn]=h,c[Br]=s,Tt(i,c,u,1,h,p)}(p,w[Br],A,h,x,I)}return s.attachToViewContainerRef(),Yo(_d(w),_,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=DC(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),c=hu(this._lContainer,u);c&&(cu(_d(this._lContainer),u),kp(c[Ke],c))}detach(s){const u=this._adjustIndex(s,-1),c=hu(this._lContainer,u);return c&&null!=cu(_d(this._lContainer),u)?new lg(c):null}_adjustIndex(s,u=0){return s??this.length+u}};function DC(i){return i[Ti]}function _d(i){return i[Ti]||(i[Ti]=[])}function vy(i,s){let u;const c=s[i.index];return li(c)?u=c:(u=w_(c,s,null,i),s[i.index]=u,T_(s,u)),wy(u,s,i,c),new bC(u,i,s)}let wy=function Bg(i,s,u,c){if(i[Wr])return;let h;h=8&u.type?En(c):function xf(i,s){const u=i[kt],c=u.createComment(""),h=jr(s,i);return N(u,et(u,h),c,function rt(i,s){return i.nextSibling(s)}(u,h),!1),c}(s,u),i[Wr]=h};class Ty{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ty(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const c=null!==s.contentQueries?s.contentQueries[0]:u.length,h=[];for(let p=0;p<c;p++){const _=u.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Hg(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==Bw(s,u).matches&&this.queries[u].setDirty()}}class Ey{constructor(s,u,c=null){this.predicate=s,this.flags=u,this.read=c}}class wa{constructor(s=[]){this.queries=s}elementStart(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,p=this.getByIndex(c).embeddedTView(s,h);p&&(p.indexInDeclarationView=c,null!==u?u.push(p):u=[p])}return null!==u?new wa(u):null}template(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Iy{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new Iy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(s,u,LA(u,p)),this.matchTNodeWithReadOption(s,u,tl(u,s,p,!1,!1))}else c===Vg?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,tl(u,s,c,!1,!1))}matchTNodeWithReadOption(s,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===jh||h===yy||h===Vg&&4&u.type)this.addMatch(u.index,-2);else{const p=tl(u,s,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,c)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function LA(i,s){const u=i.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===s)return u[c+1];return null}function PA(i,s,u,c){return-1===u?function Lw(i,s){return 11&i.type?mu(i,s):4&i.type?py(i,s):null}(s,i):-2===u?function Pw(i,s,u){return u===jh?mu(s,i):u===Vg?py(s,i):u===yy?vy(s,i):void 0}(i,s,c):uo(i,i[Ke],u,s)}function AC(i,s,u,c){const h=s[wi].queries[c];if(null===h.matches){const p=i.data,_=u.matches,w=[];for(let I=0;I<_.length;I+=2){const A=_[I];w.push(A<0?null:PA(s,p[A],_[I+1],u.metadata.read))}h.matches=w}return h.matches}function jg(i,s,u,c){const h=i.queries.getByIndex(u),p=h.matches;if(null!==p){const _=AC(i,s,h,u);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)c.push(_[w/2]);else{const A=p[w+1],x=s[-I];for(let P=ar;P<x.length;P++){const q=x[P];q[Ls]===q[wn]&&jg(q[Ke],q,A,c)}if(null!==x[cs]){const P=x[cs];for(let q=0;q<P.length;q++){const K=P[q];jg(K[Ke],K,A,c)}}}}}return c}function qg(i){const s=be(),u=zt(),c=Jd();Wu(c+1);const h=Bw(u,c);if(i.dirty&&function Am(i){return 4==(4&i[Lt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?jg(u,s,c,[]):AC(u,s,h,c);i.reset(p,qn),i.notifyOnChanges()}return!0}return!1}function Vw(i,s,u,c){const h=zt();if(h.firstCreatePass){const p=An();(function SC(i,s,u){null===i.queries&&(i.queries=new wa),i.queries.track(new Iy(s,u))})(h,new Ey(s,u,c),p.index),function NC(i,s){const u=i.contentQueries||(i.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(i.queries.length-1,s)}(h,i),2==(2&u)&&(h.staticContentQueries=!0)}!function MC(i,s,u){const c=new hy(4==(4&u));(function VE(i,s,u,c){const h=sg(s);h.push(u),i.firstCreatePass&&qE(i).push(c,h.length-1)})(i,s,c,c.destroy),null===s[wi]&&(s[wi]=new Hg),s[wi].queries.push(new Ty(c))}(h,be(),u)}function yd(){return function Uw(i,s){return i[wi].queries[s].queryList}(be(),Jd())}function Bw(i,s){return i.queries.getByIndex(s)}function by(i){return!!Nr(i)}const ky=new pn("Application Initializer");let Jw=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c}),this.appInits=Gt(ky,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const h of this.appInits){const p=h();if(fa(p))u.push(p);else if(D0(p)){const _=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});u.push(_)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Oy=(()=>{class i{log(u){console.log(u)}warn(u){console.warn(u)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ff=new pn("LocaleId",{providedIn:"root",factory:()=>Gt(Ff,Ge.Optional|Ge.SkipSelf)||function Mu(){return typeof $localize<"u"&&$localize.locale||_a}()}),GA=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ly=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class zA{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let Qw=(()=>{class i{compileModuleSync(u){return new vw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),p=ua(Nr(u).declarations).reduce((_,w)=>{const I=Ft(w);return I&&_.push(new Nt(I)),_},[]);return new zA(c,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const YA=(()=>Promise.resolve(0))();function eT(i){typeof Zone>"u"?YA.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}function Fy(...i){}class _i{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ts(!1),this.onMicrotaskEmpty=new ts(!1),this.onStable=new ts(!1),this.onError=new ts(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function JA(){let i=rn.requestAnimationFrame,s=rn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function QA(i){const s=()=>{!function Kg(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(rn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Wg(i),i.isCheckStableRunning=!0,nT(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Wg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,p,_,w)=>{try{return rT(i),u.invokeTask(h,p,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),Td(i)}},onInvoke:(u,c,h,p,_,w,I)=>{try{return rT(i),u.invoke(h,p,_,w,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Td(i)}},onHasTask:(u,c,h,p)=>{u.hasTask(h,p),c===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Wg(i),nT(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,c,h,p)=>(u.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_i.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(_i.isInAngularZone())throw new te(909,!1)}run(s,u,c){return this._inner.run(s,u,c)}runTask(s,u,c,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,s,tT,Fy,Fy);try{return p.runTask(_,u,c)}finally{p.cancelTask(_)}}runGuarded(s,u,c){return this._inner.runGuarded(s,u,c)}runOutsideAngular(s){return this._outer.run(s)}}const tT={};function nT(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Wg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function rT(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Td(i){i._nesting--,nT(i)}class eb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ts,this.onMicrotaskEmpty=new ts,this.onStable=new ts,this.onError=new ts}run(s,u,c){return s.apply(u,c)}runGuarded(s,u,c){return s.apply(u,c)}runOutsideAngular(s){return s()}runTask(s,u,c,h){return s.apply(u,c)}}const Yg=new pn("",{providedIn:"root",factory:tb});function tb(){const i=Gt(_i);let s=!0;const u=new Q.y(h=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(s),h.complete()})}),c=new Q.y(h=>{let p;i.runOutsideAngular(()=>{p=i.onStable.subscribe(()=>{_i.assertNotInAngularZone(),eT(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const _=i.onUnstable.subscribe(()=>{_i.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),_.unsubscribe()}});return(0,ne.T)(u,c.pipe((0,fe.B)()))}const nb=new pn(""),rb=new pn("");let Qg,XA=(()=>{class i{constructor(u,c,h){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qg||(function iT(i){Qg=i}(h),h.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_i.assertNotInAngularZone(),eT(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())eT(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,h){return[]}}return i.\u0275fac=function(u){return new(u||i)(Qt(_i),Qt(Jg),Qt(rb))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})(),Jg=(()=>{class i{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Qg?.findTestabilityInTree(this,u,c)??null}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Ta=null;const oT=new pn("AllowMultipleToken"),Xg=new pn("PlatformDestroyListeners"),em=new pn("appBootstrapListener");class ob{constructor(s,u){this.name=s,this.token=u}}function ub(i,s,u=[]){const c=`Platform: ${s}`,h=new pn(c);return(p=[])=>{let _=uT();if(!_||_.injector.get(oT,!1)){const w=[...u,...p,{provide:h,useValue:!0}];i?i(w):function aT(i){if(Ta&&!Ta.get(oT,!1))throw new te(400,!1);(function sT(){!function Uu(i){Ha=i}(()=>{throw new te(600,!1)})})(),Ta=i;const s=i.get(lT);(function Ed(i){i.get(pE,null)?.forEach(u=>u())})(i)}(function lb(i=[],s){return _u.create({name:s,providers:[{provide:Hv,useValue:"platform"},{provide:Xg,useValue:new Set([()=>Ta=null])},...i]})}(w,c))}return function e1(i){const s=uT();if(!s)throw new te(401,!1);return s}()}}function uT(){return Ta?.get(lT)??null}let lT=(()=>{class i{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const h=function n1(i="zone.js",s){return"noop"===i?new eb:"zone.js"===i?new _i(s):i}(c?.ngZone,function cb(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return h.run(()=>{const p=function sC(i,s,u){return new ry(i,s,u)}(u.moduleType,this.injector,function en(i){return[{provide:_i,useFactory:i},{provide:xh,multi:!0,useFactory:()=>{const s=Gt(pb,{optional:!0});return()=>s.initialize()}},{provide:cT,useFactory:fb},{provide:Yg,useFactory:tb}]}(()=>h)),_=p.injector.get($c,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:I=>{_.handleError(I)}});p.onDestroy(()=>{tm(this._modules,p),w.unsubscribe()})}),function db(i,s,u){try{const c=u();return fa(c)?c.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(_,h,()=>{const w=p.injector.get(Jw);return w.runInitializers(),w.donePromise.then(()=>(function iw(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(rw=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Ff,_a)||_a),this._moduleDoBootstrap(p),p))})})}bootstrapModule(u,c=[]){const h=hb({},c);return function Vy(i,s,u){const c=new vw(u);return Promise.resolve(c)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const c=u.injector.get(Id);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new te(-403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(Xg,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(u){return new(u||i)(Qt(_u))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function hb(i,s){return Array.isArray(s)?s.reduce(hb,i):{...i,...s}}let Id=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Gt(cT),this.zoneIsStable=Gt(Yg),this.componentTypes=[],this.components=[],this.isStable=Gt(Ly).hasPendingTasks.pipe((0,ke.z)(u=>u?(0,ce.of)(!1):this.zoneIsStable),(0,de.x)(),(0,fe.B)()),this._injector=Gt(yl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const h=u instanceof wE;if(!this._injector.get(Jw).done)throw!h&&Bo(u),new te(405,!1);let _;_=h?u:this._injector.get(Xo).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const w=function Uy(i){return i.isBoundToModule}(_)?void 0:this._injector.get(md),A=_.create(_u.NULL,[],c||_.selector,w),x=A.location.nativeElement,P=A.injector.get(nb,null);return P?.registerApplication(x),A.onDestroy(()=>{this.detachView(A.hostView),tm(this.components,A),P?.unregisterApplication(x)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;tm(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const c=this._injector.get(em,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>tm(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new te(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function tm(i,s){const u=i.indexOf(s);u>-1&&i.splice(u,1)}const cT=new pn("",{providedIn:"root",factory:()=>Gt($c).handleError.bind(void 0)});function fb(){const i=Gt(_i),s=Gt($c);return u=>i.runOutsideAngular(()=>s.handleError(u))}let pb=(()=>{class i{constructor(){this.zone=Gt(_i),this.applicationRef=Gt(Id)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function mb(){return!1}let Ea=(()=>{class i{}return i.__NG_ELEMENT_ID__=_b,i})();function _b(i){return function i1(i,s,u){if(vo(i)&&!u){const c=ur(i.index,s);return new lg(c,c)}return 47&i.type?new lg(s[kn],s):null}(An(),be(),16==(16&i))}class Tb{constructor(){}supports(s){return ho(s)}create(s){return new nm(s)}}const Eb=(i,s)=>s;class nm{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Eb}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,c=this._removalsHead,h=0,p=null;for(;u||c;){const _=!c||u&&u.currentIndex<l1(c,h,p)?u:c,w=l1(_,h,p),I=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{p||(p=[]);const A=w-h,x=I-h;if(A!=x){for(let q=0;q<A;q++){const K=q<p.length?p[q]:p[q]=0,ye=K+q;x<=ye&&ye<A&&(p[q]=K+1)}p[_.previousIndex]=x-A}}w!==I&&s(_,w,I)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!ho(s))throw new te(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,_,u=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],_=this._trackByFn(w,p),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,p,_,w)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,_,w),c=!0),u=u._next}else h=0,function pg(i,s){if(Array.isArray(i))for(let u=0;u<i.length;u++)s(i[u]);else{const u=i[Symbol.iterator]();let c;for(;!(c=u.next()).done;)s(c.value)}}(s,w=>{_=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,w,_,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,_,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,c,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,p,h)):s=this._addAfter(new u1(u,c),p,h),s}_verifyReinsertion(s,u,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,u,c),this._addToMoves(s,c),s}_moveAfter(s,u,c){return this._unlink(s),this._insertAfter(s,u,c),this._addToMoves(s,c),s}_addAfter(s,u,c){return this._insertAfter(s,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,c){const h=null===u?this._itHead:u._next;return s._next=h,s._prev=u,null===h?this._itTail=s:h._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ca),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,c=s._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ca),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class u1{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ia{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const u=s._prevDup,c=s._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Ca{constructor(){this.map=new Map}put(s){const u=s.trackById;let c=this.map.get(u);c||(c=new Ia,this.map.set(u,c)),c.add(s)}get(s,u){const h=this.map.get(s);return h?h.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function l1(i,s,u){const c=i.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+s+h}class Hl{constructor(){}supports(s){return s instanceof Map||ca(s)}create(){return new qy}}class qy{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||ca(s)))throw new te(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const c=s._prev;return u._next=s,u._prev=c,s._prev=u,c&&(c._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,u);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const c=new c1(s);return this._records.set(s,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(c=>u(s[c],c))}}class c1{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ib(){return new $y([new Tb])}let $y=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||Ib()),deps:[[i,new ci,new Hi]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new te(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:Ib}),i})();function rm(){return new yT([new Hl])}let yT=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||rm()),deps:[[i,new ci,new Hi]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new te(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:rm}),i})();const vT=ub(null,"core",[]);let f1=(()=>{class i{constructor(u){}}return i.\u0275fac=function(u){return new(u||i)(Qt(Id))},i.\u0275mod=_o({type:i}),i.\u0275inj=zn({}),i})();function _1(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function v1(i){const s=Ft(i);if(!s)return null;const u=new Nt(s);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return s.standalone}}}},3942:(ct,Ee,k)=>{k.d(Ee,{Z:()=>Ye});var a=k(2090),G=k(4859),O=k(6881),Q=k(1877);class ne{constructor($e,xe){this._delegate=$e,this.firebase=xe,(0,O._addComponent)($e,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService($e,xe=O._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider($e);return!dt.isInitialized()&&"EXPLICIT"===(null===(mt=dt.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:xe})}_removeServiceInstance($e,xe=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(xe)}_addComponent($e){(0,O._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,O._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function de(){const Se=function ke(Se){const $e={},xe={__esModule:!0,initializeApp:function te(De,Fe={}){const ie=O.initializeApp(De,Fe);if((0,a.r3)($e,ie.name))return $e[ie.name];const He=new Se(ie,xe);return $e[ie.name]=He,He},app:dt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function W(De){const Fe=De.name,ie=Fe.replace("-compat","");if(O._registerComponent(De)&&"PUBLIC"===De.type){const He=(jt=dt())=>{if("function"!=typeof jt[ie])throw fe.create("invalid-app-argument",{appName:Fe});return jt[ie]()};void 0!==De.serviceProps&&(0,a.ZB)(He,De.serviceProps),xe[ie]=He,Se.prototype[ie]=function(...jt){return this._getService.bind(this,Fe).apply(this,De.multipleInstances?jt:[])}}return"PUBLIC"===De.type?xe[ie]:null},removeApp:function mt(De){delete $e[De]},useAsService:function he(De,Fe){return"serverAuth"===Fe?null:Fe},modularAPIs:O}};function dt(De){if(!(0,a.r3)($e,De=De||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:De});return $e[De]}return xe.default=xe,Object.defineProperty(xe,"apps",{get:function pe(){return Object.keys($e).map(De=>$e[De])}}),dt.App=Se,xe}(ne);return Se.INTERNAL=Object.assign(Object.assign({},Se.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function $e(xe){(0,a.ZB)(Se,xe)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Se}(),Z=new Q.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Se=self.firebase.SDK_VERSION;Se&&Se.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=V;!function Ce(Se){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Se)}()},6881:(ct,Ee,k)=>{k.r(Ee),k.d(Ee,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>Ge,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>zr,_apps:()=>_t,_clearComponents:()=>an,_components:()=>cn,_getProvider:()=>pr,_registerComponent:()=>rn,_removeServiceInstance:()=>Sa,deleteApp:()=>gr,getApp:()=>ii,getApps:()=>eo,initializeApp:()=>Na,onLog:()=>to,registerVersion:()=>mn,setLogLevel:()=>Qt});var a=k(5861),G=k(4859),O=k(1877),Q=k(2090);const ne=(ue,ee)=>ee.some(Ne=>ue instanceof Ne);let ce,fe;const V=new WeakMap,Z=new WeakMap,J=new WeakMap,Pe=new WeakMap,Ce=new WeakMap;let $e={get(ue,ee,Ne){if(ue instanceof IDBTransaction){if("done"===ee)return Z.get(ue);if("objectStoreNames"===ee)return ue.objectStoreNames||J.get(ue);if("store"===ee)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return te(ue[ee])},set:(ue,ee,Ne)=>(ue[ee]=Ne,!0),has:(ue,ee)=>ue instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in ue};function dt(ue){return"function"==typeof ue?function mt(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...ee){return ue.apply(pe(this),ee),te(V.get(this))}:function(...ee){return te(ue.apply(pe(this),ee))}:function(ee,...Ne){const ut=ue.call(pe(this),ee,...Ne);return J.set(ut,ee.sort?ee.sort():[ee]),te(ut)}}(ue):(ue instanceof IDBTransaction&&function Se(ue){if(Z.has(ue))return;const ee=new Promise((Ne,ut)=>{const Mt=()=>{ue.removeEventListener("complete",Pt),ue.removeEventListener("error",Yt),ue.removeEventListener("abort",Yt)},Pt=()=>{Ne(),Mt()},Yt=()=>{ut(ue.error||new DOMException("AbortError","AbortError")),Mt()};ue.addEventListener("complete",Pt),ue.addEventListener("error",Yt),ue.addEventListener("abort",Yt)});Z.set(ue,ee)}(ue),ne(ue,function ke(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,$e):ue)}function te(ue){if(ue instanceof IDBRequest)return function Ye(ue){const ee=new Promise((Ne,ut)=>{const Mt=()=>{ue.removeEventListener("success",Pt),ue.removeEventListener("error",Yt)},Pt=()=>{Ne(te(ue.result)),Mt()},Yt=()=>{ut(ue.error),Mt()};ue.addEventListener("success",Pt),ue.addEventListener("error",Yt)});return ee.then(Ne=>{Ne instanceof IDBCursor&&V.set(Ne,ue)}).catch(()=>{}),Ce.set(ee,ue),ee}(ue);if(Pe.has(ue))return Pe.get(ue);const ee=dt(ue);return ee!==ue&&(Pe.set(ue,ee),Ce.set(ee,ue)),ee}const pe=ue=>Ce.get(ue),De=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],ie=new Map;function He(ue,ee){if(!(ue instanceof IDBDatabase)||ee in ue||"string"!=typeof ee)return;if(ie.get(ee))return ie.get(ee);const Ne=ee.replace(/FromIndex$/,""),ut=ee!==Ne,Mt=Fe.includes(Ne);if(!(Ne in(ut?IDBIndex:IDBObjectStore).prototype)||!Mt&&!De.includes(Ne))return;const Pt=function(){var Yt=(0,a.Z)(function*(rr,...Wn){const mo=this.transaction(rr,Mt?"readwrite":"readonly");let ss=mo.store;return ut&&(ss=ss.index(Wn.shift())),(yield Promise.all([ss[Ne](...Wn),Mt&&mo.done]))[0]});return function(Wn){return Yt.apply(this,arguments)}}();return ie.set(ee,Pt),Pt}!function xe(ue){$e=ue($e)}(ue=>({...ue,get:(ee,Ne,ut)=>He(ee,Ne)||ue.get(ee,Ne,ut),has:(ee,Ne)=>!!He(ee,Ne)||ue.has(ee,Ne)}));class jt{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(Ne=>{if(function fr(ue){const ee=ue.getComponent();return"VERSION"===ee?.type}(Ne)){const ut=Ne.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(Ne=>Ne).join(" ")}}const $r="@firebase/app",se=new O.Yd("@firebase/app"),Ge="[DEFAULT]",ft={[$r]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,cn=new Map;function Dn(ue,ee){try{ue.container.addComponent(ee)}catch(Ne){se.debug(`Component ${ee.name} failed to register with FirebaseApp ${ue.name}`,Ne)}}function zr(ue,ee){ue.container.addOrOverwriteComponent(ee)}function rn(ue){const ee=ue.name;if(cn.has(ee))return se.debug(`There were multiple attempts to register component ${ee}.`),!1;cn.set(ee,ue);for(const Ne of _t.values())Dn(Ne,ue);return!0}function pr(ue,ee){const Ne=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),ue.container.getProvider(ee)}function Sa(ue,ee,Ne=Ge){pr(ue,ee).clearInstance(Ne)}function an(){cn.clear()}const Bt=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xi{constructor(ee,Ne,ut){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const os="9.23.0";function Na(ue,ee={}){let Ne=ue;"object"!=typeof ee&&(ee={name:ee});const ut=Object.assign({name:Ge,automaticDataCollectionEnabled:!1},ee),Mt=ut.name;if("string"!=typeof Mt||!Mt)throw Bt.create("bad-app-name",{appName:String(Mt)});if(Ne||(Ne=(0,Q.aH)()),!Ne)throw Bt.create("no-options");const Pt=_t.get(Mt);if(Pt){if((0,Q.vZ)(Ne,Pt.options)&&(0,Q.vZ)(ut,Pt.config))return Pt;throw Bt.create("duplicate-app",{appName:Mt})}const Yt=new G.H0(Mt);for(const Wn of cn.values())Yt.addComponent(Wn);const rr=new Xi(Ne,ut,Yt);return _t.set(Mt,rr),rr}function ii(ue=Ge){const ee=_t.get(ue);if(!ee&&ue===Ge&&(0,Q.aH)())return Na();if(!ee)throw Bt.create("no-app",{appName:ue});return ee}function eo(){return Array.from(_t.values())}function gr(ue){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(ue){const ee=ue.name;_t.has(ee)&&(_t.delete(ee),yield Promise.all(ue.container.getProviders().map(Ne=>Ne.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function mn(ue,ee,Ne){var ut;let Mt=null!==(ut=ft[ue])&&void 0!==ut?ut:ue;Ne&&(Mt+=`-${Ne}`);const Pt=Mt.match(/\s|\//),Yt=ee.match(/\s|\//);if(Pt||Yt){const rr=[`Unable to register library "${Mt}" with version "${ee}":`];return Pt&&rr.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),Pt&&Yt&&rr.push("and"),Yt&&rr.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void se.warn(rr.join(" "))}rn(new G.wA(`${Mt}-version`,()=>({library:Mt,version:ee}),"VERSION"))}function to(ue,ee){if(null!==ue&&"function"!=typeof ue)throw Bt.create("invalid-log-argument");(0,O.Am)(ue,ee)}function Qt(ue){(0,O.Ub)(ue)}const no="firebase-heartbeat-database",Gt=1,U="firebase-heartbeat-store";let F=null;function $(){return F||(F=function W(ue,ee,{blocked:Ne,upgrade:ut,blocking:Mt,terminated:Pt}={}){const Yt=indexedDB.open(ue,ee),rr=te(Yt);return ut&&Yt.addEventListener("upgradeneeded",Wn=>{ut(te(Yt.result),Wn.oldVersion,Wn.newVersion,te(Yt.transaction),Wn)}),Ne&&Yt.addEventListener("blocked",Wn=>Ne(Wn.oldVersion,Wn.newVersion,Wn)),rr.then(Wn=>{Pt&&Wn.addEventListener("close",()=>Pt()),Mt&&Wn.addEventListener("versionchange",mo=>Mt(mo.oldVersion,mo.newVersion,mo))}).catch(()=>{}),rr}(no,Gt,{upgrade:(ue,ee)=>{0===ee&&ue.createObjectStore(U)}}).catch(ue=>{throw Bt.create("idb-open",{originalErrorMessage:ue.message})})),F}function oe(){return(oe=(0,a.Z)(function*(ue){try{return yield(yield $()).transaction(U).objectStore(U).get(xt(ue))}catch(ee){if(ee instanceof Q.ZR)se.warn(ee.message);else{const Ne=Bt.create("idb-get",{originalErrorMessage:ee?.message});se.warn(Ne.message)}}})).apply(this,arguments)}function nt(ue,ee){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(ue,ee){try{const ut=(yield $()).transaction(U,"readwrite");yield ut.objectStore(U).put(ee,xt(ue)),yield ut.done}catch(Ne){if(Ne instanceof Q.ZR)se.warn(Ne.message);else{const ut=Bt.create("idb-set",{originalErrorMessage:Ne?.message});se.warn(ut.message)}}})).apply(this,arguments)}function xt(ue){return`${ue.name}!${ue.options.appId}`}class bt{constructor(ee){this.container=ee,this._heartbeatsCache=null;const Ne=this.container.getProvider("app").getImmediate();this._storage=new yi(Ne),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var ee=this;return(0,a.Z)(function*(){const ut=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=qt();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!ee._heartbeatsCache.heartbeats.some(Pt=>Pt.date===Mt))return ee._heartbeatsCache.heartbeats.push({date:Mt,agent:ut}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Pt=>{const Yt=new Date(Pt.date).valueOf();return Date.now()-Yt<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,a.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const Ne=qt(),{heartbeatsToSend:ut,unsentEntries:Mt}=function mr(ue,ee=1024){const Ne=[];let ut=ue.slice();for(const Mt of ue){const Pt=Ne.find(Yt=>Yt.agent===Mt.agent);if(Pt){if(Pt.dates.push(Mt.date),ro(Ne)>ee){Pt.dates.pop();break}}else if(Ne.push({agent:Mt.agent,dates:[Mt.date]}),ro(Ne)>ee){Ne.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:Ne,unsentEntries:ut}}(ee._heartbeatsCache.heartbeats),Pt=(0,Q.L)(JSON.stringify({version:2,heartbeats:ut}));return ee._heartbeatsCache.lastSentHeartbeatDate=Ne,Mt.length>0?(ee._heartbeatsCache.heartbeats=Mt,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Pt})()}}function qt(){return(new Date).toISOString().substring(0,10)}class yi{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Q.hl)()&&(0,Q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,a.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function ve(ue){return oe.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var Ne=this;return(0,a.Z)(function*(){var ut;if(yield Ne._canUseIndexedDBPromise){const Pt=yield Ne.read();return nt(Ne.app,{lastSentHeartbeatDate:null!==(ut=ee.lastSentHeartbeatDate)&&void 0!==ut?ut:Pt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var Ne=this;return(0,a.Z)(function*(){var ut;if(yield Ne._canUseIndexedDBPromise){const Pt=yield Ne.read();return nt(Ne.app,{lastSentHeartbeatDate:null!==(ut=ee.lastSentHeartbeatDate)&&void 0!==ut?ut:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...ee.heartbeats]})}})()}}function ro(ue){return(0,Q.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function oi(ue){rn(new G.wA("platform-logger",ee=>new jt(ee),"PRIVATE")),rn(new G.wA("heartbeat",ee=>new bt(ee),"PRIVATE")),mn($r,"0.9.13",ue),mn($r,"0.9.13","esm2017"),mn("fire-js","")}("")},4859:(ct,Ee,k)=>{k.d(Ee,{H0:()=>ke,wA:()=>O});var a=k(5861),G=k(2090);class O{constructor(V,Z,J){this.name=V,this.instanceFactory=Z,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const Q="[DEFAULT]";class ne{constructor(V,Z){this.name=V,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const Z=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(Z)){const J=new G.BH;if(this.instancesDeferred.set(Z,J),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:Z});Pe&&J.resolve(Pe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(V){var Z;const J=this.normalizeInstanceIdentifier(V?.identifier),Pe=null!==(Z=V?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ce){if(Pe)return null;throw Ce}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function fe(de){return"EAGER"===de.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[Z,J]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(Z);try{const Ce=this.getOrInitializeService({instanceIdentifier:Pe});J.resolve(Ce)}catch{}}}}clearInstance(V=Q){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,a.Z)(function*(){const Z=Array.from(V.instances.values());yield Promise.all([...Z.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...Z.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=Q){return this.instances.has(V)}getOptions(V=Q){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:Z={}}=V,J=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:J,options:Z});for(const[Ce,Ye]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ce)&&Ye.resolve(Pe);return Pe}onInit(V,Z){var J;const Pe=this.normalizeInstanceIdentifier(Z),Ce=null!==(J=this.onInitCallbacks.get(Pe))&&void 0!==J?J:new Set;Ce.add(V),this.onInitCallbacks.set(Pe,Ce);const Ye=this.instances.get(Pe);return Ye&&V(Ye,Pe),()=>{Ce.delete(V)}}invokeOnInitCallbacks(V,Z){const J=this.onInitCallbacks.get(Z);if(J)for(const Pe of J)try{Pe(V,Z)}catch{}}getOrInitializeService({instanceIdentifier:V,options:Z={}}){let J=this.instances.get(V);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(de=V,de===Q?void 0:de),options:Z}),this.instances.set(V,J),this.instancesOptions.set(V,Z),this.invokeOnInitCallbacks(J,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,J)}catch{}var de;return J||null}normalizeInstanceIdentifier(V=Q){return this.component?this.component.multipleInstances?V:Q:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const Z=this.getProvider(V.name);if(Z.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);Z.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const Z=new ne(V,this);return this.providers.set(V,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ee,k)=>{k.d(Ee,{Am:()=>de,Ub:()=>ke,Yd:()=>fe,in:()=>G});const a=[];var G=(()=>((G=G||{})[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",G))();const O={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},Q=G.INFO,ne={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},ce=(V,Z,...J)=>{if(Z<V.logLevel)return;const Pe=(new Date).toISOString(),Ce=ne[Z];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Ce](`[${Pe}]  ${V.name}:`,...J)};class fe{constructor(Z){this.name=Z,this._logLevel=Q,this._logHandler=ce,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in G))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?O[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...Z),this._logHandler(this,G.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...Z),this._logHandler(this,G.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,G.INFO,...Z),this._logHandler(this,G.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,G.WARN,...Z),this._logHandler(this,G.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...Z),this._logHandler(this,G.ERROR,...Z)}}function ke(V){a.forEach(Z=>{Z.setLogLevel(V)})}function de(V,Z){for(const J of a){let Pe=null;Z&&Z.level&&(Pe=O[Z.level]),J.userLogHandler=null===V?null:(Ce,Ye,...Se)=>{const $e=Se.map(xe=>{if(null==xe)return null;if("string"==typeof xe)return xe;if("number"==typeof xe||"boolean"==typeof xe)return xe.toString();if(xe instanceof Error)return xe.message;try{return JSON.stringify(xe)}catch{return null}}).filter(xe=>xe).join(" ");Ye>=(Pe??Ce.logLevel)&&V({level:G[Ye].toLowerCase(),message:$e,args:Se,type:Ce.name})}}}},259:(ct,Ee,k)=>{k.d(Ee,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=k(6881);(0,a.registerVersion)("firebase","9.23.0","app")},9260:(ct,Ee,k)=>{k.d(Ee,{Z:()=>a.Z});var a=k(3942);a.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(ct,Ee,k)=>{k.r(Ee);var a=k(5861),G=k(3942),O=k(2090),Q=k(6881),ne=k(7582),ce=k(1877),fe=k(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ye=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Se=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new ce.Yd("@firebase/auth");function te(y,...f){mt.logLevel<=ce.in.ERROR&&mt.error(`Auth (${Q.SDK_VERSION}): ${y}`,...f)}function pe(y,...f){throw Fe(y,...f)}function W(y,...f){return Fe(y,...f)}function he(y,f,g){const v=Object.assign(Object.assign({},Se()),{[f]:g});return new O.LL("auth","Firebase",v).create(f,{appName:y.name})}function De(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&pe(y,"argument-error"),he(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(y,...f){if("string"!=typeof y){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return $e.create(y,...f)}function ie(y,f,...g){if(!y)throw Fe(f,...g)}function He(y){const f="INTERNAL ASSERTION FAILED: "+y;throw te(f),new Error(f)}function jt(y,f){y||He(f)}function fr(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function $r(){return"http:"===Fo()||"https:"===Fo()}function Fo(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Te{constructor(f,g){this.shortDelay=f,this.longDelay=g,jt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($r()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(y,f){jt(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class je{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Et=new Te(3e4,6e4);function Xe(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Ut(y,f,g,v){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(y,f,g,v,D={}){return ht(y,D,(0,a.Z)(function*(){let N={},B={};v&&("GET"===f?B=v:N={body:JSON.stringify(v)});const Y=(0,O.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Ae=yield y._getAdditionalHeaders();return Ae["Content-Type"]="application/json",y.languageCode&&(Ae["X-Firebase-Locale"]=y.languageCode),je.fetch()(Wt(y,y.config.apiHost,g,Y),Object.assign({method:f,headers:Ae,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function ht(y,f,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(y,f,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},Ve),f);try{const D=new ti(y),N=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const B=yield N.json();if("needConfirmation"in B)throw zn(y,"account-exists-with-different-credential",B);if(N.ok&&!("errorMessage"in B))return B;{const Y=N.ok?B.errorMessage:B.error.message,[Ae,qe]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw zn(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Ae)throw zn(y,"email-already-in-use",B);if("USER_DISABLED"===Ae)throw zn(y,"user-disabled",B);const et=v[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(qe)throw he(y,et,qe);pe(y,et)}}catch(D){if(D instanceof O.ZR)throw D;pe(y,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function tn(y,f,g,v){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(y,f,g,v,D={}){const N=yield Ut(y,f,g,v,D);return"mfaPendingCredential"in N&&pe(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Wt(y,f,g,v){const D=`${f}${g}?${v}`;return y.config.emulator?Me(y.config,D):`${y.config.apiScheme}://${D}`}class ti{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(W(this.auth,"network-request-failed")),Et.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(y,f,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const D=W(y,f,v);return D.customData._tokenResponse=g,D}function Kn(){return(Kn=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function is(){return(is=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ri(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Ge(){return(Ge=(0,a.Z)(function*(y,f=!1){const g=(0,O.m9)(y),v=yield g.getIdToken(f),D=_t(v);ie(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const N="object"==typeof D.firebase?D.firebase:void 0,B=N?.sign_in_provider;return{claims:D,token:v,authTime:ri(ft(D.auth_time)),issuedAtTime:ri(ft(D.iat)),expirationTime:ri(ft(D.exp)),signInProvider:B||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function ft(y){return 1e3*Number(y)}function _t(y){const[f,g,v]=y.split(".");if(void 0===f||void 0===g||void 0===v)return te("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,O.tV)(g);return D?JSON.parse(D):(te("Failed to decode base64 JWT payload"),null)}catch(D){return te("Caught error parsing JWT payload as JSON",D?.toString()),null}}function Dn(y,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,a.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof O.ZR&&function rn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}class pr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Sa{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ri(this.lastLoginAt),this.creationTime=ri(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function an(y){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,a.Z)(function*(y){var f;const g=y.auth,v=yield y.getIdToken(),D=yield Dn(y,function Aa(y,f){return ni.apply(this,arguments)}(g,{idToken:v}));ie(D?.users.length,g,"internal-error");const N=D.users[0];y._notifyReloadListener(N);const B=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function Na(y){return y.map(f=>{var{providerId:g}=f,v=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(N.providerUserInfo):[],Y=function os(y,f){return[...y.filter(v=>!f.some(D=>D.providerId===v.providerId)),...f]}(y.providerData,B),et=!!y.isAnonymous&&!(y.email&&N.passwordHash||Y?.length),rt={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Y,metadata:new Sa(N.createdAt,N.lastLoginAt),isAnonymous:et};Object.assign(y,rt)}),Sr.apply(this,arguments)}function Xi(){return(Xi=(0,a.Z)(function*(y){const f=(0,O.m9)(y);yield an(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function eo(){return(eo=(0,a.Z)(function*(y,f){const g=yield ht(y,{},(0,a.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:N}=y.config,B=Wt(y,D,"/v1/token",`key=${N}`),Y=yield y._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",je.fetch()(B,{method:"POST",headers:Y,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(typeof f.idToken<"u","internal-error"),ie(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function cn(y){const f=_t(y);return ie(f,"internal-error"),ie(typeof f.exp<"u","internal-error"),ie(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,a.Z)(function*(){return ie(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,a.Z)(function*(){const{accessToken:D,refreshToken:N,expiresIn:B}=yield function ii(y,f){return eo.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(D,N,Number(B))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:D,expirationTime:N}=g,B=new gr;return v&&(ie("string"==typeof v,"internal-error",{appName:f}),B.refreshToken=v),D&&(ie("string"==typeof D,"internal-error",{appName:f}),B.accessToken=D),N&&(ie("number"==typeof N,"internal-error",{appName:f}),B.expirationTime=N),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new gr,this.toJSON())}_performRefresh(){return He("not implemented")}}function nr(y,f){ie("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class mn{constructor(f){var{uid:g,auth:v,stsTokenManager:D}=f,N=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Sa(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const v=yield Dn(g,g.stsTokenManager.getToken(g.auth,f));return ie(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function Ma(y){return Ge.apply(this,arguments)}(this,f)}reload(){return function Bt(y){return Xi.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new mn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,a.Z)(function*(){let D=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),D=!0),g&&(yield an(v)),yield v.auth._persistUserIfCurrent(v),D&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield Dn(f,function Gr(y,f){return Kn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,D,N,B,Y,Ae,qe,et;const rt=null!==(v=g.displayName)&&void 0!==v?v:void 0,On=null!==(D=g.email)&&void 0!==D?D:void 0,Ao=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Th=null!==(B=g.photoURL)&&void 0!==B?B:void 0,Op=null!==(Y=g.tenantId)&&void 0!==Y?Y:void 0,Lp=null!==(Ae=g._redirectEventId)&&void 0!==Ae?Ae:void 0,Eh=null!==(qe=g.createdAt)&&void 0!==qe?qe:void 0,Lc=null!==(et=g.lastLoginAt)&&void 0!==et?et:void 0,{uid:Pp,emailVerified:Ih,isAnonymous:Ch,providerData:Mi,stsTokenManager:bh}=g;ie(Pp&&bh,f,"internal-error");const Tt=gr.fromJSON(this.name,bh);ie("string"==typeof Pp,f,"internal-error"),nr(rt,f.name),nr(On,f.name),ie("boolean"==typeof Ih,f,"internal-error"),ie("boolean"==typeof Ch,f,"internal-error"),nr(Ao,f.name),nr(Th,f.name),nr(Op,f.name),nr(Lp,f.name),nr(Eh,f.name),nr(Lc,f.name);const Ir=new mn({uid:Pp,auth:f,email:On,emailVerified:Ih,displayName:rt,isAnonymous:Ch,photoURL:Th,phoneNumber:Ao,tenantId:Op,stsTokenManager:Tt,createdAt:Eh,lastLoginAt:Lc});return Mi&&Array.isArray(Mi)&&(Ir.providerData=Mi.map(gl=>Object.assign({},gl))),Lp&&(Ir._redirectEventId=Lp),Ir}static _fromIdTokenResponse(f,g,v=!1){return(0,a.Z)(function*(){const D=new gr;D.updateFromServerResponse(g);const N=new mn({uid:g.localId,auth:f,stsTokenManager:D,isAnonymous:v});return yield an(N),N})()}}const to=new Map;function Qt(y){jt(y instanceof Function,"Expected a class definition");let f=to.get(y);return f?(jt(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,to.set(y,f),f)}const Gt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,v){var D=this;return(0,a.Z)(function*(){D.storage[g]=v})()}_get(g){var v=this;return(0,a.Z)(function*(){const D=v.storage[g];return void 0===D?null:D})()}_remove(g){var v=this;return(0,a.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function U(y,f,g){return`firebase:${y}:${f}:${g}`}class F{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:D,name:N}=this.auth;this.fullUserKey=U(this.userKey,D.apiKey,N),this.fullPersistenceKey=U("persistence",D.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?mn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,a.Z)(function*(){if(!g.length)return new F(Qt(Gt),f,v);const D=(yield Promise.all(g.map(function(){var qe=(0,a.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return qe.apply(this,arguments)}}()))).filter(qe=>qe);let N=D[0]||Qt(Gt);const B=U(v,f.config.apiKey,f.name);let Y=null;for(const qe of g)try{const et=yield qe._get(B);if(et){const rt=mn._fromJSON(f,et);qe!==N&&(Y=rt),N=qe;break}}catch{}const Ae=D.filter(qe=>qe._shouldAllowMigration);return N._shouldAllowMigration&&Ae.length?(N=Ae[0],Y&&(yield N._set(B,Y.toJSON())),yield Promise.all(g.map(function(){var qe=(0,a.Z)(function*(et){if(et!==N)try{yield et._remove(B)}catch{}});return function(et){return qe.apply(this,arguments)}}())),new F(N,f,v)):new F(N,f,v)})()}}function $(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(pt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ve(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(_n(f))return"Blackberry";if(dn(f))return"Webos";if(oe(f))return"Safari";if((f.includes("chrome/")||nt(f))&&!f.includes("edge/"))return"Chrome";if(xt(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function ve(y=(0,O.z$)()){return/firefox\//i.test(y)}function oe(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function nt(y=(0,O.z$)()){return/crios\//i.test(y)}function pt(y=(0,O.z$)()){return/iemobile/i.test(y)}function xt(y=(0,O.z$)()){return/android/i.test(y)}function _n(y=(0,O.z$)()){return/blackberry/i.test(y)}function dn(y=(0,O.z$)()){return/webos/i.test(y)}function bt(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ro(y=(0,O.z$)()){return bt(y)||xt(y)||dn(y)||_n(y)||/windows phone/i.test(y)||pt(y)}function ue(y,f=[]){let g;switch(y){case"Browser":g=$((0,O.z$)());break;case"Worker":g=`${$((0,O.z$)())}-${y}`;break;default:g=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${Q.SDK_VERSION}/${v}`}function Ne(){return(Ne=(0,a.Z)(function*(y){return(yield Ut(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ut(y,f){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(y,f){return Ut(y,"GET","/v2/recaptchaConfig",Xe(y,f))})).apply(this,arguments)}function Pt(y){return void 0!==y&&void 0!==y.getResponse}function Yt(y){return void 0!==y&&void 0!==y.enterprise}class rr{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function mo(y){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=D=>{const N=W("internal-error");N.customData=D,g(N)},v.type="text/javascript",v.charset="UTF-8",function Wn(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function ss(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Nd{constructor(f){this.type="recaptcha-enterprise",this.auth=Yn(f)}verify(f="verify",g=!1){var v=this;return(0,a.Z)(function*(){function N(){return N=(0,a.Z)(function*(Y){if(!g){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var Ae=(0,a.Z)(function*(qe,et){ut(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const On=new rr(rt);return null==Y.tenantId?Y._agentRecaptchaConfig=On:Y._tenantRecaptchaConfigs[Y.tenantId]=On,qe(On.siteKey)}et(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{et(rt)})});return function(qe,et){return Ae.apply(this,arguments)}}())}),N.apply(this,arguments)}function B(Y,Ae,qe){const et=window.grecaptcha;Yt(et)?et.enterprise.ready(()=>{et.enterprise.execute(Y,{action:f}).then(rt=>{Ae(rt)}).catch(()=>{Ae("NO_RECAPTCHA")})}):qe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,Ae)=>{(function D(Y){return N.apply(this,arguments)})(v.auth).then(qe=>{if(!g&&Yt(window.grecaptcha))B(qe,Y,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));mo("https://www.google.com/recaptcha/enterprise.js?render="+qe).then(()=>{B(qe,Y,Ae)}).catch(et=>{Ae(et)})}}).catch(qe=>{Ae(qe)})})})()}}function vi(y,f,g){return $l.apply(this,arguments)}function $l(){return($l=(0,a.Z)(function*(y,f,g,v=!1){const D=new Nd(y);let N;try{N=yield D.verify(g)}catch{N=yield D.verify(g,!0)}const B=Object.assign({},f);return Object.assign(B,v?{captchaResp:N}:{captchaResponse:N}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class Ru{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const v=N=>new Promise((B,Y)=>{try{B(f(N))}catch(Ae){Y(Ae)}});v.onAbort=g,this.queue.push(v);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,a.Z)(function*(){if(g.auth.currentUser===f)return;const v=[];try{for(const D of g.queue)yield D(f),D.onAbort&&v.push(D.onAbort)}catch(D){v.reverse();for(const N of v)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class xd{constructor(f,g,v,D){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=v,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uo(this),this.idTokenSubscription=new Uo(this),this.beforeStateQueue=new Ru(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=Qt(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var D,N;if(!v._deleted&&(v.persistenceManager=yield F.create(v,f),!v._deleted)){if(null!==(D=v._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(N=v.currentUser)||void 0===N?void 0:N.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var v;const D=yield g.assertedPersistence.getCurrentUser();let N=D,B=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Y=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,Ae=N?._redirectEventId,qe=yield g.tryRedirectSignIn(f);(!Y||Y===Ae)&&qe?.user&&(N=qe.user,B=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(B)try{yield g.beforeStateQueue.runMiddleware(N)}catch(Y){N=D,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Y))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){try{yield an(f)}catch(v){if("auth/network-request-failed"!==v?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function me(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const v=f?(0,O.m9)(f):null;return v&&ie(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f,g=!1){var v=this;return(0,a.Z)(function*(){if(!v._deleted)return f&&ie(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,a.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(Qt(f))}))}initializeRecaptchaConfig(){var f=this;return(0,a.Z)(function*(){const g=yield ut(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new rr(g);null==f.tenantId?f._agentRecaptchaConfig=v:f._tenantRecaptchaConfigs[f.tenantId]=v,v.emailPasswordEnabled&&new Nd(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,a.Z)(function*(){const D=yield v.getOrInitRedirectPersistenceManager(g);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&Qt(f)||g._popupRedirectResolver;ie(v,g,"argument-error"),g.redirectPersistenceManager=yield F.create(g,[Qt(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var v,D;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,D){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),B=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(B,this,"internal-error"),B.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,v,D):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const D=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();D&&(v["X-Firebase-Client"]=D);const N=yield f._getAppCheckToken();return N&&(v["X-Firebase-AppCheck"]=N),v})()}_getAppCheckToken(){var f=this;return(0,a.Z)(function*(){var g;const v=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return v?.error&&function dt(y,...f){mt.logLevel<=ce.in.WARN&&mt.warn(`Auth (${Q.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function Yn(y){return(0,O.m9)(y)}class Uo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function kd(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class _o{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return He("not implemented")}_getIdTokenResponse(f){return He("not implemented")}_linkToIdToken(f,g){return He("not implemented")}_getReauthenticationResolver(f){return He("not implemented")}}function qf(y,f){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:resetPassword",Xe(y,f))})).apply(this,arguments)}function Gl(y,f){return zl.apply(this,arguments)}function zl(){return(zl=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",Xe(y,f))})).apply(this,arguments)}function un(y,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithPassword",Xe(y,f))})).apply(this,arguments)}function Nr(y,f){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:sendOobCode",Xe(y,f))})).apply(this,arguments)}function Os(){return(Os=(0,a.Z)(function*(y,f){return Nr(y,f)})).apply(this,arguments)}function ka(y,f){return Od.apply(this,arguments)}function Od(){return(Od=(0,a.Z)(function*(y,f){return Nr(y,f)})).apply(this,arguments)}function Vn(y,f){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(y,f){return Nr(y,f)})).apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(y,f){return Nr(y,f)})).apply(this,arguments)}function Zo(){return(Zo=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,f))})).apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,f))})).apply(this,arguments)}class Tn extends _o{constructor(f,g,v,D=null){super("password",v),this._email=f,this._password=g,this._tenantId=D}static _fromEmailAndPassword(f,g){return new Tn(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new Tn(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){var v;switch(g.signInMethod){case"password":const D={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=f._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const N=yield vi(f,D,"signInWithPassword");return un(f,N)}return un(f,D).catch(function(){var N=(0,a.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Y=yield vi(f,D,"signInWithPassword");return un(f,Y)}return Promise.reject(B)});return function(B){return N.apply(this,arguments)}}());case"emailLink":return function ai(y,f){return Zo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:pe(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return Gl(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Br(y,f){return us.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:pe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _r(y,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithIdp",Xe(y,f))})).apply(this,arguments)}class Kr extends _o{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Kr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):pe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:D}=g,N=(0,ne._T)(g,["providerId","signInMethod"]);if(!v||!D)return null;const B=new Kr(v,D);return B.idToken=N.idToken||void 0,B.accessToken=N.accessToken||void 0,B.secret=N.secret,B.nonce=N.nonce,B.pendingToken=N.pendingToken||null,B}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,_r(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_r(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function io(){return(io=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:sendVerificationCode",Xe(y,f))})).apply(this,arguments)}function Ls(){return(Ls=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,f))})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(y,f){const g=yield tn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,f));if(g.temporaryProof)throw zn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ps={USER_NOT_FOUND:"user-not-found"};function ui(){return(ui=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ps)})).apply(this,arguments)}class Un extends _o{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Un({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Un({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function kn(y,f){return Ls.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Oa(y,f){return wi.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Pd(y,f){return ui.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:D}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:D,temporaryProof:N}=f;return v||g||D||N?new Un({verificationId:g,verificationCode:v,phoneNumber:D,temporaryProof:N}):null}}class Zt{constructor(f){var g,v,D,N,B,Y;const Ae=(0,O.zd)((0,O.pd)(f)),qe=null!==(g=Ae.apiKey)&&void 0!==g?g:null,et=null!==(v=Ae.oobCode)&&void 0!==v?v:null,rt=function Wl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Ae.mode)&&void 0!==D?D:null);ie(qe&&et&&rt,"argument-error"),this.apiKey=qe,this.operation=rt,this.code=et,this.continueUrl=null!==(N=Ae.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(B=Ae.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(Y=Ae.tenantId)&&void 0!==Y?Y:null}static parseLink(f){const g=function ls(y){const f=(0,O.zd)((0,O.pd)(y)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||g||f||y}(f);try{return new Zt(g)}catch{return null}}}let Lu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return Tn._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const D=Zt.parseLink(v);return ie(D,"argument-error"),Tn._fromEmailAndCode(g,D.code,D.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class oo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wr extends oo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ti extends Wr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),Kr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ie(f.idToken||f.accessToken,"argument-error"),Kr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ti.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ti.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:D,pendingToken:N,nonce:B,providerId:Y}=f;if(!v&&!D&&!g&&!N||!Y)return null;try{return new Ti(Y)._credential({idToken:g,accessToken:v,nonce:B,pendingToken:N})}catch{return null}}}let cs=(()=>{class y extends Wr{constructor(){super("facebook.com")}static credential(g){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ds=(()=>{class y extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:D}=g;if(!v&&!D)return null;try{return y.credential(v,D)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ar=(()=>{class y extends Wr{constructor(){super("github.com")}static credential(g){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Bn extends _o{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,_r(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_r(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:D,pendingToken:N}=g;return v&&D&&N&&v===D?new Bn(v,N):null}static _create(f,g){return new Bn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fs extends oo{constructor(f){ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Fs.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Fs.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Bn.fromJSON(f);return ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return Bn._create(v,g)}catch{return null}}}let vo=(()=>{class y extends Wr{constructor(){super("twitter.com")}static credential(g,v){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:D}=g;if(!v||!D)return null;try{return y.credential(v,D)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function wo(y,f){return yr.apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signUp",Xe(y,f))})).apply(this,arguments)}class xr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,D=!1){return(0,a.Z)(function*(){const N=yield mn._fromIdTokenResponse(f,v,D),B=hs(v);return new xr({user:N,providerId:B,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const D=hs(v);return new xr({user:f,providerId:D,_tokenResponse:v,operationType:g})})()}}function hs(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Yl(){return(Yl=(0,a.Z)(function*(y){var f;const g=Yn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new xr({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield wo(g,{returnSecureToken:!0}),D=yield xr._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class La extends O.ZR{constructor(f,g,v,D){var N;super(g.code,g.message),this.operationType=v,this.user=D,Object.setPrototypeOf(this,La.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,D){return new La(f,g,v,D)}}function $f(y,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?La._fromErrorAndOperation(y,N,f,v):N})}function Gf(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function so(){return so=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y);yield Pa(!0,g,f);const{providerUserInfo:v}=yield function rs(y,f){return is.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),D=Gf(v||[]);return g.providerData=g.providerData.filter(N=>D.has(N.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),so.apply(this,arguments)}function Jl(y,f){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,a.Z)(function*(y,f,g=!1){const v=yield Dn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return xr._forOperation(y,"link",v)})).apply(this,arguments)}function Pa(y,f,g){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,a.Z)(function*(y,f,g){yield an(f);const D=!1===y?"provider-already-linked":"no-such-provider";ie(Gf(f.providerData).has(g)===y,f.auth,D)})).apply(this,arguments)}function zf(y,f){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,a.Z)(function*(y,f,g=!1){const{auth:v}=y,D="reauthenticate";try{const N=yield Dn(y,$f(v,D,f,y),g);ie(N.idToken,v,"internal-error");const B=_t(N.idToken);ie(B,v,"internal-error");const{sub:Y}=B;return ie(y.uid===Y,v,"user-mismatch"),xr._forOperation(y,D,N)}catch(N){throw"auth/user-not-found"===N?.code&&pe(v,"user-mismatch"),N}})).apply(this,arguments)}function Vd(y,f){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,a.Z)(function*(y,f,g=!1){const v="signIn",D=yield $f(y,v,f),N=yield xr._fromIdTokenResponse(y,v,D);return g||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Fa(y,f){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(y,f){return Vd(Yn(y),f)})).apply(this,arguments)}function Em(y,f){return ec.apply(this,arguments)}function ec(){return(ec=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y);return yield Pa(!1,g,f.providerId),Jl(g,f)})).apply(this,arguments)}function Zn(y,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(y,f){return zf((0,O.m9)(y),f)})).apply(this,arguments)}function Im(){return(Im=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithCustomToken",Xe(y,f))})).apply(this,arguments)}function Li(){return Li=(0,a.Z)(function*(y,f){const g=Yn(y),v=yield function Kf(y,f){return Im.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),D=yield xr._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(D.user),D}),Li.apply(this,arguments)}class Pu{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ua._fromServerResponse(f,g):"totpInfo"in g?Bd._fromServerResponse(f,g):pe(f,"internal-error")}}class Ua extends Pu{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ua(g)}}class Bd extends Pu{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Bd(g)}}function Ba(y,f,g){var v;ie((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),ie(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Zr(){return Zr=(0,a.Z)(function*(y,f,g){var v;const D=Yn(y),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=D._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const B=yield vi(D,N,"getOobCode",!0);g&&Ba(D,B,g),yield ka(D,B)}else g&&Ba(D,N,g),yield ka(D,N).catch(function(){var B=(0,a.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ae=yield vi(D,N,"getOobCode",!0);g&&Ba(D,Ae,g),yield ka(D,Ae)}});return function(Y){return B.apply(this,arguments)}}())}),Zr.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(y,f,g){yield qf((0,O.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ei(){return Ei=(0,a.Z)(function*(y,f){yield function Ft(y,f){return sr.apply(this,arguments)}((0,O.m9)(y),{oobCode:f})}),Ei.apply(this,arguments)}function Za(y,f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y),v=yield qf(g,{oobCode:f}),D=v.requestType;switch(ie(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(v.mfaInfo,g,"internal-error");default:ie(v.email,g,"internal-error")}let N=null;return v.mfaInfo&&(N=Pu._fromServerResponse(Yn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:N},operation:D}})).apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(y,f){const{data:g}=yield Za((0,O.m9)(y),f);return g.email})).apply(this,arguments)}function Ha(){return Ha=(0,a.Z)(function*(y,f,g){var v;const D=Yn(y),N={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(v=D._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const qe=yield vi(D,N,"signUpPassword");B=wo(D,qe)}else B=wo(D,N).catch(function(){var qe=(0,a.Z)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rt=yield vi(D,N,"signUpPassword");return wo(D,rt)}return Promise.reject(et)});return function(et){return qe.apply(this,arguments)}}());const Y=yield B.catch(qe=>Promise.reject(qe)),Ae=yield xr._fromIdTokenResponse(D,"signIn",Y);return yield D._updateCurrentUser(Ae.user),Ae}),Ha.apply(this,arguments)}function fs(){return fs=(0,a.Z)(function*(y,f,g){var v;const D=Yn(y),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(Y,Ae){ie(Ae.handleCodeInApp,D,"argument-error"),Ae&&Ba(D,Y,Ae)}if(null!==(v=D._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Y=yield vi(D,N,"getOobCode",!0);B(Y,g),yield Vn(D,Y)}else B(N,g),yield Vn(D,N).catch(function(){var Y=(0,a.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const qe=yield vi(D,N,"getOobCode",!0);B(qe,g),yield Vn(D,qe)}});return function(Ae){return Y.apply(this,arguments)}}())}),fs.apply(this,arguments)}function Yf(){return(Yf=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y),D=Lu.credentialWithLink(f,g||fr());return ie(D._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Fa(v,D)})).apply(this,arguments)}function nc(){return(nc=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:createAuthUri",Xe(y,f))})).apply(this,arguments)}function rc(){return rc=(0,a.Z)(function*(y,f){const v={identifier:f,continueUri:$r()?fr():"http://localhost"},{signinMethods:D}=yield function Zd(y,f){return nc.apply(this,arguments)}((0,O.m9)(y),v);return D||[]}),rc.apply(this,arguments)}function ja(){return ja=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y),D={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Ba(g.auth,D,f);const{email:N}=yield function Kl(y,f){return Os.apply(this,arguments)}(g.auth,D);N!==y.email&&(yield y.reload())}),ja.apply(this,arguments)}function Zu(){return Zu=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&Ba(v.auth,N,g);const{email:B}=yield function Lt(y,f){return wn.apply(this,arguments)}(v.auth,N);B!==y.email&&(yield y.reload())}),Zu.apply(this,arguments)}function Hu(){return(Hu=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Zs(){return Zs=(0,a.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,O.m9)(y),N={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},B=yield Dn(v,function oc(y,f){return Hu.apply(this,arguments)}(v.auth,N));v.displayName=B.displayName||null,v.photoURL=B.photoUrl||null;const Y=v.providerData.find(({providerId:Ae})=>"password"===Ae);Y&&(Y.displayName=v.displayName,Y.photoURL=v.photoURL),yield v._updateTokensIfNecessary(B)}),Zs.apply(this,arguments)}function jd(y,f,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,a.Z)(function*(y,f,g){const{auth:v}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const B=yield Dn(y,Gl(v,N));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class ps{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class ju extends ps{constructor(f,g,v,D){super(f,g,v),this.username=D}}class jr extends ps{constructor(f,g){super(f,"facebook.com",g)}}class qu extends ju{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class sc extends ps{constructor(f,g){super(f,"google.com",g)}}class jo extends ju{constructor(f,g,v){super(f,"twitter.com",g,v)}}function ur(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function En(y){var f,g;if(!y)return null;const{providerId:v}=y,D=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&y?.idToken){const B=null===(g=null===(f=_t(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(B)return new ps(N,"anonymous"!==B&&"custom"!==B?B:null)}if(!v)return null;switch(v){case"facebook.com":return new jr(N,D);case"github.com":return new qu(N,D);case"google.com":return new sc(N,D);case"twitter.com":return new jo(N,D,y.screenName||null);case"custom":case"anonymous":return new ps(N,null);default:return new ps(N,v,D)}}(g)}class gt{constructor(f,g,v){this.type=f,this.credential=g,this.auth=v}static _fromIdtoken(f,g){return new gt("enroll",f,g)}static _fromMfaPendingCredential(f){return new gt("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return gt._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return gt._fromIdtoken(f.multiFactorSession.idToken)}return null}}class $o{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=Yn(f),D=g.customData._serverResponse,N=(D.mfaInfo||[]).map(Y=>Pu._fromServerResponse(v,Y));ie(D.mfaPendingCredential,v,"internal-error");const B=gt._fromMfaPendingCredential(D.mfaPendingCredential);return new $o(B,N,function(){var Y=(0,a.Z)(function*(Ae){const qe=yield Ae._process(v,B);delete D.mfaInfo,delete D.mfaPendingCredential;const et=Object.assign(Object.assign({},D),{idToken:qe.idToken,refreshToken:qe.refreshToken});switch(g.operationType){case"signIn":const rt=yield xr._fromIdTokenResponse(v,g.operationType,et);return yield v._updateCurrentUser(rt.user),rt;case"reauthenticate":return ie(g.user,v,"internal-error"),xr._forOperation(g.user,g.operationType,et);default:pe(v,"internal-error")}});return function(Ae){return Y.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}class $a{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>Pu._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new $a(f)}getSession(){var f=this;return(0,a.Z)(function*(){return gt._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var v=this;return(0,a.Z)(function*(){const D=f,N=yield v.getSession(),B=yield Dn(v.user,D._process(v.user.auth,N,g));return yield v.user._updateTokensIfNecessary(B),v.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){const v="string"==typeof f?f:f.uid,D=yield g.user.getIdToken();try{const N=yield Dn(g.user,function qs(y,f){return Ut(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(y,f))}(g.user.auth,{idToken:D,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:B})=>B!==v),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const Ga=new WeakMap,$s="__sak";class Wd{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem($s,"1"),this.storage.removeItem($s),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const An=(()=>{class y extends Wd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function be(){const y=(0,O.z$)();return oe(y)||bt(y)}()&&function oi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ro(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const D=this.storage.getItem(v),N=this.localCache[v];D!==N&&g(v,N,D)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((Y,Ae,qe)=>{this.notifyListeners(Y,qe)});const D=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(D);if(g.newValue!==Y)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!v)return}const N=()=>{const Y=this.storage.getItem(D);!v&&this.localCache[D]===Y||this.notifyListeners(D,Y)},B=this.storage.getItem(D);!function yi(){return(0,O.w1)()&&10===document.documentMode}()||B===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,v){this.localCache[g]=v;const D=this.listeners[g];if(D)for(const N of Array.from(D))N(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var D=()=>super._set,N=this;return(0,a.Z)(function*(){yield D().call(N,g,v),N.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,D=this;return(0,a.Z)(function*(){const N=yield v().call(D,g);return D.localCache[g]=JSON.stringify(N),N})()}_remove(g){var v=()=>super._remove,D=this;return(0,a.Z)(function*(){yield v().call(D,g),delete D.localCache[g]})()}}return y.type="LOCAL",y})(),Ii=(()=>{class y extends Wd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let za=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(N=>N.isListeningto(g));if(v)return v;const D=new y(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,a.Z)(function*(){const D=g,{eventId:N,eventType:B,data:Y}=D.data,Ae=v.handlersMap[B];if(!Ae?.size)return;D.ports[0].postMessage({status:"ack",eventId:N,eventType:B});const qe=Array.from(Ae).map(function(){var rt=(0,a.Z)(function*(On){return On(D.origin,Y)});return function(On){return rt.apply(this,arguments)}}()),et=yield function Eo(y){return Promise.all(y.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(qe);D.ports[0].postMessage({status:"done",eventId:N,eventType:B,response:et})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Gs(y="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return y+g}class pv{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var D=this;return(0,a.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let B,Y;return new Promise((Ae,qe)=>{const et=Gs("",20);N.port1.start();const rt=setTimeout(()=>{qe(new Error("unsupported_event"))},v);Y={messageChannel:N,onMessage(On){const Ao=On;if(Ao.data.eventId===et)switch(Ao.data.status){case"ack":clearTimeout(rt),B=setTimeout(()=>{qe(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Ae(Ao.data.response);break;default:clearTimeout(rt),clearTimeout(B),qe(new Error("invalid_response"))}}},D.handlers.add(Y),N.port1.addEventListener("message",Y.onMessage),D.target.postMessage({eventType:f,eventId:et,data:g},[N.port2])}).finally(()=>{Y&&D.removeMessageHandler(Y)})})()}}function Hn(){return window}function Rr(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function zu(){return(zu=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Yd="firebaseLocalStorageDb",Ka="firebaseLocalStorage",Ku="fbase_key";class gs{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Wa(y,f){return y.transaction([Ka],f?"readwrite":"readonly").objectStore(Ka)}function Wu(){const y=indexedDB.open(Yd,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(Ka,{keyPath:Ku})}catch(D){g(D)}}),y.addEventListener("success",(0,a.Z)(function*(){const v=y.result;v.objectStoreNames.contains(Ka)?f(v):(v.close(),yield function Jd(){const y=indexedDB.deleteDatabase(Yd);return new gs(y).toPromise()}(),f(yield Wu()))}))})}function Yu(y,f,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(y,f,g){const v=Wa(y,!0).put({[Ku]:f,value:g});return new gs(v).toPromise()})).apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(y,f){const g=Wa(y,!1).get(f),v=yield new gs(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function pc(y,f){const g=Wa(y,!0).delete(f);return new gs(g).toPromise()}const Ja=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Wu()),g.db})()}_withRetries(g){var v=this;return(0,a.Z)(function*(){let D=0;for(;;)try{const N=yield v._openDb();return yield g(N)}catch(N){if(D++>3)throw N;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return Rr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=za._getInstance(function hn(){return Rr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,a.Z)(function*(D,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(D,N){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,a.Z)(function*(D,N){return["keyChanged"]});return function(D,N){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var v,D;if(g.activeServiceWorker=yield function Io(){return zu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new pv(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(v=N[0])&&void 0!==v&&v.fulfilled&&null!==(D=N[0])&&void 0!==D&&D.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,a.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Go(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Wu();return yield Yu(g,$s,"1"),yield pc(g,$s),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,a.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var D=this;return(0,a.Z)(function*(){return D._withPendingWrite((0,a.Z)(function*(){return yield D._withRetries(N=>Yu(N,g,v)),D.localCache[g]=v,D.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,a.Z)(function*(){const D=yield v._withRetries(N=>function zs(y,f){return Fi.apply(this,arguments)}(N,g));return v.localCache[g]=D,D})()}_remove(g){var v=this;return(0,a.Z)(function*(){return v._withPendingWrite((0,a.Z)(function*(){return yield v._withRetries(D=>pc(D,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const v=yield g._withRetries(B=>{const Y=Wa(B,!1).getAll();return new gs(Y).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const D=[],N=new Set;for(const{fbase_key:B,value:Y}of v)N.add(B),JSON.stringify(g.localCache[B])!==JSON.stringify(Y)&&(g.notifyListeners(B,Y),D.push(B));for(const B of Object.keys(g.localCache))g.localCache[B]&&!N.has(B)&&(g.notifyListeners(B,null),D.push(B));return D})()}notifyListeners(g,v){this.localCache[g]=v;const D=this.listeners[g];if(D)for(const N of Array.from(D))N(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Qa=1e12;class tp{constructor(f){this.auth=f,this.counter=Qa,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new Xd(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||Qa;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Qa))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var v;return null===(v=g._widgets.get(f||Qa))||void 0===v||v.execute(),""})()}}class Xd{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;ie(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function np(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mc=ss("rcb"),_c=new Te(3e4,6e4);class eh{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Hn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return ie(function Xa(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Pt(Hn().grecaptcha)?Promise.resolve(Hn().grecaptcha):new Promise((v,D)=>{const N=Hn().setTimeout(()=>{D(W(f,"network-request-failed"))},_c.get());Hn()[mc]=()=>{Hn().clearTimeout(N),delete Hn()[mc];const Y=Hn().grecaptcha;if(!Y||!Pt(Y))return void D(W(f,"internal-error"));const Ae=Y.render;Y.render=(qe,et)=>{const rt=Ae(qe,et);return this.counter++,rt},this.hostLanguage=g,v(Y)},mo(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:mc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),D(W(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Hn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yc{load(f){return(0,a.Z)(function*(){return new tp(f)})()}clearedOneInstance(){}}const Ks="recaptcha",th={theme:"light",type:"image"};class vc{constructor(f,g=Object.assign({},th),v){this.parameters=g,this.type=Ks,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(v),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof f?document.getElementById(f):f;ie(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yc:new eh,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(N=>{const B=Y=>{Y&&(f.tokenChangeListeners.delete(B),N(Y))};f.tokenChangeListeners.add(B),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=Hn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){ie($r()&&!Rr(),f.auth,"internal-error"),yield function rp(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function ee(y){return Ne.apply(this,arguments)}(f.auth);ie(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qu{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Un._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function vr(){return(vr=(0,a.Z)(function*(y,f,g){const v=Yn(y),D=yield Ws(v,f,(0,O.m9)(g));return new Qu(D,N=>Fa(v,N))})).apply(this,arguments)}function Xu(){return(Xu=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);yield Pa(!1,v,"phone");const D=yield Ws(v.auth,f,(0,O.m9)(g));return new Qu(D,N=>Em(v,N))})).apply(this,arguments)}function wc(){return(wc=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y),D=yield Ws(v.auth,f,(0,O.m9)(g));return new Qu(D,N=>Zn(v,N))})).apply(this,arguments)}function Ws(y,f,g){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,a.Z)(function*(y,f,g){var v;const D=yield g.verify();try{let N;if(ie("string"==typeof D,y,"argument-error"),ie(g.type===Ks,y,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const B=N.session;if("phoneNumber"in N)return ie("enroll"===B.type,y,"internal-error"),(yield function cc(y,f){return Ut(y,"POST","/v2/accounts/mfaEnrollment:start",Xe(y,f))}(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{ie("signin"===B.type,y,"internal-error");const Y=(null===(v=N.multiFactorHint)||void 0===v?void 0:v.uid)||N.multiFactorUid;return ie(Y,y,"missing-multi-factor-info"),(yield function ep(y,f){return Ut(y,"POST","/v2/accounts/mfaSignIn:start",Xe(y,f))}(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function Ld(y,f){return io.apply(this,arguments)}(y,{phoneNumber:N.phoneNumber,recaptchaToken:D});return B}}finally{g._reset()}}),Tc.apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(y,f){yield Jl((0,O.m9)(y),f)})).apply(this,arguments)}let jn=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Yn(g)}verifyPhoneNumber(g,v){return Ws(this.auth,g,(0,O.m9)(v))}static credential(g,v){return Un._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:D}=g;return v&&D?Un._fromTokenResponse(v,D):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Dt(y,f){return f?Qt(f):(ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ci extends _o{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _r(f,this._buildIdpRequest())}_linkToIdToken(f,g){return _r(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return _r(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function nu(y){return Vd(y.auth,new Ci(y),y.bypassAuthState)}function ru(y){const{auth:f,user:g}=y;return ie(g,f,"internal-error"),zf(g,new Ci(y),y.bypassAuthState)}function zo(y){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,a.Z)(function*(y){const{auth:f,user:g}=y;return ie(g,f,"internal-error"),Jl(g,new Ci(y),y.bypassAuthState)})).apply(this,arguments)}class iu{constructor(f,g,v,D,N=!1){this.auth=f,this.resolver=v,this.user=D,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(v,D){f.pendingPromise={resolve:v,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(v,D){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:v,sessionId:D,postBody:N,tenantId:B,error:Y,type:Ae}=f;if(Y)return void g.reject(Y);const qe={auth:g.auth,requestUri:v,sessionId:D,tenantId:B||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ae)(qe))}catch(et){g.reject(et)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return nu;case"linkViaPopup":case"linkViaRedirect":return zo;case"reauthViaPopup":case"reauthViaRedirect":return ru;default:pe(this.auth,"internal-error")}}resolve(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wr=new Te(2e3,1e4);function Vi(){return(Vi=(0,a.Z)(function*(y,f,g){const v=Yn(y);De(y,f,oo);const D=Dt(v,g);return new Co(v,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function Js(){return(Js=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);De(v.auth,f,oo);const D=Dt(v.auth,g);return new Co(v.auth,"reauthViaPopup",f,D,v).executeNotNull()})).apply(this,arguments)}function el(){return(el=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);De(v.auth,f,oo);const D=Dt(v.auth,g);return new Co(v.auth,"linkViaPopup",f,D,v).executeNotNull()})).apply(this,arguments)}let Co=(()=>{class y extends iu{constructor(g,v,D,N,B){super(g,v,N,B),this.provider=D,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const v=yield g.execute();return ie(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,a.Z)(function*(){jt(1===g.filter.length,"Popup operations only handle one event");const v=Gs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(W(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(W(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,D;this.pollId=null!==(D=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(W(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,wr.get())};g()}}return y.currentPopupAction=null,y})();const Di="pendingRedirect",ou=new Map;class Or extends iu{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let v=ou.get(g.auth._key());if(!v){try{const N=(yield function Ui(y,f){return Ic.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(N)}catch(D){v=()=>Promise.reject(D)}ou.set(g.auth._key(),v)}return g.bypassAuthState||ou.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const D=yield v.auth._redirectUserForId(f.eventId);if(D)return v.user=D,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Ic(){return(Ic=(0,a.Z)(function*(y,f){const g=su(f),v=oh(y);if(!(yield v._isAvailable()))return!1;const D="true"===(yield v._get(g));return yield v._remove(g),D})).apply(this,arguments)}function ih(y,f){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,a.Z)(function*(y,f){return oh(y)._set(su(f),"true")})).apply(this,arguments)}function uo(y,f){ou.set(y._key(),f)}function oh(y){return Qt(y._redirectPersistence)}function su(y){return U(Di,y.config.apiKey,y.name)}function nl(y,f,g){return function _s(y,f,g){return rl.apply(this,arguments)}(y,f,g)}function rl(){return(rl=(0,a.Z)(function*(y,f,g){const v=Yn(y);De(y,f,oo),yield v._initializationPromise;const D=Dt(v,g);return yield ih(D,v),D._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function au(y,f,g){return function il(y,f,g){return ol.apply(this,arguments)}(y,f,g)}function ol(){return(ol=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);De(v.auth,f,oo),yield v.auth._initializationPromise;const D=Dt(v.auth,g);yield ih(D,v.auth);const N=yield Bi(v);return D._openRedirect(v.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function bc(y,f,g){return function Dc(y,f,g){return Ko.apply(this,arguments)}(y,f,g)}function Ko(){return(Ko=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);De(v.auth,f,oo),yield v.auth._initializationPromise;const D=Dt(v.auth,g);yield Pa(!1,v,f.providerId),yield ih(D,v.auth);const N=yield Bi(v);return D._openRedirect(v.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function bo(){return(bo=(0,a.Z)(function*(y,f){return yield Yn(y)._initializationPromise,vs(y,f,!1)})).apply(this,arguments)}function vs(y,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,a.Z)(function*(y,f,g=!1){const v=Yn(y),D=Dt(v,f),B=yield new Or(v,D,g).execute();return B&&!g&&(delete B.user._redirectEventId,yield v._persistUserIfCurrent(B.user),yield v._setRedirectUser(null,f)),B})).apply(this,arguments)}function Bi(y){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.Z)(function*(y){const f=Gs(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class al{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ac(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xs(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!Xs(f)){const D=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(W(this.auth,D))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lu(f))}saveEventToCache(f){this.cachedEventUids.add(lu(f)),this.lastProcessedEventTime=Date.now()}}function lu(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Xs({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function op(y){return sh.apply(this,arguments)}function sh(){return(sh=(0,a.Z)(function*(y,f={}){return Ut(y,"GET","/v1/projects",f)})).apply(this,arguments)}const lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ws=/^https?/;function In(){return(In=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield op(y);for(const g of f)try{if(ap(g))return}catch{}pe(y,"unauthorized-domain")})).apply(this,arguments)}function ap(y){const f=fr(),{protocol:g,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&B.hostname===v}if(!ws.test(g))return!1;if(lr.test(y))return v===y;const D=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(v)}const Wo=new Te(3e4,6e4);function Mc(){const y=Hn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Zi=null;const cu=new Te(5e3,15e3),ul="__/auth/iframe",up="emulator/auth/iframe",gv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WT(y){const f=y.config;ie(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Me(f,up):`https://${y.config.authDomain}/${ul}`,v={apiKey:f.apiKey,appName:y.name,v:Q.SDK_VERSION},D=Sm.get(y.config.apiHost);D&&(v.eid=D);const N=y._getFrameworks();return N.length&&(v.fw=N.join(",")),`${g}?${(0,O.xO)(v).slice(1)}`}function C(){return C=(0,a.Z)(function*(y){const f=yield function Yo(y){return Zi=Zi||function Qn(y){return new Promise((f,g)=>{var v,D,N;function B(){Mc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Mc(),g(W(y,"network-request-failed"))},timeout:Wo.get()})}if(null!==(D=null===(v=Hn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==D&&D.Iframe)f(gapi.iframes.getContext());else{if(null===(N=Hn().gapi)||void 0===N||!N.load){const Y=ss("iframefcb");return Hn()[Y]=()=>{gapi.load?B():g(W(y,"network-request-failed"))},mo(`https://apis.google.com/js/api.js?onload=${Y}`).catch(Ae=>g(Ae))}B()}}).catch(f=>{throw Zi=null,f})}(y),Zi}(y),g=Hn().gapi;return ie(g,y,"internal-error"),f.open({where:document.body,url:WT(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gv,dontclear:!0},v=>new Promise(function(){var D=(0,a.Z)(function*(N,B){yield v.restyle({setHideOnLeave:!1});const Y=W(y,"network-request-failed"),Ae=Hn().setTimeout(()=>{B(Y)},cu.get());function qe(){Hn().clearTimeout(Ae),N(v)}v.ping(qe).then(qe,()=>{B(Y)})});return function(N,B){return D.apply(this,arguments)}}()))}),C.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ze{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const It="__/auth/handler",Ct="emulator/auth/handler",Tr=encodeURIComponent("fac");function ir(y,f,g,v,D,N){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(y,f,g,v,D,N){ie(y.config.authDomain,y,"auth-domain-config-required"),ie(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:Q.SDK_VERSION,eventId:D};if(f instanceof oo){f.setDefaultLanguage(y.languageCode),B.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[et,rt]of Object.entries(N||{}))B[et]=rt}if(f instanceof Wr){const et=f.getScopes().filter(rt=>""!==rt);et.length>0&&(B.scopes=et.join(","))}y.tenantId&&(B.tid=y.tenantId);const Y=B;for(const et of Object.keys(Y))void 0===Y[et]&&delete Y[et];const Ae=yield y._getAppCheckToken(),qe=Ae?`#${Tr}=${encodeURIComponent(Ae)}`:"";return`${function Sc({config:y}){return y.emulator?Me(y,Ct):`https://${y.authDomain}/${It}`}(y)}?${(0,O.xO)(Y).slice(1)}${qe}`})).apply(this,arguments)}const ci="webStorageSupport",ji=class Ai{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ii,this._completeRedirectFn=vs,this._overrideRedirectResult=uo}_openPopup(f,g,v,D){var N=this;return(0,a.Z)(function*(){var B;jt(null===(B=N.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Y=yield ir(f,g,v,fr(),D);return function Be(y,f,g,v=500,D=600){const N=Math.max((window.screen.availHeight-D)/2,0).toString(),B=Math.max((window.screen.availWidth-v)/2,0).toString();let Y="";const Ae=Object.assign(Object.assign({},S),{width:v.toString(),height:D.toString(),top:N,left:B}),qe=(0,O.z$)().toLowerCase();g&&(Y=nt(qe)?"_blank":g),ve(qe)&&(f=f||"http://localhost",Ae.scrollbars="yes");const et=Object.entries(Ae).reduce((On,[Ao,Th])=>`${On}${Ao}=${Th},`,"");if(function mr(y=(0,O.z$)()){var f;return bt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(qe)&&"_self"!==Y)return function it(y,f){const g=document.createElement("a");g.href=y,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",Y),new ze(null);const rt=window.open(f||"",Y,et);ie(rt,y,"popup-blocked");try{rt.focus()}catch{}return new ze(rt)}(f,Y,Gs())})()}_openRedirect(f,g,v,D){var N=this;return(0,a.Z)(function*(){return yield N._originValidation(f),function fc(y){Hn().location.href=y}(yield ir(f,g,v,fr(),D)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:D,promise:N}=this.eventManagers[g];return D?Promise.resolve(D):(jt(N,"If manager is not set, promise should be"),N)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const v=yield function E(y){return C.apply(this,arguments)}(f),D=new al(f);return v.register("authEvent",N=>(ie(N?.authEvent,f,"invalid-auth-event"),{status:D.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:D},g.iframes[f._key()]=v,D})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ci,{type:ci},D=>{var N;const B=null===(N=D?.[0])||void 0===N?void 0:N[ci];void 0!==B&&g(!!B),pe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function sp(y){return In.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ro()||oe()||bt()}};class du{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return He("unexpected MultiFactorSessionType")}}}class ea extends du{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ea(f)}_finalizeEnroll(f,g,v){return function Qf(y,f){return Ut(y,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(y,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Yr(y,f){return Ut(y,"POST","/v2/accounts/mfaSignIn:finalize",Xe(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mv=(()=>{class y{constructor(){}static assertion(g){return ea._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Nc="@firebase/auth";class cl{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{f(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ta(){return window}(0,O.Pz)("authIdTokenMaxAge"),function cp(y){(0,Q._registerComponent)(new fe.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),D=f.getProvider("heartbeat"),N=f.getProvider("app-check-internal"),{apiKey:B,authDomain:Y}=v.options;ie(B&&!B.includes(":"),"invalid-api-key",{appName:v.name});const Ae={apiKey:B,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(y)},qe=new xd(v,D,N,Ae);return function jf(y,f){const g=f?.persistence||[],v=(Array.isArray(g)?g:[g]).map(Qt);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,f?.popupRedirectResolver)}(qe,g),qe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,Q._registerComponent)(new fe.wA("auth-internal",f=>{const g=Yn(f.getProvider("auth").getImmediate());return new cl(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Q.registerVersion)(Nc,"0.23.2",function uh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,Q.registerVersion)(Nc,"0.23.2","esm2017")}("Browser");function ch(){return ch=(0,a.Z)(function*(y,f,g){var v;const{BuildInfo:D}=ta();jt(f.sessionId,"AuthEvent did not contain a session ID");const N=yield function pp(y){return gp.apply(this,arguments)}(f.sessionId),B={};return bt()?B.ibi=D.packageName:xt()?B.apn=D.packageName:pe(y,"operation-not-supported-in-this-environment"),D.displayName&&(B.appDisplayName=D.displayName),B.sessionId=N,ir(y,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,B)}),ch.apply(this,arguments)}function hp(){return(hp=(0,a.Z)(function*(y){const{BuildInfo:f}=ta(),g={};bt()?g.iosBundleId=f.packageName:xt()?g.androidPackageName=f.packageName:pe(y,"operation-not-supported-in-this-environment"),yield op(y,g)})).apply(this,arguments)}function wv(){return(wv=(0,a.Z)(function*(y,f,g){const{cordova:v}=ta();let D=()=>{};try{yield new Promise((N,B)=>{let Y=null;function Ae(){var rt;N();const On=null===(rt=v.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof On&&On(),"function"==typeof g?.close&&g.close()}function qe(){Y||(Y=window.setTimeout(()=>{B(W(y,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===document?.visibilityState&&qe()}f.addPassiveListener(Ae),document.addEventListener("resume",qe,!1),xt()&&document.addEventListener("visibilitychange",et,!1),D=()=>{f.removePassiveListener(Ae),document.removeEventListener("resume",qe,!1),document.removeEventListener("visibilitychange",et,!1),Y&&window.clearTimeout(Y)}})}finally{D()}})).apply(this,arguments)}function gp(){return(gp=(0,a.Z)(function*(y){const f=function km(y){if(jt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class iD extends al{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function na(y){return dl.apply(this,arguments)}function dl(){return(dl=(0,a.Z)(function*(y){const f=yield yp()._get(ra(y));return f&&(yield yp()._remove(ra(y))),f})).apply(this,arguments)}function _p(){const y=[];for(let g=0;g<20;g++){const v=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return y.join("")}function yp(){return Qt(An)}function ra(y){return U("authEvent",y.config.apiKey,y.name)}function hl(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,O.zd)(g.join("?"))}const Tv=class QT{constructor(){this._redirectPersistence=Ii,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vs,this._overrideRedirectResult=uo}_initialize(f){var g=this;return(0,a.Z)(function*(){const v=f._key();let D=g.eventManagers.get(v);return D||(D=new iD(f),g.eventManagers.set(v,D),g.attachCallbackListeners(f,D)),D})()}_openPopup(f){pe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,D){var N=this;return(0,a.Z)(function*(){!function Rm(y){var f,g,v,D,N,B,Y,Ae,qe,et;const rt=ta();ie("function"==typeof(null===(f=rt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof(null===(g=rt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(N=null===(D=null===(v=rt?.cordova)||void 0===v?void 0:v.plugins)||void 0===D?void 0:D.browsertab)||void 0===N?void 0:N.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Ae=null===(Y=null===(B=rt?.cordova)||void 0===B?void 0:B.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===Ae?void 0:Ae.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(et=null===(qe=rt?.cordova)||void 0===qe?void 0:qe.InAppBrowser)||void 0===et?void 0:et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield N._initialize(f);yield B.initialized(),B.resetRedirect(),function tl(){ou.clear()}(),yield N._originValidation(f);const Y=function JT(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:_p(),postBody:null,tenantId:y.tenantId,error:W(y,"no-auth-event")}}(f,v,D);yield function Rc(y,f){return yp()._set(ra(y),f)}(f,Y);const Ae=yield function vv(y,f,g){return ch.apply(this,arguments)}(f,Y,g),qe=yield function fp(y){const{cordova:f}=ta();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let D=null;v?f.plugins.browsertab.openUrl(y):D=f.InAppBrowser.open(y,function qt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(D)})})}(Ae);return function xm(y,f,g){return wv.apply(this,arguments)}(f,B,qe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function rD(y){return hp.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:D,BuildInfo:N}=ta(),B=setTimeout((0,a.Z)(function*(){yield na(f),g.onEvent(Tp())}),500),Y=function(){var et=(0,a.Z)(function*(rt){clearTimeout(B);const On=yield na(f);let Ao=null;On&&rt?.url&&(Ao=function mp(y,f){var g,v;const D=function wp(y){const f=hl(y),g=f.link?decodeURIComponent(f.link):void 0,v=hl(g).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return hl(D).link||D||v||g||y}(f);if(D.includes("/__/auth/callback")){const N=hl(D),B=N.firebaseError?function vp(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,Y=null===(v=null===(g=B?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Ae=Y?W(Y):null;return Ae?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:D,postBody:null}}return null}(On,rt.url)),g.onEvent(Ao||Tp())});return function(On){return et.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,Y);const Ae=D,qe=`${N.packageName.toLowerCase()}://`;ta().handleOpenURL=function(){var et=(0,a.Z)(function*(rt){if(rt.toLowerCase().startsWith(qe)&&Y({url:rt}),"function"==typeof Ae)try{Ae(rt)}catch(On){console.error(On)}});return function(rt){return et.apply(this,arguments)}}()}};function Tp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:W("no-auth-event")}}function Oc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Pm(y=(0,O.z$)()){return!("file:"!==Oc()&&"ionic:"!==Oc()&&"capacitor:"!==Oc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function hh(){try{const y=self.localStorage,f=Gs();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Cp(y=(0,O.z$)()){return function di(){return(0,O.w1)()&&11===document?.documentMode}()||function Ip(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Er()&&(0,O.hl)()}return!1}function Er(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ia(){return(function Ep(){return"http:"===Oc()||"https:"===Oc()}()||(0,O.ru)()||Pm())&&!function XT(){return(0,O.b$)()||(0,O.UG)()}()&&hh()&&!Er()}function bp(){return Pm()&&typeof document<"u"}function Ap(){return(Ap=(0,a.Z)(function*(){return!!bp()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const $i={LOCAL:"local",NONE:"none",SESSION:"session"},oa=ie,Fm="persistence";function gh(y){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,a.Z)(function*(y){yield y._initializationPromise;const f=_h(),g=U(Fm,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function _h(){var y;try{return(null===(y=function fh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Vm=ie;class lo{constructor(){this.browserResolver=Qt(ji),this.cordovaResolver=Qt(Tv),this.underlyingResolver=null,this._redirectPersistence=Ii,this._completeRedirectFn=vs,this._overrideRedirectResult=uo}_initialize(f){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,D){var N=this;return(0,a.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,v,D)})()}_openRedirect(f,g,v,D){var N=this;return(0,a.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,v,D)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return bp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Dp(){return Ap.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function fl(y){return y.unwrap()}function Np(y){return xp(y)}function xp(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return jn.credentialFromResult(y);const g=f.providerId;if(!g||g===de.PASSWORD)return null;let v;switch(g){case de.GOOGLE:v=ds;break;case de.FACEBOOK:v=cs;break;case de.GITHUB:v=ar;break;case de.TWITTER:v=vo;break;default:const{oauthIdToken:D,oauthAccessToken:N,oauthTokenSecret:B,pendingToken:Y,nonce:Ae}=f;return N||B||D||Y?Y?g.startsWith("saml.")?Bn._create(g,Y):Kr._fromParams({providerId:g,signInMethod:g,pendingToken:Y,idToken:D,accessToken:N}):new Ti(g).credential({idToken:D,accessToken:N,rawNonce:Ae}):null}return y instanceof O.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function Lr(y,f){return f.catch(g=>{throw g instanceof O.ZR&&function yh(y,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new vh(y,function Gd(y,f){var g;const v=(0,O.m9)(y),D=f;return ie(f.customData.operationType,v,"argument-error"),ie(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),$o._fromError(v,D)}(y,f));else if(v){const D=xp(f),N=f;D&&(N.credential=D,N.tenantId=v.tenantId||void 0,N.email=v.email||void 0,N.phoneNumber=v.phoneNumber||void 0)}}(y,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:Np(g),additionalUserInfo:ur(g),user:Gi.getOrCreate(D)}})}function sa(y,f){return pl.apply(this,arguments)}function pl(){return(pl=(0,a.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>Lr(y,g.confirm(v))}})).apply(this,arguments)}class vh{constructor(f,g){this.resolver=g,this.auth=function Sp(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Lr(fl(this.auth),this.resolver.resolveSignIn(f))}}class Gi{constructor(f){this._delegate=f,this.multiFactor=function dc(y){const f=(0,O.m9)(y);return Ga.has(f)||Ga.set(f,$a._fromUser(f)),Ga.get(f)}(f)}static getOrCreate(f){return Gi.USER_MAP.has(f)||Gi.USER_MAP.set(f,new Gi(f)),Gi.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,a.Z)(function*(){return Lr(g.auth,Em(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,a.Z)(function*(){return sa(v.auth,function ip(y,f,g){return Xu.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,a.Z)(function*(){return Lr(g.auth,function rh(y,f,g){return el.apply(this,arguments)}(g._delegate,f,lo))})()}linkWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield gh(Yn(g.auth)),bc(g._delegate,f,lo)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,a.Z)(function*(){return Lr(g.auth,Zn(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return sa(this.auth,function eu(y,f,g){return wc.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Lr(this.auth,function nh(y,f,g){return Js.apply(this,arguments)}(this._delegate,f,lo))}reauthenticateWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield gh(Yn(g.auth)),au(g._delegate,f,lo)})()}sendEmailVerification(f){return function Bu(y,f){return ja.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,a.Z)(function*(){return yield function Tm(y,f){return so.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Jf(y,f){return jd((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Pi(y,f){return jd((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function tu(y,f){return Ys.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Dm(y,f){return Zs.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function ic(y,f,g){return Zu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Gi.USER_MAP=new WeakMap;const Do=ie;let Um=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;Do(D,"invalid-api-key",{appName:g.name}),Do(D,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?lo:void 0;this._delegate=v.initialize({options:{persistence:Ev(D,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Gi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function ku(y,f,g){const v=Yn(y);ie(v._canInitEmulator,v,"emulator-config-failed"),ie(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const D=!!g?.disableWarnings,N=as(f),{host:B,port:Y}=function Rd(y){const f=as(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(v);if(D){const N=D[1];return{host:N,port:kd(v.substr(N.length+1))}}{const[N,B]=v.split(":");return{host:N,port:kd(B)}}}(f);v.config.emulator={url:`${N}//${B}${null===Y?"":`:${Y}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:B,port:Y,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function ym(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function Vu(y,f){return Ei.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Za(this._delegate,g)}confirmPasswordReset(g,v){return function Fu(y,f,g){return Jn.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var D=this;return(0,a.Z)(function*(){return Lr(D._delegate,function Wf(y,f,g){return Ha.apply(this,arguments)}(D._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Hd(y,f){return rc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function bm(y,f){const g=Zt.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){Do(ia(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function ys(y,f){return bo.apply(this,arguments)}(g._delegate,lo);return v?Lr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Om(y,f){Yn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,D){const{next:N,error:B,complete:Y}=Rp(g,v,D);return this._delegate.onAuthStateChanged(N,B,Y)}onIdTokenChanged(g,v,D){const{next:N,error:B,complete:Y}=Rp(g,v,D);return this._delegate.onIdTokenChanged(N,B,Y)}sendSignInLinkToEmail(g,v){return function Uu(y,f,g){return fs.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function Cm(y,f,g){return Zr.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,a.Z)(function*(){let D;switch(function ph(y,f){oa(Object.values($i).includes(f),y,"invalid-persistence-type"),(0,O.b$)()?oa(f!==$i.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?oa(f===$i.NONE,y,"unsupported-persistence-type"):Er()?oa(f===$i.NONE||f===$i.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):oa(f===$i.NONE||hh(),y,"unsupported-persistence-type")}(v._delegate,g),g){case $i.SESSION:D=Ii;break;case $i.LOCAL:D=(yield Qt(Ja)._isAvailable())?Ja:An;break;case $i.NONE:D=Gt;break;default:return pe("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Lr(this._delegate,function wm(y){return Yl.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Lr(this._delegate,Fa(this._delegate,g))}signInWithCustomToken(g){return Lr(this._delegate,function To(y,f){return Li.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return Lr(this._delegate,function tc(y,f,g){return Fa((0,O.m9)(y),Lu.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return Lr(this._delegate,function Hr(y,f,g){return Yf.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return sa(this._delegate,function fn(y,f,g){return vr.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,a.Z)(function*(){return Do(ia(),v._delegate,"operation-not-supported-in-this-environment"),Lr(v._delegate,function bi(y,f,g){return Vi.apply(this,arguments)}(v._delegate,g,lo))})()}signInWithRedirect(g){var v=this;return(0,a.Z)(function*(){return Do(ia(),v._delegate,"operation-not-supported-in-this-environment"),yield gh(v._delegate),nl(v._delegate,g,lo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Us(y,f){return Bs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=$i,y})();function Rp(y,f,g){let v=y;"function"!=typeof y&&({next:v,error:f,complete:g}=y);const D=v;return{next:B=>D(B&&Gi.getOrCreate(B)),error:f,complete:g}}function Ev(y,f){const g=function mh(y,f){const g=_h();if(!g)return[];const v=U(Fm,y,f);switch(g.getItem(v)){case $i.NONE:return[Gt];case $i.LOCAL:return[Ja,Ii];case $i.SESSION:return[Ii];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(Ja)&&g.push(Ja),typeof window<"u")for(const v of[An,Ii])g.includes(v)||g.push(v);return g.includes(Gt)||g.push(Gt),g}class wh{constructor(){this.providerId="phone",this._delegate=new jn(fl(G.Z.auth()))}static credential(f,g){return jn.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}wh.PHONE_SIGN_IN_METHOD=jn.PHONE_SIGN_IN_METHOD,wh.PROVIDER_ID=jn.PROVIDER_ID;const Iv=ie;class Bm{constructor(f,g,v=G.Z.app()){var D;Iv(null===(D=v.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new vc(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kp(y){y.INTERNAL.registerComponent(new fe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Um(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Lu,FacebookAuthProvider:cs,GithubAuthProvider:ar,GoogleAuthProvider:ds,OAuthProvider:Ti,SAMLAuthProvider:Fs,PhoneAuthProvider:wh,PhoneMultiFactorGenerator:mv,RecaptchaVerifier:Bm,TwitterAuthProvider:vo,Auth:Um,AuthCredential:_o,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(G.Z)},5861:(ct,Ee,k)=>{function a(O,Q,ne,ce,fe,ke,de){try{var V=O[ke](de),Z=V.value}catch(J){return void ne(J)}V.done?Q(Z):Promise.resolve(Z).then(ce,fe)}function G(O){return function(){var Q=this,ne=arguments;return new Promise(function(ce,fe){var ke=O.apply(Q,ne);function de(Z){a(ke,ce,fe,de,V,"next",Z)}function V(Z){a(ke,ce,fe,de,V,"throw",Z)}de(void 0)})}}k.d(Ee,{Z:()=>G})},7582:(ct,Ee,k)=>{function Q(se,me){var Te={};for(var Me in se)Object.prototype.hasOwnProperty.call(se,Me)&&me.indexOf(Me)<0&&(Te[Me]=se[Me]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Me=Object.getOwnPropertySymbols(se);je<Me.length;je++)me.indexOf(Me[je])<0&&Object.prototype.propertyIsEnumerable.call(se,Me[je])&&(Te[Me[je]]=se[Me[je]])}return Te}function J(se,me,Te,Me){return new(Te||(Te=Promise))(function(Ve,Et){function Xe(ht){try{tt(Me.next(ht))}catch(vn){Et(vn)}}function Ut(ht){try{tt(Me.throw(ht))}catch(vn){Et(vn)}}function tt(ht){ht.done?Ve(ht.value):function je(Ve){return Ve instanceof Te?Ve:new Te(function(Et){Et(Ve)})}(ht.value).then(Xe,Ut)}tt((Me=Me.apply(se,me||[])).next())})}function te(se){return this instanceof te?(this.v=se,this):new te(se)}function pe(se,me,Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Me=Te.apply(se,me||[]),Ve=[];return je={},Et("next"),Et("throw"),Et("return"),je[Symbol.asyncIterator]=function(){return this},je;function Et(tn){Me[tn]&&(je[tn]=function(Rn){return new Promise(function(Wt,ti){Ve.push([tn,Rn,Wt,ti])>1||Xe(tn,Rn)})})}function Xe(tn,Rn){try{!function Ut(tn){tn.value instanceof te?Promise.resolve(tn.value.v).then(tt,ht):vn(Ve[0][2],tn)}(Me[tn](Rn))}catch(Wt){vn(Ve[0][3],Wt)}}function tt(tn){Xe("next",tn)}function ht(tn){Xe("throw",tn)}function vn(tn,Rn){tn(Rn),Ve.shift(),Ve.length&&Xe(Ve[0][0],Ve[0][1])}}function he(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,me=se[Symbol.asyncIterator];return me?me.call(se):(se=function Se(se){var me="function"==typeof Symbol&&Symbol.iterator,Te=me&&se[me],Me=0;if(Te)return Te.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Me>=se.length&&(se=void 0),{value:se&&se[Me++],done:!se}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Te={},Me("next"),Me("throw"),Me("return"),Te[Symbol.asyncIterator]=function(){return this},Te);function Me(Ve){Te[Ve]=se[Ve]&&function(Et){return new Promise(function(Xe,Ut){!function je(Ve,Et,Xe,Ut){Promise.resolve(Ut).then(function(tt){Ve({value:tt,done:Xe})},Et)}(Xe,Ut,(Et=se[Ve](Et)).done,Et.value)})}}}k.d(Ee,{FC:()=>pe,KL:()=>he,_T:()=>Q,mG:()=>J,qq:()=>te})}},ct=>{ct(ct.s=8541)}]);