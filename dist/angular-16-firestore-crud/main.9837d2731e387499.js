"use strict";(self.webpackChunkangular_16_firestore_crud=self.webpackChunkangular_16_firestore_crud||[]).push([[179],{2011:(lt,Te,R)=>{R.d(Te,{Dh:()=>Re,GT:()=>le,cc:()=>Ce,hO:()=>Le,on:()=>V,pX:()=>ne,xv:()=>de});var a=R(2223),q=R(9260),O=R(4976);lt=R.hmd(lt);const Q=["ngOnDestroy"],ne=(Ne,mt,dt,te={})=>new Proxy(Ne,{get:(pe,W)=>dt.runOutsideAngular(()=>{var he;if(Ne[W])return!(null===(he=te?.spy)||void 0===he)&&he.get&&te.spy.get(W,Ne[W]),Ne[W];if(Q.indexOf(W)>-1)return()=>{};const Ae=mt.toPromise().then(Fe=>{const ie=Fe&&Fe[W];return"function"==typeof ie?ie.bind(Fe):ie&&ie.then?ie.then(He=>dt.run(()=>He)):dt.run(()=>ie)});return new Proxy(()=>{},{get:(Fe,ie)=>Ae[ie],apply:(Fe,ie,He)=>Ae.then(jt=>{var fr;const Gr=jt&&jt(...He);return!(null===(fr=te?.spy)||void 0===fr)&&fr.apply&&te.spy.apply(W,He,Gr),Gr})})})}),le=(Ne,mt)=>{mt.forEach(dt=>{Object.getOwnPropertyNames(dt.prototype||dt).forEach(te=>{Object.defineProperty(Ne.prototype,te,Object.getOwnPropertyDescriptor(dt.prototype||dt,te))})})};class fe{constructor(mt){return mt}}const Re=new a.OlP("angularfire2.app.options"),de=new a.OlP("angularfire2.app.name");function V(Ne,mt,dt){const pe="object"==typeof dt&&dt||{};pe.name=pe.name||"string"==typeof dt&&dt||"[DEFAULT]";const he=q.Z.apps.filter(Ae=>Ae&&Ae.name===pe.name)[0]||mt.runOutsideAngular(()=>q.Z.initializeApp(Ne,pe));try{JSON.stringify(Ne)!==JSON.stringify(he.options)&&Z("error",`${he.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(he)}const Z=(Ne,...mt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ne](...mt)},J={provide:fe,useFactory:V,deps:[Re,a.R0b,[new a.FiY,de]]};let Le=(()=>{class Ne{constructor(dt){q.Z.registerVersion("angularfire",O.q4.full,"core"),q.Z.registerVersion("angularfire",O.q4.full,"app-compat"),q.Z.registerVersion("angular",a.q4F.full,dt.toString())}static initializeApp(dt,te){return{ngModule:Ne,providers:[{provide:Re,useValue:dt},{provide:de,useValue:te}]}}}return Ne.\u0275fac=function(dt){return new(dt||Ne)(a.LFG(a.Lbi))},Ne.\u0275mod=a.oAB({type:Ne}),Ne.\u0275inj=a.cJS({providers:[J]}),Ne})();function Ce(Ne,mt,dt,te,pe){const[,W,he]=globalThis.\u0275AngularfireInstanceCache.find(Ae=>Ae[0]===Ne)||[];if(W)return function Ye(Ne,mt){try{return Ne.toString()===mt.toString()}catch{return Ne===mt}}(pe,he)||(Ge("error",`${mt} was already initialized on the ${dt} Firebase App with different settings.${Me?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:pe,was:he})),W;{const Ae=te();return globalThis.\u0275AngularfireInstanceCache.push([Ne,Ae,pe]),Ae}}const Me=!!lt.hot,Ge=(Ne,...mt)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ne](...mt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(lt,Te,R)=>{R.d(Te,{q4:()=>Qs,iC:()=>ap,HU:()=>Sl,vb:()=>op,JM:()=>ws});var a=R(2223),q=R(259),O=R(5861),Q=R(6881),ne=R(2090),le=R(4859),fe=R(1877);const Re=(E,C)=>C.some(M=>E instanceof M);let de,V;const Le=new WeakMap,Ce=new WeakMap,Ye=new WeakMap,Me=new WeakMap,Ge=new WeakMap;let dt={get(E,C,M){if(E instanceof IDBTransaction){if("done"===C)return Ce.get(E);if("objectStoreNames"===C)return E.objectStoreNames||Ye.get(E);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return he(E[C])},set:(E,C,M)=>(E[C]=M,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function W(E){return"function"==typeof E?function pe(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Ae(this),C),he(Le.get(this))}:function(...C){return he(E.apply(Ae(this),C))}:function(C,...M){const P=E.call(Ae(this),C,...M);return Ye.set(P,C.sort?C.sort():[C]),he(P)}}(E):(E instanceof IDBTransaction&&function mt(E){if(Ce.has(E))return;const C=new Promise((M,P)=>{const H=()=>{E.removeEventListener("complete",z),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},z=()=>{M(),H()},ce=()=>{P(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",z),E.addEventListener("error",ce),E.addEventListener("abort",ce)});Ce.set(E,C)}(E),Re(E,function Z(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,dt):E)}function he(E){if(E instanceof IDBRequest)return function Ne(E){const C=new Promise((M,P)=>{const H=()=>{E.removeEventListener("success",z),E.removeEventListener("error",ce)},z=()=>{M(he(E.result)),H()},ce=()=>{P(E.error),H()};E.addEventListener("success",z),E.addEventListener("error",ce)});return C.then(M=>{M instanceof IDBCursor&&Le.set(M,E)}).catch(()=>{}),Ge.set(C,E),C}(E);if(Me.has(E))return Me.get(E);const C=W(E);return C!==E&&(Me.set(E,C),Ge.set(C,E)),C}const Ae=E=>Ge.get(E),He=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],fr=new Map;function Gr(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(fr.get(C))return fr.get(C);const M=C.replace(/FromIndex$/,""),P=C!==M,H=jt.includes(M);if(!(M in(P?IDBIndex:IDBObjectStore).prototype)||!H&&!He.includes(M))return;const z=function(){var ce=(0,O.Z)(function*(ze,...Be){const it=this.transaction(ze,H?"readwrite":"readonly");let It=it.store;return P&&(It=It.index(Be.shift())),(yield Promise.all([It[M](...Be),H&&it.done]))[0]});return function(Be){return ce.apply(this,arguments)}}();return fr.set(C,z),z}!function te(E){dt=E(dt)}(E=>({...E,get:(C,M,P)=>Gr(C,M)||E.get(C,M,P),has:(C,M)=>!!Gr(C,M)||E.has(C,M)}));const Fo="@firebase/installations",se="0.6.4",me=1e4,Ee=`w:${se}`,Se="FIS_v2",je="https://firebaseinstallations.googleapis.com/v1",Ve=36e5,tt=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(E){return E instanceof ne.ZR&&E.code.includes("request-failed")}function vn({projectId:E}){return`${je}/projects/${E}/installations`}function tn(E){return{token:E.token,requestStatus:2,expiresIn:rs(E.expiresIn),creationTime:Date.now()}}function kn(E,C){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,O.Z)(function*(E,C){const P=(yield C.json()).error;return tt.create("request-failed",{requestName:E,serverCode:P.code,serverMessage:P.message,serverStatus:P.status})})).apply(this,arguments)}function ti({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function qr(E){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function rs(E){return Number(E.replace("s","000"))}function ni(){return(ni=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:M}){const P=vn(E),H=ti(E),z=C.getImmediate({optional:!0});if(z){const it=yield z.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const ze={method:"POST",headers:H,body:JSON.stringify({fid:M,authVersion:Se,appId:E.appId,sdkVersion:Ee})},Be=yield qr(()=>fetch(P,ze));if(Be.ok){const it=yield Be.json();return{fid:it.fid||M,registrationStatus:2,refreshToken:it.refreshToken,authToken:tn(it.authToken)}}throw yield kn("Create Installation",Be)})).apply(this,arguments)}function ri(E){return new Promise(C=>{setTimeout(C,E)})}const Sa=/^[cdef][\w-]{21}$/,qe="";function ft(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function _t(E){return function Vo(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Sa.test(M)?M:qe}catch{return qe}}function ln(E){return`${E.appName}!${E.appId}`}const An=new Map;function zr(E,C){const M=ln(E);Ma(M,C),function an(E,C){const M=function Bt(){return!Mr&&"BroadcastChannel"in self&&(Mr=new BroadcastChannel("[Firebase] FID Change"),Mr.onmessage=E=>{Ma(E.data.key,E.data.fid)}),Mr}();M&&M.postMessage({key:E,fid:C}),function Xi(){0===An.size&&Mr&&(Mr.close(),Mr=null)}()}(M,C)}function Ma(E,C){const M=An.get(E);if(M)for(const P of M)P(C)}let Mr=null;const os="firebase-installations-database",xa=1,ii="firebase-installations-store";let eo=null;function gr(){return eo||(eo=function Fe(E,C,{blocked:M,upgrade:P,blocking:H,terminated:z}={}){const ce=indexedDB.open(E,C),ze=he(ce);return P&&ce.addEventListener("upgradeneeded",Be=>{P(he(ce.result),Be.oldVersion,Be.newVersion,he(ce.transaction))}),M&&ce.addEventListener("blocked",()=>M()),ze.then(Be=>{z&&Be.addEventListener("close",()=>z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}(os,xa,{upgrade:(E,C)=>{0===C&&E.createObjectStore(ii)}})),eo}function nr(E,C){return mn.apply(this,arguments)}function mn(){return(mn=(0,O.Z)(function*(E,C){const M=ln(E),H=(yield gr()).transaction(ii,"readwrite"),z=H.objectStore(ii),ce=yield z.get(M);return yield z.put(C,M),yield H.done,(!ce||ce.fid!==C.fid)&&zr(E,C.fid),C})).apply(this,arguments)}function to(E){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,O.Z)(function*(E){const C=ln(E),P=(yield gr()).transaction(ii,"readwrite");yield P.objectStore(ii).delete(C),yield P.done})).apply(this,arguments)}function no(E,C){return qt.apply(this,arguments)}function qt(){return(qt=(0,O.Z)(function*(E,C){const M=ln(E),H=(yield gr()).transaction(ii,"readwrite"),z=H.objectStore(ii),ce=yield z.get(M),ze=C(ce);return void 0===ze?yield z.delete(M):yield z.put(ze,M),yield H.done,ze&&(!ce||ce.fid!==ze.fid)&&zr(E,ze.fid),ze})).apply(this,arguments)}function U(E){return F.apply(this,arguments)}function F(){return F=(0,O.Z)(function*(E){let C;const M=yield no(E.appConfig,P=>{const H=function G(E){return dn(E||{fid:ft(),registrationStatus:0})}(P),z=function ve(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(tt.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},P=function oe(E,C){return nt.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:P}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:pt(E)}:{installationEntry:C}}(E,H);return C=z.registrationPromise,z.installationEntry});return M.fid===qe?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}}),F.apply(this,arguments)}function nt(){return nt=(0,O.Z)(function*(E,C){try{const M=yield function ba(E,C){return ni.apply(this,arguments)}(E,C);return nr(E.appConfig,M)}catch(M){throw ht(M)&&409===M.customData.serverCode?yield to(E.appConfig):yield nr(E.appConfig,{fid:C.fid,registrationStatus:0}),M}}),nt.apply(this,arguments)}function pt(E){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,O.Z)(function*(E){let C=yield _n(E.appConfig);for(;1===C.registrationStatus;)yield ri(100),C=yield _n(E.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:P}=yield U(E);return P||M}return C})).apply(this,arguments)}function _n(E){return no(E,C=>{if(!C)throw tt.create("installation-not-found");return dn(C)})}function dn(E){return function Dt(E){return 1===E.registrationStatus&&E.registrationTime+me<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function mr(){return(mr=(0,O.Z)(function*({appConfig:E,heartbeatServiceProvider:C},M){const P=function yi(E,{fid:C}){return`${vn(E)}/${C}/authTokens:generate`}(E,M),H=function zn(E,{refreshToken:C}){const M=ti(E);return M.append("Authorization",function is(E){return`${Se} ${E}`}(C)),M}(E,M),z=C.getImmediate({optional:!0});if(z){const it=yield z.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const ze={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:Ee,appId:E.appId}})},Be=yield qr(()=>fetch(P,ze));if(Be.ok)return tn(yield Be.json());throw yield kn("Generate Auth Token",Be)})).apply(this,arguments)}function ro(E){return oi.apply(this,arguments)}function oi(){return oi=(0,O.Z)(function*(E,C=!1){let M;const P=yield no(E.appConfig,z=>{if(!Lt(z))throw tt.create("not-registered");const ce=z.authToken;if(!C&&function Yt(E){return 2===E.requestStatus&&!function rr(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+Ve}(E)}(ce))return z;if(1===ce.requestStatus)return M=function ue(E,C){return ee.apply(this,arguments)}(E,C),z;{if(!navigator.onLine)throw tt.create("app-offline");const ze=function Wn(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}(z);return M=function ut(E,C){return St.apply(this,arguments)}(E,ze),ze}});return M?yield M:P.authToken}),oi.apply(this,arguments)}function ee(){return(ee=(0,O.Z)(function*(E,C){let M=yield xe(E.appConfig);for(;1===M.authToken.requestStatus;)yield ri(100),M=yield xe(E.appConfig);const P=M.authToken;return 0===P.requestStatus?ro(E,C):P})).apply(this,arguments)}function xe(E){return no(E,C=>{if(!Lt(C))throw tt.create("not-registered");return function mo(E){return 1===E.requestStatus&&E.requestTime+me<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function St(){return St=(0,O.Z)(function*(E,C){try{const M=yield function $t(E,C){return mr.apply(this,arguments)}(E,C),P=Object.assign(Object.assign({},C),{authToken:M});return yield nr(E.appConfig,P),M}catch(M){if(!ht(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const P=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield nr(E.appConfig,P)}else yield to(E.appConfig);throw M}}),St.apply(this,arguments)}function Lt(E){return void 0!==E&&2===E.registrationStatus}function Na(){return(Na=(0,O.Z)(function*(E){const C=E,{installationEntry:M,registrationPromise:P}=yield U(C);return P?P.catch(console.error):ro(C).catch(console.error),M.fid})).apply(this,arguments)}function si(){return si=(0,O.Z)(function*(E,C=!1){const M=E;return yield function Md(E){return vi.apply(this,arguments)}(M),(yield ro(M,C)).token}),si.apply(this,arguments)}function vi(){return(vi=(0,O.Z)(function*(E){const{registrationPromise:C}=yield U(E);C&&(yield C)})).apply(this,arguments)}function as(E){return tt.create("missing-app-config-values",{valueName:E})}const Nd="installations",ym=E=>{const C=E.getProvider("app").getImmediate(),M=function Ru(E){if(!E||!E.options)throw as("App Configuration");if(!E.name)throw as("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!E.options[M])throw as(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,Q._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},_o=E=>{const C=E.getProvider("app").getImmediate(),M=(0,Q._getProvider)(C,Nd).getImmediate();return{getId:()=>function ss(E){return Na.apply(this,arguments)}(M),getToken:H=>function Sd(E){return si.apply(this,arguments)}(M,H)}};(function jf(){(0,Q._registerComponent)(new le.wA(Nd,ym,"PUBLIC")),(0,Q._registerComponent)(new le.wA("installations-internal",_o,"PRIVATE"))})(),(0,Q.registerVersion)(Fo,se),(0,Q.registerVersion)(Fo,se,"esm2017");const ka="@firebase/remote-config",un=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kr{constructor(C,M,P,H){this.client=C,this.storage=M,this.storageCache=P,this.logger=H}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const P=Date.now()-M,H=P<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${P}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${H}.`),H}fetch(C){var M=this;return(0,O.Z)(function*(){const[P,H]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(H&&M.isCachedDataFresh(C.cacheMaxAgeMillis,P))return H;C.eTag=H&&H.eTag;const z=yield M.client.fetch(C),ce=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&ce.push(M.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(ce),z})()}}function Od(E=navigator){return E.languages&&E.languages[0]||E.language}class io{constructor(C,M,P,H,z,ce){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=P,this.projectId=H,this.apiKey=z,this.appId=ce}fetch(C){var M=this;return(0,O.Z)(function*(){const[P,H]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Be={sdk_version:M.sdkVersion,app_instance_id:P,app_instance_id_token:H,app_id:M.appId,language_code:Od()},it={method:"POST",headers:ze,body:JSON.stringify(Be)},It=fetch(ce,it),Ct=new Promise((bi,ji)=>{C.signal.addEventListener(()=>{const du=new Error("The operation was aborted.");du.name="AbortError",ji(du)})});let Er;try{yield Promise.race([It,Ct]),Er=yield It}catch(bi){let ji="fetch-client-network";throw"AbortError"===bi?.name&&(ji="fetch-timeout"),un.create(ji,{originalErrorMessage:bi?.message})}let ir=Er.status;const Hi=Er.headers.get("ETag")||void 0;let Ml,li;if(200===Er.status){let bi;try{bi=yield Er.json()}catch(ji){throw un.create("fetch-client-parse",{originalErrorMessage:ji?.message})}Ml=bi.entries,li=bi.state}if("INSTANCE_STATE_UNSPECIFIED"===li?ir=500:"NO_CHANGE"===li?ir=304:("NO_TEMPLATE"===li||"EMPTY_CONFIG"===li)&&(Ml={}),304!==ir&&200!==ir)throw un.create("fetch-status",{httpStatus:ir});return{status:ir,eTag:Hi,config:Ml}})()}}class Oa{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,O.Z)(function*(){const P=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,P)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:P}){var H=this;return(0,O.Z)(function*(){yield function Rn(E,C){return new Promise((M,P)=>{const H=Math.max(C-Date.now(),0),z=setTimeout(M,H);E.addEventListener(()=>{clearTimeout(z),P(un.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const z=yield H.client.fetch(C);return yield H.storage.deleteThrottleMetadata(),z}catch(z){if(!function Ps(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(z))throw z;const ce={throttleEndTimeMillis:Date.now()+(0,ne.$s)(P),backoffCount:P+1};return yield H.storage.setThrottleMetadata(ce),H.attemptFetch(C,ce)}})()}}class Pd{constructor(C,M,P,H,z){this.app=C,this._client=M,this._storageCache=P,this._storage=H,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ui(E,C){const M=E.target.error||void 0;return un.create(C,{originalErrorMessage:M&&M?.message})}const Un="app_namespace_store";class KE{constructor(C,M,P,H=function Zt(){return new Promise((E,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=P=>{C(ui(P,"storage-open"))},M.onsuccess=P=>{E(P.target.result)},M.onupgradeneeded=P=>{0===P.oldVersion&&P.target.result.createObjectStore(Un,{keyPath:"compositeKey"})}}catch(M){C(un.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=C,this.appName=M,this.namespace=P,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,O.Z)(function*(){const P=yield M.openDbPromise;return new Promise((H,z)=>{const ze=P.transaction([Un],"readonly").objectStore(Un),Be=M.createCompositeKey(C);try{const it=ze.get(Be);it.onerror=It=>{z(ui(It,"storage-get"))},it.onsuccess=It=>{const Ct=It.target.result;H(Ct?Ct.value:void 0)}}catch(it){z(un.create("storage-get",{originalErrorMessage:it?.message}))}})})()}set(C,M){var P=this;return(0,O.Z)(function*(){const H=yield P.openDbPromise;return new Promise((z,ce)=>{const Be=H.transaction([Un],"readwrite").objectStore(Un),it=P.createCompositeKey(C);try{const It=Be.put({compositeKey:it,value:M});It.onerror=Ct=>{ce(ui(Ct,"storage-set"))},It.onsuccess=()=>{z()}}catch(It){ce(un.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(C){var M=this;return(0,O.Z)(function*(){const P=yield M.openDbPromise;return new Promise((H,z)=>{const ze=P.transaction([Un],"readwrite").objectStore(Un),Be=M.createCompositeKey(C);try{const it=ze.delete(Be);it.onerror=It=>{z(ui(It,"storage-delete"))},it.onsuccess=()=>{H()}}catch(it){z(un.create("storage-delete",{originalErrorMessage:it?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Pu{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,O.Z)(function*(){const M=C.storage.getLastFetchStatus(),P=C.storage.getLastSuccessfulFetchTimestampMillis(),H=C.storage.getActiveConfig(),z=yield M;z&&(C.lastFetchStatus=z);const ce=yield P;ce&&(C.lastSuccessfulFetchTimestampMillis=ce);const ze=yield H;ze&&(C.activeConfig=ze)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function ls(){return ds.apply(this,arguments)}function ds(){return(ds=(0,O.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function oo(){(0,Q._registerComponent)(new le.wA("remote-config",function E(C,{instanceIdentifier:M}){const P=C.getProvider("app").getImmediate(),H=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw un.create("registration-window");if(!(0,ne.hl)())throw un.create("indexed-db-unavailable");const{projectId:z,apiKey:ce,appId:ze}=P.options;if(!z)throw un.create("registration-project-id");if(!ce)throw un.create("registration-api-key");if(!ze)throw un.create("registration-app-id");const Be=new KE(ze,P.name,M=M||"firebase"),it=new Pu(Be),It=new fe.Yd(ka);It.logLevel=fe.in.ERROR;const Ct=new io(H,Q.SDK_VERSION,M,z,ce,ze),Er=new Oa(Ct,Be),ir=new Kr(Er,Be,it,It),Hi=new Pd(P,ir,it,Be,It);return function Pt(E){const C=(0,ne.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Hi),Hi},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(ka,"0.4.4"),(0,Q.registerVersion)(ka,"0.4.4","esm2017")}();const ar=(E,C)=>C.some(M=>E instanceof M);let vm,Bn;const vo=new WeakMap,wo=new WeakMap,yr=new WeakMap,Nr=new WeakMap,hs=new WeakMap;let Pa={get(E,C,M){if(E instanceof IDBTransaction){if("done"===C)return wo.get(E);if("objectStoreNames"===C)return E.objectStoreNames||yr.get(E);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return so(E[C])},set:(E,C,M)=>(E[C]=M,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function Em(E){return"function"==typeof E?function Gf(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Fs(){return Bn||(Bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Jc(this),C),so(vo.get(this))}:function(...C){return so(E.apply(Jc(this),C))}:function(C,...M){const P=E.call(Jc(this),C,...M);return yr.set(P,C.sort?C.sort():[C]),so(P)}}(E):(E instanceof IDBTransaction&&function Yc(E){if(wo.has(E))return;const C=new Promise((M,P)=>{const H=()=>{E.removeEventListener("complete",z),E.removeEventListener("error",ce),E.removeEventListener("abort",ce)},z=()=>{M(),H()},ce=()=>{P(E.error||new DOMException("AbortError","AbortError")),H()};E.addEventListener("complete",z),E.addEventListener("error",ce),E.addEventListener("abort",ce)});wo.set(E,C)}(E),ar(E,function ci(){return vm||(vm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Pa):E)}function so(E){if(E instanceof IDBRequest)return function wm(E){const C=new Promise((M,P)=>{const H=()=>{E.removeEventListener("success",z),E.removeEventListener("error",ce)},z=()=>{M(so(E.result)),H()},ce=()=>{P(E.error),H()};E.addEventListener("success",z),E.addEventListener("error",ce)});return C.then(M=>{M instanceof IDBCursor&&vo.set(M,E)}).catch(()=>{}),hs.set(C,E),C}(E);if(Nr.has(E))return Nr.get(E);const C=Em(E);return C!==E&&(Nr.set(E,C),hs.set(C,E)),C}const Jc=E=>hs.get(E);function Qc(E,C,{blocked:M,upgrade:P,blocking:H,terminated:z}={}){const ce=indexedDB.open(E,C),ze=so(ce);return P&&ce.addEventListener("upgradeneeded",Be=>{P(so(ce.result),Be.oldVersion,Be.newVersion,so(ce.transaction))}),M&&ce.addEventListener("blocked",()=>M()),ze.then(Be=>{z&&Be.addEventListener("close",()=>z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}function La(E,{blocked:C}={}){const M=indexedDB.deleteDatabase(E);return C&&M.addEventListener("blocked",()=>C()),so(M).then(()=>{})}const Ld=["get","getKey","getAll","getAllKeys","count"],qf=["put","add","delete","clear"],Xc=new Map;function Fd(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Xc.get(C))return Xc.get(C);const M=C.replace(/FromIndex$/,""),P=C!==M,H=qf.includes(M);if(!(M in(P?IDBIndex:IDBObjectStore).prototype)||!H&&!Ld.includes(M))return;const z=function(){var ce=(0,O.Z)(function*(ze,...Be){const it=this.transaction(ze,H?"readwrite":"readonly");let It=it.store;return P&&(It=It.index(Be.shift())),(yield Promise.all([It[M](...Be),H&&it.done]))[0]});return function(Be){return ce.apply(this,arguments)}}();return Xc.set(C,z),z}!function $f(E){Pa=E(Pa)}(E=>({...E,get:(C,M,P)=>Fd(C,M)||E.get(C,M,P),has:(C,M)=>!!Fd(C,M)||E.has(C,M)}));const Vd="/firebase-messaging-sw.js",Fa="/firebase-cloud-messaging-push-scope",Va="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Tm="https://fcmregistrations.googleapis.com/v1",el="google.c.a.c_id",Zn="google.c.a.c_l",Ho="google.c.a.ts";var Eo=(()=>((Eo=Eo||{}).PUSH_RECEIVED="push-received",Eo.NOTIFICATION_CLICKED="notification-clicked",Eo))();function Pi(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Lu(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),P=atob(M),H=new Uint8Array(P.length);for(let z=0;z<P.length;++z)H[z]=P.charCodeAt(z);return H}const Ua="fcm_token_details_db",Ud=5,Ba="fcm_token_object_Store";function Zr(){return Zr=(0,O.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(z=>z.name).includes(Ua))return null;let C=null;return(yield Qc(Ua,Ud,{upgrade:(P=(0,O.Z)(function*(H,z,ce,ze){var Be;if(z<2||!H.objectStoreNames.contains(Ba))return;const it=ze.objectStore(Ba),It=yield it.index("fcmSenderId").get(E);if(yield it.clear(),It)if(2===z){const Ct=It;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;C={token:Ct.fcmToken,createTime:null!==(Be=Ct.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:Pi(Ct.vapidKey)}}}else if(3===z){const Ct=It;C={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Pi(Ct.auth),p256dh:Pi(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Pi(Ct.vapidKey)}}}else if(4===z){const Ct=It;C={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Pi(Ct.auth),p256dh:Pi(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Pi(Ct.vapidKey)}}}}),function(z,ce,ze,Be){return P.apply(this,arguments)})})).close(),yield La(Ua),yield La("fcm_vapid_details_db"),yield La("undefined"),function Fu(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var P}),Zr.apply(this,arguments)}const Jn="firebase-messaging-database",Vu=1,Ti="firebase-messaging-store";let Za=null;function Vs(){return Za||(Za=Qc(Jn,Vu,{upgrade:(E,C)=>{0===C&&E.createObjectStore(Ti)}})),Za}function Us(E){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,O.Z)(function*(E){const C=fs(E),P=yield(yield Vs()).transaction(Ti).objectStore(Ti).get(C);if(P)return P;{const H=yield function Cm(E){return Zr.apply(this,arguments)}(E.appConfig.senderId);if(H)return yield Kf(E,H),H}}),Bs.apply(this,arguments)}function Kf(E,C){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,O.Z)(function*(E,C){const M=fs(E),H=(yield Vs()).transaction(Ti,"readwrite");return yield H.objectStore(Ti).put(C,M),yield H.done,C})).apply(this,arguments)}function Uu(){return(Uu=(0,O.Z)(function*(E){const C=fs(E),P=(yield Vs()).transaction(Ti,"readwrite");yield P.objectStore(Ti).delete(C),yield P.done})).apply(this,arguments)}function fs({appConfig:E}){return E.appId}const Hr=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Wf(E,C){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,O.Z)(function*(E,C){const M=yield il(E),P=ol(C),H={method:"POST",headers:M,body:JSON.stringify(P)};let z;try{z=yield(yield fetch(ja(E.appConfig),H)).json()}catch(ce){throw Hr.create("token-subscribe-failed",{errorInfo:ce?.toString()})}if(z.error)throw Hr.create("token-subscribe-failed",{errorInfo:z.error.message});if(!z.token)throw Hr.create("token-subscribe-no-token");return z.token})).apply(this,arguments)}function Zd(){return(Zd=(0,O.Z)(function*(E,C){const M=yield il(E),P=ol(C.subscriptionOptions),H={method:"PATCH",headers:M,body:JSON.stringify(P)};let z;try{z=yield(yield fetch(`${ja(E.appConfig)}/${C.token}`,H)).json()}catch(ce){throw Hr.create("token-update-failed",{errorInfo:ce?.toString()})}if(z.error)throw Hr.create("token-update-failed",{errorInfo:z.error.message});if(!z.token)throw Hr.create("token-update-no-token");return z.token})).apply(this,arguments)}function rl(E,C){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,O.Z)(function*(E,C){const P={method:"DELETE",headers:yield il(E)};try{const z=yield(yield fetch(`${ja(E.appConfig)}/${C}`,P)).json();if(z.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:z.error.message})}catch(H){throw Hr.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function ja({projectId:E}){return`${Tm}/projects/${E}/registrations`}function il(E){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,O.Z)(function*({appConfig:E,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ol({p256dh:E,auth:C,endpoint:M,vapidKey:P}){const H={web:{endpoint:M,auth:C,p256dh:E}};return P!==Va&&(H.web.applicationPubKey=P),H}const Hu=6048e5;function Zs(){return Zs=(0,O.Z)(function*(E){const C=yield function ju(E,C){return jr.apply(this,arguments)}(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:Pi(C.getKey("auth")),p256dh:Pi(C.getKey("p256dh"))},P=yield Us(E.firebaseDependencies);if(P){if(function $u(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}(P.subscriptionOptions,M))return Date.now()>=P.createTime+Hu?function Hd(E,C){return $a.apply(this,arguments)}(E,{token:P.token,createTime:Date.now(),subscriptionOptions:M}):P.token;try{yield rl(E.firebaseDependencies,P.token)}catch(H){console.warn(H)}return Tn(E.firebaseDependencies,M)}return Tn(E.firebaseDependencies,M)}),Zs.apply(this,arguments)}function Li(){return Li=(0,O.Z)(function*(E){const C=yield Us(E.firebaseDependencies);C&&(yield rl(E.firebaseDependencies,C.token),yield function tl(E){return Uu.apply(this,arguments)}(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Li.apply(this,arguments)}function $a(){return $a=(0,O.Z)(function*(E,C){try{const M=yield function nl(E,C){return Zd.apply(this,arguments)}(E.firebaseDependencies,C),P=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield Kf(E.firebaseDependencies,P),M}catch(M){throw yield function Yf(E){return Li.apply(this,arguments)}(E),M}}),$a.apply(this,arguments)}function Tn(E,C){return ps.apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(E,C){const P={token:yield Wf(E,C),createTime:Date.now(),subscriptionOptions:C};return yield Kf(E,P),P.token})).apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Lu(C)})})).apply(this,arguments)}function sl(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function jo(E,C){if(!C.notification)return;E.notification={};const M=C.notification.title;M&&(E.notification.title=M);const P=C.notification.body;P&&(E.notification.body=P);const H=C.notification.image;H&&(E.notification.image=H);const z=C.notification.icon;z&&(E.notification.icon=z)}(C,E),function ur(E,C){C.data&&(E.data=C.data)}(C,E),function bm(E,C){var M,P,H,z,ce;if(!(C.fcmOptions||null!==(M=C.notification)&&void 0!==M&&M.click_action))return;E.fcmOptions={};const ze=null!==(H=null===(P=C.fcmOptions)||void 0===P?void 0:P.link)&&void 0!==H?H:null===(z=C.notification)||void 0===z?void 0:z.click_action;ze&&(E.fcmOptions.link=ze);const Be=null===(ce=C.fcmOptions)||void 0===ce?void 0:ce.analytics_label;Be&&(E.fcmOptions.analyticsLabel=Be)}(C,E),C}function jd(E,C){const M=[];for(let P=0;P<E.length;P++)M.push(E.charAt(P)),P<C.length&&M.push(C.charAt(P));return M.join("")}function al(E){return Hr.create("missing-app-config-values",{valueName:E})}jd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $d{constructor(C,M,P){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function $o(E){if(!E||!E.options)throw al("App Configuration Object");if(!E.name)throw al("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const P of C)if(!M[P])throw al(P);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:H,installations:M,analyticsProvider:P}}_delete(){return Promise.resolve()}}function Gu(){return(Gu=(0,O.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Vd,{scope:Fa}),E.swRegistration.update().catch(()=>{})}catch(C){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield function ul(E){return Gu.apply(this,arguments)}(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=Va)})).apply(this,arguments)}function ll(){return ll=(0,O.Z)(function*(E,C){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield function gt(E,C){return Go.apply(this,arguments)}(E,C?.vapidKey),yield function cl(E,C){return js.apply(this,arguments)}(E,C?.serviceWorkerRegistration),function Am(E){return Zs.apply(this,arguments)}(E)}),ll.apply(this,arguments)}function qd(){return(qd=(0,O.Z)(function*(E,C,M){const P=function zd(E){switch(E){case Eo.NOTIFICATION_CLICKED:return"notification_open";case Eo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(P,{message_id:M[el],message_name:M[Zn],message_time:M[Ho],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ga(){return Ga=(0,O.Z)(function*(E,C){const M=C.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===Eo.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(sl(M)):E.onMessageHandler.next(sl(M)));const P=M.data;(function Hs(E){return"object"==typeof E&&!!E&&el in E})(P)&&"1"===P["google.c.a.e"]&&(yield function Jf(E,C,M){return qd.apply(this,arguments)}(E,M.messageType,P))}),Ga.apply(this,arguments)}const qa="@firebase/messaging",Gs=E=>{const C=new $d(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function $s(E,C){return Ga.apply(this,arguments)}(C,M)),C},Kd=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:P=>function Gd(E,C){return ll.apply(this,arguments)}(C,P)}};function zt(){return qu.apply(this,arguments)}function qu(){return(qu=(0,O.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function De(){(0,Q._registerComponent)(new le.wA("messaging",Gs,"PUBLIC")),(0,Q._registerComponent)(new le.wA("messaging-internal",Kd,"PRIVATE")),(0,Q.registerVersion)(qa,"0.12.4"),(0,Q.registerVersion)(qa,"0.12.4","esm2017")}();const Hn="analytics",fl="firebase_id",kr="origin",Io=6e4,zu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qo="https://www.googletagmanager.com/gtag/js",hn=new fe.Yd("@firebase/analytics"),Rr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ka(E){if(!E.startsWith(qo)){const C=Rr.create("invalid-gtag-resource",{gtagURL:E});return hn.warn(C.message),""}return E}function Ku(E){return Promise.all(E.map(C=>C.catch(M=>M)))}function Yu(){return(Yu=(0,O.Z)(function*(E,C,M,P,H,z){const ce=P[H];try{if(ce)yield C[ce];else{const Be=(yield Ku(M)).find(it=>it.measurementId===H);Be&&(yield C[Be.appId])}}catch(ze){hn.error(ze)}E("config",H,z)})).apply(this,arguments)}function zs(){return(zs=(0,O.Z)(function*(E,C,M,P,H){try{let z=[];if(H&&H.send_to){let ce=H.send_to;Array.isArray(ce)||(ce=[ce]);const ze=yield Ku(M);for(const Be of ce){const it=ze.find(Ct=>Ct.measurementId===Be),It=it&&C[it.appId];if(!It){z=[];break}z.push(It)}}0===z.length&&(z=Object.values(C)),yield Promise.all(z),E("event",P,H||{})}catch(z){hn.error(z)}})).apply(this,arguments)}const Ju=30,Xf=new class Ja{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Yr(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Cn(){return(Cn=(0,O.Z)(function*(E){var C;const{appId:M,apiKey:P}=E,H={method:"GET",headers:Yr(P)},z=zu.replace("{app-id}",M),ce=yield fetch(z,H);if(200!==ce.status&&304!==ce.status){let ze="";try{const Be=yield ce.json();null!==(C=Be.error)&&void 0!==C&&C.message&&(ze=Be.error.message)}catch{}throw Rr.create("config-fetch-failed",{httpStatus:ce.status,responseMessage:ze})}return ce.json()})).apply(this,arguments)}function Qa(){return(Qa=(0,O.Z)(function*(E,C=Xf,M){const{appId:P,apiKey:H,measurementId:z}=E.options;if(!P)throw Rr.create("no-app-id");if(!H){if(z)return{measurementId:z,appId:P};throw Rr.create("no-api-key")}const ce=C.getThrottleMetadata(P)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new _l;return setTimeout((0,O.Z)(function*(){ze.abort()}),void 0!==M?M:Io),ep({appId:P,apiKey:H,measurementId:z},ce,ze,C)})).apply(this,arguments)}function ep(E,C,M){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,O.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:M},P,H=Xf){var z;const{appId:ce,measurementId:ze}=E;try{yield function tp(E,C){return new Promise((M,P)=>{const H=Math.max(C-Date.now(),0),z=setTimeout(M,H);E.addEventListener(()=>{clearTimeout(z),P(Rr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(P,C)}catch(Be){if(ze)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:ce,measurementId:ze};throw Be}try{const Be=yield function ms(E){return Cn.apply(this,arguments)}(E);return H.deleteThrottleMetadata(ce),Be}catch(Be){const it=Be;if(!function ml(E){if(!(E instanceof ne.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(it)){if(H.deleteThrottleMetadata(ce),ze)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:ce,measurementId:ze};throw Be}const It=503===Number(null===(z=it?.customData)||void 0===z?void 0:z.httpStatus)?(0,ne.$s)(M,H.intervalMillis,Ju):(0,ne.$s)(M,H.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+It,backoffCount:M+1};return H.setThrottleMetadata(ce,Ct),hn.debug(`Calling attemptFetch again in ${It} millis`),ep(E,Ct,P,H)}}),Qd.apply(this,arguments)}class _l{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let ao,eu;function Xa(){return(Xa=(0,O.Z)(function*(E,C,M,P,H){if(H&&H.global)E("event",M,P);else{const z=yield C;E("event",M,Object.assign(Object.assign({},P),{send_to:z}))}})).apply(this,arguments)}function tu(){return(tu=(0,O.Z)(function*(){if(!(0,ne.hl)())return hn.warn(Rr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(E){return hn.warn(Rr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function jn(){return jn=(0,O.Z)(function*(E,C,M,P,H,z,ce){var ze;const Be=function Sm(E){return Qa.apply(this,arguments)}(E);Be.then(ir=>{M[ir.measurementId]=ir.appId,E.options.measurementId&&ir.measurementId!==E.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>hn.error(ir)),C.push(Be);const it=function El(){return tu.apply(this,arguments)}().then(ir=>{if(ir)return P.getId()}),[It,Ct]=yield Promise.all([Be,it]);(function Jd(E){const C=window.document.getElementsByTagName("script");for(const M of Object.values(C))if(M.src&&M.src.includes(qo)&&M.src.includes(E))return M;return null})(z)||function Wa(E,C){const M=function gs(E,C){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(E,C)),M}("firebase-js-sdk-policy",{createScriptURL:Ka}),P=document.createElement("script"),H=`${qo}?l=${E}&id=${C}`;P.src=M?M?.createScriptURL(H):H,P.async=!0,document.head.appendChild(P)}(z,It.measurementId),eu&&(H("consent","default",eu),function wl(E){eu=E}(void 0)),H("js",new Date);const Er=null!==(ze=ce?.config)&&void 0!==ze?ze:{};return Er[kr]="firebase",Er.update=!0,null!=Ct&&(Er[fl]=Ct),H("config",It.measurementId,Er),ao&&(H("set",ao),function Ws(E){ao=E}(void 0)),It.measurementId}),jn.apply(this,arguments)}class At{constructor(C){this.app=C}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},nu=[];const ru={};let iu,wr,zo="dataLayer",Di=!1;function Js(E,C,M){!function th(){const E=[];if((0,ne.ru)()&&E.push("This is a browser extension environment."),(0,ne.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((P,H)=>`(${H+1}) ${P}`).join(" "),M=Rr.create("invalid-analytics-context",{errorInfo:C});hn.warn(M.message)}}();const P=E.options.appId;if(!P)throw Rr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Rr.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[P])throw Rr.create("already-exists",{id:P});if(!Di){!function Yd(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(zo);const{wrappedGtag:z,gtagCore:ce}=function pl(E,C,M,P,H){let z=function(...ce){window[P].push(arguments)};return window[H]&&"function"==typeof window[H]&&(z=window[H]),window[H]=function Fi(E,C,M,P){function z(){return z=(0,O.Z)(function*(ce,...ze){try{if("event"===ce){const[Be,it]=ze;yield function Ya(E,C,M,P,H){return zs.apply(this,arguments)}(E,C,M,Be,it)}else if("config"===ce){const[Be,it]=ze;yield function Wu(E,C,M,P,H,z){return Yu.apply(this,arguments)}(E,C,M,P,Be,it)}else if("consent"===ce){const[Be]=ze;E("consent","update",Be)}else if("get"===ce){const[Be,it,It]=ze;E("get",Be,it,It)}else if("set"===ce){const[Be]=ze;E("set",Be)}else E(ce,...ze)}catch(Be){hn.error(Be)}}),z.apply(this,arguments)}return function H(ce){return z.apply(this,arguments)}}(z,E,C,M),{gtagCore:z,wrappedGtag:window[H]}}(Ci,nu,ru,zo,"gtag");wr=z,iu=ce,Di=!0}return Ci[P]=function Ys(E,C,M,P,H,z,ce){return jn.apply(this,arguments)}(E,nu,ru,C,iu,zo,M),new At(E)}function Co(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,O.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const su="@firebase/analytics";!function _s(){(0,Q._registerComponent)(new le.wA(Hn,(C,{options:M})=>Js(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,Q._registerComponent)(new le.wA("analytics-internal",function E(C){try{const M=C.getProvider(Hn).getImmediate();return{logEvent:(P,H,z)=>function uo(E,C,M,P){E=(0,ne.m9)(E),function Xd(E,C,M,P,H){return Xa.apply(this,arguments)}(wr,Ci[E.app.options.appId],C,M,P).catch(H=>hn.error(H))}(M,P,H,z)}}catch(M){throw Rr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,Q.registerVersion)(su,"0.10.0"),(0,Q.registerVersion)(su,"0.10.0","esm2017")}();var rc=R(4408),ic=R(7565);const Dl=new class oc extends ic.v{}(class au extends rc.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(C,M,P):(C.flush(this),0)}});var Ko=R(4986),ys=R(8505),Do=R(9468),vs=R(5363);const Qs=new a.GfV("7.6.1"),Bi="__angularfire_symbol__analyticsIsSupportedValue",uu="__angularfire_symbol__analyticsIsSupported",sc="__angularfire_symbol__remoteConfigIsSupportedValue",ac="__angularfire_symbol__remoteConfigIsSupported",cu="__angularfire_symbol__messagingIsSupportedValue",Xs="__angularfire_symbol__messagingIsSupported";function ws(E,C,M){if(C){if(1===C.length)return C[0];const z=C.filter(ce=>ce.app===M);if(1===z.length)return z[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[uu]||(globalThis[uu]=Co().then(E=>globalThis[Bi]=E).catch(()=>globalThis[Bi]=!1)),globalThis[Xs]||(globalThis[Xs]=zt().then(E=>globalThis[cu]=E).catch(()=>globalThis[cu]=!1)),globalThis[ac]||(globalThis[ac]=ls().then(E=>globalThis[sc]=E).catch(()=>globalThis[sc]=!1));const op=(E,C)=>{const M=C?[C]:(0,q.C6)(),P=[];return M.forEach(H=>{H.container.getProvider(E).instances.forEach(ce=>{P.includes(ce)||P.push(ce)})}),P};function In(){}class sp{constructor(C,M=Dl){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,P){const H=this.zone;return this.delegate.schedule(function(ce){H.runGuarded(()=>{C.apply(this,[ce])})},M,P)}}class Wo{constructor(C){this.zone=C,this.task=null}call(C,M){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",In,{},In,In)),M.pipe((0,ys.b)({next:P,complete:P,error:P})).subscribe(C).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sl=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new sp(Zone.current)),this.insideAngular=M.run(()=>new sp(Zone.current,Ko.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(a.LFG(a.R0b))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Qn(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ap(E){return Qn(),function gv(E){return function(M){return(M=M.lift(new Wo(E.ngZone))).pipe((0,Do.R)(E.outsideAngular),(0,vs.Q)(E.insideAngular))}}(Qn())(E)}},2090:(lt,Te,R)=>{R.d(Te,{$s:()=>to,BH:()=>W,G6:()=>Ee,L:()=>de,LL:()=>Ut,Pz:()=>pe,Sg:()=>he,UG:()=>ie,US:()=>le,ZB:()=>J,ZR:()=>Xe,aH:()=>te,b$:()=>fr,eu:()=>je,hl:()=>Se,jU:()=>He,m9:()=>qt,ne:()=>ln,pd:()=>ft,r3:()=>Kn,ru:()=>jt,tV:()=>V,uI:()=>Fe,vZ:()=>ni,w1:()=>Fo,xO:()=>Sa,xb:()=>is,z$:()=>Ae,zI:()=>Ve,zd:()=>qe});const Q=function(U){const F=[];let G=0;for(let ve=0;ve<U.length;ve++){let oe=U.charCodeAt(ve);oe<128?F[G++]=oe:oe<2048?(F[G++]=oe>>6|192,F[G++]=63&oe|128):55296==(64512&oe)&&ve+1<U.length&&56320==(64512&U.charCodeAt(ve+1))?(oe=65536+((1023&oe)<<10)+(1023&U.charCodeAt(++ve)),F[G++]=oe>>18|240,F[G++]=oe>>12&63|128,F[G++]=oe>>6&63|128,F[G++]=63&oe|128):(F[G++]=oe>>12|224,F[G++]=oe>>6&63|128,F[G++]=63&oe|128)}return F},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let oe=0;oe<U.length;oe+=3){const nt=U[oe],pt=oe+1<U.length,Nt=pt?U[oe+1]:0,_n=oe+2<U.length,dn=_n?U[oe+2]:0;let mr=(15&Nt)<<2|dn>>6,yi=63&dn;_n||(yi=64,pt||(mr=64)),ve.push(G[nt>>2],G[(3&nt)<<4|Nt>>4],G[mr],G[yi])}return ve.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(Q(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let G=0,ve=0;for(;G<U.length;){const oe=U[G++];if(oe<128)F[ve++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const nt=U[G++];F[ve++]=String.fromCharCode((31&oe)<<6|63&nt)}else if(oe>239&&oe<365){const _n=((7&oe)<<18|(63&U[G++])<<12|(63&U[G++])<<6|63&U[G++])-65536;F[ve++]=String.fromCharCode(55296+(_n>>10)),F[ve++]=String.fromCharCode(56320+(1023&_n))}else{const nt=U[G++],pt=U[G++];F[ve++]=String.fromCharCode((15&oe)<<12|(63&nt)<<6|63&pt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const G=F?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let oe=0;oe<U.length;){const nt=G[U.charAt(oe++)],Nt=oe<U.length?G[U.charAt(oe)]:0;++oe;const dn=oe<U.length?G[U.charAt(oe)]:64;++oe;const $t=oe<U.length?G[U.charAt(oe)]:64;if(++oe,null==nt||null==Nt||null==dn||null==$t)throw new fe;ve.push(nt<<2|Nt>>4),64!==dn&&(ve.push(Nt<<4&240|dn>>2),64!==$t&&ve.push(dn<<6&192|$t))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(U){return function(U){const F=Q(U);return le.encodeByteArray(F,!0)}(U).replace(/\./g,"")},V=function(U){try{return le.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function J(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const G in F)!F.hasOwnProperty(G)||!Le(G)||(U[G]=J(U[G],F[G]));return U}function Le(U){return"__proto__"!==U}const Ne=()=>{try{return function Ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&V(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},te=()=>{var U;return null===(U=Ne())||void 0===U?void 0:U.config},pe=U=>{var F;return null===(F=Ne())||void 0===F?void 0:F[`_${U}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,G)=>{this.resolve=F,this.reject=G})}wrapCallback(F){return(G,ve)=>{G?this.reject(G):this.resolve(ve),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(G):F(G,ve))}}}function he(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=F||"demo-project",oe=U.iat||0,nt=U.sub||U.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:oe,exp:oe+3600,auth_time:oe,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},U);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(pt)),""].join(".")}function Ae(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function ie(){var U;const F=null===(U=Ne())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function jt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function fr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fo(){const U=Ae();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ee(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Se(){try{return"object"==typeof indexedDB}catch{return!1}}function je(){return new Promise((U,F)=>{try{let G=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ve);oe.onsuccess=()=>{oe.result.close(),G||self.indexedDB.deleteDatabase(ve),U(!0)},oe.onupgradeneeded=()=>{G=!1},oe.onerror=()=>{var nt;F((null===(nt=oe.error)||void 0===nt?void 0:nt.message)||"")}}catch(G){F(G)}})}function Ve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(F,G,ve){super(G),this.code=F,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}}class Ut{constructor(F,G,ve){this.service=F,this.serviceName=G,this.errors=ve}create(F,...G){const ve=G[0]||{},oe=`${this.service}/${F}`,nt=this.errors[F],pt=nt?function tt(U,F){return U.replace(ht,(G,ve)=>{const oe=F[ve];return null!=oe?String(oe):`<${ve}?>`})}(nt,ve):"Error";return new Xe(oe,`${this.serviceName}: ${pt} (${oe}).`,ve)}}const ht=/\{\$([^}]+)}/g;function Kn(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function is(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function ni(U,F){if(U===F)return!0;const G=Object.keys(U),ve=Object.keys(F);for(const oe of G){if(!ve.includes(oe))return!1;const nt=U[oe],pt=F[oe];if(ri(nt)&&ri(pt)){if(!ni(nt,pt))return!1}else if(nt!==pt)return!1}for(const oe of ve)if(!G.includes(oe))return!1;return!0}function ri(U){return null!==U&&"object"==typeof U}function Sa(U){const F=[];for(const[G,ve]of Object.entries(U))Array.isArray(ve)?ve.forEach(oe=>{F.push(encodeURIComponent(G)+"="+encodeURIComponent(oe))}):F.push(encodeURIComponent(G)+"="+encodeURIComponent(ve));return F.length?"&"+F.join("&"):""}function qe(U){const F={};return U.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[oe,nt]=ve.split("=");F[decodeURIComponent(oe)]=decodeURIComponent(nt)}}),F}function ft(U){const F=U.indexOf("?");if(!F)return"";const G=U.indexOf("#",F);return U.substring(F,G>0?G:void 0)}function ln(U,F){const G=new An(U,F);return G.subscribe.bind(G)}class An{constructor(F,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{F(this)}).catch(ve=>{this.error(ve)})}next(F){this.forEachObserver(G=>{G.next(F)})}error(F){this.forEachObserver(G=>{G.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,G,ve){let oe;if(void 0===F&&void 0===G&&void 0===ve)throw new Error("Missing Observer.");oe=function rn(U,F){if("object"!=typeof U||null===U)return!1;for(const G of F)if(G in U&&"function"==typeof U[G])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:G,complete:ve},void 0===oe.next&&(oe.next=pr),void 0===oe.error&&(oe.error=pr),void 0===oe.complete&&(oe.complete=pr);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),nt}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,F)}sendOne(F,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{G(this.observers[F])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}const eo=1e3,gr=2,nr=144e5,mn=.5;function to(U,F=eo,G=gr){const ve=F*Math.pow(G,U),oe=Math.round(mn*ve*(Math.random()-.5)*2);return Math.min(nr,ve+oe)}function qt(U){return U&&U._delegate?U._delegate:U}},8541:(lt,Te,R)=>{var a=R(2223);let q=null;function O(){return q}class ne{}const le=new a.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(de)},providedIn:"platform"}),n})();const Re=new a.OlP("Location Initialized");let de=(()=>{class n extends fe{constructor(){super(),this._doc=(0,a.f3M)(le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function V(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function J(n){return n&&"?"!==n[0]?"?"+n:n}let Le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ye)},providedIn:"root"}),n})();const Ce=new a.OlP("appBaseHref");let Ye=(()=>{class n extends Le{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return V(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+J(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const d=this.prepareExternalUrl(o+J(c));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){const d=this.prepareExternalUrl(o+J(c));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(Ce,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Me=(()=>{class n extends Le{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=V(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let d=this.prepareExternalUrl(o+J(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,c){let d=this.prepareExternalUrl(o+J(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(Ce,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(dt(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+J(r))}normalize(t){return n.stripTrailingSlash(function mt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,dt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+J(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+J(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=J,n.joinWithSlash=V,n.stripTrailingSlash=Z,n.\u0275fac=function(t){return new(t||n)(a.LFG(Le))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ne(){return new Ge((0,a.LFG)(Le))}()},providedIn:"root"}),n})();function dt(n){return n.replace(/\/index.html$/,"")}class Gc{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ku=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,c,d)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Gc(o.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===c?void 0:c);else if(null!==c){const m=r.get(c);r.move(m,d),xd(m,o)}});for(let o=0,c=r.length;o<c;o++){const m=r.get(o).context;m.index=o,m.count=c,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{xd(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function xd(n,e){n.context.$implicit=e.item}let Uo=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new _m,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hf("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hf("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class _m{constructor(){this.$implicit=null,this.ngIf=null}}function Hf(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let wi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function cs(n){return"server"===n}let oo=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Wr((0,a.LFG)(le),window)}),n})();class Wr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ls(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const d=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ei(this.window.history)||Ei(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ei(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class sl extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jo extends sl{static makeCurrent(){!function Q(n){q||(q=n)}(new jo)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function bm(){return ur=ur||document.querySelector("base"),ur?ur.getAttribute("href"):null}();return null==t?null:function jd(n){Hs=Hs||document.createElement("a"),Hs.setAttribute("href",n);const e=Hs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ur=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ss(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let Hs,ur=null,al=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const $d=new a.OlP("EventManagerPlugins");let ul=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(c=>c.supports(t)),!r)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG($d),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Gu{constructor(e){this._doc=e}}const cl="ng-app-id";let js=(()=>{class n{constructor(t,r,o,c={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cs(c),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${cl}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const c=o.get(t);return c.usage+=r,c.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,c=o?.get(r);if(c?.parentNode===t)return o.delete(r),c.removeAttribute(cl),c;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(cl,this.appId),d}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const c=this.styleRef,d=c.get(r)?.elements;d?d.push(o):c.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Go=/%COMP%/g,zd=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function qa(n,e){return e.map(t=>t.replace(Go,n))}let dl=(()=>{class n{constructor(t,r,o,c,d,m,T,D=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=c,this.doc=d,this.platformId=m,this.ngZone=T,this.nonce=D,this.rendererByCompId=new Map,this.platformIsServer=cs(m),this.defaultRenderer=new Gs(t,d,T,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===a.ifc.ShadowDom&&(r={...r,encapsulation:a.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof bn?o.applyToHost(t):o instanceof hl&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let c=o.get(r.id);if(!c){const d=this.doc,m=this.ngZone,T=this.eventManager,D=this.sharedStylesHost,S=this.removeStylesOnCompDestory,k=this.platformIsServer;switch(r.encapsulation){case a.ifc.Emulated:c=new bn(T,D,r,this.appId,S,d,m,k);break;case a.ifc.ShadowDom:return new qu(T,D,t,r,d,m,this.nonce,k);default:c=new hl(T,D,r,S,d,m,k)}c.onDestroy=()=>o.delete(r.id),o.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ul),a.LFG(js),a.LFG(a.AFp),a.LFG(zd),a.LFG(le),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Gs{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gt[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zt(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zt(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new a.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=gt[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=gt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,o&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function zt(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class qu extends Gs{constructor(e,t,r,o,c,d,m,T){super(e,c,d,T),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const D=qa(o.id,o.styles);for(const S of D){const k=document.createElement("style");m&&k.setAttribute("nonce",m),k.textContent=S,this.shadowRoot.appendChild(k)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hl extends Gs{constructor(e,t,r,o,c,d,m,T){super(e,c,d,m),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=T?qa(T,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class bn extends hl{constructor(e,t,r,o,c,d,m,T){const D=o+"-"+r.id;super(e,t,r,c,d,m,T,D),this.contentAttr=function $s(n){return"_ngcontent-%COMP%".replace(Go,n)}(D),this.hostAttr=function Ga(n){return"_nghost-%COMP%".replace(Go,n)}(D)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Qf=(()=>{class n extends Gu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ii=["alt","control","meta","shift"],To={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},za={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qs=(()=>{class n extends Gu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,c.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),Ii.forEach(D=>{const S=r.indexOf(D);S>-1&&(r.splice(S,1),d+=D+".")}),d+=c,0!=r.length||0===c.length)return null;const T={};return T.domEventName=o,T.fullKey=d,T}static matchEventFullKeyCode(t,r){let o=To[t.key]||t.key,c="";return r.indexOf("code.")>-1&&(o=t.code,c="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Ii.forEach(d=>{d!==o&&(0,za[d])(t)&&(c+=d+".")}),c+=o,c===r)}static eventCallback(t,r,o){return c=>{n.matchEventFullKeyCode(c,t)&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Wd=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function Io(){jo.makeCurrent()},multi:!0},{provide:le,useFactory:function qo(){return(0,a.RDi)(document),document},deps:[]}]),Rr=new a.OlP(""),Ka=[{provide:a.rWj,useClass:class $o{addToWindow(e){a.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new a.vHH(5103,!1);return c},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const o=a.dqk.getAllAngularTestabilities();let c=o.length,d=!1;const m=function(T){d=d||T,c--,0==c&&r(d)};o.forEach(function(T){T.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Ku=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function zu(){return new a.qLn},deps:[]},{provide:$d,useClass:Qf,multi:!0,deps:[le,a.R0b,a.Lbi]},{provide:$d,useClass:qs,multi:!0,deps:[le]},dl,js,ul,{provide:a.FYo,useExisting:dl},{provide:class ar{},useClass:al,deps:[]},[]];let gs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rr,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Ku,...Ka],imports:[wi,a.hGG]}),n})(),Ya=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(le))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Yu(){return new Ya((0,a.LFG)(le))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var fn=R(8996),vr=R(9751);const{isArray:rp}=Array,{getPrototypeOf:Xu,prototype:eu,keys:wl}=Object;function Ws(n){if(1===n.length){const e=n[0];if(rp(e))return{args:e,keys:null};if(function El(n){return n&&"object"==typeof n&&Xu(n)===eu}(e)){const t=wl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var tu=R(8421),Ys=R(7669),jn=R(5403),At=R(4004);const{isArray:Ci}=Array;function ru(n){return(0,At.U)(e=>function nu(n,e){return Ci(e)?n(...e):n(e)}(n,e))}function zo(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let iu=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),wr=(()=>{class n extends iu{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Di=new a.OlP("NgValueAccessor"),Js={provide:Di,useExisting:(0,a.Gpc)(()=>Co),multi:!0},ec=new a.OlP("CompositionEventMode");let Co=(()=>{class n extends iu{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nh(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ec,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[a._Bn([Js]),a.qOj]}),n})();const Or=new a.OlP("NgValidators"),Ui=new a.OlP("NgAsyncValidators");function uo(n){return function Ai(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function au(n){return null}function ic(n){return null!=n}function oc(n){return(0,a.QGY)(n)?(0,fn.D)(n):n}function Dl(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Al(n,e){return e.map(t=>t(n))}function ys(n){return n.map(e=>function Ko(n){return!n.validate}(e)?e:t=>e.validate(t))}function vs(n){return null!=n?function Do(n){if(!n)return null;const e=n.filter(ic);return 0==e.length?null:function(t){return Dl(Al(t,e))}}(ys(n)):null}function Bi(n){return null!=n?function Qs(n){if(!n)return null;const e=n.filter(ic);return 0==e.length?null:function(t){return function Tl(...n){const e=(0,Ys.jO)(n),{args:t,keys:r}=Ws(n),o=new vr.y(c=>{const{length:d}=t;if(!d)return void c.complete();const m=new Array(d);let T=d,D=d;for(let S=0;S<d;S++){let k=!1;(0,tu.Xf)(t[S]).subscribe((0,jn.x)(c,j=>{k||(k=!0,D--),m[S]=j},()=>T--,void 0,()=>{(!T||!k)&&(D||c.next(r?zo(r,m):m),c.complete())}))}});return e?o.pipe(ru(e)):o}(Al(t,e).map(oc)).pipe((0,At.U)(Dl))}}(ys(n)):null}function uu(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cu(n){return n?Array.isArray(n)?n:[n]:[]}function Xs(n,e){return Array.isArray(n)?n.includes(e):n===e}function bl(n,e){const t=cu(e);return cu(n).forEach(o=>{Xs(t,o)||t.push(o)}),t}function ip(n,e){return cu(e).filter(t=>!Xs(n,t))}class oh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vs(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class cr extends oh{get formDirective(){return null}get path(){return null}}class ws extends oh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class op{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wo=(()=>{class n extends op{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ws,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),Sl=(()=>{class n extends op{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(cr,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();const Be="VALID",it="INVALID",It="PENDING",Ct="DISABLED";function Er(n){return(li(n)?n.validators:n)||null}function Hi(n,e){return(li(e)?e.asyncValidators:n)||null}function li(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class du{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Be}get invalid(){return this.status===it}get pending(){return this.status==It}get disabled(){return this.status===Ct}get enabled(){return this.status!==Ct}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bl(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bl(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ip(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ip(e,this._rawAsyncValidators))}hasValidator(e){return Xs(this._rawValidators,e)}hasAsyncValidator(e){return Xs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=It,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ct,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Be,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Be||this.status===It)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ct:Be}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=It,this._hasOwnPendingAsyncValidator=!0;const t=oc(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Ct:this.errors?it:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(It)?It:this._anyControlsHaveStatus(it)?it:Be}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){li(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ir(n){return Array.isArray(n)?vs(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ml(n){return Array.isArray(n)?Bi(n):n||null}(this._rawAsyncValidators)}}class ea extends du{constructor(e,t,r){super(Er(t),Hi(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function ji(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new a.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function bi(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[t])throw new a.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const $i=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>xl}),xl="always";function lc(n,e,t=xl){lp(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function uh(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ta(n,e)})}(n,e),function xm(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function yv(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ta(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _v(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lp(n,e){const t=function sc(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(uu(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function ac(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(uu(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();cp(e._rawValidators,o),cp(e._rawAsyncValidators,o)}function ta(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const JE={provide:cr,useExisting:(0,a.Gpc)(()=>na)},kl=(()=>Promise.resolve())();let na=(()=>{class n extends cr{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new ea({},vs(t),Bi(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){kl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),lc(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){kl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){kl.then(()=>{const r=this._findContainer(t.path),o=new ea({});(function vv(n,e){lp(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){kl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){kl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function pp(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Or,10),a.Y36(Ui,10),a.Y36($i,8))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([JE]),a.qOj]}),n})();function dc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function gp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const mp=class extends du{constructor(e=null,t,r){super(Er(t),Hi(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),li(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=gp(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){gp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Om={provide:ws,useExisting:(0,a.Gpc)(()=>Rl)},lh=(()=>Promise.resolve())();let Rl=(()=>{class n extends ws{constructor(t,r,o,c,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new mp,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Rm(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===Co?t=c:function fp(n){return Object.getPrototypeOf(n.constructor)===wr}(c)?r=c:o=c}),o||r||t||null}(0,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function km(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){lh.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,a.D6c)(r);lh.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function sh(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(cr,9),a.Y36(Or,10),a.Y36(Ui,10),a.Y36(Di,10),a.Y36(a.sBO,8),a.Y36($i,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Om]),a.qOj,a.TTD]}),n})(),Pm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),di=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const mh={provide:Di,useExisting:(0,a.Gpc)(()=>fc),multi:!0};function Vm(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let fc=(()=>{class n extends wr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=Vm(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function co(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([mh]),a.qOj]}),n})(),Sp=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Vm(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(fc,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Mp={provide:Di,useExisting:(0,a.Gpc)(()=>sa),multi:!0};function _h(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sa=(()=>{class n extends wr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(c=>this._getOptionId(c));r=(c,d)=>{c._setSelected(o.indexOf(d.toString())>-1)}}else r=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],c=r.selectedOptions;if(void 0!==c){const d=c;for(let m=0;m<d.length;m++){const D=this._getOptionValue(d[m].value);o.push(D)}}else{const d=r.options;for(let m=0;m<d.length;m++){const T=d[m];if(T.selected){const D=this._getOptionValue(T.value);o.push(D)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function xp(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([Mp]),a.qOj]}),n})(),pc=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(_h(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_h(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(sa,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Ao=(()=>{class n{constructor(){this._validator=au}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):au,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const Iv={provide:Or,useExisting:(0,a.Gpc)(()=>hu),multi:!0};let hu=(()=>{class n extends Ao{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=t=>uo}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Iv]),a.qOj]}),n})(),rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[di]}),n})(),Th=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$i,useValue:t.callSetDisabledState??xl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rt]}),n})();var Si=R(2011),Ch=R(4986),Et=R(9646),Ir=R(4976),gc=R(8189);function Cv(...n){return function oA(){return(0,gc.J)(1)}()((0,fn.D)(n,(0,Ys.yG)(n)))}var So=R(4482);function Lp(...n){const e=(0,Ys.yG)(n);return(0,So.e)((t,r)=>{(e?Cv(n,t,e):Cv(n,t)).subscribe(r)})}function Zm(){return(0,So.e)((n,e)=>{let t,r=!1;n.subscribe((0,jn.x)(e,o=>{const c=t;t=o,r&&e.next([c,o]),r=!0}))})}function Dh(n,e){return(0,So.e)(function Hm(n,e,t,r,o){return(c,d)=>{let m=t,T=e,D=0;c.subscribe((0,jn.x)(d,S=>{const k=D++;T=m?n(T,S,k):(m=!0,S),r&&d.next(T)},o&&(()=>{m&&d.next(T),d.complete()})))}}(n,e,arguments.length>=2,!0))}var Ah=R(1884);function Ts(n,e){return(0,So.e)((t,r)=>{let o=0;t.subscribe((0,jn.x)(r,c=>n.call(e,c,o++)&&r.next(c)))})}R(2644);var Qe,CS=R(3942),ge=R(5861),fu=R(6881),jm=R(4859),Jo=R(1877),nn=R(2090),Dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qo={},$m=$m||{},Vt=Dv||self;function Gm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Fp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Av="closure_uid_"+(1e9*Math.random()>>>0),aA=0;function mc(n,e,t){return n.call.apply(n.bind,arguments)}function Vp(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Mi(n,e,t){return(Mi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?mc:Vp).apply(null,arguments)}function bv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,c){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Ll(){this.s=this.s,this.o=this.o}Ll.prototype.s=!1,Ll.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sA(n){Object.prototype.hasOwnProperty.call(n,Av)&&n[Av]||(n[Av]=++aA)}(this)},Ll.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uA=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function qm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function eT(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Gm(r)){const o=n.length||0,c=r.length||0;n.length=o+c;for(let d=0;d<c;d++)n[o+d]=r[d]}else n.push(r)}}function xi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}xi.prototype.h=function(){this.defaultPrevented=!0};var cA=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",()=>{},e),Vt.removeEventListener("test",()=>{},e)}catch{}return n}();function Up(n){return/^[\s\xa0]*$/.test(n)}function bh(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function Jr(n){return-1!=bh().indexOf(n)}function Fl(n){return Fl[" "](n),n}Fl[" "]=function(){};var iT,n,nT=Jr("Opera"),Vl=Jr("Trident")||Jr("MSIE"),lA=Jr("Edge"),rT=lA||Vl,dA=Jr("Gecko")&&!(-1!=bh().toLowerCase().indexOf("webkit")&&!Jr("Edge"))&&!(Jr("Trident")||Jr("MSIE"))&&!Jr("Edge"),Sv=-1!=bh().toLowerCase().indexOf("webkit")&&!Jr("Edge");function zm(){var n=Vt.document;return n?n.documentMode:void 0}e:{var oT="",Km=(n=bh(),dA?/rv:([^\);]+)(\)|;)/.exec(n):lA?/Edge\/([\d\.]+)/.exec(n):Vl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Sv?/WebKit\/(\S+)/.exec(n):nT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Km&&(oT=Km?Km[1]:""),Vl){var Mv=zm();if(null!=Mv&&Mv>parseFloat(oT)){iT=String(Mv);break e}}iT=oT}var hA=Vt.document&&Vl&&(zm()||parseInt(iT,10))||void 0;function Sh(n,e){if(xi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(dA){e:{try{Fl(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Wm[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Sh.$.h.call(this)}}hi(Sh,xi);var Wm={2:"touch",3:"pen",4:"mouse"};Sh.prototype.h=function(){Sh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Bp="closure_listenable_"+(1e6*Math.random()|0),Nv=0;function fA(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++Nv,this.fa=this.ia=!1}function or(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function kv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Rv(n){const e={};for(const t in n)e[t]=n[t];return e}const Ov="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aT(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<Ov.length;c++)t=Ov[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ym(n){this.src=n,this.g={},this.h=0}function Pv(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=uA(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(or(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Lv(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.fa&&c.listener==e&&c.capture==!!t&&c.la==r)return o}return-1}Ym.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var d=Lv(n,e,r,o);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new fA(e,this.src,c,!!r,o)).ia=t,n.push(e)),e};var Jm="closure_lm_"+(1e6*Math.random()|0),uT={};function gA(n,e,t,r,o){if(r&&r.once)return xh(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)gA(n,e[c],t,r,o);return null}return t=e_(t),n&&n[Bp]?n.O(e,t,Fp(r)?!!r.capture:!!r,o):Mh(n,e,t,!1,r,o)}function Mh(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var d=Fp(o)?!!o.capture:!!o,m=Uv(n);if(m||(n[Jm]=m=new Ym(n)),(t=m.add(e,t,r,d,c)).proxy)return t;if(r=function pn(){const e=cT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cA||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Vv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xh(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)xh(n,e[c],t,r,o);return null}return t=e_(t),n&&n[Bp]?n.P(e,t,Fp(r)?!!r.capture:!!r,o):Mh(n,e,t,!0,r,o)}function Fv(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)Fv(n,e[c],t,r,o);else r=Fp(r)?!!r.capture:!!r,t=e_(t),n&&n[Bp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Lv(c=n.g[e],t,r,o))&&(or(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Uv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Lv(e,t,r,o)),(t=-1<n?e[n]:null)&&Qm(t))}function Qm(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Bp])Pv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Vv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Uv(e))?(Pv(t,n),0==t.h&&(t.src=null,e[Jm]=null)):or(n)}}}function Vv(n){return n in uT?uT[n]:uT[n]="on"+n}function cT(n,e){if(n.fa)n=!0;else{e=new Sh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Qm(n),n=t.call(r,e)}return n}function Uv(n){return(n=n[Jm])instanceof Ym?n:null}var Xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function e_(n){return"function"==typeof n?n:(n[Xm]||(n[Xm]=function(e){return n.handleEvent(e)}),n[Xm])}function Lr(){Ll.call(this),this.i=new Ym(this),this.S=this,this.J=null}function Ni(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new xi(e,n);else if(e instanceof xi)e.target=e.target||n;else{var o=e;aT(e=new xi(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var d=e.g=t[c];o=Nh(d,r,!0,e)&&o}if(o=Nh(d=e.g=n,r,!0,e)&&o,o=Nh(d,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=Nh(d=e.g=t[c],r,!1,e)&&o}function Nh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var d=e[c];if(d&&!d.fa&&d.capture==t){var m=d.listener,T=d.la||d.src;d.ia&&Pv(n.i,d),o=!1!==m.call(T,r)&&o}}return o&&!r.defaultPrevented}hi(Lr,Ll),Lr.prototype[Bp]=!0,Lr.prototype.removeEventListener=function(n,e,t,r){Fv(this,n,e,t,r)},Lr.prototype.N=function(){if(Lr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)or(t[r]);delete n.g[e],n.h--}}this.J=null},Lr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Lr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Bv=Vt.JSON.stringify;function lT(){var n=kh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _c=new class Zv{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mA,n=>n.reset());class mA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Hv(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function t_(n){Vt.setTimeout(()=>{throw n},0)}let Zp,Ul=!1,kh=new class dT{constructor(){this.h=this.g=null}add(e,t){const r=_c.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},yc=()=>{const n=Vt.Promise.resolve(void 0);Zp=()=>{n.then(jv)}};var jv=()=>{for(var n;n=lT();){try{n.h.call(n.g)}catch(t){t_(t)}var e=_c;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ul=!1};function Rh(n,e){Lr.call(this),this.h=n||1,this.g=e||Vt,this.j=Mi(this.qb,this),this.l=Date.now()}function $v(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Gv(n,e,t){if("function"==typeof n)t&&(n=Mi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Mi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function qv(n){n.g=Gv(()=>{n.g=null,n.i&&(n.i=!1,qv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hi(Rh,Lr),(Qe=Rh.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ni(this,"tick"),this.ga&&($v(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){Rh.$.N.call(this),$v(this),delete this.g};class Oh extends Ll{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qv(this)}N(){super.N(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hp(n){Ll.call(this),this.h=n,this.g={}}hi(Hp,Ll);var hT=[];function fT(n,e,t,r){Array.isArray(t)||(t&&(hT[0]=t.toString()),t=hT);for(var o=0;o<t.length;o++){var c=gA(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function n_(n){kv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Qm(e)},n),n.g={}}function jp(){this.g=!0}function vc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function bS(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var d=1;d<o.length;d++)o[d]=""}}}return Bv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Hp.prototype.N=function(){Hp.$.N.call(this),n_(this)},Hp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jp.prototype.Ea=function(){this.g=!1},jp.prototype.info=function(){};var Bl={},gT=null;function zv(){return gT=gT||new Lr}function yA(n){xi.call(this,Bl.Ta,n)}function wc(n){const e=zv();Ni(e,new yA(e))}function mT(n,e){xi.call(this,Bl.STAT_EVENT,n),this.stat=e}function fi(n){const e=zv();Ni(e,new mT(e,n))}function r_(n,e){xi.call(this,Bl.Ua,n),this.size=e}function pu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Bl.Ta="serverreachability",hi(yA,xi),Bl.STAT_EVENT="statevent",hi(mT,xi),Bl.Ua="timingevent",hi(r_,xi);var Ph={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},i_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zl(){}function Lh(){}Zl.prototype.h=null;var _T,Fh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gp(){xi.call(this,"d")}function Vh(){xi.call(this,"c")}function Uh(){}function Hl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Hp(this),this.P=vA,this.V=new Rh(n=rT?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kv}function Kv(){this.i=null,this.g="",this.h=!1}hi(Gp,xi),hi(Vh,xi),hi(Uh,Zl),Uh.prototype.g=function(){return new XMLHttpRequest},Uh.prototype.i=function(){return{}},_T=new Uh;var vA=45e3,Wv={},qp={};function o_(n,e,t){n.L=1,n.v=zp(Xo(e)),n.s=t,n.S=!0,yT(n,null)}function yT(n,e){n.G=Date.now(),jl(n),n.A=Xo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Xv(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Kv,n.g=FT(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Oh(Mi(n.Pa,n,n.g),n.O)),fT(n.U,n.g,"readystatechange",n.nb),e=n.I?Rv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),wc(),function _A(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var d="",m=c.split("&"),T=0;T<m.length;T++){var D=m[T].split("=");if(1<D.length){var S=D[0];D=D[1];var k=S.split("_");d=2<=k.length&&"type"==k[1]?d+(S+"=")+D+"&":d+(S+"=redacted&")}}else d=null;else d=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function vT(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function wA(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=EA(n,t),o==qp){4==e&&(n.o=4,fi(14),r=!1),vc(n.j,n.m,null,"[Incomplete Response]");break}if(o==Wv){n.o=4,fi(15),vc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}vc(n.j,n.m,o,null),Zh(n,o)}vT(n)&&o!=qp&&o!=Wv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),rg(e),e.M=!0,fi(11))):(vc(n.j,n.m,t,"[Invalid Chunked Response]"),gu(n),Bh(n))}function EA(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?qp:(t=Number(e.substring(t,r)),isNaN(t)?Wv:(r+=1)+t>e.length?qp:(e=e.slice(r,r+t),n.C=r+t,e))}function jl(n){n.Y=Date.now()+n.P,s_(n,n.P)}function s_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=pu(Mi(n.lb,n),e)}function a_(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Bh(n){0==n.l.H||n.J||OT(n.l,n)}function gu(n){a_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,$v(n.V),n_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Zh(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||l_(t.i,n)))if(!n.K&&l_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Kh(t),tg(t)}ng(t),fi(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=pu(Mi(t.ib,t),6e3));if(1>=AT(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Kl(t,11)}else if((n.K||t.g==n)&&Kh(t),!Up(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.V=D[0],D=D[1],2==t.H)if("c"==D[0]){t.K=D[1],t.pa=D[2];const S=D[3];null!=S&&(t.ra=S,t.l.info("VER="+t.ra));const k=D[4];null!=k&&(t.Ga=k,t.l.info("SVER="+t.Ga));const j=D[5];null!=j&&"number"==typeof j&&0<j&&(t.L=r=1.5*j,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const X=n.g;if(X){const _e=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_e){var c=r.i;c.g||-1==_e.indexOf("spdy")&&-1==_e.indexOf("quic")&&-1==_e.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Ec(c,c.h),c.h=null))}if(r.F){const Pe=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Pe&&(r.Da=Pe,$n(r.I,r.F,Pe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=LT(r,r.J?r.pa:null,r.Y),d.K){ua(r.i,d);var m=d,T=r.L;T&&m.setTimeout(T),m.B&&(a_(m),jl(m)),r.g=d}else p_(r);0<t.j.length&&zl(t)}else"stop"!=D[0]&&"close"!=D[0]||Kl(t,7);else 3==t.H&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Kl(t,7):Tc(t):"noop"!=D[0]&&t.h&&t.h.Aa(D),t.A=0)}wc()}catch{}}function ET(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Gm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function wT(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Gm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function TA(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Gm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}(Qe=Hl.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==Is(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const S=Is(this.g);var e=this.g.Ia();if(this.g.da(),!(3>S)&&(3!=S||rT||this.g&&(this.h.h||this.g.ja()||kT(this.g)))){this.J||4!=S||7==e||wc(),a_(this);var t=this.g.da();this.ca=t;t:if(vT(this)){var r=kT(this.g);n="";var o=r.length,c=4==Is(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gu(this),Bh(this);var d="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function pT(n,e,t,r,o,c,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+d})}(this.j,this.u,this.A,this.m,this.W,S,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,T=this.g;if((m=T.g?T.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Up(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,fi(12),gu(this),Bh(this);break e}vc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zh(this,t)}this.S?(wA(this,S,d),rT&&this.i&&3==S&&(fT(this.U,this.V,"tick",this.mb),this.V.start())):(vc(this.j,this.m,d,null),Zh(this,d)),4==S&&gu(this),this.i&&!this.J&&(4==S?OT(this.l,this):(this.i=!1,jl(this)))}else(function MA(n){const e={};n=(n.g&&2<=Is(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Up(n[r]))continue;var t=Hv(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const c=e[o]||[];e[o]=c,c.push(t)}!function pA(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.o=3,fi(12)):(this.o=0,fi(13)),gu(this),Bh(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=Is(this.g),e=this.g.ja();this.C<e.length&&(a_(this),wA(this,n,e),this.i&&4!=n&&jl(this))}},Qe.cancel=function(){this.J=!0,gu(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function AS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(wc(),fi(17)),gu(this),this.o=2,Bh(this)):s_(this,this.Y-n)};var Yv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $l(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof $l){this.h=n.h,u_(this,n.j),this.s=n.s,this.g=n.g,mu(this,n.m),this.l=n.l;var e=n.i,t=new c_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Hh(this,t),this.o=n.o}else n&&(e=String(n).match(Yv))?(this.h=!1,u_(this,e[1]||"",!0),this.s=Kp(e[2]||""),this.g=Kp(e[3]||"",!0),mu(this,e[4]),this.l=Kp(e[5]||"",!0),Hh(this,e[6]||"",!0),this.o=Kp(e[7]||"")):(this.h=!1,this.i=new c_(null,this.h))}function Xo(n){return new $l(n)}function u_(n,e,t){n.j=t?Kp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Hh(n,e,t){e instanceof c_?(n.i=e,function CA(n,e){e&&!n.j&&(aa(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Gl(this,r),Xv(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Wp(e,Yp)),n.i=new c_(e,n.h))}function $n(n,e,t){n.i.set(e,t)}function zp(n){return $n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Wp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,IA),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function IA(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}$l.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Wp(e,Jv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Wp(e,Jv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Wp(t,"/"==t.charAt(0)?Qv:TT,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Wp(t,IT)),n.join("")};var Jv=/[#\/\?@]/g,TT=/[#\?:]/g,Qv=/[#\?]/g,Yp=/[#\?@]/g,IT=/#/g;function c_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function aa(n){n.g||(n.g=new Map,n.h=0,n.i&&function SS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gl(n,e){aa(n),e=ql(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Jp(n,e){return aa(n),e=ql(n,e),n.g.has(e)}function Xv(n,e,t){Gl(n,e),0<t.length&&(n.i=null,n.g.set(ql(n,e),qm(t)),n.h+=t.length)}function ql(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function CT(n){this.l=n||AA,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ka&&Vt.g.Ka()&&Vt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=c_.prototype).add=function(n,e){aa(this),this.i=null,n=ql(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){aa(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Qe.ta=function(){aa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let c=0;c<o.length;c++)t.push(e[r])}return t},Qe.Z=function(n){aa(this);let e=[];if("string"==typeof n)Jp(this,n)&&(e=e.concat(this.g.get(ql(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return aa(this),this.i=null,Jp(this,n=ql(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const c=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var o=c;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var AA=10;function DT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AT(n){return n.h?1:n.g?n.g.size:0}function l_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Ec(n,e){n.g?n.g.add(e):n.h=e}function ua(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function e0(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return qm(n.i)}CT.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var MS=class{stringify(n){return Vt.JSON.stringify(n,void 0)}parse(n){return Vt.JSON.parse(n,void 0)}};function bA(){this.g=new MS}function xS(n,e,t){const r=t||"";try{ET(n,function(o,c){let d=o;Fp(o)&&(d=Bv(o)),e.push(r+c+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Qp(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function jh(n){this.l=n.fc||null,this.j=n.ob||!1}function t0(n,e){Lr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=d_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hi(jh,Zl),jh.prototype.g=function(){return new t0(this.l,this.j)},jh.prototype.i=function(n){return function(){return n}}({}),hi(t0,Lr);var d_=0;function Xp(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function $h(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Gh(n)}function Gh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=t0.prototype).open=function(n,e){if(this.readyState!=d_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Gh(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Vt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$h(this)),this.readyState=d_},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gh(this)),this.g&&(this.readyState=3,Gh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Xp(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$h(this):Gh(this),3==this.readyState&&Xp(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,$h(this))},Qe.Ya=function(n){this.g&&(this.response=n,$h(this))},Qe.ka=function(){this.g&&$h(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(t0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var bT=Vt.JSON.parse;function at(n){Lr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=n0,this.L=this.M=!1}hi(at,Lr);var n0="",ST=/^https?$/i,kS=["POST","PUT"];function r0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,MT(n),eg(n)}function MT(n){n.F||(n.F=!0,Ni(n,"complete"),Ni(n,"error"))}function xT(n){if(n.h&&typeof $m<"u"&&(!n.C[1]||4!=Is(n)||2!=n.da()))if(n.v&&4==Is(n))Gv(n.La,0,n);else if(Ni(n,"readystatechange"),4==Is(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var o=String(n.I).match(Yv)[1]||null;!o&&Vt.self&&Vt.self.location&&(o=Vt.self.location.protocol.slice(0,-1)),r=!ST.test(o?o.toLowerCase():"")}t=r}if(t)Ni(n,"complete"),Ni(n,"success");else{n.m=6;try{var c=2<Is(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",MT(n)}}finally{eg(n)}}}function eg(n,e){if(n.g){NT(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ni(n,"ready");try{t.onreadystatechange=r}catch{}}}function NT(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function Is(n){return n.g?n.g.readyState:0}function kT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case n0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function xA(n){let e="";return kv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function h_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=xA(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$n(n,e,t))}function qh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function _u(n){this.Ga=0,this.j=[],this.l=new jp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qh("baseRetryDelayMs",5e3,n),this.hb=qh("retryDelaySeedMs",1e4,n),this.eb=qh("forwardChannelMaxRetries",2,n),this.xa=qh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new CT(n&&n.concurrentRequestLimit),this.Ja=new bA,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Tc(n){if(RT(n),3==n.H){var e=n.W++,t=Xo(n.I);if($n(t,"SID",n.K),$n(t,"RID",e),$n(t,"TYPE","terminate"),yu(n,t),(e=new Hl(n,n.l,e)).L=2,e.v=zp(Xo(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon)try{t=Vt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=FT(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jl(e)}a0(n)}function tg(n){n.g&&(rg(n),n.g.cancel(),n.g=null)}function RT(n){tg(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),Kh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function zl(n){if(!DT(n.i)&&!n.m){n.m=!0;var e=n.Na;Zp||yc(),Ul||(Zp(),Ul=!0),kh.add(e,n),n.C=0}}function f_(n,e){var t;t=e?e.m:n.W++;const r=Xo(n.I);$n(r,"SID",n.K),$n(r,"RID",t),$n(r,"AID",n.V),yu(n,r),n.o&&n.s&&h_(r,n.o,n.s),t=new Hl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=o0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ec(n.i,t),o_(t,r,e)}function yu(n,e){n.na&&kv(n.na,function(t,r){$n(e,r,t)}),n.h&&ET({},function(t,r){$n(e,r,t)})}function o0(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Mi(n.h.Va,n.h,n):null;e:{var o=n.j;let c=-1;for(;;){const d=["count="+t];-1==c?0<t?(c=o[0].g,d.push("ofs="+c)):c=0:d.push("ofs="+c);let m=!0;for(let T=0;T<t;T++){let D=o[T].g;const S=o[T].map;if(D-=c,0>D)c=Math.max(0,o[T].g-100),m=!1;else try{xS(S,d,"req"+D+"_")}catch{r&&r(S)}}if(m){r=d.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function p_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Zp||yc(),Ul||(Zp(),Ul=!0),kh.add(e,n),n.A=0}}function ng(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=pu(Mi(n.Ma,n),PT(n,n.A)),n.A++,0))}function rg(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function s0(n){n.g=new Hl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Xo(n.wa);$n(e,"RID","rpc"),$n(e,"SID",n.K),$n(e,"AID",n.V),$n(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&$n(e,"TO",n.qa),$n(e,"TYPE","xmlhttp"),yu(n,e),n.o&&n.s&&h_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=zp(Xo(e)),t.s=null,t.S=!0,yT(t,n)}function Kh(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function OT(n,e){var t=null;if(n.g==e){Kh(n),rg(n),n.g=null;var r=2}else{if(!l_(n.i,e))return;t=e.F,ua(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;Ni(r=zv(),new r_(r,t)),zl(n)}else p_(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function zh(n,e){return!(AT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=pu(Mi(n.Na,n,e),PT(n,n.C)),n.C++,0)))}(n,e)||2==r&&ng(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Kl(n,5);break;case 4:Kl(n,10);break;case 3:Kl(n,6);break;default:Kl(n,2)}}function PT(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Kl(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Mi(n.pb,n);t||(t=new $l("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||u_(t,"https"),zp(t)),function NS(n,e){const t=new jp;if(Vt.Image){const r=new Image;r.onload=bv(Qp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bv(Qp,t,r,"TestLoadImage: error",!1,e),r.onabort=bv(Qp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bv(Qp,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fi(2);n.H=0,n.h&&n.h.za(e),a0(n),RT(n)}function a0(n){if(n.H=0,n.ma=[],n.h){const e=e0(n.i);(0!=e.length||0!=n.j.length)&&(eT(n.ma,e),eT(n.ma,n.j),n.i.i.length=0,qm(n.j),n.j.length=0),n.h.ya()}}function LT(n,e,t){var r=t instanceof $l?Xo(t):new $l(t);if(""!=r.g)e&&(r.g=e+"."+r.g),mu(r,r.m);else{var o=Vt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var c=new $l(null);r&&u_(c,r),e&&(c.g=e),o&&mu(c,o),t&&(c.l=t),r=c}return e=n.Da,(t=n.F)&&e&&$n(r,t,e),$n(r,"VER",n.ra),yu(n,r),r}function FT(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(t&&n.Ha&&!n.va?new jh({ob:!0}):n.va)).Oa(n.J),e}function VT(){}function g_(){if(Vl&&!(10<=Number(hA)))throw Error("Environmental error: no available transport.")}function lo(n,e){Lr.call(this),this.g=new _u(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Up(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Up(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wh(this)}function u0(n){Gp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function UT(){Vh.call(this),this.status=1}function Wh(n){this.g=n}function Cs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function c0(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var c=n.g[3],d=(e=n.g[0])+(c^(t=n.g[1])&((o=n.g[2])^c))+r[0]+3614090360&4294967295;d=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=(t=(o=(c=(e=t+(d<<7&4294967295|d>>>25))+((d=c+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^c&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(c^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(o^c))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=c+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^c&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(c^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(o^c))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=c+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^c&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(c^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(c^t&(o^c))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=c+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^c&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(c^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(o^c&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(c^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(o^c))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^c&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(c^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(o^c))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^c&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(c^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(o^c))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^c&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=c+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(c^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(c^e&(o^c))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^o^c)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=o+(c^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^c^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^c)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=o+(c^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^c^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^c)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=o+(c^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^c^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^c)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=c+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=o+(c^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^c^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(o^(t|~c))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(c|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~c))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(c|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~c))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(c|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(c^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((c=(e=t+((d=e+(o^(t|~c))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=c+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((o=c+((d=o+(e^(c|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+c&4294967295}function Dn(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var c=0|n[o];r&&c==e||(t[o]=c,r=!1)}this.g=t}(Qe=at.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():_T.g(),this.C=function $p(n){return n.h||(n.h=n.i())}(this.u?this.u:_T),this.g.onreadystatechange=Mi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(c){return void r0(this,c)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const c of r.keys())t.set(c,r.get(c))}r=Array.from(t.keys()).find(c=>"content-type"==c.toLowerCase()),o=Vt.FormData&&n instanceof Vt.FormData,!(0<=uA(kS,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,d]of t)this.g.setRequestHeader(c,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NT(this),0<this.B&&((this.L=function SA(n){return Vl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mi(this.ua,this)):this.A=Gv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){r0(this,c)}},Qe.ua=function(){typeof $m<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ni(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ni(this,"complete"),Ni(this,"abort"),eg(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eg(this,!0)),at.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?xT(this):this.kb())},Qe.kb=function(){xT(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<Is(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),bT(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=_u.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Hl(this,this.l,n);let c=this.s;if(this.U&&(c?(c=Rv(c),aT(c,this.U)):c=this.U),null!==this.o||this.O||(o.I=c,c=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=o0(this,o,e),$n(t=Xo(this.I),"RID",n),$n(t,"CVER",22),this.F&&$n(t,"X-HTTP-Session-Id",this.F),yu(this,t),c&&(this.O?e="headers="+encodeURIComponent(String(xA(c)))+"&"+e:this.o&&h_(t,this.o,c)),Ec(this.i,o),this.bb&&$n(t,"TYPE","init"),this.P?($n(t,"$req",e),$n(t,"SID","null"),o.aa=!0,o_(o,t,null)):o_(o,t,e),this.H=2}}else 3==this.H&&(n?f_(this,n):0==this.j.length||DT(this.i)||f_(this))},Qe.Ma=function(){if(this.u=null,s0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=pu(Mi(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fi(10),tg(this),s0(this))},Qe.ib=function(){null!=this.v&&(this.v=null,tg(this),ng(this),fi(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),fi(2)):(this.l.info("Failed to ping google.com"),fi(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=VT.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},g_.prototype.g=function(n,e){return new lo(n,e)},hi(lo,Lr),lo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;fi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=LT(n,null,n.Y),zl(n)},lo.prototype.close=function(){Tc(this.g)},lo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Bv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&zl(e)},lo.prototype.N=function(){this.g.h=null,delete this.j,Tc(this.g),delete this.g,lo.$.N.call(this)},hi(u0,Gp),hi(UT,Vh),hi(Wh,VT),Wh.prototype.Ba=function(){Ni(this.g,"a")},Wh.prototype.Aa=function(n){Ni(this.g,new u0(n))},Wh.prototype.za=function(n){Ni(this.g,new UT)},Wh.prototype.ya=function(){Ni(this.g,"b")},hi(Cs,function Mo(){this.blockSize=-1}),Cs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cs.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,c=0;c<e;){if(0==o)for(;c<=t;)c0(this,n,c),c+=this.blockSize;if("string"==typeof n){for(;c<e;)if(r[o++]=n.charCodeAt(c++),o==this.blockSize){c0(this,r),o=0;break}}else for(;c<e;)if(r[o++]=n[c++],o==this.blockSize){c0(this,r),o=0;break}}this.h=o,this.i+=e},Cs.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var l0={};function m_(n){return-128<=n&&128>n?function tT(n,e){var t=l0;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Dn([0|e],0>e?-1:0)}):new Dn([0|n],0>n?-1:0)}function ca(n){if(isNaN(n)||!isFinite(n))return Wl;if(0>n)return pi(ca(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=d0;return new Dn(e,0)}var d0=4294967296,Wl=m_(0),h0=m_(1),ZT=m_(16777216);function Ds(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function es(n){return-1==n.h}function pi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Dn(t,~n.h).add(h0)}function __(n,e){return n.add(pi(e))}function y_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function ig(n,e){this.g=n,this.h=e}function xo(n,e){if(Ds(e))throw Error("division by zero");if(Ds(n))return new ig(Wl,Wl);if(es(n))return e=xo(pi(n),e),new ig(pi(e.g),pi(e.h));if(es(e))return e=xo(n,pi(e)),new ig(pi(e.g),e.h);if(30<n.g.length){if(es(n)||es(e))throw Error("slowDivide_ only works with positive integers.");for(var t=h0,r=e;0>=r.X(n);)t=v_(t),r=v_(r);var o=Yh(t,1),c=Yh(r,1);for(r=Yh(r,2),t=Yh(t,2);!Ds(r);){var d=c.add(r);0>=d.X(n)&&(o=o.add(t),c=d),r=Yh(r,1),t=Yh(t,1)}return e=__(n,o.R(e)),new ig(o,e)}for(o=Wl;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(c=ca(t)).R(e);es(d)||0<d.X(n);)d=(c=ca(t-=r)).R(e);Ds(c)&&(c=h0),o=o.add(c),n=__(n,d)}return new ig(o,n)}function v_(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Dn(t,n.h)}function Yh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],c=0;c<r;c++)o[c]=0<e?n.D(c+t)>>>e|n.D(c+t+1)<<32-e:n.D(c+t);return new Dn(o,n.h)}(Qe=Dn.prototype).ea=function(){if(es(this))return-pi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:d0+r)*e,e*=d0}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ds(this))return"0";if(es(this))return"-"+pi(this).toString(n);for(var e=ca(Math.pow(n,6)),t=this,r="";;){var o=xo(t,e).g,c=((0<(t=__(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ds(t=o))return c+r;for(;6>c.length;)c="0"+c;r=c+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return es(n=__(this,n))?-1:Ds(n)?0:1},Qe.abs=function(){return es(this)?pi(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var c=r+(65535&this.D(o))+(65535&n.D(o)),d=(c>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=d>>>16,t[o]=(d&=65535)<<16|(c&=65535)}return new Dn(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(Ds(this)||Ds(n))return Wl;if(es(this))return es(n)?pi(this).R(pi(n)):pi(pi(this).R(n));if(es(n))return pi(this.R(pi(n)));if(0>this.X(ZT)&&0>n.X(ZT))return ca(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var c=this.D(r)>>>16,d=65535&this.D(r),m=n.D(o)>>>16,T=65535&n.D(o);t[2*r+2*o]+=d*T,y_(t,2*r+2*o),t[2*r+2*o+1]+=c*T,y_(t,2*r+2*o+1),t[2*r+2*o+1]+=d*m,y_(t,2*r+2*o+1),t[2*r+2*o+2]+=c*m,y_(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Dn(t,0)},Qe.gb=function(n){return xo(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Dn(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Dn(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Dn(t,this.h^n.h)},g_.prototype.createWebChannel=g_.prototype.g,lo.prototype.send=lo.prototype.u,lo.prototype.open=lo.prototype.m,lo.prototype.close=lo.prototype.close,Ph.NO_ERROR=0,Ph.TIMEOUT=8,Ph.HTTP_ERROR=6,i_.COMPLETE="complete",Lh.EventType=Fh,Fh.OPEN="a",Fh.CLOSE="b",Fh.ERROR="c",Fh.MESSAGE="d",Lr.prototype.listen=Lr.prototype.O,at.prototype.listenOnce=at.prototype.P,at.prototype.getLastError=at.prototype.Sa,at.prototype.getLastErrorCode=at.prototype.Ia,at.prototype.getStatus=at.prototype.da,at.prototype.getResponseJson=at.prototype.Wa,at.prototype.getResponseText=at.prototype.ja,at.prototype.send=at.prototype.ha,at.prototype.setWithCredentials=at.prototype.Oa,Cs.prototype.digest=Cs.prototype.l,Cs.prototype.reset=Cs.prototype.reset,Cs.prototype.update=Cs.prototype.j,Dn.prototype.add=Dn.prototype.add,Dn.prototype.multiply=Dn.prototype.R,Dn.prototype.modulo=Dn.prototype.gb,Dn.prototype.compare=Dn.prototype.X,Dn.prototype.toNumber=Dn.prototype.ea,Dn.prototype.toString=Dn.prototype.toString,Dn.prototype.getBits=Dn.prototype.D,Dn.fromNumber=ca,Dn.fromString=function BT(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return pi(BT(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ca(Math.pow(e,8)),r=Wl,o=0;o<n.length;o+=8){var c=Math.min(8,n.length-o),d=parseInt(n.substring(o,o+c),e);8>c?(c=ca(Math.pow(e,c)),r=r.R(c).add(ca(d))):r=(r=r.R(t)).add(ca(d))}return r};var HT=Qo.createWebChannelTransport=function(){return new g_},NA=Qo.getStatEventTarget=function(){return zv()},w_=Qo.ErrorCode=Ph,jT=Qo.EventType=i_,E_=Qo.Event=Bl,T_=Qo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},RS=Qo.FetchXmlHttpFactory=jh,og=Qo.WebChannel=Lh,$T=Qo.XhrIo=at,GT=Qo.Md5=Cs,Yl=Qo.Integer=Dn;const I_="@firebase/firestore";class Pn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pn.UNAUTHENTICATED=new Pn(null),Pn.GOOGLE_CREDENTIALS=new Pn("google-credentials-uid"),Pn.FIRST_PARTY=new Pn("first-party-uid"),Pn.MOCK_USER=new Pn("mock-user");let Jh="9.23.0";const Ic=new Jo.Yd("@firebase/firestore");function sg(){return Ic.logLevel}function Oe(n,...e){if(Ic.logLevel<=Jo.in.DEBUG){const t=e.map(C_);Ic.debug(`Firestore (${Jh}): ${n}`,...t)}}function Cr(n,...e){if(Ic.logLevel<=Jo.in.ERROR){const t=e.map(C_);Ic.error(`Firestore (${Jh}): ${n}`,...t)}}function As(n,...e){if(Ic.logLevel<=Jo.in.WARN){const t=e.map(C_);Ic.warn(`Firestore (${Jh}): ${n}`,...t)}}function C_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${Jh}) INTERNAL ASSERTION FAILED: `+n;throw Cr(e),new Error(e)}function ct(n,e){n||ot()}function We(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends nn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class qT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pn.UNAUTHENTICATED))}shutdown(){}}class OA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f0{constructor(e){this.t=e,this.currentUser=Pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let d=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new lr,e.enqueueRetryable(()=>c(this.currentUser))};const m=()=>{const D=d;e.enqueueRetryable((0,ge.Z)(function*(){yield D.promise,yield c(r.currentUser)}))},T=D=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>T(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?T(D):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new lr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct("string"==typeof r.accessToken),new qT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ct(null===e||"string"==typeof e),new Pn(e)}}class PA{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Pn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ug{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new PA(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KT{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=c=>{null!=c.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.T;return this.T=c.token,Oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.I.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.I.getImmediate({optional:!0});c?o(c):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ct("string"==typeof t.token),this.T=t.token,new zT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function FA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class WT{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=FA(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[c]%62))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function Qh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function VA(n){return n+"\0"}class Xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Xn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Xn(0,0))}static max(){return new yt(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cg{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===cg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),d=t.get(o);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class on extends cg{construct(e,t,r){return new on(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new on(t)}static emptyPath(){return new on([])}}const UA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends cg{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return UA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Ie(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Ie(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const T=e[o+1];if("\\"!==T&&"."!==T&&"`"!==T)throw new Ie(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=T,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new Ie(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(on.fromString(e))}static fromName(e){return new Je(on.fromString(e).popFirst(5))}static empty(){return new Je(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===on.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new on(e.slice()))}}class lg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function dg(n){return n.fields.find(e=>2===e.kind)}function Jl(n){return n.fields.filter(e=>2!==e.kind)}lg.UNKNOWN_ID=-1;class D_{constructor(e,t){this.fieldPath=e,this.kind=t}}class hg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new hg(0,No.min())}}function YT(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=yt.fromTimestamp(1e9===r?new Xn(t+1,0):new Xn(t,r));return new No(o,Je.empty(),e)}function JT(n){return new No(n.readTime,n.key,-1)}class No{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new No(yt.min(),Je.empty(),-1)}static max(){return new No(yt.max(),Je.empty(),-1)}}function g0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:xt(n.largestBatchId,e.largestBatchId))}const m0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Cc(n){return QT.apply(this,arguments)}function QT(){return QT=(0,ge.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==m0)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),QT.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&t()},T=>r(T))}),d=!0,c===o&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(o=>o?re.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}static mapArray(e,t){return new re((r,o)=>{const c=e.length,d=new Array(c);let m=0;for(let T=0;T<c;T++){const D=T;t(e[D]).next(S=>{d[D]=S,++m,m===c&&r(d)},S=>o(S))}})}static doWhile(e,t){return new re((r,o)=>{const c=()=>{!0===e()?t().next(()=>{c()},o):r()};c()})}}class y0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new lr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new fg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=Qr(r.target.error);this.v.reject(new fg(e,o))}}static open(e,t,r,o){try{return new y0(t,e.transaction(o,r))}catch(c){throw new fg(t,c)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new HA(t)}}class ho{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===ho.S((0,nn.z$)())&&Cr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),ki(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,nn.hl)())return!1;if(ho.C())return!0;const e=(0,nn.z$)(),t=ho.S(e),r=0<t&&t<10,o=ho.N(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ge.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=d=>{r(d.target.result)},c.onblocked=()=>{o(new fg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Ie(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Ie(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new fg(e,m))},c.onupgradeneeded=d=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.O(d.target.result,c.transaction,d.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,ge.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{c.db=yield c.$(e);const T=y0.open(c.db,e,d?"readonly":"readwrite",r),D=o(T).next(S=>(T.P(),S)).catch(S=>(T.abort(S),re.reject(S))).toPromise();return D.catch(()=>{}),yield T.R,D}catch(T){const D=T,S="FirebaseError"!==D.name&&m<3;if(Oe("SimpleDb","Transaction failed with error:",D.message,"Retrying:",S),c.close(),!S)return Promise.reject(D)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ZA{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ki(this.L.delete())}}class fg extends Ie{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function la(n){return"IndexedDbTransactionError"===n.name}class HA{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ki(r)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),ki(this.store.add(e))}get(e){return ki(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),ki(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),ki(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),c=[];return this.W(o,(d,m)=>{c.push(m)}).next(()=>c)}{const o=this.store.getAll(r.range);return new re((c,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{c(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new re((o,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}J(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(c,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new re((r,o)=>{t.onerror=c=>{const d=Qr(c.target.error);o(d)},t.onsuccess=c=>{const d=c.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new re((o,c)=>{e.onerror=d=>{c(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const T=new ZA(m),D=t(m.primaryKey,m.value,T);if(D instanceof re){const S=D.catch(k=>(T.done(),re.reject(k)));r.push(S)}T.isDone?o():null===T.K?m.continue():m.continue(T.K)}}).next(()=>re.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ki(n){return new re((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Qr(r.target.error);t(o)}})}let Xh=!1;function Qr(n){const e=ho.S((0,nn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xh||(Xh=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ql{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){t.task=null;try{Oe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){la(r)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Cc(r)}yield t.et(6e4)}))}}class A_{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ge.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,c=!0;return re.doWhile(()=>!0===c&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Oe("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,o).next(m=>{o-=m,r.add(d)});c=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(c=>{const d=c.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(o,c)).next(m=>(Oe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,c)=>{const d=JT(c);g0(d,r)>0&&(r=d)}),new No(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let er=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Xl(n){return null==n}function da(n){return 0===n&&1/n==-1/0}function ed(n){return"number"==typeof n&&Number.isInteger(n)&&!da(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Dr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=td(e)),e=ef(n.get(t),e);return td(e)}function ef(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function td(n){return n+"\x01\x01"}function zi(n){const e=n.length;if(ct(e>=2),2===e)return ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),on.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const d=n.indexOf("\x01",c);switch((d<0||d>t)&&ot(),n.charAt(d+1)){case"\x01":const m=n.substring(c,d);let T;0===o.length?T=m:(o+=m,T=o,o=""),r.push(T);break;case"\x10":o+=n.substring(c,d),o+="\0";break;case"\x11":o+=n.substring(c,d+1);break;default:ot()}c=d+2}return new on(r)}const nd=["userId","batchId"];function vu(n,e){return[n,Dr(e)]}function rd(n,e,t){return[n,Dr(e),t]}const XT={},eI=["prefixPath","collectionGroup","readTime","documentId"],tI=["prefixPath","collectionGroup","documentId"],nI=["collectionGroup","readTime","prefixPath","documentId"],rI=["canonicalId","targetId"],iI=["targetId","path"],oI=["path","targetId"],sI=["collectionId","parent"],aI=["indexId","uid"],v0=["uid","sequenceNumber"],jA=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OS=["indexId","uid","orderedDocumentKey"],PS=["userId","collectionPath","documentId"],$A=["userId","collectionPath","largestBatchId"],GA=["userId","collectionGroup","largestBatchId"],qA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zA=[...qA,"documentOverlays"],KA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],uI=KA,WA=[...uI,"indexConfiguration","indexState","indexEntries"];class w0 extends _0{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=We(n);return ho.M(t.ht,e)}function tf(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ha(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function pg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Sn{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new Sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new Sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=r??Xr.RED,this.left=o??Xr.EMPTY,this.right=c??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new Xr(e??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nf(this.data.getIterator())}getIteratorFrom(e){return new nf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gn(this.comparator);return t.data=e,t}}class nf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rf(n){return n.hasNext()?n.getNext():void 0}class fo{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new fo([])}unionWith(e){let t=new Gn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cI("Invalid base64 string: "+o):o}}(e);return new Ar(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new Ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const b_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bs(n){if(ct(!!n),"string"==typeof n){let e=0;const t=b_.exec(n);if(ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:br(n.seconds),nanos:br(n.nanos)}}function br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function wu(n){return"string"==typeof n?Ar.fromBase64String(n):Ar.fromUint8Array(n)}function S_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sf(n){const e=n.mapValue.fields.__previous_value__;return S_(e)?sf(e):e}function gg(n){const e=bs(n.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}class lI{constructor(e,t,r,o,c,d,m,T,D){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=T,this.useFetchStreams=D}}class Ac{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}const bc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},mg={nullValue:"NULL_VALUE"};function Eu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?S_(n)?4:hI(n)?9007199254740991:10:ot()}function Ss(n,e){if(n===e)return!0;const t=Eu(n);if(t!==Eu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gg(n).isEqual(gg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=bs(r.timestampValue),d=bs(o.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,wu(n.bytesValue).isEqual(wu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return br(r.geoPointValue.latitude)===br(o.geoPointValue.latitude)&&br(r.geoPointValue.longitude)===br(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return br(r.integerValue)===br(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=br(r.doubleValue),d=br(o.doubleValue);return c===d?da(c)===da(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Qh(n.arrayValue.values||[],e.arrayValue.values||[],Ss);case 10:return function(r,o){const c=r.mapValue.fields||{},d=o.mapValue.fields||{};if(tf(c)!==tf(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(void 0===d[m]||!Ss(c[m],d[m])))return!1;return!0}(n,e);default:return ot()}var o}function _g(n,e){return void 0!==(n.values||[]).find(t=>Ss(t,e))}function Sc(n,e){if(n===e)return 0;const t=Eu(n),r=Eu(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return function(o,c){const d=br(o.integerValue||o.doubleValue),m=br(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return dI(n.timestampValue,e.timestampValue);case 4:return dI(gg(n),gg(e));case 5:return xt(n.stringValue,e.stringValue);case 6:return function(o,c){const d=wu(o),m=wu(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const d=o.split("/"),m=c.split("/");for(let T=0;T<d.length&&T<m.length;T++){const D=xt(d[T],m[T]);if(0!==D)return D}return xt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const d=xt(br(o.latitude),br(c.latitude));return 0!==d?d:xt(br(o.longitude),br(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const d=o.values||[],m=c.values||[];for(let T=0;T<d.length&&T<m.length;++T){const D=Sc(d[T],m[T]);if(D)return D}return xt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){if(o===bc.mapValue&&c===bc.mapValue)return 0;if(o===bc.mapValue)return 1;if(c===bc.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),T=c.fields||{},D=Object.keys(T);m.sort(),D.sort();for(let S=0;S<m.length&&S<D.length;++S){const k=xt(m[S],D[S]);if(0!==k)return k;const j=Sc(d[m[S]],T[D[S]]);if(0!==j)return j}return xt(m.length,D.length)}(n.mapValue,e.mapValue);default:throw ot()}}function dI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return xt(n,e);const t=bs(n),r=bs(e),o=xt(t.seconds,r.seconds);return 0!==o?o:xt(t.nanos,r.nanos)}function af(n){return yg(n)}function yg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=bs(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?wu(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const d of r.values||[])c?c=!1:o+=",",o+=yg(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",d=!0;for(const m of o)d?d=!1:c+=",",c+=`${m}:${yg(r.fields[m])}`;return c+"}"}(n.mapValue):ot();var e}function id(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cf(n){return!!n&&"integerValue"in n}function Mc(n){return!!n&&"arrayValue"in n}function M_(n){return!!n&&"nullValue"in n}function E0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function x_(n){return!!n&&"mapValue"in n}function vg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ha(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function T0(n){return"nullValue"in n?mg:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?id(Ac.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function I0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?id(Ac.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?bc:ot()}function C0(n,e){const t=Sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function D0(n,e){const t=Sc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!x_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vg(t)}setAll(e){let t=dr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const T=this.getFieldsMap(t);this.applyChanges(T,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=vg(d):o.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());x_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ss(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];x_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ha(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new gi(vg(this.value))}}function fI(n){const e=[];return ha(n.fields,(t,r)=>{const o=new dr([t]);if(x_(r)){const c=fI(r.mapValue).fields;if(0===c.length)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new fo(e)}class Ln{constructor(e,t,r,o,c,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Ln(e,0,yt.min(),yt.min(),yt.min(),gi.empty(),0)}static newFoundDocument(e,t,r,o){return new Ln(e,1,t,yt.min(),r,o,0)}static newNoDocument(e,t){return new Ln(e,2,t,yt.min(),yt.min(),gi.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,yt.min(),yt.min(),gi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fa{constructor(e,t){this.position=e,this.inclusive=t}}function A0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(r=c.field.isKeyField()?Je.comparator(Je.fromName(d.referenceValue),t.key):Sc(d,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function N_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ss(n.position[t],e.position[t]))return!1;return!0}class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function JA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class b0{}class Xt extends b0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new gI(e,t,r):"array-contains"===t?new yI(e,r):"in"===t?new R0(e,r):"not-in"===t?new O_(e,r):"array-contains-any"===t?new xc(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new mI(e,r):new _I(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Sc(t,this.value)):null!==t&&Eu(this.value)===Eu(t)&&this.matchesComparison(Sc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends b0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new yn(e,t)}matches(e){return sd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function sd(n){return"and"===n.op}function S0(n){return"or"===n.op}function M0(n){return pI(n)&&sd(n)}function pI(n){for(const e of n.filters)if(e instanceof yn)return!1;return!0}function k_(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+af(n.value);if(M0(n))return n.filters.map(e=>k_(e)).join(",");{const e=n.filters.map(t=>k_(t)).join(",");return`${n.op}(${e})`}}function R_(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&Ss(t.value,r.value)):n instanceof yn?function(t,r){return r instanceof yn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,c,d)=>o&&R_(c,r.filters[d]),!0)}(n,e):void ot();var t,r}function x0(n,e){const t=n.filters.concat(e);return yn.create(t,n.op)}function N0(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${af(e.value)}`:n instanceof yn?function(e){return e.op.toString()+" {"+e.getFilters().map(N0).join(" ,")+"}"}(n):"Filter";var e}class gI extends Xt{constructor(e,t,r){super(e,t,r),this.key=Je.fromName(r.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class mI extends Xt{constructor(e,t){super(e,"in",t),this.keys=k0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _I extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=k0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function k0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Je.fromName(r.referenceValue))}class yI extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Mc(t)&&_g(t.arrayValue,this.value)}}class R0 extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&_g(this.value.arrayValue,t)}}class O_ extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(_g(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!_g(this.value.arrayValue,t)}}class xc extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Mc(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>_g(this.value.arrayValue,r))}}class QA{constructor(e,t=null,r=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.dt=null}}function O0(n,e=null,t=[],r=[],o=null,c=null,d=null){return new QA(n,e,t,r,o,c,d)}function Tu(n){const e=We(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>k_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Xl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>af(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>af(r)).join(",")),e.dt=t}return e.dt}function Ms(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!JA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!R_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!N_(n.startAt,e.startAt)&&N_(n.endAt,e.endAt)}function lf(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function P_(n,e){return n.filters.filter(t=>t instanceof Xt&&t.field.isEqual(e))}function L_(n,e,t){let r=mg,o=!0;for(const c of P_(n,e)){let d=mg,m=!0;switch(c.op){case"<":case"<=":d=T0(c.value);break;case"==":case"in":case">=":d=c.value;break;case">":d=c.value,m=!1;break;case"!=":case"not-in":d=mg}C0({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];C0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function XA(n,e,t){let r=bc,o=!0;for(const c of P_(n,e)){let d=bc,m=!0;switch(c.op){case">=":case">":d=I0(c.value),m=!1;break;case"==":case"in":case"<=":d=c.value;break;case"<":d=c.value,m=!1;break;case"!=":case"not-in":d=bc}D0({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let c=0;c<n.orderBy.length;++c)if(n.orderBy[c].field.isEqual(e)){const d=t.position[c];D0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Nc{constructor(e,t=null,r=[],o=[],c=null,d="F",m=null,T=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=T,this.wt=null,this._t=null}}function vI(n,e,t,r,o,c,d,m){return new Nc(n,e,t,r,o,c,d,m)}function df(n){return new Nc(n)}function P0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function L0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function hr(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function F_(n){return null!==n.collectionGroup}function ad(n){const e=We(n);if(null===e.wt){e.wt=[];const t=hr(e),r=L0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new od(t)),e.wt.push(new od(dr.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.wt.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new od(dr.keyField(),c))}}}return e.wt}function Ki(n){const e=We(n);if(!e._t)if("F"===e.limitType)e._t=O0(e.path,e.collectionGroup,ad(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of ad(e))t.push(new od(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new fa(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new fa(e.startAt.position,e.startAt.inclusive):null;e._t=O0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function V_(n,e){e.getFirstInequalityField(),hr(n);const t=n.filters.concat([e]);return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function U_(n,e,t){return new Nc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return Ms(Ki(n),Ki(e))&&n.limitType===e.limitType}function F0(n){return`${Tu(Ki(n))}|lt:${n.limitType}`}function kc(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>N0(r)).join(", ")}]`),Xl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>af(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>af(r)).join(",")),`Target(${t})`}(Ki(n))}; limitType=${n.limitType})`}function wg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Je.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of ad(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,c,d){const m=A0(o,c,d);return o.inclusive?m<=0:m<0}(t.startAt,ad(t),r)||t.endAt&&!function(o,c,d){const m=A0(o,c,d);return o.inclusive?m>=0:m>0}(t.endAt,ad(t),r)));var t,r}function wI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function V0(n){return(e,t)=>{let r=!1;for(const o of ad(n)){const c=eb(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function eb(n,e,t){const r=n.field.isKeyField()?Je.comparator(e.key,t.key):function(o,c,d){const m=c.data.field(o),T=d.data.field(o);return null!==m&&null!==T?Sc(m,T):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return pg(this.inner)}size(){return this.innerSize}}const LS=new Sn(Je.comparator);function Wi(){return LS}const B_=new Sn(Je.comparator);function po(...n){let e=B_;for(const t of n)e=e.insert(t.key,t);return e}function EI(n){let e=B_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ga(){return Yi()}function xs(){return Yi()}function Yi(){return new pa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ns=new Sn(Je.comparator),TI=new Gn(Je.comparator);function Ht(...n){let e=TI;for(const t of n)e=e.add(t);return e}const tb=new Gn(xt);function U0(){return tb}function II(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:da(e)?"-0":e}}function CI(n){return{integerValue:""+n}}function Z_(n,e){return ed(e)?CI(e):II(n,e)}class Rc{constructor(){this._=void 0}}function nb(n,e,t){return n instanceof ff?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&S_(o)&&(o=sf(o)),o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof Oc?B0(n,e):n instanceof ma?bI(n,e):function(r,o){const c=AI(r,o),d=Z0(c)+Z0(r.gt);return cf(c)&&cf(r.gt)?CI(d):II(r.serializer,d)}(n,e)}function DI(n,e,t){return n instanceof Oc?B0(n,e):n instanceof ma?bI(n,e):t}function AI(n,e){return n instanceof ud?cf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ff extends Rc{}class Oc extends Rc{constructor(e){super(),this.elements=e}}function B0(n,e){const t=H0(e);for(const r of n.elements)t.some(o=>Ss(o,r))||t.push(r);return{arrayValue:{values:t}}}class ma extends Rc{constructor(e){super(),this.elements=e}}function bI(n,e){let t=H0(e);for(const r of n.elements)t=t.filter(o=>!Ss(o,r));return{arrayValue:{values:t}}}class ud extends Rc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Z0(n){return br(n.integerValue||n.doubleValue)}function H0(n){return Mc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Eg{constructor(e,t){this.field=e,this.transform=t}}class j0{constructor(e,t){this.version=e,this.transformResults=t}}class Mn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ig{}function H_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new gf(n.key,Mn.none()):new cd(n.key,n.data,Mn.none());{const t=n.data,r=gi.empty();let o=new Gn(dr.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);null===d&&c.length>1&&(c=c.popLast(),d=t.field(c)),null===d?r.delete(c):r.set(c,d),o=o.add(c)}return new Iu(n.key,r,new fo(o.toArray()),Mn.none())}}function SI(n,e,t){n instanceof cd?function(r,o,c){const d=r.value.clone(),m=NI(r.fieldTransforms,o,c.transformResults);d.setAll(m),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Iu?function(r,o,c){if(!Tg(r.precondition,o))return void o.convertToUnknownDocument(c.version);const d=NI(r.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(xI(r)),m.setAll(d),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pf(n,e,t,r){return n instanceof cd?function(o,c,d,m){if(!Tg(o.precondition,c))return d;const T=o.value.clone(),D=kI(o.fieldTransforms,m,c);return T.setAll(D),c.convertToFoundDocument(c.version,T).setHasLocalMutations(),null}(n,e,t,r):n instanceof Iu?function(o,c,d,m){if(!Tg(o.precondition,c))return d;const T=kI(o.fieldTransforms,m,c),D=c.data;return D.setAll(xI(o)),D.setAll(T),c.convertToFoundDocument(c.version,D).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(S=>S.field))}(n,e,t,r):(d=t,Tg(n.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d);var c,d}function MI(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=AI(r.transform,o||null);null!=c&&(null===t&&(t=gi.empty()),t.set(r.field,c))}return t||null}function $0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Qh(t,r,(o,c)=>function rb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Oc&&r instanceof Oc||t instanceof ma&&r instanceof ma?Qh(t.elements,r.elements,Ss):t instanceof ud&&r instanceof ud?Ss(t.gt,r.gt):t instanceof ff&&r instanceof ff);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class cd extends Ig{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Iu extends Ig{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function xI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function NI(n,e,t){const r=new Map;ct(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,m=e.data.field(c.field);r.set(c.field,DI(d,m,t[o]))}return r}function kI(n,e,t){const r=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);r.set(o.field,nb(c,d,e))}return r}class gf extends Ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G0 extends Ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class q0{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&SI(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=xs();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(o.key)?null:m;const T=H_(d,m);null!==T&&r.set(o.key,T),d.isValidDocument()||d.convertToNoDocument(yt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ht())}isEqual(e){return this.batchId===e.batchId&&Qh(this.mutations,e.mutations,(t,r)=>$0(t,r))&&Qh(this.baseMutations,e.baseMutations,(t,r)=>$0(t,r))}}class z0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){ct(e.mutations.length===r.length);let o=Ns;const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new z0(e,t,r,o)}}class K0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ob{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vr,sn;function RI(n){switch(n){default:return ot();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function OI(n){if(void 0===n)return Cr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Vr.OK:return ae.OK;case Vr.CANCELLED:return ae.CANCELLED;case Vr.UNKNOWN:return ae.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return ae.INTERNAL;case Vr.UNAVAILABLE:return ae.UNAVAILABLE;case Vr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Vr.NOT_FOUND:return ae.NOT_FOUND;case Vr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Vr.ABORTED:return ae.ABORTED;case Vr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Vr.DATA_LOSS:return ae.DATA_LOSS;default:return ot()}}(sn=Vr||(Vr={}))[sn.OK=0]="OK",sn[sn.CANCELLED=1]="CANCELLED",sn[sn.UNKNOWN=2]="UNKNOWN",sn[sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",sn[sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",sn[sn.NOT_FOUND=5]="NOT_FOUND",sn[sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",sn[sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",sn[sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",sn[sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",sn[sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",sn[sn.ABORTED=10]="ABORTED",sn[sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",sn[sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",sn[sn.INTERNAL=13]="INTERNAL",sn[sn.UNAVAILABLE=14]="UNAVAILABLE",sn[sn.DATA_LOSS=15]="DATA_LOSS";class W0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return j_}static getOrCreateInstance(){return null===j_&&(j_=new W0),j_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let j_=null;function PI(){return new TextEncoder}const LI=new Yl([4294967295,4294967295],0);function Y0(n){const e=PI().encode(n),t=new GT;return t.update(e),new Uint8Array(t.digest())}function J0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Yl([t,r],0),new Yl([o,c],0)]}class $_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mf(`Invalid padding: ${t}`);if(r<0)throw new mf(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new mf(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new mf(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Yl.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(Yl.fromNumber(r)));return 1===o.compare(LI)&&(o=new Yl([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Y0(e),[r,o]=J0(t);for(let c=0;c<this.hashCount;c++){const d=this.Et(r,o,c);if(!this.At(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $_(c,o,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.It)return;const t=Y0(e),[r,o]=J0(t);for(let c=0;c<this.hashCount;c++){const d=this.Et(r,o,c);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class mf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _f{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,yf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _f(yt.min(),o,new Sn(xt),Wi(),Ht())}}class yf{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yf(r,t,Ht(),Ht(),Ht())}}class Cg{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class Q0{constructor(e,t){this.targetId=e,this.Vt=t}}class X0{constructor(e,t,r=Ar.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class ew{constructor(){this.St=0,this.Dt=VI(),this.Ct=Ar.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ht(),t=Ht(),r=Ht();return this.Dt.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ot()}}),new yf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=VI()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ld{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Wi(),this.zt=FI(),this.Wt=new Sn(xt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,c=this.se(r);if(c){const d=c.target;if(lf(d))if(0===o){const m=new Je(d.path);this.Yt(r,m,Ln.newNoDocument(m,yt.min()))}else ct(1===o);else{const m=this.ie(r);if(m!==o){const T=this.re(e,m);0!==T&&(this.ee(r),this.Wt=this.Wt.insert(r,2===T?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=W0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(D,S,k){var j,X,_e,Pe,Ue,wt;const kt={localCacheCount:S,existenceFilterCount:k.count},bt=k.unchangedNames;return bt&&(kt.bloomFilter={applied:0===D,hashCount:null!==(j=bt?.hashCount)&&void 0!==j?j:0,bitmapLength:null!==(Pe=null===(_e=null===(X=bt?.bits)||void 0===X?void 0:X.bitmap)||void 0===_e?void 0:_e.length)&&void 0!==Pe?Pe:0,padding:null!==(wt=null===(Ue=bt?.bits)||void 0===Ue?void 0:Ue.padding)&&void 0!==wt?wt:0}),kt}(T,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:c="",padding:d=0},hashCount:m=0}=r;let T,D;try{T=wu(c).toUint8Array()}catch(S){if(S instanceof cI)return As("Decoding the base64 bloom filter in existence filter failed ("+S.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw S}try{D=new $_(T,d,m)}catch(S){return As(S instanceof mf?"BloomFilter error: ":"Applying bloom filter failed: ",S),1}return 0===D.It?1:o!==t-this.oe(e.targetId,D)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(c=>{const d=this.Gt.ue(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.vt(m)||(this.Yt(e,c,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((c,d)=>{const m=this.se(d);if(m){if(c.current&&lf(m.target)){const T=new Je(m.target.path);null!==this.jt.get(T)||this.ae(d,T)||this.Yt(d,T,Ln.newNoDocument(T,e))}c.Mt&&(t.set(d,c.Ot()),c.Ft())}});let r=Ht();this.zt.forEach((c,d)=>{let m=!0;d.forEachWhile(T=>{const D=this.se(T);return!D||"TargetPurposeLimboResolution"===D.purpose||(m=!1,!1)}),m&&(r=r.add(c))}),this.jt.forEach((c,d)=>d.setReadTime(e));const o=new _f(e,t,this.Wt,this.jt,r);return this.jt=Wi(),this.zt=FI(),this.Wt=new Sn(xt),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new ew,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Gn(xt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ew),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function FI(){return new Sn(Je.comparator)}function VI(){return new Sn(Je.comparator)}const vf={asc:"ASCENDING",desc:"DESCENDING"},FS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tw={and:"AND",or:"OR"};class VS{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function G_(n,e){return n.useProto3Json||Xl(e)?e:{value:e}}function dd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Mt(n,e){return dd(n,e.toTimestamp())}function Sr(n){return ct(!!n),yt.fromTimestamp(function(e){const t=bs(e);return new Xn(t.seconds,t.nanos)}(n))}function nw(n,e){return(t=n,new on(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UI(n){const e=on.fromString(n);return ct(Tf(e)),e}function _a(n,e){return nw(n.databaseId,e.path)}function ya(n,e){const t=UI(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(ab(t))}function wf(n,e){return nw(n.databaseId,e)}function Dg(n){const e=UI(n);return 4===e.length?on.emptyPath():ab(e)}function Fn(n){return new on(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ab(n){return ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rw(n,e,t){return{name:_a(n,e),fields:t.value.mapValue.fields}}function iw(n,e,t){const r=ya(n,e.name),o=Sr(e.updateTime),c=e.createTime?Sr(e.createTime):yt.min(),d=new gi({mapValue:{fields:e.fields}}),m=Ln.newFoundDocument(r,o,c,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Ef(n,e){let t;if(e instanceof cd)t={update:rw(n,e.key,e.value)};else if(e instanceof gf)t={delete:_a(n,e.key)};else if(e instanceof Iu)t={update:rw(n,e.key,e.data),updateMask:db(e.fieldMask)};else{if(!(e instanceof G0))return ot();t={verify:_a(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const d=c.transform;if(d instanceof ff)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ma)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ud)return{fieldPath:c.field.canonicalString(),increment:d.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Mt(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),t;var o}function q_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Mn.updateTime(Sr(o.updateTime)):void 0!==o.exists?Mn.exists(o.exists):Mn.none():Mn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,d){let m=null;"setToServerValue"in d?(ct("REQUEST_TIME"===d.setToServerValue),m=new ff):"appendMissingElements"in d?m=new Oc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new ma(d.removeAllFromArray.values||[]):"increment"in d?m=new ud(c,d.increment):ot();const T=dr.fromServerFormat(d.fieldPath);return new Eg(T,m)}(n,o)):[];var o;if(e.update){const o=ya(n,e.update.name),c=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new fo((e.updateMask.fieldPaths||[]).map(D=>dr.fromServerFormat(D)));return new Iu(o,c,d,t,r)}return new cd(o,c,t,r)}if(e.delete){const o=ya(n,e.delete);return new gf(o,t)}if(e.verify){const o=ya(n,e.verify);return new G0(o,t)}return ot()}function HI(n,e){return{documents:[wf(n,e.path)]}}function ow(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(T){if(0!==T.length)return sw(yn.create(T,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const c=function(T){if(0!==T.length)return T.map(D=>{return{field:Cu((S=D).field),direction:cb(S.dir)};var S})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=G_(n,e.limit);var m,T;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(T=e.endAt).inclusive,values:T.position}),t}function jI(n){let e=Dg(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){ct(1===r);const S=t.from[0];S.allDescendants?o=S.collectionId:e=e.child(S.collectionId)}let c=[];t.where&&(c=function(S){const k=$I(S);return k instanceof yn&&M0(k)?k.getFilters():[k]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(S=>{return new od(hd((k=S).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction));var k}));let m=null;t.limit&&(m=function(S){let k;return k="object"==typeof S?S.value:S,Xl(k)?null:k}(t.limit));let T=null;var S;t.startAt&&(T=new fa((S=t.startAt).values||[],!!S.before));let D=null;return t.endAt&&(D=function(S){return new fa(S.values||[],!S.before)}(t.endAt)),vI(e,o,d,c,m,"F",T,D)}function $I(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hd(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=hd(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=hd(e.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=hd(e.unaryFilter.field);return Xt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?Xt.create(hd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return yn.create(e.compositeFilter.filters.map(t=>$I(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function cb(n){return vf[n]}function lb(n){return FS[n]}function z_(n){return tw[n]}function Cu(n){return{fieldPath:n.canonicalString()}}function hd(n){return dr.fromServerFormat(n.fieldPath)}function sw(n){return n instanceof Xt?function(e){if("=="===e.op){if(E0(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NAN"}};if(M_(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(E0(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NAN"}};if(M_(e.value))return{unaryFilter:{field:Cu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cu(e.field),op:lb(e.op),value:e.value}}}(n):n instanceof yn?function(e){const t=e.getFilters().map(r=>sw(r));return 1===t.length?t[0]:{compositeFilter:{op:z_(e.op),filters:t}}}(n):ot()}function db(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ko{constructor(e,t,r,o,c=yt.min(),d=yt.min(),m=Ar.EMPTY_BYTE_STRING,T=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=T}withSequenceNumber(e){return new ko(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ko(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GI{constructor(e){this.fe=e}}function qI(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:bg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:_a(o=n.fe,(c=e).key),fields:c.data.value.mapValue.fields,updateTime:dd(o,c.version.toTimestamp()),createTime:dd(o,c.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Pc(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Pc(e.version)}}var o,c;return r}function bg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Pc(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Lc(n){const e=new Xn(n.seconds,n.nanoseconds);return yt.fromTimestamp(e)}function fd(n,e){const t=(e.baseMutations||[]).map(c=>q_(n.fe,c));for(let c=0;c<e.mutations.length-1;++c)c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(e.mutations[c].updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c);const r=e.mutations.map(c=>q_(n.fe,c)),o=Xn.fromMillis(e.localWriteTimeMs);return new q0(e.batchId,o,t,r)}function If(n){const e=Lc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Lc(n.lastLimboFreeSnapshotVersion):yt.min();let r;var o;return void 0!==n.query.documents?(ct(1===(o=n.query).documents.length),r=Ki(df(Dg(o.documents[0])))):r=Ki(jI(n.query)),new ko(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ar.fromBase64String(n.resumeToken))}function zI(n,e){const t=Pc(e.snapshotVersion),r=Pc(e.lastLimboFreeSnapshotVersion);let o;o=lf(e.target)?HI(n.fe,e.target):ow(n.fe,e.target);const c=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tu(e.target),readTime:t,resumeToken:c,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function aw(n){const e=jI({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?U_(e,e.limit,"L"):e}function KI(n,e){return new K0(e.largestBatchId,q_(n.fe,e.overlayMutation))}function fb(n,e){const t=e.path.lastSegment();return[n,Dr(e.path.popLast()),t]}function pb(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Pc(r.readTime),documentKey:Dr(r.documentKey.path),largestBatchId:r.largestBatchId}}class US{getBundleMetadata(e,t){return uw(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Lc(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return uw(e).put({bundleId:(r=t).id,createTime:Pc(Sr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Sg(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:aw(o.bundledQuery),readTime:Lc(o.readTime)};var o})}saveNamedQuery(e,t){return Sg(e).put({name:(r=t).name,readTime:Pc(Sr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function uw(n){return Fr(n,"bundles")}function Sg(n){return Fr(n,"namedQueries")}class K_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new K_(e,t.uid||"")}getOverlay(e,t){return Mg(e).get(fb(this.userId,t)).next(r=>r?KI(this.serializer,r):null)}getOverlays(e,t){const r=ga();return re.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((c,d)=>{const m=new K0(t,d);o.push(this.we(e,m))}),re.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Dr(d.getCollectionPath())));const c=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);c.push(Mg(e).J("collectionPathOverlayIndex",m))}),re.waitFor(c)}getOverlaysForCollection(e,t,r){const o=ga(),c=Dr(t),d=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,Number.POSITIVE_INFINITY],!0);return Mg(e).j("collectionPathOverlayIndex",d).next(m=>{for(const T of m){const D=KI(this.serializer,T);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const c=ga();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mg(e).X({index:"collectionGroupOverlayIndex",range:m},(T,D,S)=>{const k=KI(this.serializer,D);c.size()<o||k.largestBatchId===d?(c.set(k.getKey(),k),d=k.largestBatchId):S.done()}).next(()=>c)}we(e,t){return Mg(e).put(function(r,o,c){const[d,m,T]=fb(o,c.mutation.key);return{userId:o,collectionPath:m,documentId:T,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:Ef(r.fe,c.mutation)}}(this.serializer,this.userId,t))}}function Mg(n){return Fr(n,"documentOverlays")}class Fc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(br(e.integerValue));else if("doubleValue"in e){const r=br(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),da(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(wu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?hI(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Je.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function xg(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function WI(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const c=xg(255&t[o]);if(r+=c,8!==c)break}return r}(n);return Math.ceil(e/8)}Fc.Ve=new Fc;class gb{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=WI(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=WI(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,o,!1),new Uint8Array(c.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class mb{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class _b{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class W_{constructor(){this.je=new gb,this.ze=new mb(this.je),this.We=new _b(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class pd{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new pd(this.indexId,this.documentKey,this.arrayValue,r)}}function Du(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=YI(n.arrayValue,e.arrayValue),0!==t?t:(t=YI(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function YI(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class yb{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){ct(e.collectionGroup===this.collectionId);const t=dg(e);if(void 0!==t&&!this.en(t))return!1;const r=Jl(e);let o=new Set,c=0,d=0;for(;c<r.length&&this.en(r[c]);++c)o=o.add(r[c].fieldPath.canonicalString());if(c===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[c];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[d++],m))return!1}++c}for(;c<r.length;++c)if(d>=this.Ye.length||!this.sn(this.Ye[d++],r[c]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Cf(n){var e,t;if(ct(n instanceof Xt||n instanceof yn),n instanceof Xt){if(n instanceof R0){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(c=>Xt.create(n.field,"==",c)))||[];return yn.create(o,"or")}return n}const r=n.filters.map(o=>Cf(o));return yn.create(r,n.op)}function vb(n){if(0===n.getFilters().length)return[];const e=dw(Cf(n));return ct(lw(e)),Y_(e)||cw(e)?[e]:e.getFilters()}function Y_(n){return n instanceof Xt}function cw(n){return n instanceof yn&&M0(n)}function lw(n){return Y_(n)||cw(n)||function(e){if(e instanceof yn&&S0(e)){for(const t of e.getFilters())if(!Y_(t)&&!cw(t))return!1;return!0}return!1}(n)}function dw(n){if(ct(n instanceof Xt||n instanceof yn),n instanceof Xt)return n;if(1===n.filters.length)return dw(n.filters[0]);const e=n.filters.map(r=>dw(r));let t=yn.create(e,n.op);return t=Df(t),lw(t)?t:(ct(t instanceof yn),ct(sd(t)),ct(t.filters.length>1),t.filters.reduce((r,o)=>J_(r,o)))}function J_(n,e){let t;return ct(n instanceof Xt||n instanceof yn),ct(e instanceof Xt||e instanceof yn),t=n instanceof Xt?e instanceof Xt?yn.create([n,e],"and"):JI(n,e):e instanceof Xt?JI(e,n):function(r,o){if(ct(r.filters.length>0&&o.filters.length>0),sd(r)&&sd(o))return x0(r,o.getFilters());const c=S0(r)?r:o,d=S0(r)?o:r,m=c.filters.map(T=>J_(T,d));return yn.create(m,"or")}(n,e),Df(t)}function JI(n,e){if(sd(e))return x0(e,n.getFilters());{const t=e.filters.map(r=>J_(n,r));return yn.create(t,"or")}}function Df(n){if(ct(n instanceof Xt||n instanceof yn),n instanceof Xt)return n;const e=n.getFilters();if(1===e.length)return Df(e[0]);if(pI(n))return n;const t=e.map(o=>Df(o)),r=[];return t.forEach(o=>{o instanceof Xt?r.push(o):o instanceof yn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:yn.create(r,n.op)}class wb{constructor(){this.rn=new Q_}addToCollectionParentIndex(e,t){return this.rn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(No.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(No.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class Q_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Gn(on.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Gn(on.comparator)).toArray()}}const Ng=new Uint8Array(0);class Eb{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Q_,this.un=new pa(r=>Tu(r),(r,o)=>Ms(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const c={collectionId:r,parent:Dr(o)};return QI(e).put(c)}return re.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[VA(t),""],!1,!0);return QI(e).j(o).next(c=>{for(const d of c){if(d.collectionId!==t)break;r.push(zi(d.parent))}return r})}addFieldIndex(e,t){const r=Af(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const c=r.add(o);if(t.indexState){const d=Rg(e);return c.next(m=>{d.put(pb(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return c.next()}deleteFieldIndex(e,t){const r=Af(e),o=Rg(e),c=kg(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=kg(e);let o=!0;const c=new Map;return re.forEach(this.cn(t),d=>this.an(e,d).next(m=>{o&&(o=!!m),c.set(d,m)})).next(()=>{if(o){let d=Ht();const m=[];return re.forEach(c,(T,D)=>{var S;Oe("IndexedDbIndexManager",`Using index ${S=T,`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(bt=>`${bt.fieldPath}:${bt.kind}`).join(",")}`} to execute ${Tu(t)}`);const k=function(bt,Ot){const Gt=dg(Ot);if(void 0===Gt)return null;for(const cn of P_(bt,Gt.fieldPath))switch(cn.op){case"array-contains-any":return cn.value.arrayValue.values||[];case"array-contains":return[cn.value]}return null}(D,T),j=function(bt,Ot){const Gt=new Map;for(const cn of Jl(Ot))for(const go of P_(bt,cn.fieldPath))switch(go.op){case"==":case"in":Gt.set(cn.fieldPath.canonicalString(),go.value);break;case"not-in":case"!=":return Gt.set(cn.fieldPath.canonicalString(),go.value),Array.from(Gt.values())}return null}(D,T),X=function(bt,Ot){const Gt=[];let cn=!0;for(const go of Jl(Ot)){const mm=0===go.kind?L_(bt,go.fieldPath,bt.startAt):XA(bt,go.fieldPath,bt.startAt);Gt.push(mm.value),cn&&(cn=mm.inclusive)}return new fa(Gt,cn)}(D,T),_e=function(bt,Ot){const Gt=[];let cn=!0;for(const go of Jl(Ot)){const mm=0===go.kind?XA(bt,go.fieldPath,bt.endAt):L_(bt,go.fieldPath,bt.endAt);Gt.push(mm.value),cn&&(cn=mm.inclusive)}return new fa(Gt,cn)}(D,T),Pe=this.hn(T,D,X),Ue=this.hn(T,D,_e),wt=this.ln(T,D,j),kt=this.fn(T.indexId,k,Pe,X.inclusive,Ue,_e.inclusive,wt);return re.forEach(kt,bt=>r.H(bt,t.limit).next(Ot=>{Ot.forEach(Gt=>{const cn=Je.fromSegments(Gt.documentKey);d.has(cn)||(d=d.add(cn),m.push(cn))})}))}).next(()=>m)}return re.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:vb(yn.create(e.filters,"and")).map(r=>O0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,c,d,m){const T=(null!=t?t.length:1)*Math.max(r.length,c.length),D=T/(null!=t?t.length:1),S=[];for(let k=0;k<T;++k){const j=t?this.dn(t[k/D]):Ng,X=this.wn(e,j,r[k%D],o),_e=this._n(e,j,c[k%D],d),Pe=m.map(Ue=>this.wn(e,j,Ue,!0));S.push(...this.createRange(X,_e,Pe))}return S}wn(e,t,r,o){const c=new pd(e,Je.empty(),t,r);return o?c:c.Je()}_n(e,t,r,o){const c=new pd(e,Je.empty(),t,r);return o?c.Je():c}an(e,t){const r=new yb(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(c=>{let d=null;for(const m of c)r.tn(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const o=this.cn(t);return re.forEach(o,c=>this.an(e,c).next(d=>{d?0!==r&&d.fields.length<function(m){let T=new Gn(dr.comparator),D=!1;for(const S of m.filters)for(const k of S.getFlattenedFilters())k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?D=!0:T=T.add(k.field));for(const S of m.orderBy)S.field.isKeyField()||(T=T.add(S.field));return T.size+(D?1:0)}(c)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new W_;for(const o of Jl(e)){const c=t.data.field(o.fieldPath);if(null==c)return null;const d=r.He(o.kind);Fc.Ve._e(c,d)}return r.Qe()}dn(e){const t=new W_;return Fc.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new W_;return Fc.Ve._e(id(this.databaseId,t),r.He(function(o){const c=Jl(o);return 0===c.length?0:c[c.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new W_);let c=0;for(const d of Jl(e)){const m=r[c++];for(const T of o)if(this.yn(t,d.fieldPath)&&Mc(m))o=this.pn(o,d,m);else{const D=T.He(d.kind);Fc.Ve._e(m,D)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],c=[];for(const d of r.arrayValue.values||[])for(const m of o){const T=new W_;T.seed(m.Qe()),Fc.Ve._e(d,T.He(t.kind)),c.push(T)}return c}yn(e,t){return!!e.filters.find(r=>r instanceof Xt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Af(e),o=Rg(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(c=>{const d=[];return re.forEach(c,m=>o.get([m.indexId,this.uid]).next(T=>{d.push(function(D,S){const k=S?new hg(S.sequenceNumber,new No(Lc(S.readTime),new Je(zi(S.documentKey)),S.largestBatchId)):hg.empty(),j=D.fields.map(([X,_e])=>new D_(dr.fromServerFormat(X),_e));return new lg(D.indexId,D.collectionGroup,j,k)}(m,T))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const c=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==c?c:xt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Af(e),c=Rg(e);return this.Tn(e).next(d=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>re.forEach(m,T=>c.put(pb(T.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return re.forEach(t,(o,c)=>{const d=r.get(o.collectionGroup);return(d?re.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),re.forEach(m,T=>this.En(e,o,T).next(D=>{const S=this.An(c,T);return D.isEqual(S)?re.resolve():this.vn(e,c,T,D,S)}))))})}Rn(e,t,r,o){return kg(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return kg(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=kg(e);let c=new Gn(Du);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(d,m)=>{c=c.add(new pd(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>c)}An(e,t){let r=new Gn(Du);const o=this.mn(t,e);if(null==o)return r;const c=dg(t);if(null!=c){const d=e.data.field(c.fieldPath);if(Mc(d))for(const m of d.arrayValue.values||[])r=r.add(new pd(t.indexId,e.key,this.dn(m),o))}else r=r.add(new pd(t.indexId,e.key,Ng,o));return r}vn(e,t,r,o,c){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,T,D,S,k){const j=m.getIterator(),X=T.getIterator();let _e=rf(j),Pe=rf(X);for(;_e||Pe;){let Ue=!1,wt=!1;if(_e&&Pe){const kt=D(_e,Pe);kt<0?wt=!0:kt>0&&(Ue=!0)}else null!=_e?wt=!0:Ue=!0;Ue?(S(Pe),Pe=rf(X)):wt?(k(_e),_e=rf(j)):(_e=rf(j),Pe=rf(X))}}(o,c,Du,m=>{d.push(this.Rn(e,t,r,m))},m=>{d.push(this.Pn(e,t,r,m))}),re.waitFor(d)}Tn(e){let t=1;return Rg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,c)=>{c.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Du(d,m)).filter((d,m,T)=>!m||0!==Du(d,T[m-1]));const o=[];o.push(e);for(const d of r){const m=Du(d,e),T=Du(d,t);if(0===m)o[0]=e.Je();else if(m>0&&T<0)o.push(d),o.push(d.Je());else if(T>0)break}o.push(t);const c=[];for(let d=0;d<o.length;d+=2){if(this.bn(o[d],o[d+1]))return[];c.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Ng,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Ng,[]]))}return c}bn(e,t){return Du(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(hw)}getMinOffset(e,t){return re.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||ot())).next(hw)}}function QI(n){return Fr(n,"collectionParents")}function kg(n){return Fr(n,"indexEntries")}function Af(n){return Fr(n,"indexConfiguration")}function Rg(n){return Fr(n,"indexState")}function hw(n){ct(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;g0(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new No(e.readTime,e.documentKey,t)}const XI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ri{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ri(e,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function eC(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),c=[],d=IDBKeyRange.only(t.batchId);let m=0;const T=r.X({range:d},(S,k,j)=>(m++,j.delete()));c.push(T.next(()=>{ct(1===m)}));const D=[];for(const S of t.mutations){const k=rd(e,S.key.path,t.batchId);c.push(o.delete(k)),D.push(S.key)}return re.waitFor(c).next(()=>D)}function X_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}Ri.DEFAULT_COLLECTION_PERCENTILE=10,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ri.DEFAULT=new Ri(41943040,Ri.DEFAULT_COLLECTION_PERCENTILE,Ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ri.DISABLED=new Ri(-1,0,0);class ey{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){ct(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new ey(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vc(e).X({index:"userMutationsIndex",range:r},(o,c,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=bf(e),d=Vc(e);return d.add({}).next(m=>{ct("number"==typeof m);const T=new q0(m,t,r,o),D=function(j,X,_e){const Pe=_e.baseMutations.map(wt=>Ef(j.fe,wt)),Ue=_e.mutations.map(wt=>Ef(j.fe,wt));return{userId:X,batchId:_e.batchId,localWriteTimeMs:_e.localWriteTime.toMillis(),baseMutations:Pe,mutations:Ue}}(this.serializer,this.userId,T),S=[];let k=new Gn((j,X)=>xt(j.canonicalString(),X.canonicalString()));for(const j of o){const X=rd(this.userId,j.key.path,m);k=k.add(j.key.path.popLast()),S.push(d.put(D)),S.push(c.put(X,XT))}return k.forEach(j=>{S.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Vn[m]=T.keys()}),re.waitFor(S).next(()=>T)})}lookupMutationBatch(e,t){return Vc(e).get(t).next(r=>r?(ct(r.userId===this.userId),fd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?re.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Vc(e).X({index:"userMutationsIndex",range:o},(d,m,T)=>{m.userId===this.userId&&(ct(m.batchId>=r),c=fd(this.serializer,m)),T.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vc(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,c,d)=>{r=c.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vc(e).j("userMutationsIndex",t).next(r=>r.map(o=>fd(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=vu(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return bf(e).X({range:o},(d,m,T)=>{const[D,S,k]=d,j=zi(S);if(D===this.userId&&t.path.isEqual(j))return Vc(e).get(k).next(X=>{if(!X)throw ot();ct(X.userId===this.userId),c.push(fd(this.serializer,X))});T.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(xt);const o=[];return t.forEach(c=>{const d=vu(this.userId,c.path),m=IDBKeyRange.lowerBound(d),T=bf(e).X({range:m},(D,S,k)=>{const[j,X,_e]=D,Pe=zi(X);j===this.userId&&c.path.isEqual(Pe)?r=r.add(_e):k.done()});o.push(T)}),re.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=vu(this.userId,r),d=IDBKeyRange.lowerBound(c);let m=new Gn(xt);return bf(e).X({range:d},(T,D,S)=>{const[k,j,X]=T,_e=zi(j);k===this.userId&&r.isPrefixOf(_e)?_e.length===o&&(m=m.add(X)):S.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(c=>{o.push(Vc(e).get(c).next(d=>{if(null===d)throw ot();ct(d.userId===this.userId),r.push(fd(this.serializer,d))}))}),re.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return eC(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),re.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return bf(e).X({range:r},(c,d,m)=>{if(c[0]===this.userId){const T=zi(c[1]);o.push(T)}else m.done()}).next(()=>{ct(0===o.length)})})}containsKey(e,t){return tC(e,this.userId,t)}xn(e){return fw(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tC(n,e,t){const r=vu(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let d=!1;return bf(n).X({range:c,Y:!0},(m,T,D)=>{const[S,k,j]=m;S===e&&k===o&&(d=!0),D.done()}).next(()=>d)}function Vc(n){return Fr(n,"mutations")}function bf(n){return Fr(n,"documentMutations")}function fw(n){return Fr(n,"mutationQueues")}class Uc{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Uc(0)}static Mn(){return new Uc(-1)}}class Tb{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Uc(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>yt.fromTimestamp(new Xn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(ct(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return Sf(e).X((d,m)=>{const T=If(m);T.sequenceNumber<=t&&null===r.get(T.targetId)&&(o++,c.push(this.removeTargetData(e,T)))}).next(()=>re.waitFor(c)).next(()=>o)}forEachTarget(e,t){return Sf(e).X((r,o)=>{const c=If(o);t(c)})}$n(e){return pw(e).get("targetGlobalKey").next(t=>(ct(null!==t),t))}On(e,t){return pw(e).put("targetGlobalKey",t)}Fn(e,t){return Sf(e).put(zI(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Tu(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return Sf(e).X({range:o,index:"queryTargetsIndex"},(d,m,T)=>{const D=If(m);Ms(t,D.target)&&(c=D,T.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=Bc(e);return t.forEach(d=>{const m=Dr(d.path);o.push(c.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),re.waitFor(o)}removeMatchingKeys(e,t,r){const o=Bc(e);return re.forEach(t,c=>{const d=Dr(c.path);return re.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Bc(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Bc(e);let c=Ht();return o.X({range:r,Y:!0},(d,m,T)=>{const D=zi(d[1]),S=new Je(D);c=c.add(S)}).next(()=>c)}containsKey(e,t){const r=Dr(t.path),o=IDBKeyRange.bound([r],[VA(r)],!1,!0);let c=0;return Bc(e).X({index:"documentTargetsIndex",Y:!0,range:o},([d,m],T,D)=>{0!==d&&(c++,D.done())}).next(()=>c>0)}le(e,t){return Sf(e).get(t).next(r=>r?If(r):null)}}function Sf(n){return Fr(n,"targets")}function pw(n){return Fr(n,"targetGlobal")}function Bc(n){return Fr(n,"targetDocuments")}function nC([n,e],[t,r]){const o=xt(n,t);return 0===o?xt(e,r):o}class Ib{constructor(e){this.Ln=e,this.buffer=new Gn(nC),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ty{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){la(r)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Cc(r)}yield t.Qn(3e5)}))}}class gw{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return re.resolve(er.ct);const r=new Ib(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(XI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XI):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,c,d,m,T,D;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(k=>(k>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${k}`),o=this.params.maximumSequenceNumbersToCollect):o=k,d=Date.now(),this.nthSequenceNumber(e,o))).next(k=>(r=k,m=Date.now(),this.removeTargets(e,r,t))).next(k=>(c=k,T=Date.now(),this.removeOrphanedDocuments(e,r))).next(k=>(D=Date.now(),sg()<=Jo.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-S}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${c} targets in `+(T-m)+`ms\n\tRemoved ${k} documents in `+(D-T)+`ms\nTotal Duration: ${D-S}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:k})))}}class _w{constructor(e,t){this.db=e,this.garbageCollector=function mw(n,e){return new gw(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return ny(e,r)}removeReference(e,t,r){return ny(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ny(e,t)}Xn(e,t){return function(r,o){let c=!1;return fw(r).Z(d=>tC(r,d,o).next(m=>(m&&(c=!0),re.resolve(!m)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Yn(e,(d,m)=>{if(m<=t){const T=this.Xn(e,d).next(D=>{if(!D)return c++,r.getEntry(e,d).next(()=>(r.removeEntry(d,yt.min()),Bc(e).delete([0,Dr(d.path)])))});o.push(T)}}).next(()=>re.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ny(e,t)}Yn(e,t){const r=Bc(e);let o,c=er.ct;return r.X({index:"documentTargetsIndex"},([d,m],{path:T,sequenceNumber:D})=>{0===d?(c!==er.ct&&t(new Je(zi(o)),c),c=D,o=T):c=er.ct}).next(()=>{c!==er.ct&&t(new Je(zi(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ny(n,e){return Bc(n).put((r=n.currentSequenceNumber,{targetId:0,path:Dr(e.path),sequenceNumber:r}));var r}class rC{constructor(){this.changes=new pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yw{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Zc(e).put(r)}removeEntry(e,t,r){return Zc(e).delete(function(o,c){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],bg(c),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Ln.newInvalidDocument(t);return Zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Og(t))},(o,c)=>{r=this.ts(t,c)}).next(()=>r)}es(e,t){let r={size:0,document:Ln.newInvalidDocument(t)};return Zc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Og(t))},(o,c)=>{r={document:this.ts(t,c),size:X_(c)}}).next(()=>r)}getEntries(e,t){let r=Wi();return this.ns(e,t,(o,c)=>{const d=this.ts(o,c);r=r.insert(o,d)}).next(()=>r)}ss(e,t){let r=Wi(),o=new Sn(Je.comparator);return this.ns(e,t,(c,d)=>{const m=this.ts(c,d);r=r.insert(c,m),o=o.insert(c,X_(d))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return re.resolve();let o=new Gn(ry);t.forEach(T=>o=o.add(T));const c=IDBKeyRange.bound(Og(o.first()),Og(o.last())),d=o.getIterator();let m=d.getNext();return Zc(e).X({index:"documentKeyIndex",range:c},(T,D,S)=>{const k=Je.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&ry(m,k)<0;)r(m,null),m=d.getNext();m&&m.isEqual(k)&&(r(m,D),m=d.hasNext()?d.getNext():null),m?S.G(Og(m)):S.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),bg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Zc(e).j(IDBKeyRange.bound(d,m,!0)).next(T=>{let D=Wi();for(const S of T){const k=this.ts(Je.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);k.isFoundDocument()&&(wg(t,k)||o.has(k.key))&&(D=D.insert(k.key,k))}return D})}getAllFromCollectionGroup(e,t,r,o){let c=Wi();const d=Cb(t,r),m=Cb(t,No.max());return Zc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(T,D,S)=>{const k=this.ts(Je.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);c=c.insert(k.key,k),c.size===o&&S.done()}).next(()=>c)}newChangeBuffer(e){return new oC(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gd(e).get("remoteDocumentGlobalKey").next(t=>(ct(!!t),t))}Zn(e,t){return gd(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function hb(n,e){let t;if(e.document)t=iw(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Je.fromSegments(e.noDocument.path),o=Lc(e.noDocument.readTime);t=Ln.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Je.fromSegments(e.unknownDocument.path),o=Lc(e.unknownDocument.version);t=Ln.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Xn(r[0],r[1]);return yt.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(yt.min()))return r}return Ln.newInvalidDocument(e)}}function iC(n){return new yw(n)}class oC extends rC{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new pa(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Gn((c,d)=>xt(c.canonicalString(),d.canonicalString()));return this.changes.forEach((c,d)=>{const m=this.us.get(c);if(t.push(this.os.removeEntry(e,c,m.readTime)),d.isValidDocument()){const T=qI(this.os.serializer,d);o=o.add(c.path.popLast());const D=X_(T);r+=D-m.size,t.push(this.os.addEntry(e,c,T))}else if(r-=m.size,this.trackRemovals){const T=qI(this.os.serializer,d.convertToNoDocument(yt.min()));t.push(this.os.addEntry(e,c,T))}}),o.forEach(c=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,c))}),t.push(this.os.updateMetadata(e,r)),re.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((c,d)=>{this.us.set(c,{size:d,readTime:r.get(c).readTime})}),r))}}function gd(n){return Fr(n,"remoteDocumentGlobal")}function Zc(n){return Fr(n,"remoteDocumentsV14")}function Og(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Cb(n,e){const t=e.documentKey.path.toArray();return[n,bg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ry(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let c=0;c<t.length-2&&c<r.length-2;++c)if(o=xt(t[c],r[c]),o)return o;return o=xt(t.length,r.length),o||(o=xt(t[t.length-2],r[r.length-2]),o||xt(t[t.length-1],r[r.length-1]))}class vw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class sC{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&pf(r.mutation,o,fo.empty(),Xn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ht()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ht()){const o=ga();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(c=>{let d=po();return c.forEach((m,T)=>{d=d.insert(m,T.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=ga();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ht()))}populateOverlays(e,t,r){const o=[];return r.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let c=Wi();const d=Yi(),m=Yi();return t.forEach((T,D)=>{const S=r.get(D.key);o.has(D.key)&&(void 0===S||S.mutation instanceof Iu)?c=c.insert(D.key,D):void 0!==S?(d.set(D.key,S.mutation.getFieldMask()),pf(S.mutation,D,S.mutation.getFieldMask(),Xn.now())):d.set(D.key,fo.empty())}),this.recalculateAndSaveOverlays(e,c).next(T=>(T.forEach((D,S)=>d.set(D,S)),t.forEach((D,S)=>{var k;return m.set(D,new vw(S,null!==(k=d.get(D))&&void 0!==k?k:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Yi();let o=new Sn((d,m)=>d-m),c=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(T=>{const D=t.get(T);if(null===D)return;let S=r.get(T)||fo.empty();S=m.applyToLocalView(D,S),r.set(T,S);const k=(o.get(m.batchId)||Ht()).add(T);o=o.insert(m.batchId,k)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const T=m.getNext(),D=T.key,S=T.value,k=xs();S.forEach(j=>{if(!c.has(j)){const X=H_(t.get(j),r.get(j));null!==X&&k.set(j,X),c=c.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(e,D,k))}return re.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Je.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):F_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):re.resolve(ga());let m=-1,T=c;return d.next(D=>re.forEach(D,(S,k)=>(m<k.largestBatchId&&(m=k.largestBatchId),c.get(S)?re.resolve():this.remoteDocumentCache.getEntry(e,S).next(j=>{T=T.insert(S,j)}))).next(()=>this.populateOverlays(e,D,c)).next(()=>this.computeViews(e,T,D,Ht())).next(S=>({batchId:m,changes:EI(S)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(r=>{let o=po();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let c=po();return this.indexManager.getCollectionParents(e,o).next(d=>re.forEach(d,m=>{const T=(D=t,S=m.child(o),new Nc(S,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,S;return this.getDocumentsMatchingCollectionQuery(e,T,r).next(D=>{D.forEach((S,k)=>{c=c.insert(S,k)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(c=>{o.forEach((m,T)=>{const D=T.getKey();null===c.get(D)&&(c=c.insert(D,Ln.newInvalidDocument(D)))});let d=po();return c.forEach((m,T)=>{const D=o.get(m);void 0!==D&&pf(D.mutation,T,fo.empty(),Xn.now()),wg(t,T)&&(d=d.insert(m,T))}),d})}}class aC{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return re.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Sr(r.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:aw(r.bundledQuery),readTime:Sr(r.readTime)}),re.resolve();var r}}class uC{constructor(){this.overlays=new Sn(Je.comparator),this.ls=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ga();return re.forEach(t,o=>this.getOverlay(e,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,c)=>{this.we(e,t,c)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.ls.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const o=ga(),c=t.length+1,d=new Je(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const T=m.getNext().value,D=T.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===c&&T.largestBatchId>r&&o.set(T.getKey(),T)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new Sn((D,S)=>D-S);const d=this.overlays.getIterator();for(;d.hasNext();){const D=d.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let S=c.get(D.largestBatchId);null===S&&(S=ga(),c=c.insert(D.largestBatchId,S)),S.set(D.getKey(),D)}}const m=ga(),T=c.getIterator();for(;T.hasNext()&&(T.getNext().value.forEach((D,S)=>m.set(D,S)),!(m.size()>=o)););return re.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new K0(t,r));let c=this.ls.get(t);void 0===c&&(c=Ht(),this.ls.set(t,c)),this.ls.set(t,c.add(r.key))}}class ww{constructor(){this.fs=new Gn($r.ds),this.ws=new Gn($r._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new $r(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new $r(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Je(new on([])),r=new $r(t,e),o=new $r(t,e+1),c=[];return this.ws.forEachInRange([r,o],d=>{this.ys(d),c.push(d.key)}),c}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Je(new on([])),r=new $r(t,e),o=new $r(t,e+1);let c=Ht();return this.ws.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new $r(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class $r{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Je.comparator(e.key,t.key)||xt(e.As,t.As)}static _s(e,t){return xt(e.As,t.As)||Je.comparator(e.key,t.key)}}class Ew{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Gn($r.ds)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const c=this.vs;this.vs++;const d=new q0(c,t,r,o);this.mutationQueue.push(d);for(const m of o)this.Rs=this.Rs.add(new $r(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,t){return re.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),c=o<0?0:o;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $r(t,0),o=new $r(t,Number.POSITIVE_INFINITY),c=[];return this.Rs.forEachInRange([r,o],d=>{const m=this.Ps(d.As);c.push(m)}),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(xt);return t.forEach(o=>{const c=new $r(o,0),d=new $r(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([c,d],m=>{r=r.add(m.As)})}),re.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;Je.isDocumentKey(c)||(c=c.child(""));const d=new $r(new Je(c),0);let m=new Gn(xt);return this.Rs.forEachWhile(T=>{const D=T.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(m=m.add(T.As)),!0)},d),re.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){ct(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return re.forEach(t.mutations,o=>{const c=new $r(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new $r(t,0),o=this.Rs.firstAfterOrEqual(r);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return re.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cC{constructor(e){this.Ds=e,this.docs=new Sn(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,d=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=Wi();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Ln.newInvalidDocument(o))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let c=Wi();const d=t.path,m=new Je(d.child("")),T=this.docs.getIteratorFrom(m);for(;T.hasNext();){const{key:D,value:{document:S}}=T.getNext();if(!d.isPrefixOf(D.path))break;D.path.length>d.length+1||g0(JT(S),r)<=0||(o.has(S.key)||wg(t,S))&&(c=c.insert(S.key,S.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,t,r,o){ot()}Cs(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new lC(this)}getSize(e){return re.resolve(this.size)}}class lC extends rC{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class dC{constructor(e){this.persistence=e,this.xs=new pa(t=>Tu(t),Ms),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ww,this.targetCount=0,this.Ms=Uc.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),re.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Uc(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Fn(t),re.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.xs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(c).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),re.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.ks.containsKey(t))}}class iy{constructor(e,t){this.$s={},this.overlays={},this.Os=new er(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new dC(this),this.indexManager=new wb,this.remoteDocumentCache=new cC(r=>this.referenceDelegate.Ls(r)),this.serializer=new GI(t),this.qs=new aC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new uC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Ew(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const o=new Db(this.Os.next());return this.referenceDelegate.Us(),r(o).next(c=>this.referenceDelegate.Ks(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Gs(e,t){return re.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class Db extends _0{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.Qs=new ww,this.js=null}static zs(e){return new oy(e)}get Ws(){if(this.js)return this.js;throw ot()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),re.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.Ws.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ws,r=>{const o=Je.fromPath(r);return this.Hs(e,o).next(c=>{c||t.removeEntry(o,yt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return re.or([()=>re.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Ab{constructor(e){this.serializer=e}O(e,t,r,o){const c=new y0("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nd,{unique:!0}),m.createObjectStore("documentMutations"),Tw(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=re.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Tw(e)),d=d.next(()=>function(m){const T=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:yt.min().toTimestamp(),targetCount:0};return T.put("targetGlobalKey",D)}(c))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,T){return T.store("mutations").j().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nd,{unique:!0});const S=T.store("mutations"),k=D.map(j=>S.put(j));return re.waitFor(k)})}(e,c))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Ys(c))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(c)))),r<7&&o>=7&&(d=d.next(()=>this.Zs(c))),r<8&&o>=8&&(d=d.next(()=>this.ti(e,c))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.ei(c))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const T=m.createObjectStore("documentOverlays",{keyPath:PS});T.createIndex("collectionPathOverlayIndex",$A,{unique:!1}),T.createIndex("collectionGroupOverlayIndex",GA,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const T=m.createObjectStore("remoteDocumentsV14",{keyPath:eI});T.createIndex("documentKeyIndex",tI),T.createIndex("collectionGroupIndex",nI)}(e)).next(()=>this.ni(e,c)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.si(e,c))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:aI}).createIndex("sequenceNumberIndex",v0,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:jA}).createIndex("documentKeyIndex",OS,{unique:!1})}(e))),d}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=X_(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>re.forEach(o,c=>{const d=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>re.forEach(m,T=>{ct(T.userId===c.userId);const D=fd(this.serializer,T);return eC(e,c.userId,D).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const c=[];return r.X((d,m)=>{const T=new on(d),D=[0,Dr(T)];c.push(t.get(D).next(S=>S?re.resolve():t.put({targetId:0,path:Dr(T),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>re.waitFor(c))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:sI});const r=t.store("collectionParents"),o=new Q_,c=d=>{if(o.add(d)){const m=d.lastSegment(),T=d.popLast();return r.put({collectionId:m,parent:Dr(T)})}};return t.store("remoteDocuments").X({Y:!0},(d,m)=>{const T=new on(d);return c(T.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,m,T],D)=>{const S=zi(m);return c(S.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const c=If(o),d=zI(this.serializer,c);return t.put(d)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((c,d)=>{const m=t.store("remoteDocumentsV14"),T=(D=d,D.document?new Je(on.fromString(D.document.name).popFirst(5)):D.noDocument?Je.fromSegments(D.noDocument.path):D.unknownDocument?Je.fromSegments(D.unknownDocument.path):ot()).path.toArray();var D;const S={prefixPath:T.slice(0,T.length-2),collectionGroup:T[T.length-2],documentId:T[T.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(S))}).next(()=>re.waitFor(o))}si(e,t){const r=t.store("mutations"),o=iC(this.serializer),c=new iy(oy.zs,this.serializer.fe);return r.j().next(d=>{const m=new Map;return d.forEach(T=>{var D;let S=null!==(D=m.get(T.userId))&&void 0!==D?D:Ht();fd(this.serializer,T).keys().forEach(k=>S=S.add(k)),m.set(T.userId,S)}),re.forEach(m,(T,D)=>{const S=new Pn(D),k=K_.de(this.serializer,S),j=c.getIndexManager(S),X=ey.de(S,this.serializer,j,c.referenceDelegate);return new sC(o,X,k,j).recalculateAndSaveOverlaysForDocumentKeys(new w0(t,er.ct),T).next()})})}}function Tw(n){n.createObjectStore("targetDocuments",{keyPath:iI}).createIndex("documentTargetsIndex",oI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rI,{unique:!0}),n.createObjectStore("targetGlobal")}const hC="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ay{constructor(e,t,r,o,c,d,m,T,D,S,k=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=c,this.window=d,this.document=m,this.ri=D,this.oi=S,this.ui=k,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=j=>Promise.resolve(),!ay.D())throw new Ie(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _w(this,o),this.di=t+"main",this.serializer=new GI(T),this.wi=new ho(this.di,this.ui,new Ab(this.serializer)),this.Bs=new Tb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=iC(this.serializer),this.qs=new US,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===S&&Cr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(ae.FAILED_PRECONDITION,hC);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new er(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ge.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ge.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(la(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Pg(e).get("owner").next(t=>re.resolve(this.Ri(t)))}Pi(e){return uy(e).delete(this.clientId)}bi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Fr(r,"clientMetadata");return o.j().next(c=>{const d=e.Si(c,18e5),m=c.filter(T=>-1===d.indexOf(T));return re.forEach(m,T=>o.delete(T.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?re.resolve(!0):Pg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ie(ae.FAILED_PRECONDITION,hC);return!1}}return!(!this.networkEnabled||!this.inForeground)||uy(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new w0(t,er.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>uy(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return ey.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Eb(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return K_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Oe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",c=15===(d=this.ui)?WA:14===d?uI:13===d?KA:12===d?zA:11===d?qA:void ot();var d;let m;return this.wi.runTransaction(e,o,c,T=>(m=new w0(T,this.Os?this.Os.next():er.ct),"readwrite-primary"===t?this.Ti(m).next(D=>!!D||this.Ei(m)).next(D=>{if(!D)throw Cr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ie(ae.FAILED_PRECONDITION,m0);return r(m)}).next(D=>this.vi(m).next(()=>D)):this.Oi(m).next(()=>r(m)))).then(T=>(m.raiseOnCommittedEvent(),T))}Oi(e){return Pg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ie(ae.FAILED_PRECONDITION,hC)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pg(e).put("owner",t)}static D(){return ho.D()}Ai(e){const t=Pg(e);return t.get("owner").next(r=>this.Ri(r)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Cr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,nn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Cr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Cr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Pg(n){return Fr(n,"owner")}function uy(n){return Fr(n,"clientMetadata")}function fC(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Iw{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=Ht(),o=Ht();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Iw(e,t.fromCache,r,o)}}class pC{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(c=>c||this.Gi(e,t,o,r)).next(c=>c||this.Qi(e,t))}Ki(e,t){if(P0(t))return re.resolve(null);let r=Ki(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=U_(t,null,"F"),r=Ki(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=Ht(...c);return this.Ui.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(T=>{const D=this.ji(t,m);return this.zi(t,D,d,T.readTime)?this.Ki(e,U_(t,null,"F")):this.Wi(e,D,t,T)}))})))}Gi(e,t,r,o){return P0(t)||o.isEqual(yt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(c=>{const d=this.ji(t,c);return this.zi(t,d,r,o)?this.Qi(e,t):(sg()<=Jo.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),kc(t)),this.Wi(e,d,t,YT(o,-1)))})}ji(e,t){let r=new Gn(V0(e));return t.forEach((o,c)=>{wg(e,c)&&(r=r.add(c))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const c="F"===e.limitType?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Qi(e,t){return sg()<=Jo.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",kc(t)),this.Ui.getDocumentsMatchingQuery(e,t,No.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}class bb{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new Sn(xt),this.Yi=new pa(c=>Tu(c),Ms),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new sC(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function gC(n,e,t,r){return new bb(n,e,t,r)}function mC(n,e){return Cw.apply(this,arguments)}function Cw(){return Cw=(0,ge.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],m=[];let T=Ht();for(const D of o){d.push(D.batchId);for(const S of D.mutations)T=T.add(S.key)}for(const D of c){m.push(D.batchId);for(const S of D.mutations)T=T.add(S.key)}return t.localDocuments.getDocuments(r,T).next(D=>({er:D,removedBatchIds:d,addedBatchIds:m}))})})}),Cw.apply(this,arguments)}function _C(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function yC(n,e,t){let r=Ht(),o=Ht();return t.forEach(c=>r=r.add(c)),e.getEntries(n,r).next(c=>{let d=Wi();return t.forEach((m,T)=>{const D=c.get(m);T.isFoundDocument()!==D.isFoundDocument()&&(o=o.add(m)),T.isNoDocument()&&T.version.isEqual(yt.min())?(e.removeEntry(m,T.readTime),d=d.insert(m,T)):!D.isValidDocument()||T.version.compareTo(D.version)>0||0===T.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(T),d=d.insert(m,T)):Oe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",D.version," Watch version:",T.version)}),{nr:d,sr:o}})}function xb(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mf(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(c=>c?(o=c,re.resolve(o)):t.Bs.allocateTargetId(r).next(d=>(o=new ko(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function va(n,e,t){return cy.apply(this,arguments)}function cy(){return cy=(0,ge.Z)(function*(n,e,t){const r=We(n),o=r.Ji.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!la(d))throw d;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),cy.apply(this,arguments)}function Lg(n,e,t){const r=We(n);let o=yt.min(),c=Ht();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,T,D){const S=We(m),k=S.Yi.get(D);return void 0!==k?re.resolve(S.Ji.get(k)):S.Bs.getTargetData(T,D)}(r,d,Ki(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(d,m.targetId).next(T=>{c=T})}).next(()=>r.Hi.getDocumentsMatchingQuery(d,e,t?o:yt.min(),t?c:Ht())).next(m=>(bw(r,wI(e),m),{documents:m,ir:c})))}function Dw(n,e){const t=We(n),r=We(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.le(c,e).next(d=>d?d.target:null))}function Aw(n,e){const t=We(n),r=t.Xi.get(e)||yt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,YT(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(bw(t,e,o),o))}function bw(n,e,t){let r=n.Xi.get(e)||yt.min();t.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.Xi.set(e,r)}function Sw(){return Sw=(0,ge.Z)(function*(n,e,t,r){const o=We(n);let c=Ht(),d=Wi();for(const D of t){const S=e.rr(D.metadata.name);D.document&&(c=c.add(S));const k=e.ur(D);k.setReadTime(e.cr(D.metadata.readTime)),d=d.insert(S,k)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),T=yield Mf(o,(D=r,Ki(df(on.fromString(`__bundle__/docs/${D}`)))));var D;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>yC(D,m,d).next(S=>(m.apply(D),S)).next(S=>o.Bs.removeMatchingKeysForTargetId(D,T.targetId).next(()=>o.Bs.addMatchingKeys(D,c,T.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(D,S.nr,S.sr)).next(()=>S.nr)))}),Sw.apply(this,arguments)}function BS(n,e){return Mw.apply(this,arguments)}function Mw(){return Mw=(0,ge.Z)(function*(n,e,t=Ht()){const r=yield Mf(n,Ki(aw(e.bundledQuery))),o=We(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const d=Sr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.qs.saveNamedQuery(c,e);const m=r.withResumeToken(Ar.EMPTY_BYTE_STRING,d);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(c,m).next(()=>o.Bs.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.Bs.addMatchingKeys(c,t,r.targetId)).next(()=>o.qs.saveNamedQuery(c,e))})}),Mw.apply(this,arguments)}function vC(n,e){return`firestore_clients_${n}_${e}`}function wC(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function xw(n,e){return`firestore_targets_${n}_${e}`}class ly{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let c,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(c=new Ie(o.error.code,o.error.message))),d?new ly(e,t,o.state,c):(Cr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Au{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Ie(r.error.code,r.error.message))),c?new Au(e,r.state,o):(Cr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=U0();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=ed(r.activeTargetIds[d]),c=c.add(r.activeTargetIds[d]);return o?new dy(e,c):(Cr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fg(t.clientId,t.onlineState):(Cr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class ts{constructor(){this.activeTargetIds=U0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Nw{constructor(e,t,r,o,c){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Sn(xt),this.started=!1,this.yr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.pr=vC(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new ts),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const c=e.getItem(vC(e.persistenceKey,o));if(c){const d=dy.ar(o,c);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(xw(this.persistenceKey,e));if(r){const o=Au.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xw(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Oe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Cr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ge.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(c){let d=er.ct;if(null!=c)try{const m=JSON.parse(c);ct("number"==typeof m),d=m}catch(m){Cr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==er.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(c=>t.syncEngine.Qr(c)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new ly(this.currentUser,e,t,r),c=wC(this.persistenceKey,this.currentUser,e);this.setItem(c,o.hr())}Cr(e){const t=wC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=xw(this.persistenceKey,e),c=new Au(e,t,r);this.setItem(o,c.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return dy.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return ly.ar(new Pn(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return Au.ar(o,t)}br(e){return Fg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),c=this.Sr(r),d=[],m=[];return c.forEach(T=>{o.has(T)||d.push(T)}),o.forEach(T=>{c.has(T)||m.push(T)}),this.syncEngine.Wr(d,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=U0();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class hy{constructor(){this.Hr=new ts,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new ts,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vg{Yr(e){}shutdown(){}}class EC{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fy=null;function kw(){return null===fy?fy=268435456+Math.round(2147483648*Math.random()):fy++,"0x"+fy.toString(16)}const py={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Oi="WebChannelConnection";class kb extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,c){const d=kw(),m=this.To(e,t);Oe("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const T={};return this.Eo(T,o,c),this.Ao(e,m,T,r).then(D=>(Oe("RestConnection",`Received RPC '${e}' ${d}: `,D),D),D=>{throw As("RestConnection",`RPC '${e}' ${d} failed with error: `,D,"url: ",m,"request:",r),D})}vo(e,t,r,o,c,d){return this.Io(e,t,r,o,c)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}To(e,t){return`${this.mo}/v1/${t}:${py[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const c=kw();return new Promise((d,m)=>{const T=new $T;T.setWithCredentials(!0),T.listenOnce(jT.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case w_.NO_ERROR:const S=T.getResponseJson();Oe(Oi,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(S)),d(S);break;case w_.TIMEOUT:Oe(Oi,`RPC '${e}' ${c} timed out`),m(new Ie(ae.DEADLINE_EXCEEDED,"Request time out"));break;case w_.HTTP_ERROR:const k=T.getStatus();if(Oe(Oi,`RPC '${e}' ${c} failed with status:`,k,"response text:",T.getResponseText()),k>0){let j=T.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const _e=function(Pe){const Ue=Pe.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Ue)>=0?Ue:ae.UNKNOWN}(X.status);m(new Ie(_e,X.message))}else m(new Ie(ae.UNKNOWN,"Server responded with status "+T.getStatus()))}else m(new Ie(ae.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Oe(Oi,`RPC '${e}' ${c} completed.`)}});const D=JSON.stringify(o);Oe(Oi,`RPC '${e}' ${c} sending request:`,o),T.send(t,"POST",D,r,15)})}Ro(e,t,r){const o=kw(),c=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=HT(),m=NA(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},D=this.longPollingOptions.timeoutSeconds;void 0!==D&&(T.longPollingTimeout=Math.round(1e3*D)),this.useFetchStreams&&(T.xmlHttpFactory=new RS({})),this.Eo(T.initMessageHeaders,t,r),T.encodeInitMessageHeaders=!0;const S=c.join("");Oe(Oi,`Creating RPC '${e}' stream ${o}: ${S}`,T);const k=d.createWebChannel(S,T);let j=!1,X=!1;const _e=new TC({ro:Ue=>{X?Oe(Oi,`Not sending because RPC '${e}' stream ${o} is closed:`,Ue):(j||(Oe(Oi,`Opening RPC '${e}' stream ${o} transport.`),k.open(),j=!0),Oe(Oi,`RPC '${e}' stream ${o} sending:`,Ue),k.send(Ue))},oo:()=>k.close()}),Pe=(Ue,wt,kt)=>{Ue.listen(wt,bt=>{try{kt(bt)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return Pe(k,og.EventType.OPEN,()=>{X||Oe(Oi,`RPC '${e}' stream ${o} transport opened.`)}),Pe(k,og.EventType.CLOSE,()=>{X||(X=!0,Oe(Oi,`RPC '${e}' stream ${o} transport closed`),_e.wo())}),Pe(k,og.EventType.ERROR,Ue=>{X||(X=!0,As(Oi,`RPC '${e}' stream ${o} transport errored:`,Ue),_e.wo(new Ie(ae.UNAVAILABLE,"The operation could not be completed")))}),Pe(k,og.EventType.MESSAGE,Ue=>{var wt;if(!X){const kt=Ue.data[0];ct(!!kt);const Ot=kt.error||(null===(wt=kt[0])||void 0===wt?void 0:wt.error);if(Ot){Oe(Oi,`RPC '${e}' stream ${o} received error:`,Ot);const Gt=Ot.status;let cn=function(mm){const sN=Vr[mm];if(void 0!==sN)return OI(sN)}(Gt),go=Ot.message;void 0===cn&&(cn=ae.INTERNAL,go="Unknown error status: "+Gt+" with message "+Ot.message),X=!0,_e.wo(new Ie(cn,go)),k.close()}else Oe(Oi,`RPC '${e}' stream ${o} received:`,kt),_e._o(kt)}}),Pe(m,E_.STAT_EVENT,Ue=>{Ue.stat===T_.PROXY?Oe(Oi,`RPC '${e}' stream ${o} detected buffering proxy`):Ue.stat===T_.NOPROXY&&Oe(Oi,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{_e.fo()},0),_e}}function gy(){return typeof window<"u"?window:null}function my(){return typeof document<"u"?document:null}function Ug(n){return new VS(n,!0)}class _y{constructor(e,t,r=1e3,o=1.5,c=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=c,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class IC{constructor(e,t,r,o,c,d,m,T){this.ii=e,this.$o=r,this.Oo=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=T,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new _y(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ge.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ge.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ge.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Cr(t.toString()),Cr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Ie(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,ge.Z)(function*(){e.state=0,e.start()}))}tu(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rb extends IC{constructor(e,t,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function BI(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(T=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===T?1:"REMOVE"===T?2:"CURRENT"===T?3:"RESET"===T?4:ot(),o=e.targetChange.targetIds||[],c=function(T,D){return T.useProto3Json?(ct(void 0===D||"string"==typeof D),Ar.fromBase64String(D||"")):(ct(void 0===D||D instanceof Uint8Array),Ar.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(T){const D=void 0===T.code?ae.UNKNOWN:OI(T.code);return new Ie(D,T.message||"")}(d);t=new X0(r,o,c,m||null)}else if("documentChange"in e){const r=e.documentChange,o=ya(n,r.document.name),c=Sr(r.document.updateTime),d=r.document.createTime?Sr(r.document.createTime):yt.min(),m=new gi({mapValue:{fields:r.document.fields}}),T=Ln.newFoundDocument(o,c,d,m);t=new Cg(r.targetIds||[],r.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const r=e.documentDelete,o=ya(n,r.document),c=r.readTime?Sr(r.readTime):yt.min(),d=Ln.newNoDocument(o,c);t=new Cg([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=ya(n,r.document);t=new Cg([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:o=0,unchangedNames:c}=r,d=new ob(o,c);t=new Q0(r.targetId,d)}}var T;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return yt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?yt.min():c.readTime?Sr(c.readTime):yt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Fn(this.serializer),t.addTarget=function(o,c){let d;const m=c.target;if(d=lf(m)?{documents:HI(o,m)}:{query:ow(o,m)},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=sb(o,c.resumeToken);const T=G_(o,c.expectedCount);null!==T&&(d.expectedCount=T)}else if(c.snapshotVersion.compareTo(yt.min())>0){d.readTime=dd(o,c.snapshotVersion.toTimestamp());const T=G_(o,c.expectedCount);null!==T&&(d.expectedCount=T)}return d}(this.serializer,e);const r=function Ag(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Fn(this.serializer),t.removeTarget=e,this.Wo(t)}}class CC extends IC{constructor(e,t,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function ZI(n,e){return n&&n.length>0?(ct(void 0!==e),n.map(t=>function(r,o){let c=Sr(r.updateTime?r.updateTime:o);return c.isEqual(yt.min())&&(c=Sr(o)),new j0(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Sr(e.commitTime);return this.listener.cu(r,t)}return ct(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fn(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ef(this.serializer,r))};this.Wo(t)}}class yy extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Ie(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Io(e,t,r,o,c)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(ae.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.vo(e,t,r,c,d,o)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ie(ae.UNKNOWN,c.toString())})}terminate(){this.lu=!0}}class DC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Cr(t),this.mu=!1):Oe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class AC{constructor(e,t,r,o,c){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=c,this.Pu.Yr(m=>{r.enqueueAndForget((0,ge.Z)(function*(){var T;wa(d)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(T=(0,ge.Z)(function*(D){const S=We(D);S.vu.add(4),yield xf(S),S.bu.set("Unknown"),S.vu.delete(4),yield md(S)}),function(D){return T.apply(this,arguments)})(d))}))}),this.bu=new DC(r,o)}}function md(n){return vy.apply(this,arguments)}function vy(){return vy=(0,ge.Z)(function*(n){if(wa(n))for(const e of n.Ru)yield e(!0)}),vy.apply(this,arguments)}function xf(n){return wy.apply(this,arguments)}function wy(){return wy=(0,ge.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),wy.apply(this,arguments)}function Bg(n,e){const t=We(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Ty(t)?Hg(t):kf(t).Ko()&&Ow(t,e))}function Zg(n,e){const t=We(n),r=kf(t);t.Au.delete(e),r.Ko()&&Ey(t,e),0===t.Au.size&&(r.Ko()?r.jo():wa(t)&&t.bu.set("Unknown"))}function Ow(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kf(n).su(e)}function Ey(n,e){n.Vu.qt(e),kf(n).iu(e)}function Hg(n){n.Vu=new ld({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),kf(n).start(),n.bu.gu()}function Ty(n){return wa(n)&&!kf(n).Uo()&&n.Au.size>0}function wa(n){return 0===We(n).vu.size}function Iy(n){n.Vu=void 0}function Pb(n){return Pw.apply(this,arguments)}function Pw(){return Pw=(0,ge.Z)(function*(n){n.Au.forEach((e,t)=>{Ow(n,e)})}),Pw.apply(this,arguments)}function Lb(n,e){return Lw.apply(this,arguments)}function Lw(){return Lw=(0,ge.Z)(function*(n,e){Iy(n),Ty(n)?(n.bu.Iu(e),Hg(n)):n.bu.set("Unknown")}),Lw.apply(this,arguments)}function bC(n,e,t){return jg.apply(this,arguments)}function jg(){return jg=(0,ge.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof X0&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(o,c){const d=c.cause;for(const m of c.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $g(n,r)}else if(e instanceof Cg?n.Vu.Ht(e):e instanceof Q0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(yt.min()))try{const r=yield _C(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const d=o.Vu.ce(c);return d.targetChanges.forEach((m,T)=>{if(m.resumeToken.approximateByteSize()>0){const D=o.Au.get(T);D&&o.Au.set(T,D.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,T)=>{const D=o.Au.get(m);if(!D)return;o.Au.set(m,D.withResumeToken(Ar.EMPTY_BYTE_STRING,D.snapshotVersion)),Ey(o,m);const S=new ko(D.target,m,T,D.sequenceNumber);Ow(o,S)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),yield $g(n,r)}var r}),jg.apply(this,arguments)}function $g(n,e,t){return Fw.apply(this,arguments)}function Fw(){return Fw=(0,ge.Z)(function*(n,e,t){if(!la(e))throw e;n.vu.add(1),yield xf(n),n.bu.set("Offline"),t||(t=()=>_C(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield md(n)}))}),Fw.apply(this,arguments)}function Vw(n,e){return e().catch(t=>$g(n,t,e))}function _d(n){return Uw.apply(this,arguments)}function Uw(){return Uw=(0,ge.Z)(function*(n){const e=We(n),t=bu(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;SC(e);)try{const o=yield xb(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,MC(e,o)}catch(o){yield $g(e,o)}xC(e)&&Bw(e)}),Uw.apply(this,arguments)}function SC(n){return wa(n)&&n.Eu.length<10}function MC(n,e){n.Eu.push(e);const t=bu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function xC(n){return wa(n)&&!bu(n).Uo()&&n.Eu.length>0}function Bw(n){bu(n).start()}function Fb(n){return mi.apply(this,arguments)}function mi(){return mi=(0,ge.Z)(function*(n){bu(n).hu()}),mi.apply(this,arguments)}function Nf(n){return Zw.apply(this,arguments)}function Zw(){return Zw=(0,ge.Z)(function*(n){const e=bu(n);for(const t of n.Eu)e.uu(t.mutations)}),Zw.apply(this,arguments)}function Vb(n,e,t){return NC.apply(this,arguments)}function NC(){return NC=(0,ge.Z)(function*(n,e,t){const r=n.Eu.shift(),o=z0.from(r,e,t);yield Vw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield _d(n)}),NC.apply(this,arguments)}function ZS(n,e){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,ge.Z)(function*(n,e){var t;e&&bu(n).ou&&(yield(t=(0,ge.Z)(function*(r,o){if(RI(c=o.code)&&c!==ae.ABORTED){const d=r.Eu.shift();bu(r).Qo(),yield Vw(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield _d(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),xC(n)&&Bw(n)}),Cy.apply(this,arguments)}function Dy(n,e){return yd.apply(this,arguments)}function yd(){return yd=(0,ge.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=wa(t);t.vu.add(3),yield xf(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield md(t)}),yd.apply(this,arguments)}function Hw(n,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,ge.Z)(function*(n,e){const t=We(n);e?(t.vu.delete(2),yield md(t)):e||(t.vu.add(2),yield xf(t),t.bu.set("Unknown"))}),Gg.apply(this,arguments)}function kf(n){return n.Su||(n.Su=function(e,t,r){const o=We(e);return o.fu(),new Rb(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:Pb.bind(null,n),ao:Lb.bind(null,n),nu:bC.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Su.Qo(),Ty(n)?Hg(n):n.bu.set("Unknown")):(yield n.Su.stop(),Iy(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function bu(n){return n.Du||(n.Du=function(e,t,r){const o=We(e);return o.fu(),new CC(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:Fb.bind(null,n),ao:ZS.bind(null,n),au:Nf.bind(null,n),cu:Vb.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Du.Qo(),yield _d(n)):(yield n.Du.stop(),n.Eu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class jw{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,c){const d=Date.now()+r,m=new jw(e,t,d,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rf(n,e){if(Cr("AsyncQueue",`${e}: ${n}`),la(n))return new Ie(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Of{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Je.comparator(t.key,r.key):(t,r)=>Je.comparator(t.key,r.key),this.keyedMap=po(),this.sortedSet=new Sn(this.comparator)}static emptySet(e){return new Of(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Of)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Of;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Ay{constructor(){this.Cu=new Sn(Je.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ot():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class vd{constructor(e,t,r,o,c,d,m,T,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=T,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,o,c){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new vd(e,t,Of.emptySet(t),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class Ub{constructor(){this.Nu=void 0,this.listeners=[]}}class by{constructor(){this.queries=new pa(e=>F0(e),hf),this.onlineState="Unknown",this.ku=new Set}}function qg(n,e){return kC.apply(this,arguments)}function kC(){return kC=(0,ge.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new Ub),o)try{c.Nu=yield t.onListen(r)}catch(d){const m=Rf(d,`Initialization of query '${kc(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,c),c.listeners.push(e),e.Mu(t.onlineState),c.Nu&&e.$u(c.Nu)&&Gw(t)}),kC.apply(this,arguments)}function Sy(n,e){return $w.apply(this,arguments)}function $w(){return $w=(0,ge.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const d=c.listeners.indexOf(e);d>=0&&(c.listeners.splice(d,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),$w.apply(this,arguments)}function RC(n,e){const t=We(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.$u(o)&&(r=!0);d.Nu=o}}r&&Gw(t)}function Pf(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function Gw(n){n.ku.forEach(e=>{e.next()})}class My{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new vd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=vd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class qw{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class Bb{constructor(e){this.serializer=e}rr(e){return ya(this.serializer,e)}ur(e){return e.metadata.exists?iw(this.serializer,e.document,!1):Ln.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Sr(e)}}class Zb{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hb(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=on.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new Bb(this.serializer);for(const o of e)if(o.metadata.queries){const c=r.rr(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||Ht()).add(c);t.set(d,m)}}return t}complete(){var e=this;return(0,ge.Z)(function*(){const t=yield function Nb(n,e,t,r){return Sw.apply(this,arguments)}(e.localStore,new Bb(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield BS(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function Hb(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class OC{constructor(e){this.key=e}}class PC{constructor(e){this.key=e}}class LC{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ht(),this.mutatedKeys=Ht(),this.tc=V0(e),this.ec=new Of(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Ay,o=t?t.ec:this.ec;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const T="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,D="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((S,k)=>{const j=o.get(S),X=wg(this.query,k)?k:null,_e=!!j&&this.mutatedKeys.has(j.key),Pe=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let Ue=!1;j&&X?j.data.isEqual(X.data)?_e!==Pe&&(r.track({type:3,doc:X}),Ue=!0):this.rc(j,X)||(r.track({type:2,doc:X}),Ue=!0,(T&&this.tc(X,T)>0||D&&this.tc(X,D)<0)&&(m=!0)):!j&&X?(r.track({type:0,doc:X}),Ue=!0):j&&!X&&(r.track({type:1,doc:j}),Ue=!0,(T||D)&&(m=!0)),Ue&&(X?(d=d.add(X),c=Pe?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const S="F"===this.query.limitType?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),r.track({type:1,doc:S})}return{ec:d,ic:r,zi:m,mutatedKeys:c}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const c=e.ic.xu();c.sort((D,S)=>function(k,j){const X=_e=>{switch(_e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return X(k)-X(j)}(D.type,S.type)||this.tc(D.doc,S.doc)),this.oc(r);const d=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,T=m!==this.Xu;return this.Xu=m,0!==c.length||T?{snapshot:new vd(this.query,e.ec,o,c,e.mutatedKeys,0===m,T,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Ay,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ht(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new PC(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new OC(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Ht();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return vd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class FC{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class VC{constructor(e){this.key=e,this.fc=!1}}class jb{constructor(e,t,r,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new pa(m=>F0(m),hf),this._c=new Map,this.mc=new Set,this.gc=new Sn(Je.comparator),this.yc=new Map,this.Ic=new ww,this.Tc={},this.Ec=new Map,this.Ac=Uc.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function UC(n,e){return xy.apply(this,arguments)}function xy(){return xy=(0,ge.Z)(function*(n,e){const t=_i(n);let r,o;const c=t.wc.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.lc();else{const d=yield Mf(t.localStore,Ki(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield zw(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&Bg(t.remoteStore,d)}return o}),xy.apply(this,arguments)}function zw(n,e,t,r,o){return Kw.apply(this,arguments)}function Kw(){return Kw=(0,ge.Z)(function*(n,e,t,r,o){n.Rc=(k,j,X)=>{return(_e=(0,ge.Z)(function*(Pe,Ue,wt,kt){let bt=Ue.view.sc(wt);bt.zi&&(bt=yield Lg(Pe.localStore,Ue.query,!1).then(({documents:cn})=>Ue.view.sc(cn,bt)));const Ot=kt&&kt.targetChanges.get(Ue.targetId),Gt=Ue.view.applyChanges(bt,Pe.isPrimaryClient,Ot);return Ry(Pe,Ue.targetId,Gt.cc),Gt.snapshot}),function(Pe,Ue,wt,kt){return _e.apply(this,arguments)})(n,k,j,X);var _e};const c=yield Lg(n.localStore,e,!0),d=new LC(e,c.ir),m=d.sc(c.documents),T=yf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),D=d.applyChanges(m,n.isPrimaryClient,T);Ry(n,t,D.cc);const S=new FC(e,t,d);return n.wc.set(e,S),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),D.snapshot}),Kw.apply(this,arguments)}function BC(n,e){return Ww.apply(this,arguments)}function Ww(){return Ww=(0,ge.Z)(function*(n,e){const t=We(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(c=>!hf(c,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield va(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zg(t.remoteStore,r.targetId),zg(t,r.targetId)}).catch(Cc))):(zg(t,r.targetId),yield va(t.localStore,r.targetId,!0))}),Ww.apply(this,arguments)}function Ny(){return Ny=(0,ge.Z)(function*(n,e,t){const r=tE(n);try{const o=yield function(c,d){const m=We(c),T=Xn.now(),D=d.reduce((j,X)=>j.add(X.key),Ht());let S,k;return m.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=Wi(),_e=Ht();return m.Zi.getEntries(j,D).next(Pe=>{X=Pe,X.forEach((Ue,wt)=>{wt.isValidDocument()||(_e=_e.add(Ue))})}).next(()=>m.localDocuments.getOverlayedDocuments(j,X)).next(Pe=>{S=Pe;const Ue=[];for(const wt of d){const kt=MI(wt,S.get(wt.key).overlayedDocument);null!=kt&&Ue.push(new Iu(wt.key,kt,fI(kt.value.mapValue),Mn.exists(!0)))}return m.mutationQueue.addMutationBatch(j,T,Ue,d)}).next(Pe=>{k=Pe;const Ue=Pe.applyToLocalDocumentSet(S,_e);return m.documentOverlayCache.saveOverlays(j,Pe.batchId,Ue)})}).then(()=>({batchId:k.batchId,changes:EI(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,d,m){let T=c.Tc[c.currentUser.toKey()];T||(T=new Sn(xt)),T=T.insert(d,m),c.Tc[c.currentUser.toKey()]=T}(r,o.batchId,t),yield Su(r,o.changes),yield _d(r.remoteStore)}catch(o){const c=Rf(o,"Failed to persist write");t.reject(c)}}),Ny.apply(this,arguments)}function Yw(n,e){return ky.apply(this,arguments)}function ky(){return ky=(0,ge.Z)(function*(n,e){const t=We(n);try{const r=yield function Mb(n,e){const t=We(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((S,k)=>{const j=o.get(k);if(!j)return;m.push(t.Bs.removeMatchingKeys(c,S.removedDocuments,k).next(()=>t.Bs.addMatchingKeys(c,S.addedDocuments,k)));let X=j.withSequenceNumber(c.currentSequenceNumber);var _e,Pe,Ue;null!==e.targetMismatches.get(k)?X=X.withResumeToken(Ar.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):S.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(S.resumeToken,r)),o=o.insert(k,X),Pe=X,Ue=S,(0===(_e=j).resumeToken.approximateByteSize()||Pe.snapshotVersion.toMicroseconds()-_e.snapshotVersion.toMicroseconds()>=3e8||Ue.addedDocuments.size+Ue.modifiedDocuments.size+Ue.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(c,X))});let T=Wi(),D=Ht();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,S))}),m.push(yC(c,d,e.documentUpdates).next(S=>{T=S.nr,D=S.sr})),!r.isEqual(yt.min())){const S=t.Bs.getLastRemoteSnapshotVersion(c).next(k=>t.Bs.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(S)}return re.waitFor(m).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,T,D)).next(()=>T)}).then(c=>(t.Ji=o,c))}(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.yc.get(c);d&&(ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.fc=!0:o.modifiedDocuments.size>0?ct(d.fc):o.removedDocuments.size>0&&(ct(d.fc),d.fc=!1))}),yield Su(t,r,e)}catch(r){yield Cc(r)}}),ky.apply(this,arguments)}function HC(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((c,d)=>{const m=d.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(c,d){const m=We(c);m.onlineState=d;let T=!1;m.queries.forEach((D,S)=>{for(const k of S.listeners)k.Mu(d)&&(T=!0)}),T&&Gw(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $b(n,e,t){return jC.apply(this,arguments)}function jC(){return jC=(0,ge.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),c=o&&o.key;if(c){let d=new Sn(Je.comparator);d=d.insert(c,Ln.newNoDocument(c,yt.min()));const m=Ht().add(c),T=new _f(yt.min(),new Map,new Sn(xt),d,m);yield Yw(r,T),r.gc=r.gc.remove(c),r.yc.delete(e),Oy(r)}else yield va(r.localStore,e,!1).then(()=>zg(r,e,t)).catch(Cc)}),jC.apply(this,arguments)}function $C(n,e){return GC.apply(this,arguments)}function GC(){return GC=(0,ge.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const o=yield function Sb(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Zi.newChangeBuffer({trackRemovals:!0});return function(d,m,T,D){const S=T.batch,k=S.keys();let j=re.resolve();return k.forEach(X=>{j=j.next(()=>D.getEntry(m,X)).next(_e=>{const Pe=T.docVersions.get(X);ct(null!==Pe),_e.version.compareTo(Pe)<0&&(S.applyToRemoteDocument(_e,T),_e.isValidDocument()&&(_e.setReadTime(T.commitVersion),D.addEntry(_e)))})}),j.next(()=>d.mutationQueue.removeMutationBatch(m,S))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Ht();for(let T=0;T<d.mutationResults.length;++T)d.mutationResults[T].transformResults.length>0&&(m=m.add(d.batch.mutations[T].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);WC(t,r,null),KC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Su(t,o)}catch(o){yield Cc(o)}}),GC.apply(this,arguments)}function HS(n,e,t){return qC.apply(this,arguments)}function qC(){return qC=(0,ge.Z)(function*(n,e,t){const r=We(n);try{const o=yield function(c,d){const m=We(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let D;return m.mutationQueue.lookupMutationBatch(T,d).next(S=>(ct(null!==S),D=S.keys(),m.mutationQueue.removeMutationBatch(T,S))).next(()=>m.mutationQueue.performConsistencyCheck(T)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(T,D,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,D)).next(()=>m.localDocuments.getDocuments(T,D))})}(r.localStore,e);WC(r,e,t),KC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Su(r,o)}catch(o){yield Cc(o)}}),qC.apply(this,arguments)}function zC(){return zC=(0,ge.Z)(function*(n,e){const t=We(n);wa(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const d=We(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=Rf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),zC.apply(this,arguments)}function KC(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function WC(n,e,t){const r=We(n);let o=r.Tc[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function zg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||Gb(n,r)})}function Gb(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Zg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),Oy(n))}function Ry(n,e,t){for(const r of t)r instanceof OC?(n.Ic.addReference(r.key,e),Jw(n,r)):r instanceof PC?(Oe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||Gb(n,r.key)):ot()}function Jw(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Oe("SyncEngine","New document in limbo: "+t),n.mc.add(r),Oy(n))}function Oy(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Je(on.fromString(e)),r=n.Ac.next();n.yc.set(r,new VC(t)),n.gc=n.gc.insert(t,r),Bg(n.remoteStore,new ko(Ki(df(t.path)),r,"TargetPurposeLimboResolution",er.ct))}}function Su(n,e,t){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,ge.Z)(function*(n,e,t){const r=We(n),o=[],c=[],d=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,T)=>{d.push(r.Rc(T,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(T.targetId,D?.fromCache?"not-current":"current"),D){o.push(D);const S=Iw.Li(T.targetId,D);c.push(S)}}))}),yield Promise.all(d),r.dc.nu(o),yield(m=(0,ge.Z)(function*(T,D){const S=We(T);try{yield S.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>re.forEach(D,j=>re.forEach(j.Fi,X=>S.persistence.referenceDelegate.addReference(k,j.targetId,X)).next(()=>re.forEach(j.Bi,X=>S.persistence.referenceDelegate.removeReference(k,j.targetId,X)))))}catch(k){if(!la(k))throw k;Oe("LocalStore","Failed to update sequence numbers: "+k)}for(const k of D){const j=k.targetId;if(!k.fromCache){const X=S.Ji.get(j),Pe=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);S.Ji=S.Ji.insert(j,Pe)}}}),function(T,D){return m.apply(this,arguments)})(r.localStore,c))}),Lf.apply(this,arguments)}function qb(n,e){return YC.apply(this,arguments)}function YC(){return YC=(0,ge.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=yield mC(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(d=>{d.forEach(m=>{m.reject(new Ie(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Su(t,r.er)}var o}),YC.apply(this,arguments)}function $S(n,e){const t=We(n),r=t.yc.get(e);if(r&&r.fc)return Ht().add(r.key);{let o=Ht();const c=t._c.get(e);if(!c)return o;for(const d of c){const m=t.wc.get(d);o=o.unionWith(m.view.nc)}return o}}function GS(n,e){return Py.apply(this,arguments)}function Py(){return Py=(0,ge.Z)(function*(n,e){const t=We(n),r=yield Lg(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&Ry(t,e.targetId,o.cc),o}),Py.apply(this,arguments)}function zb(n,e){return Qw.apply(this,arguments)}function Qw(){return Qw=(0,ge.Z)(function*(n,e){const t=We(n);return Aw(t.localStore,e).then(r=>Su(t,r))}),Qw.apply(this,arguments)}function Kb(n,e,t,r){return JC.apply(this,arguments)}function JC(){return JC=(0,ge.Z)(function*(n,e,t,r){const o=We(n),c=yield function(d,m){const T=We(d),D=We(T.mutationQueue);return T.persistence.runTransaction("Lookup mutation documents","readonly",S=>D.Sn(S,m).next(k=>k?T.localDocuments.getDocuments(S,k):re.resolve(null)))}(o.localStore,e);var m;null!==c?("pending"===t?yield _d(o.remoteStore):"acknowledged"===t||"rejected"===t?(WC(o,e,r||null),KC(o,e),m=e,We(We(o.localStore).mutationQueue).Cn(m)):ot(),yield Su(o,c)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),JC.apply(this,arguments)}function Ly(){return Ly=(0,ge.Z)(function*(n,e){const t=We(n);if(_i(t),tE(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Xw(t,r.toArray());t.vc=!0,yield Hw(t.remoteStore,!0);for(const c of o)Bg(t.remoteStore,c)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((c,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(zg(t,d),va(t.localStore,d,!0))),Zg(t.remoteStore,d)}),yield o,yield Xw(t,r),function(c){const d=We(c);d.yc.forEach((m,T)=>{Zg(d.remoteStore,T)}),d.Ic.Ts(),d.yc=new Map,d.gc=new Sn(Je.comparator)}(t),t.vc=!1,yield Hw(t.remoteStore,!1)}}),Ly.apply(this,arguments)}function Xw(n,e,t){return QC.apply(this,arguments)}function QC(){return QC=(0,ge.Z)(function*(n,e,t){const r=We(n),o=[],c=[];for(const d of e){let m;const T=r._c.get(d);if(T&&0!==T.length){m=yield Mf(r.localStore,Ki(T[0]));for(const D of T){const S=r.wc.get(D),k=yield GS(r,S);k.snapshot&&c.push(k.snapshot)}}else{const D=yield Dw(r.localStore,d);m=yield Mf(r.localStore,D),yield zw(r,ns(D),d,!1,m.resumeToken)}o.push(m)}return r.dc.nu(c),o}),QC.apply(this,arguments)}function ns(n){return vI(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Yb(n){const e=We(n);return We(We(e.localStore).persistence).$i()}function eE(n,e,t,r){return Fy.apply(this,arguments)}function Fy(){return Fy=(0,ge.Z)(function*(n,e,t,r){const o=We(n);if(o.vc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const c=o._c.get(e);if(c&&c.length>0)switch(t){case"current":case"not-current":{const d=yield Aw(o.localStore,wI(c[0])),m=_f.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ar.EMPTY_BYTE_STRING);yield Su(o,d,m);break}case"rejected":yield va(o.localStore,e,!0),zg(o,e,r);break;default:ot()}}),Fy.apply(this,arguments)}function Jb(n,e,t){return XC.apply(this,arguments)}function XC(){return XC=(0,ge.Z)(function*(n,e,t){const r=_i(n);if(r.vc){for(const o of e){if(r._c.has(o)){Oe("SyncEngine","Adding an already active target "+o);continue}const c=yield Dw(r.localStore,o),d=yield Mf(r.localStore,c);yield zw(r,ns(c),d.targetId,!1,d.resumeToken),Bg(r.remoteStore,d)}for(const o of t)r._c.has(o)&&(yield va(r.localStore,o,!1).then(()=>{Zg(r.remoteStore,o),zg(r,o)}).catch(Cc))}}),XC.apply(this,arguments)}function _i(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$S.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$b.bind(null,e),e.dc.nu=RC.bind(null,e.eventManager),e.dc.Pc=Pf.bind(null,e.eventManager),e}function tE(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HS.bind(null,e),e}class Kg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.serializer=Ug(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gC(this.persistence,new pC,e.initialUser,this.serializer)}createPersistence(e){return new iy(oy.zs,this.serializer)}createSharedClientState(e){return new hy}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wg extends Kg{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield tE(r.Vc.syncEngine),yield _d(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return gC(this.persistence,new pC,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ty(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new A_(t,this.persistence);return new Ql(e.asyncQueue,r)}createPersistence(e){const t=fC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ri.withCacheSize(this.cacheSizeBytes):Ri.DEFAULT;return new ay(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,gy(),my(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new hy}}class rE extends Wg{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof Nw&&(r.sharedClientState.syncEngine={jr:Kb.bind(null,o),zr:eE.bind(null,o),Wr:Jb.bind(null,o),$i:Yb.bind(null,o),Qr:zb.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var c=(0,ge.Z)(function*(d){yield function Wb(n,e){return Ly.apply(this,arguments)}(r.Vc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return c.apply(this,arguments)}}())})()}createSharedClientState(e){const t=gy();if(!Nw.D(t))throw new Ie(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=fC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Nw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class wd{initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>HC(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=qb.bind(null,r.syncEngine),yield Hw(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new by}createDatastore(e){const t=Ug(e.databaseInfo.databaseId),r=new kb(e.databaseInfo);return new yy(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=m=>HC(this.syncEngine,m,0),d=EC.D()?new EC:new Vg,new AC(t,r,o,c,d);var t,r,o,c,d}createSyncEngine(e,t){return function(r,o,c,d,m,T,D){const S=new jb(r,o,c,d,m,T);return D&&(S.vc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const r=We(t);Oe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield xf(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eD(n,e=10240){let t=0;return{read:()=>(0,ge.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Cr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class tD{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new lr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const c=yield e.$c(o);return new qw(JSON.parse(c),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ge.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class nD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ie(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ge.Z)(function*(c,d){const m=We(c),T=Fn(m.serializer)+"/documents",D={documents:d.map(X=>_a(m.serializer,X))},S=yield m.vo("BatchGetDocuments",T,D,d.length),k=new Map;S.forEach(X=>{const _e=function ub(n,e){return"found"in e?function(t,r){ct(!!r.found);const o=ya(t,r.found.name),c=Sr(r.found.updateTime),d=r.found.createTime?Sr(r.found.createTime):yt.min(),m=new gi({mapValue:{fields:r.found.fields}});return Ln.newFoundDocument(o,c,d,m)}(n,e):"missing"in e?function(t,r){ct(!!r.missing),ct(!!r.readTime);const o=ya(t,r.missing),c=Sr(r.readTime);return Ln.newNoDocument(o,c)}(n,e):ot()}(m.serializer,X);k.set(_e.key.toString(),_e)});const j=[];return d.forEach(X=>{const _e=k.get(X.toString());ct(!!_e),j.push(_e)}),j}),function(c,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=Je.fromPath(o);e.mutations.push(new G0(c,e.precondition(c)))}),yield(r=(0,ge.Z)(function*(o,c){const d=We(o),m=Fn(d.serializer)+"/documents",T={writes:c.map(D=>Ef(d.serializer,D))};yield d.Io("Commit",m,T)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=yt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ie(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(yt.min())?Mn.exists(!1):Mn.updateTime(t):Mn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yt.min()))throw new Ie(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mn.updateTime(t)}return Mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class rD{constructor(e,t,r,o,c){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=c,this.Bc=r.maxAttempts,this.qo=new _y(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ge.Z)(function*(){const t=new nD(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.Uc(c)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!Xl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!RI(t)}return!1}}class Xb{constructor(e,t,r,o){var c=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Pn.UNAUTHENTICATED,this.clientId=WT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ge.Z)(function*(m){Oe("FirestoreClient","Received user=",m.uid),yield c.authCredentialListener(m),c.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Oe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Rf(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Jg(n,e){return iE.apply(this,arguments)}function iE(){return iE=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ge.Z)(function*(c){r.isEqual(c)||(yield mC(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),iE.apply(this,arguments)}function Qg(n,e){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Xg(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Dy(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,c)=>Dy(e.remoteStore,c)),n._onlineComponents=e}),Ea.apply(this,arguments)}function oE(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Xg(n){return em.apply(this,arguments)}function em(){return em=(0,ge.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!oE(t))throw t;As("Error using user provided cache. Falling back to memory cache: "+t),yield Jg(n,new Kg)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield Jg(n,new Kg);return n._offlineComponents}),em.apply(this,arguments)}function Vy(n){return iD.apply(this,arguments)}function iD(){return iD=(0,ge.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qg(n,n._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield Qg(n,new wd))),n._onlineComponents}),iD.apply(this,arguments)}function sE(n){return Xg(n).then(e=>e.persistence)}function Uy(n){return Xg(n).then(e=>e.localStore)}function oD(n){return Vy(n).then(e=>e.remoteStore)}function aE(n){return Vy(n).then(e=>e.syncEngine)}function Ed(n){return aD.apply(this,arguments)}function aD(){return aD=(0,ge.Z)(function*(n){const e=yield Vy(n),t=e.eventManager;return t.onListen=UC.bind(null,e.syncEngine),t.onUnlisten=BC.bind(null,e.syncEngine),t}),aD.apply(this,arguments)}function t1(n,e,t={}){const r=new lr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(o,c,d,m,T){const D=new Yg({next:k=>{c.enqueueAndForget(()=>Sy(o,S));const j=k.docs.has(d);!j&&k.fromCache?T.reject(new Ie(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&k.fromCache&&m&&"server"===m.source?T.reject(new Ie(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(k)},error:k=>T.reject(k)}),S=new My(df(d.path),D,{includeMetadataChanges:!0,Ku:!0});return qg(o,S)}(yield Ed(n),n.asyncQueue,e,t,r)})),r.promise}function cE(n,e,t={}){const r=new lr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(o,c,d,m,T){const D=new Yg({next:k=>{c.enqueueAndForget(()=>Sy(o,S)),k.fromCache&&"server"===m.source?T.reject(new Ie(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(k)},error:k=>T.reject(k)}),S=new My(d,D,{includeMetadataChanges:!0,Ku:!0});return qg(o,S)}(yield Ed(n),n.asyncQueue,e,t,r)})),r.promise}function Td(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const tm=new Map;function By(n,e,t){if(!t)throw new Ie(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lE(n,e,t,r){if(!0===e&&!0===r)throw new Ie(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fD(n){if(!Je.isDocumentKey(n))throw new Ie(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function pD(n){if(Je.isDocumentKey(n))throw new Ie(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dE(n);throw new Ie(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function gD(n,e){if(e<=0)throw new Ie(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class mD{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ie(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ie(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Td(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Ie(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ie(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ie(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zy{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mD({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ie(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ie(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mD(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new RA;switch(t.type){case"firstParty":return new ug(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ie(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tm.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),tm.delete(e),t.terminate())}(this),Promise.resolve()}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class ei{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ei(this.firestore,e,this._query)}}class Ta extends ei{constructor(e,t,r){super(e,t,df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Je(e))}withConverter(e){return new Ta(this.firestore,e,this._path)}}function _D(n,e,...t){if(n=(0,nn.m9)(n),By("collection","path",e),n instanceof Zy){const r=on.fromString(e,...t);return pD(r),new Ta(n,null,r)}{if(!(n instanceof tr||n instanceof Ta))throw new Ie(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return pD(r),new Ta(n.firestore,null,r)}}function hE(n,e,...t){if(n=(0,nn.m9)(n),1===arguments.length&&(e=WT.A()),By("doc","path",e),n instanceof Zy){const r=on.fromString(e,...t);return fD(r),new tr(n,null,new Je(r))}{if(!(n instanceof tr||n instanceof Ta))throw new Ie(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(on.fromString(e,...t));return fD(r),new tr(n.firestore,n instanceof Ta?n.converter:null,new Je(r))}}function o1(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),(n instanceof tr||n instanceof Ta)&&(e instanceof tr||e instanceof Ta)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yD(n,e){return n=(0,nn.m9)(n),e=(0,nn.m9)(e),n instanceof ei&&e instanceof ei&&n.firestore===e.firestore&&hf(n._query,e._query)&&n.converter===e.converter}class qS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new _y(this,"async_queue_retry"),this.Xc=()=>{const t=my();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=my();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=my();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new lr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!la(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Cr("INTERNAL UNHANDLED ERROR: ",function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),d}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=jw.createAndSchedule(this,e,t,r,c=>this.na(c));return this.zc.push(o),o}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function vD(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class s1{constructor(){this._progressObserver={},this._taskCompletionResolver=new lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qn extends Zy{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new qS,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fE(this),this._firestoreClient.terminate()}}function xn(n){return n._firestoreClient||fE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fE(n){var e,t,r;const o=n._freezeSettings(),c=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new lI(n._databaseId,m,n._persistenceKey,(D=o).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,Td(D.experimentalLongPollingOptions),D.useFetchStreams));var m,D;n._firestoreClient=new Xb(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function wD(n,e,t){const r=new lr;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield Jg(n,t),yield Qg(n,e),r.resolve()}catch(o){const c=o;if(!oE(c))throw c;As("Error enabling indexeddb cache. Falling back to memory cache: "+c),r.reject(c)}})).then(()=>r.promise)}function TD(n){if(n._initialized||n._terminated)throw new Ie(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia(Ar.fromBase64String(e))}catch(t){throw new Ie(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ia(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ca{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ie(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Hc{constructor(e){this._methodName=e}}class $y{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}const l1=/^__.*__$/;class ID{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Iu(e,this.data,this.fieldMask,t,this.fieldTransforms):new cd(e,this.data,t,this.fieldTransforms)}}class Gy{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Iu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class rm{constructor(e,t,r,o,c,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===c&&this.ua(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Xy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(d1(this.ca)&&l1.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class yE{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ug(e)}ya(e,t,r,o=!1){return new rm({ca:e,methodName:t,ga:r,path:dr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(n){const e=n._freezeSettings(),t=Ug(n._databaseId);return new yE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qy(n,e,t,r,o,c={}){const d=n.ya(c.merge||c.mergeFields?2:0,e,t,o);Jy("Data must be an object, but it was:",d,r);const m=Yy(r,d);let T,D;if(c.merge)T=new fo(d.fieldMask),D=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const k of c.mergeFields){const j=im(e,k,t);if(!d.contains(j))throw new Ie(ae.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);TE(S,j)||S.push(j)}T=new fo(S),D=d.fieldTransforms.filter(k=>T.covers(k.field))}else T=null,D=d.fieldTransforms;return new ID(new gi(m),T,D)}class zy extends Hc{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zy}}function h1(n,e,t){return new rm({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vE extends Hc{_toFieldTransform(e){return new Eg(e.path,new ff)}isEqual(e){return e instanceof vE}}class f1 extends Hc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=h1(this,e,!0),r=this.pa.map(c=>Cd(c,t)),o=new Oc(r);return new Eg(e.path,o)}isEqual(e){return this===e}}class p1 extends Hc{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=h1(this,e,!0),r=this.pa.map(c=>Cd(c,t)),o=new ma(r);return new Eg(e.path,o)}isEqual(e){return this===e}}class g1 extends Hc{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ud(e.serializer,Z_(e.serializer,this.Ia));return new Eg(e.path,t)}isEqual(e){return this===e}}function Ky(n,e,t,r){const o=n.ya(1,e,t);Jy("Data must be an object, but it was:",o,r);const c=[],d=gi.empty();ha(r,(T,D)=>{const S=Qy(e,T,t);D=(0,nn.m9)(D);const k=o.da(S);if(D instanceof zy)c.push(S);else{const j=Cd(D,k);null!=j&&(c.push(S),d.set(S,j))}});const m=new fo(c);return new Gy(d,m,o.fieldTransforms)}function Wy(n,e,t,r,o,c){const d=n.ya(1,e,t),m=[im(e,r,t)],T=[o];if(c.length%2!=0)throw new Ie(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<c.length;j+=2)m.push(im(e,c[j])),T.push(c[j+1]);const D=[],S=gi.empty();for(let j=m.length-1;j>=0;--j)if(!TE(D,m[j])){const X=m[j];let _e=T[j];_e=(0,nn.m9)(_e);const Pe=d.da(X);if(_e instanceof zy)D.push(X);else{const Ue=Cd(_e,Pe);null!=Ue&&(D.push(X),S.set(X,Ue))}}const k=new fo(D);return new Gy(S,k,d.fieldTransforms)}function m1(n,e,t,r=!1){return Cd(t,n.ya(r?4:3,e))}function Cd(n,e){if(wE(n=(0,nn.m9)(n)))return Jy("Unsupported field value:",e,n),Yy(n,e);if(n instanceof Hc)return function(t,r){if(!d1(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const d of t){let m=Cd(d,r.wa(c));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,nn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Z_(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Xn.fromDate(t);return{timestampValue:dd(r.serializer,o)}}if(t instanceof Xn){const o=new Xn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dd(r.serializer,o)}}if(t instanceof $y)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ia)return{bytesValue:sb(r.serializer,t._byteString)};if(t instanceof tr){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r._a(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nw(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${dE(t)}`)}(n,e)}function Yy(n,e){const t={};return pg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(n,(r,o)=>{const c=Cd(o,e.ha(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function wE(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xn||n instanceof $y||n instanceof Ia||n instanceof tr||n instanceof Hc)}function Jy(n,e,t){if(!wE(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dE(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function im(n,e,t){if((e=(0,nn.m9)(e))instanceof Ca)return e._internalPath;if("string"==typeof e)return Qy(n,e);throw Xy("Field path arguments must be of type string or ",n,!1,void 0,t)}const EE=new RegExp("[~\\*/\\[\\]]");function Qy(n,e,t){if(e.search(EE)>=0)throw Xy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ca(...e.split("."))._internalPath}catch{throw Xy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xy(n,e,t,r,o){const c=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let T="";return(c||d)&&(T+=" (found",c&&(T+=` in field ${r}`),d&&(T+=` in document ${o}`),T+=")"),new Ie(ae.INVALID_ARGUMENT,m+n+T)}function TE(n,e){return n.some(t=>t.isEqual(e))}class Ff{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new YS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ev("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class YS extends Ff{data(){return super.data()}}function ev(n,e){return"string"==typeof e?Qy(n,e):e instanceof Ca?e._internalPath:e._delegate._internalPath}function om(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ie(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CD{}class sm extends CD{}function Dd(n,e,...t){let r=[];e instanceof CD&&r.push(e),r=r.concat(t),function(o){const c=o.filter(m=>m instanceof am).length,d=o.filter(m=>m instanceof tv).length;if(c>1||c>0&&d>0)throw new Ie(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class tv extends sm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new tv(e,t,r)}_apply(e){const t=this._parse(e);return p(e._query,t),new ei(e.firestore,e.converter,V_(e._query,t))}_parse(e){const t=Id(e.firestore);return function(o,c,d,m,T,D,S){let k;if(T.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Ie(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){h(S,D);const j=[];for(const X of S)j.push(l(m,o,X));k={arrayValue:{values:j}}}else k=l(m,o,S)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||h(S,D),k=m1(d,"where",S,"in"===D||"not-in"===D);return Xt.create(T,D,k)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class am extends CD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new am(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let c=r;const d=o.getFlattenedFilters();for(const m of d)p(c,m),c=V_(c,m)}(e._query,t),new ei(e.firestore,e.converter,V_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class DD extends sm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new DD(e,t)}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new Ie(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ie(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new od(o,c);return function(m,T){if(null===L0(m)){const D=hr(m);null!==D&&_(0,D,T.field)}}(r,d),d}(e._query,this._field,this._direction);return new ei(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new Nc(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class IE extends sm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new IE(e,t,r)}_apply(e){return new ei(e.firestore,e.converter,U_(e._query,this._limit,this._limitType))}}class CE extends sm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new CE(e,t,r)}_apply(e){const t=u(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(o=t,new Nc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class DE extends sm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new DE(e,t,r)}_apply(e){const t=u(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(o=t,new Nc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function u(n,e,t,r){if(t[0]=(0,nn.m9)(t[0]),t[0]instanceof Ff)return function(o,c,d,m,T){if(!m)throw new Ie(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const S of ad(o))if(S.field.isKeyField())D.push(id(c,m.key));else{const k=m.data.field(S.field);if(S_(k))throw new Ie(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+S.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===k){const j=S.field.canonicalString();throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}D.push(k)}return new fa(D,T)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Id(n.firestore);return function(c,d,m,T,D,S){const k=c.explicitOrderBy;if(D.length>k.length)throw new Ie(ae.INVALID_ARGUMENT,`Too many arguments provided to ${T}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let X=0;X<D.length;X++){const _e=D[X];if(k[X].field.isKeyField()){if("string"!=typeof _e)throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${T}(), but got a ${typeof _e}`);if(!F_(c)&&-1!==_e.indexOf("/"))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${T}() must be a plain document ID, but '${_e}' contains a slash.`);const Pe=c.path.child(on.fromString(_e));if(!Je.isDocumentKey(Pe))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${T}() must result in a valid document path, but '${Pe}' is not because it contains an odd number of segments.`);const Ue=new Je(Pe);j.push(id(d,Ue))}else{const Pe=m1(m,T,_e);j.push(Pe)}}return new fa(j,S)}(n._query,n.firestore._databaseId,o,e,t,r)}}function l(n,e,t){if("string"==typeof(t=(0,nn.m9)(t))){if(""===t)throw new Ie(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F_(e)&&-1!==t.indexOf("/"))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(on.fromString(t));if(!Je.isDocumentKey(r))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return id(n,new Je(r))}if(t instanceof tr)return id(n,t._key);throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dE(t)}.`)}function h(n,e){if(!Array.isArray(n)||0===n.length)throw new Ie(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p(n,e){if(e.isInequality()){const r=hr(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const c=L0(n);null!==c&&_(0,o,c)}const t=function(r,o){for(const c of r)for(const d of c.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ie(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _(n,e,t){if(!t.isEqual(e))throw new Ie(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class I{convertValue(e,t="none"){switch(Eu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ha(e,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new $y(br(e.latitude),br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(gg(e));default:return null}}convertTimestamp(e){const t=bs(e);return new Xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=on.fromString(e);ct(Tf(r));const o=new Ac(r.get(1),r.get(3)),c=new Je(r.popFirst(5));return o.isEqual(t)||Cr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function b(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class N extends I{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}class Ze{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class st extends Ff{constructor(e,t,r,o,c,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new we(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class we extends st{data(e={}){return super.data(e)}}class vt{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ze(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new we(this._firestore,this._userDataWriter,r.key,r,new Ze(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new we(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ze(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new we(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ze(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let T=-1,D=-1;return 0!==d.type&&(T=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),1!==d.type&&(c=c.add(d.doc),D=c.indexOf(d.doc.key)),{type:Jt(d.type),doc:m,oldIndex:T,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jt(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function gn(n,e){return n instanceof st&&e instanceof st?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof vt&&e instanceof vt&&n._firestore===e._firestore&&yD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Mu extends I{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function eM(n,e,t){n=en(n,tr);const r=en(n.firestore,qn),o=b(n.converter,e,t);return nv(r,[qy(Id(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Mn.none())])}function tM(n,e,t,...r){n=en(n,tr);const o=en(n.firestore,qn),c=Id(o);let d;return d="string"==typeof(e=(0,nn.m9)(e))||e instanceof Ca?Wy(c,"updateDoc",n._key,e,t,r):Ky(c,"updateDoc",n._key,e),nv(o,[d.toMutation(n._key,Mn.exists(!0))])}function nM(n,...e){var t,r,o;n=(0,nn.m9)(n);let c={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||vD(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges};if(vD(e[d])){const k=e[d];e[d]=null===(t=k.next)||void 0===t?void 0:t.bind(k),e[d+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),e[d+2]=null===(o=k.complete)||void 0===o?void 0:o.bind(k)}let T,D,S;if(n instanceof tr)D=en(n.firestore,qn),S=df(n._key.path),T={next:k=>{e[d]&&e[d](w1(D,n,k))},error:e[d+1],complete:e[d+2]};else{const k=en(n,ei);D=en(k.firestore,qn),S=k._query;const j=new Mu(D);T={next:X=>{e[d]&&e[d](new vt(D,j,k,X))},error:e[d+1],complete:e[d+2]},om(n._query)}return function(k,j,X,_e){const Pe=new Yg(_e),Ue=new My(j,Pe,X);return k.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return qg(yield Ed(k),Ue)})),()=>{Pe.Dc(),k.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return Sy(yield Ed(k),Ue)}))}}(xn(D),S,m,T)}function nv(n,e){return function(t,r){const o=new lr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function ZC(n,e,t){return Ny.apply(this,arguments)}(yield aE(t),r,o)})),o.promise}(xn(n),e)}function w1(n,e,t){const r=t.docs.get(e._key),o=new Mu(n);return new st(n,o,e._key,r,new Ze(t.hasPendingWrites,t.fromCache),e.converter)}const AN={maxAttempts:5};class rM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Id(e)}set(e,t,r){this._verifyNotCommitted();const o=Vf(e,this._firestore),c=b(o.converter,t,r),d=qy(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Mn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=Vf(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Ca?Wy(this._dataReader,"WriteBatch.update",c._key,t,r,o):Ky(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(d.toMutation(c._key,Mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Vf(e,this._firestore);return this._mutations=this._mutations.concat(new gf(t._key,Mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vf(n,e){if((n=(0,nn.m9)(n)).firestore!==e)throw new Ie(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bN extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Id(e)}get(e){const t=Vf(e,this._firestore),r=new N(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ot();const c=o[0];if(c.isFoundDocument())return new Ff(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new Ff(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const o=Vf(e,this._firestore),c=b(o.converter,t,r),d=qy(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const c=Vf(e,this._firestore);let d;return d="string"==typeof(t=(0,nn.m9)(t))||t instanceof Ca?Wy(this._dataReader,"Transaction.update",c._key,t,r,o):Ky(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,d),this}delete(e){const t=Vf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Vf(e,this._firestore),r=new Mu(this._firestore);return super.get(e).then(o=>new st(this._firestore,r,t._key,o._document,new Ze(!1,!1),t.converter))}}function E1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function oM(){if(typeof Uint8Array>"u")throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function sM(){if(!function YA(){return typeof atob<"u"}())throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Jh=fu.SDK_VERSION,(0,fu._registerComponent)(new jm.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const c=t.getProvider("app").getImmediate(),d=new qn(new f0(t.getProvider("auth-internal")),new KT(t.getProvider("app-check-internal")),function(m,T){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ie(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(m.options.projectId,T)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,fu.registerVersion)(I_,"3.13.0",n),(0,fu.registerVersion)(I_,"3.13.0","esm2017")}();class AE{constructor(e){this._delegate=e}static fromBase64String(e){return sM(),new AE(Ia.fromBase64String(e))}static fromUint8Array(e){return oM(),new AE(Ia.fromUint8Array(e))}toBase64(){return sM(),this._delegate.toBase64()}toUint8Array(){return oM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function T1(n){return function LN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class FN{enableIndexedDbPersistence(e,t){return function pE(n,e){TD(n=en(n,qn));const t=xn(n);if(t._uninitializedComponentsProvider)throw new Ie(ae.FAILED_PRECONDITION,"SDK cache is already specified.");As("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new wd;return wD(t,o,new Wg(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function gE(n){TD(n=en(n,qn));const e=xn(n);if(e._uninitializedComponentsProvider)throw new Ie(ae.FAILED_PRECONDITION,"SDK cache is already specified.");As("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new wd;return wD(e,r,new rE(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mE(n){if(n._initialized&&!n._terminated)throw new Ie(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(t=(0,ge.Z)(function*(r){if(!ho.D())return Promise.resolve();const o=r+"main";yield ho.delete(o)}),function(r){return t.apply(this,arguments)})(fC(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class aM{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ac||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&As("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function r1(n,e,t,r={}){var o;const c=(n=en(n,Zy))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),r.mockUserToken){let m,T;if("string"==typeof r.mockUserToken)m=r.mockUserToken,T=Pn.MOCK_USER;else{m=(0,nn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const D=r.mockUserToken.sub||r.mockUserToken.user_id;if(!D)throw new Ie(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Pn(D)}n._authCredentials=new OA(new qT(m,T))}}(this._delegate,e,t,r)}enableNetwork(){return function jy(n){return function uD(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield sE(n),t=yield oD(n);return e.setNetworkEnabled(!0),function(r){const o=We(r);return o.vu.delete(0),md(o)}(t)}))}(xn(n=en(n,qn)))}(this._delegate)}disableNetwork(){return function KS(n){return function e1(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield sE(n),t=yield oD(n);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(o){const c=We(o);c.vu.add(0),yield xf(c),c.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(xn(n=en(n,qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,lE("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _E(n){return function(e){const t=new lr;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function jS(n,e){return zC.apply(this,arguments)}(yield aE(e),t)})),t.promise}(xn(n=en(n,qn)))}(this._delegate)}onSnapshotsInSync(e){return function _N(n,e){return function lD(n,e){const t=new Yg(e);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Ed(n),o=t,We(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Ed(n),o=t,void We(r).ku.delete(o);var r,o}))}}(xn(n=en(n,qn)),vD(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new rv(this,_D(this._delegate,e))}catch(t){throw Ro(t,"collection()","Firestore.collection()")}}doc(e){try{return new Da(this,hE(this._delegate,e))}catch(t){throw Ro(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Oo(this,function i1(n,e){if(n=en(n,Zy),By("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ie(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ei(n,null,(t=e,new Nc(on.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ro(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function SN(n,e,t){n=en(n,qn);const r=Object.assign(Object.assign({},AN),t);return function(o){if(o.maxAttempts<1)throw new Ie(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,c,d){const m=new lr;return o.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const T=yield function sD(n){return Vy(n).then(e=>e.datastore)}(o);new rD(o.asyncQueue,T,d,c,m).run()})),m.promise}(xn(n),o=>e(new bN(n,o)),r)}(this._delegate,t=>e(new uM(this,t)))}batch(){return xn(this._delegate),new cM(new rM(this._delegate,e=>nv(this._delegate,e)))}loadBundle(e){return function WS(n,e){const t=xn(n=en(n,qn)),r=new s1;return function n1(n,e,t,r){const o=function(c,d){let m;return m="string"==typeof c?PI().encode(c):c,T=function(T,D){if(T instanceof Uint8Array)return eD(T,D);if(T instanceof ArrayBuffer)return eD(new Uint8Array(T),D);if(T instanceof ReadableStream)return T.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new tD(T,d);var T}(t,Ug(e));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function nE(n,e,t){const r=We(n);var o;(o=(0,ge.Z)(function*(c,d,m){try{const T=yield d.getMetadata();if(yield function(j,X){const _e=We(j),Pe=Sr(X.createTime);return _e.persistence.runTransaction("hasNewerBundle","readonly",Ue=>_e.qs.getBundleMetadata(Ue,X.id)).then(Ue=>!!Ue&&Ue.createTime.compareTo(Pe)>=0)}(c.localStore,T))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(j=T).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);m._updateProgress(Hb(T));const D=new Zb(T,c.localStore,d.serializer);let S=yield d.bc();for(;S;){const j=yield D.zu(S);j&&m._updateProgress(j),S=yield d.bc()}const k=yield D.complete();return yield Su(c,k.Ju,void 0),yield function(j,X){const _e=We(j);return _e.persistence.runTransaction("Save bundle","readwrite",Pe=>_e.qs.saveBundleMetadata(Pe,X))}(c.localStore,T),m._completeWith(k.progress),Promise.resolve(k.Hu)}catch(T){return As("SyncEngine",`Loading bundle failed with ${T}`),m._failWith(T),Promise.resolve(new Set)}var j}),function(c,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield aE(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function ED(n,e){return function dD(n,e){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(t,r){const o=We(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.qs.getNamedQuery(c,r))}(yield Uy(n),e)}))}(xn(n=en(n,qn)),e).then(t=>t?new ei(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Oo(this,t):null)}}class AD extends I{constructor(e){super(),this.firestore=e}convertBytes(e){return new AE(new Ia(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Da.forKey(t,this.firestore,null)}}class uM{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AD(e)}get(e){const t=cm(e);return this._delegate.get(t).then(r=>new bE(this._firestore,new st(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=cm(e);return r?(E1("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=cm(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=cm(e);return this._delegate.delete(t),this}}class cM{constructor(e){this._delegate=e}set(e,t,r){const o=cm(e);return r?(E1("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=cm(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=cm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class um{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new we(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new SE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=um.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new um(e,new AD(e),t),o.set(t,c)),c}}um.INSTANCES=new WeakMap;class Da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Da(t,new tr(t._delegate,r,new Je(e)))}static forKey(e,t,r){return new Da(t,new tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new rv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new rv(this.firestore,_D(this._delegate,e))}catch(t){throw Ro(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,nn.m9)(e))instanceof tr&&o1(this._delegate,e)}set(e,t){t=E1("DocumentReference.set",t);try{return t?eM(this._delegate,e,t):eM(this._delegate,e)}catch(r){throw Ro(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tM(this._delegate,e):tM(this._delegate,e,t,...r)}catch(o){throw Ro(o,"updateDoc()","DocumentReference.update()")}}delete(){return function gN(n){return nv(en(n.firestore,qn),[new gf(n._key,Mn.none())])}(this._delegate)}onSnapshot(...e){const t=lM(e),r=dM(e,o=>new bE(this.firestore,new st(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return nM(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function lN(n){n=en(n,tr);const e=en(n.firestore,qn),t=xn(e),r=new Mu(e);return function cD(n,e){const t=new lr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(o,c,d){try{const m=yield function(T,D){const S=We(T);return S.persistence.runTransaction("read document","readonly",k=>S.localDocuments.getDocument(k,D))}(o,c);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Ie(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const T=Rf(m,`Failed to get document '${c} from cache`);d.reject(T)}}),function(o,c,d){return r.apply(this,arguments)})(yield Uy(n),e,t);var r})),t.promise}(t,n._key).then(o=>new st(e,r,n._key,o,new Ze(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function dN(n){n=en(n,tr);const e=en(n.firestore,qn);return t1(xn(e),n._key,{source:"server"}).then(t=>w1(e,n,t))}(this._delegate):function ks(n){n=en(n,tr);const e=en(n.firestore,qn);return t1(xn(e),n._key).then(t=>w1(e,n,t))}(this._delegate),t.then(r=>new bE(this.firestore,new st(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function Ro(n,e,t){return n.message=n.message.replace(e,t),n}function lM(n){for(const e of n)if("object"==typeof e&&!T1(e))return e;return{}}function dM(n,e){var t,r;let o;return o=T1(n[0])?n[0]:T1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class bE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gn(this._delegate,e._delegate)}}class SE extends bE{data(e){const t=this._delegate.data(e);return function ag(n,e){n||ot()}(void 0!==t),t}}class Oo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AD(e)}where(e,t,r){try{return new Oo(this.firestore,Dd(this._delegate,function _1(n,e,t){const r=e,o=ev("where",n);return tv._create(o,r,t)}(e,t,r)))}catch(o){throw Ro(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Oo(this.firestore,Dd(this._delegate,function y1(n,e="asc"){const t=e,r=ev("orderBy",n);return DD._create(r,t)}(e,t)))}catch(r){throw Ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Oo(this.firestore,Dd(this._delegate,function JS(n){return gD("limit",n),IE._create("limit",n,"F")}(e)))}catch(t){throw Ro(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Oo(this.firestore,Dd(this._delegate,function QS(n){return gD("limitToLast",n),IE._create("limitToLast",n,"L")}(e)))}catch(t){throw Ro(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Oo(this.firestore,Dd(this._delegate,function XS(...n){return CE._create("startAt",n,!0)}(...e)))}catch(t){throw Ro(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Oo(this.firestore,Dd(this._delegate,function v1(...n){return CE._create("startAfter",n,!1)}(...e)))}catch(t){throw Ro(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Oo(this.firestore,Dd(this._delegate,function i(...n){return DE._create("endBefore",n,!1)}(...e)))}catch(t){throw Ro(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Oo(this.firestore,Dd(this._delegate,function s(...n){return DE._create("endAt",n,!0)}(...e)))}catch(t){throw Ro(t,"endAt()","Query.endAt()")}}isEqual(e){return yD(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function fN(n){n=en(n,ei);const e=en(n.firestore,qn),t=xn(e),r=new Mu(e);return function uE(n,e){const t=new lr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(o,c,d){try{const m=yield Lg(o,c,!0),T=new LC(c,m.ir),D=T.sc(m.documents),S=T.applyChanges(D,!1);d.resolve(S.snapshot)}catch(m){const T=Rf(m,`Failed to execute query '${c} against cache`);d.reject(T)}}),function(o,c,d){return r.apply(this,arguments)})(yield Uy(n),e,t);var r})),t.promise}(t,n._query).then(o=>new vt(e,r,n,o))}(this._delegate):"server"===e?.source?function pN(n){n=en(n,ei);const e=en(n.firestore,qn),t=xn(e),r=new Mu(e);return cE(t,n._query,{source:"server"}).then(o=>new vt(e,r,n,o))}(this._delegate):function hN(n){n=en(n,ei);const e=en(n.firestore,qn),t=xn(e),r=new Mu(e);return om(n._query),cE(t,n._query).then(o=>new vt(e,r,n,o))}(this._delegate),t.then(r=>new I1(this.firestore,new vt(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=lM(e),r=dM(e,o=>new I1(this.firestore,new vt(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return nM(this._delegate,t,r)}withConverter(e){return new Oo(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}class UN{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new SE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class I1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Oo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new SE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new UN(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new SE(this._firestore,r))})}isEqual(e){return gn(this._delegate,e._delegate)}}class rv extends Oo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Da(this.firestore,e):null}doc(e){try{return new Da(this.firestore,void 0===e?hE(this._delegate):hE(this._delegate,e))}catch(t){throw Ro(t,"doc()","CollectionReference.doc()")}}add(e){return function mN(n,e){const t=en(n.firestore,qn),r=hE(n),o=b(n.converter,e);return nv(t,[qy(Id(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Mn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Da(this.firestore,t))}isEqual(e){return o1(this._delegate,e._delegate)}withConverter(e){return new rv(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function cm(n){return en(n,tr)}class C1{constructor(...e){this._delegate=new Ca(...e)}static documentId(){return new C1(dr.keyField().canonicalString())}isEqual(e){return(e=(0,nn.m9)(e))instanceof Ca&&this._delegate._internalPath.isEqual(e._internalPath)}}class lm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function xN(){return new vE("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new lm(e)}static delete(){const e=function MN(){return new zy("deleteField")}();return e._methodName="FieldValue.delete",new lm(e)}static arrayUnion(...e){const t=function NN(...n){return new f1("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new lm(t)}static arrayRemove(...e){const t=function kN(...n){return new p1("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new lm(t)}static increment(e){const t=function RN(n){return new g1("increment",n)}(e);return t._methodName="FieldValue.increment",new lm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const BN={Firestore:aM,GeoPoint:$y,Timestamp:Xn,Blob:AE,Transaction:uM,WriteBatch:cM,DocumentReference:Da,DocumentSnapshot:bE,Query:Oo,QueryDocumentSnapshot:SE,QuerySnapshot:I1,CollectionReference:rv,FieldPath:C1,FieldValue:lm,setLogLevel:function VN(n){!function kA(n){Ic.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function HN(n){(function ZN(n,e){n.INTERNAL.registerComponent(new jm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},BN)))})(n,(e,t)=>new aM(e,t,new FN)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(CS.Z);var dm=R(7579),jN=R(6451),bD=R(5363);function Ji(n,e){return(0,So.e)((t,r)=>{let o=null,c=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,jn.x)(r,T=>{o?.unsubscribe();let D=0;const S=c++;(0,tu.Xf)(n(T,S)).subscribe(o=(0,jn.x)(r,k=>r.next(e?e(T,k,S,D++):k),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var $N=R(6063);class GN extends dm.x{constructor(e=1/0,t=1/0,r=$N.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:d}=this;t||(r.push(e),!o&&r.push(c.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let d=0;d<c.length&&!e.closed;d+=r?1:2)e.next(c[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*e;if(e<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const d=t.now();let m=0;for(let T=1;T<r.length&&r[T]<=d;T+=2)m=T;m&&r.splice(0,m+1)}}}var qN=R(3099);function hM(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,qN.B)({connector:()=>new GN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const SD=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Uf=R(515);function iv(n){return n<=0?()=>Uf.E:(0,So.e)((e,t)=>{let r=0;e.subscribe((0,jn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function MD(n){return(0,So.e)((e,t)=>{let r=!1;e.subscribe((0,jn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function fM(n=KN){return(0,So.e)((e,t)=>{let r=!1;e.subscribe((0,jn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function KN(){return new SD}var xD=R(4671);function Bf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ts((o,c)=>n(o,c,r)):xD.y,iv(1),t?MD(e):fM(()=>new SD))}var ME=R(576);function pM(n,e){return(0,ME.m)(e)?Ji(()=>n,e):Ji(()=>n)}var D1=R(9468);R(259);const b1=new Map,mM={activated:!1,tokenObservers:[]},XN={initialized:!1,enabled:!1};function Ur(n){return b1.get(n)||Object.assign({},mM)}function kD(){return XN}const S1="https://content-firebaseappcheck.googleapis.com/v1",rk="exchangeDebugToken",_M={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class ok{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ge.Z)(function*(){t.stop();try{t.pending=new nn.BH,yield function sk(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new nn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qi=new nn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function M1(n){if(!Ur(n).activated)throw Qi.create("use-before-activation",{appName:n.name})}function PD(n,e){return N1.apply(this,arguments)}function N1(){return N1=(0,ge.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const k=yield o.getHeartbeatsHeader();k&&(r["X-Firebase-Client"]=k)}const c={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,c)}catch(k){throw Qi.create("fetch-network-error",{originalErrorMessage:k?.message})}if(200!==d.status)throw Qi.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(k){throw Qi.create("fetch-parse-error",{originalErrorMessage:k?.message})}const T=m.ttl.match(/^([\d.]+)(s)$/);if(!T||!T[2]||isNaN(Number(T[1])))throw Qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(T[1]),S=Date.now();return{token:m.token,expireTimeMillis:S+D,issuedAtTimeMillis:S}}),N1.apply(this,arguments)}function yM(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${S1}/projects/${t}/apps/${r}:${rk}?key=${o}`,body:{debug_token:e}}}const lk="firebase-app-check-database",dk=1,xE="firebase-app-check-store";let LD=null;function k1(){return k1=(0,ge.Z)(function*(n,e){const r=(yield function wM(){return LD||(LD=new Promise((n,e)=>{try{const t=indexedDB.open(lk,dk);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Qi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xE,{keyPath:"compositeKey"})}}catch(t){e(Qi.create("storage-open",{originalErrorMessage:t?.message}))}}),LD)}()).transaction(xE,"readwrite"),c=r.objectStore(xE).put({compositeKey:n,value:e});return new Promise((d,m)=>{c.onsuccess=T=>{d()},r.onerror=T=>{var D;m(Qi.create("storage-set",{originalErrorMessage:null===(D=T.target.error)||void 0===D?void 0:D.message}))}})}),k1.apply(this,arguments)}const NE=new Jo.Yd("@firebase/app-check");function P1(n,e){return(0,nn.hl)()?function fk(n,e){return function EM(n,e){return k1.apply(this,arguments)}(function IM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{NE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function F1(){return kD().enabled}function V1(){return U1.apply(this,arguments)}function U1(){return U1=(0,ge.Z)(function*(){const n=kD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),U1.apply(this,arguments)}const vk={error:"UNKNOWN_ERROR"};function wk(n){return nn.US.encodeString(JSON.stringify(n),!1)}function FD(n){return B1.apply(this,arguments)}function B1(){return B1=(0,ge.Z)(function*(n,e=!1){const t=n.app;M1(t);const r=Ur(t);let c,o=r.token;if(o&&!ov(o)&&(r.token=void 0,o=void 0),!o){const T=yield r.cachedTokenPromise;T&&(ov(T)?o=T:yield P1(t,void 0))}if(!e&&o&&ov(o))return{token:o.token};let m,d=!1;if(F1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=PD(yM(t,yield V1()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const T=yield r.exchangeTokenPromise;return yield P1(t,T),r.token=T,{token:T.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield Ur(t).exchangeTokenPromise}catch(T){"appCheck/throttled"===T.code?NE.warn(T.message):NE.error(T),c=T}return o?c?m=ov(o)?{token:o.token,internalError:c}:bM(c):(m={token:o.token},r.token=o,yield P1(t,o)):m=bM(c),d&&function AM(n,e){const t=Ur(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),B1.apply(this,arguments)}function Z1(){return Z1=(0,ge.Z)(function*(n){const e=n.app;M1(e);const{provider:t}=Ur(e);if(F1()){const r=yield V1(),{token:o}=yield PD(yM(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}}),Z1.apply(this,arguments)}function j1(n,e){const t=Ur(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function DM(n){const{app:e}=n,t=Ur(e);let r=t.tokenRefresher;r||(r=function Ek(n){const{app:e}=n;return new ok((0,ge.Z)(function*(){let r;if(r=Ur(e).token?yield FD(n,!0):yield FD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ur(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},_M.RETRIAL_MIN_WAIT,_M.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ov(n){return n.expireTimeMillis-Date.now()>0}function bM(n){return{token:wk(vk),error:n}}class Tk{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ur(this.app);for(const t of e)j1(this.app,t.next);return Promise.resolve()}}const PM="app-check-internal";!function Lk(){(0,fu._registerComponent)(new jm.wA("app-check",n=>function Ik(n,e){return new Tk(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(PM).initialize()})),(0,fu._registerComponent)(new jm.wA(PM,n=>function Ck(n){return{getToken:e=>FD(n,e),getLimitedUseToken:()=>function CM(n){return Z1.apply(this,arguments)}(n),addTokenListener:e=>function H1(n,e,t,r){const{app:o}=n,c=Ur(o);if(c.tokenObservers=[...c.tokenObservers,{next:t,error:r,type:e}],c.token&&ov(c.token)){const m=c.token;Promise.resolve().then(()=>{t({token:m.token}),DM(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>DM(n))}(n,"INTERNAL",e),removeTokenListener:e=>j1(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,fu.registerVersion)("@firebase/app-check","0.8.0")}();class z1{constructor(){return(0,Ir.vb)("app-check")}}typeof window<"u"&&window;var Zk=R(9260);const FM=new a.OlP("angularfire2.auth.use-emulator"),VM=new a.OlP("angularfire2.auth.settings"),UM=new a.OlP("angularfire2.auth.tenant-id"),BM=new a.OlP("angularfire2.auth.langugage-code"),ZM=new a.OlP("angularfire2.auth.use-device-language"),HM=new a.OlP("angularfire.auth.persistence"),jM=(n,e,t,r,o,c,d,m)=>(0,Si.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const T=e.runOutsideAngular(()=>n.auth());if(t&&T.useEmulator(...t),r&&(T.tenantId=r),T.languageCode=o,c&&T.useDeviceLanguage(),d)for(const[D,S]of Object.entries(d))T.settings[D]=S;return m&&T.setPersistence(m),T},[t,r,o,c,d,m]);let $M=(()=>{class n{constructor(t,r,o,c,d,m,T,D,S,k,j,X){const _e=new dm.x,Pe=(0,Et.of)(void 0).pipe((0,bD.Q)(d.outsideAngular),Ji(()=>c.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,2644)))),(0,At.U)(()=>(0,Si.on)(t,c,r)),(0,At.U)(Ue=>jM(Ue,c,m,D,S,k,T,j)),hM({bufferSize:1,refCount:!1}));if(cs(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Et.of)(null);else{Pe.pipe(Bf()).subscribe();const wt=Pe.pipe(Ji(Ot=>Ot.getRedirectResult().then(Gt=>Gt,()=>null)),Ir.iC,hM({bufferSize:1,refCount:!1})),kt=Pe.pipe(Ji(Ot=>new vr.y(Gt=>({unsubscribe:c.runOutsideAngular(()=>Ot.onAuthStateChanged(cn=>Gt.next(cn),cn=>Gt.error(cn),()=>Gt.complete()))})))),bt=Pe.pipe(Ji(Ot=>new vr.y(Gt=>({unsubscribe:c.runOutsideAngular(()=>Ot.onIdTokenChanged(cn=>Gt.next(cn),cn=>Gt.error(cn),()=>Gt.complete()))}))));this.authState=wt.pipe(pM(kt),(0,D1.R)(d.outsideAngular),(0,bD.Q)(d.insideAngular)),this.user=wt.pipe(pM(bt),(0,D1.R)(d.outsideAngular),(0,bD.Q)(d.insideAngular)),this.idToken=this.user.pipe(Ji(Ot=>Ot?(0,fn.D)(Ot.getIdToken()):(0,Et.of)(null))),this.idTokenResult=this.user.pipe(Ji(Ot=>Ot?(0,fn.D)(Ot.getIdTokenResult()):(0,Et.of)(null))),this.credential=(0,jN.T)(wt,_e,this.authState.pipe(Ts(Ot=>!Ot))).pipe((0,At.U)(Ot=>Ot?.user?Ot:null),(0,D1.R)(d.outsideAngular),(0,bD.Q)(d.insideAngular))}return(0,Si.pX)(this,Pe,c,{spy:{apply:(Ue,wt,kt)=>{(Ue.startsWith("signIn")||Ue.startsWith("createUser"))&&kt.then(bt=>_e.next(bt))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Si.Dh),a.LFG(Si.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ir.HU),a.LFG(FM,8),a.LFG(VM,8),a.LFG(UM,8),a.LFG(BM,8),a.LFG(ZM,8),a.LFG(HM,8),a.LFG(z1,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function GM(n,e){return function jk(n,e=Ch.z){return new vr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function W1(n,e){return GM(n,e).pipe((0,At.U)(t=>({payload:t,type:"query"})))}function UD(n,e){return W1(n,e).pipe(Lp(void 0),Zm(),(0,At.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const T=o.find(S=>S.doc.ref.isEqual(d.ref)),D=t?.payload.docs.find(S=>S.ref.isEqual(d.ref));T&&JSON.stringify(T.doc.metadata)===JSON.stringify(d.metadata)||!T&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||c.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),c}))}function qM(n,e,t){return UD(n,t).pipe(Dh((r,o)=>function Gk(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function qk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Y1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Y1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Y1(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),(0,Ah.x)(),(0,At.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function Y1(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function zM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class KM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,At.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Lp(void 0),Zm(),Ts(([r,o])=>o.length>0||!r),(0,At.U)(([r,o])=>o),Ir.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zM(e);return qM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}valueChanges(e={}){return W1(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ir.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Ir.iC)}add(e){return this.ref.add(e)}doc(e){return new WM(this.ref.doc(e),this.afs)}}class WM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=QM(r,t);return new KM(o,c,this.afs)}snapshotChanges(){return function $k(n,e){return GM(n,e).pipe(Lp(void 0),Zm(),(0,At.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,At.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(Ir.iC)}}class zk{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UD(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ts(t=>t.length>0),Ir.iC):UD(this.query,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}auditTrail(e){return this.stateChanges(e).pipe(Dh((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zM(e);return qM(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ir.iC)}valueChanges(e={}){return W1(this.query,this.afs.schedulers.outsideAngular).pipe((0,At.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Ir.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Ir.iC)}}const YM=new a.OlP("angularfire2.enableFirestorePersistence"),JM=new a.OlP("angularfire2.firestore.persistenceSettings"),Kk=new a.OlP("angularfire2.firestore.settings"),Wk=new a.OlP("angularfire2.firestore.use-emulator");function QM(n,e=(t=>t)){return{query:e(n),ref:n}}let XM=(()=>{class n{constructor(t,r,o,c,d,m,T,D,S,k,j,X,_e,Pe,Ue,wt,kt){this.schedulers=T;const bt=(0,Si.on)(t,m,r),Ot=S;k&&jM(bt,m,j,_e,Pe,Ue,X,wt),[this.firestore,this.persistenceEnabled$]=(0,Si.cc)(`${bt.name}.firestore`,"AngularFirestore",bt.name,()=>{const Gt=m.runOutsideAngular(()=>bt.firestore());if(c&&Gt.settings(c),Ot&&Gt.useEmulator(...Ot),o&&!cs(d)){const cn=()=>{try{return(0,fn.D)(Gt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(go){return typeof console<"u"&&console.warn(go),(0,Et.of)(!1)}};return[Gt,m.runOutsideAngular(cn)]}return[Gt,(0,Et.of)(!1)]},[c,Ot,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:d}=QM(o,r),m=this.schedulers.ngZone.run(()=>c);return new KM(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),c=this.firestore.collectionGroup(t);return new zk(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new WM(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Si.Dh),a.LFG(Si.xv,8),a.LFG(YM,8),a.LFG(Kk,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Ir.HU),a.LFG(JM,8),a.LFG(Wk,8),a.LFG($M,8),a.LFG(FM,8),a.LFG(VM,8),a.LFG(UM,8),a.LFG(BM,8),a.LFG(ZM,8),a.LFG(HM,8),a.LFG(z1,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Yk=(()=>{class n{constructor(){Zk.Z.registerVersion("angularfire",Ir.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:YM,useValue:!0},{provide:JM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[XM]}),n})();const Jk_firebase={apiKey:"AIzaSyBE-Xqz8366R9ZGFi9PS53BIGMEzFnjnSE",authDomain:"test-cleaver.firebaseapp.com",projectId:"test-cleaver",storageBucket:"test-cleaver.appspot.com",messagingSenderId:"1089347099344",appId:"1:1089347099344:web:f30bfb900a0b0312585cd5"};var xu=R(1135),Xk=R(9672);function J1(...n){const e=(0,Ys.yG)(n),t=(0,Ys.jO)(n),{args:r,keys:o}=Ws(n);if(0===r.length)return(0,fn.D)([],e);const c=new vr.y(function eR(n,e,t=xD.y){return r=>{ex(e,()=>{const{length:o}=n,c=new Array(o);let d=o,m=o;for(let T=0;T<o;T++)ex(e,()=>{const D=(0,fn.D)(n[T],e);let S=!1;D.subscribe((0,jn.x)(r,k=>{c[T]=k,S||(S=!0,m--),m||r.next(t(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>zo(o,d):xD.y));return t?c.pipe(ru(t)):c}function ex(n,e,t){n?(0,Xk.f)(t,n,e):e()}function tx(n){return new vr.y(e=>{(0,tu.Xf)(n()).subscribe(e)})}var tR=R(9635);function kE(n,e){const t=(0,ME.m)(n)?n:()=>n,r=o=>o.error(t());return new vr.y(e?o=>e.schedule(r,0,o):r)}var nx=R(727);function Q1(){return(0,So.e)((n,e)=>{let t=null;n._refCount++;const r=(0,jn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,c=t;t=null,o&&(!c||o===c)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class rx extends vr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,So.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nx.w0;const t=this.getSubject();e.add(this.source.subscribe((0,jn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nx.w0.EMPTY)}return e}refCount(){return Q1()(this)}}var Po=R(5577);function RE(n,e){return(0,ME.m)(e)?(0,Po.z)(n,e,1):(0,Po.z)(n,1)}var Lo=R(8505);function hm(n){return(0,So.e)((e,t)=>{let c,r=null,o=!1;r=e.subscribe((0,jn.x)(t,void 0,void 0,d=>{c=(0,tu.Xf)(n(d,hm(n)(e))),r?(r.unsubscribe(),r=null,c.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(t))})}function X1(n){return n<=0?()=>Uf.E:(0,So.e)((e,t)=>{let r=[];e.subscribe((0,jn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function eS(n){return(0,So.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Kt="primary",OE=Symbol("RouteTitle");class iR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function sv(n){return new iR(n)}function oR(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const d=r[c],m=n[c];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function jc(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!ix(n[o],e[o]))return!1;return!0}function ix(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function ox(n){return n.length>0?n[n.length-1]:null}function Zf(n){return function Qk(n){return!!n&&(n instanceof vr.y||(0,ME.m)(n.lift)&&(0,ME.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,fn.D)(Promise.resolve(n)):(0,Et.of)(n)}const aR={exact:function ux(n,e,t){if(!fm(n.segments,e.segments)||!BD(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ux(n.children[r],e.children[r],t))return!1;return!0},subset:cx},sx={exact:function uR(n,e){return jc(n,e)},subset:function cR(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ix(n[t],e[t]))},ignored:()=>!0};function ax(n,e,t){return aR[t.paths](n.root,e.root,t.matrixParams)&&sx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cx(n,e,t){return lx(n,e,e.segments,t)}function lx(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!fm(o,t)||e.hasChildren()||!BD(o,t,r))}if(n.segments.length===t.length){if(!fm(n.segments,t)||!BD(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!cx(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(fm(n.segments,o)&&BD(n.segments,o,r)&&n.children[Kt])&&lx(n.children[Kt],e,c,r)}}function BD(n,e,t){return e.every((r,o)=>sx[t](n[o].parameters,r.parameters))}class av{constructor(e=new Nn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sv(this.queryParams)),this._queryParamMap}toString(){return hR.serialize(this)}}class Nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ZD(this)}}class PE{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=sv(this.parameters)),this._parameterMap}toString(){return fx(this)}}function fm(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let LE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new tS},providedIn:"root"}),n})();class tS{parse(e){const t=new IR(e);return new av(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${FE(e.root,!0)}`,r=function gR(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${HD(t)}=${HD(o)}`).join("&"):`${HD(t)}=${HD(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function fR(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const hR=new tS;function ZD(n){return n.segments.map(e=>fx(e)).join("/")}function FE(n,e){if(!n.hasChildren())return ZD(n);if(e){const t=n.children[Kt]?FE(n.children[Kt],!1):"",r=[];return Object.entries(n.children).forEach(([o,c])=>{o!==Kt&&r.push(`${o}:${FE(c,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function dR(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===Kt&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==Kt&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===Kt?[FE(n.children[Kt],!1)]:[`${o}:${FE(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${ZD(n)}/${t[0]}`:`${ZD(n)}/(${t.join("//")})`}}function dx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function HD(n){return dx(n).replace(/%3B/gi,";")}function nS(n){return dx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jD(n){return decodeURIComponent(n)}function hx(n){return jD(n.replace(/\+/g,"%20"))}function fx(n){return`${nS(n.path)}${function pR(n){return Object.keys(n).map(e=>`;${nS(e)}=${nS(n[e])}`).join("")}(n.parameters)}`}const mR=/^[^\/()?;#]+/;function rS(n){const e=n.match(mR);return e?e[0]:""}const _R=/^[^\/()?;=#]+/,vR=/^[^=?&#]+/,ER=/^[^&#]+/;class IR{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Kt]=new Nn(e,t)),r}parseSegment(){const e=rS(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new PE(jD(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function yR(n){const e=n.match(_R);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=rS(this.remaining);o&&(r=o,this.capture(r))}e[jD(t)]=jD(r)}parseQueryParam(e){const t=function wR(n){const e=n.match(vR);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function TR(n){const e=n.match(ER);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=hx(t),c=hx(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rS(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new a.vHH(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Kt);const d=this.parseChildren();t[c]=1===Object.keys(d).length?d[Kt]:new Nn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function px(n){return n.segments.length>0?new Nn([],{[Kt]:n}):n}function gx(n){const e={};for(const r of Object.keys(n.children)){const c=gx(n.children[r]);if(r===Kt&&0===c.segments.length&&c.hasChildren())for(const[d,m]of Object.entries(c.children))e[d]=m;else(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function CR(n){if(1===n.numberOfChildren&&n.children[Kt]){const e=n.children[Kt];return new Nn(n.segments.concat(e.segments),e.children)}return n}(new Nn(n.segments,e))}function pm(n){return n instanceof av}function mx(n){let e;const o=px(function t(c){const d={};for(const T of c.children){const D=t(T);d[T.outlet]=D}const m=new Nn(c.url,d);return c===n&&(e=m),m}(n.root));return e??o}function _x(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return iS(o,o,o,t,r);const c=function AR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vx(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return Object.entries(c.outlets).forEach(([T,D])=>{m[T]="string"==typeof D?D.split("/"):D}),[...o,{outlets:m}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===d?(c.split("/").forEach((m,T)=>{0==T&&"."===m||(0==T&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,c]},[]);return new vx(t,e,r)}(e);if(c.toRoot())return iS(o,o,new Nn([],{}),t,r);const d=function bR(n,e,t){if(n.isAbsolute)return new GD(e,!0,0);if(!t)return new GD(e,!1,NaN);if(null===t.parent)return new GD(t,!0,0);const r=$D(n.commands[0])?0:1;return function SR(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new a.vHH(4005,!1);o=r.segments.length}return new GD(r,!1,o-c)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(c,o,n),m=d.processChildren?UE(d.segmentGroup,d.index,c.commands):wx(d.segmentGroup,d.index,c.commands);return iS(o,d.segmentGroup,m,t,r)}function $D(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function VE(n){return"object"==typeof n&&null!=n&&n.outlets}function iS(n,e,t,r,o){let d,c={};r&&Object.entries(r).forEach(([T,D])=>{c[T]=Array.isArray(D)?D.map(S=>`${S}`):`${D}`}),d=n===e?t:yx(n,e,t);const m=px(gx(d));return new av(m,c,o)}function yx(n,e,t){const r={};return Object.entries(n.children).forEach(([o,c])=>{r[o]=c===e?t:yx(c,e,t)}),new Nn(n.segments,r)}class vx{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$D(r[0]))throw new a.vHH(4003,!1);const o=r.find(VE);if(o&&o!==ox(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class GD{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function wx(n,e,t){if(n||(n=new Nn([],{})),0===n.segments.length&&n.hasChildren())return UE(n,e,t);const r=function xR(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const d=n.segments[o],m=t[r];if(VE(m))break;const T=`${m}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===T)break;if(T&&D&&"object"==typeof D&&void 0===D.outlets){if(!Tx(T,D,d))return c;r+=2}else{if(!Tx(T,{},d))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Nn(n.segments.slice(0,r.pathIndex),{});return c.children[Kt]=new Nn(n.segments.slice(r.pathIndex),n.children),UE(c,0,o)}return r.match&&0===o.length?new Nn(n.segments,{}):r.match&&!n.hasChildren()?oS(n,e,t):r.match?UE(n,0,o):oS(n,e,t)}function UE(n,e,t){if(0===t.length)return new Nn(n.segments,{});{const r=function MR(n){return VE(n[0])?n[0].outlets:{[Kt]:n}}(t),o={};if(!r[Kt]&&n.children[Kt]&&1===n.numberOfChildren&&0===n.children[Kt].segments.length){const c=UE(n.children[Kt],e,t);return new Nn(n.segments,c.children)}return Object.entries(r).forEach(([c,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[c]=wx(n.children[c],e,d))}),Object.entries(n.children).forEach(([c,d])=>{void 0===r[c]&&(o[c]=d)}),new Nn(n.segments,o)}}function oS(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(VE(c)){const T=NR(c.outlets);return new Nn(r,T)}if(0===o&&$D(t[0])){r.push(new PE(n.segments[e].path,Ex(t[0]))),o++;continue}const d=VE(c)?c.outlets[Kt]:`${c}`,m=o<t.length-1?t[o+1]:null;d&&m&&$D(m)?(r.push(new PE(d,Ex(m))),o+=2):(r.push(new PE(d,{})),o++)}return new Nn(r,{})}function NR(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=oS(new Nn([],{}),0,r))}),e}function Ex(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Tx(n,e,t){return n==t.path&&jc(e,t.parameters)}const BE="imperative";class $c{constructor(e,t){this.id=e,this.url=t}}class sS extends $c{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gm extends $c{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qD extends $c{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ZE extends $c{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class aS extends $c{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kR extends $c{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RR extends $c{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class OR extends $c{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class PR extends $c{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LR extends $c{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FR{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class VR{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class UR{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BR{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZR{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HR{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ix{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jR{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new HE,this.attachRef=null}}let HE=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new jR,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Cx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uS(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uS(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=cS(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return cS(e,this._root).map(t=>t.value)}}function uS(n,e){if(n===e.value)return e;for(const t of e.children){const r=uS(n,t);if(r)return r}return null}function cS(n,e){if(n===e.value)return[e];for(const t of e.children){const r=cS(n,t);if(r.length)return r.unshift(e),r}return[]}class Ad{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function uv(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Dx extends Cx{constructor(e,t){super(e),this.snapshot=t,lS(this,e)}toString(){return this.snapshot.toString()}}function Ax(n,e){const t=function $R(n,e){const d=new zD([],{},{},"",{},Kt,e,null,{});return new Sx("",new Ad(d,[]))}(0,e),r=new xu.X([new PE("",{})]),o=new xu.X({}),c=new xu.X({}),d=new xu.X({}),m=new xu.X(""),T=new cv(r,o,d,m,c,Kt,e,t.root);return T.snapshot=t.root,new Dx(new Ad(T,[]),t)}class cv{constructor(e,t,r,o,c,d,m,T){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=c,this.outlet=d,this.component=m,this._futureSnapshot=T,this.title=this.dataSubject?.pipe((0,At.U)(D=>D[OE]))??(0,Et.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.U)(e=>sv(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.U)(e=>sv(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bx(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function GR(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class zD{get title(){return this.data?.[OE]}constructor(e,t,r,o,c,d,m,T,D){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=d,this.component=m,this.routeConfig=T,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sx extends Cx{constructor(e,t){super(t),this.url=e,lS(this,t)}toString(){return Mx(this._root)}}function lS(n,e){e.value._routerState=n,e.children.forEach(t=>lS(n,t))}function Mx(n){const e=n.children.length>0?` { ${n.children.map(Mx).join(", ")} } `:"";return`${n.value}${e}`}function dS(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,jc(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),jc(e.params,t.params)||n.paramsSubject.next(t.params),function sR(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!jc(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),jc(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hS(n,e){const t=jc(n.params,e.params)&&function lR(n,e){return fm(n,e)&&n.every((t,r)=>jc(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hS(n.parent,e.parent))}let fS=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(HE),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(KD,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,T=new qR(t,m,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:T,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class qR{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===cv?this.route:e===HE?this.childContexts:this.parent.get(e,t)}}const KD=new a.OlP("");let xx=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=J1([r.queryParams,r.params,r.data]).pipe(Ji(([c,d,m],T)=>(m={...c,...d,...m},0===T?(0,Et.of)(m):Promise.resolve(m)))).subscribe(c=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const d=(0,a.qFp)(r.component);if(d)for(const{templateName:m}of d.inputs)t.activatedComponentRef.setInput(m,c[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function jE(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function KR(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return jE(n,r,o);return jE(n,r)})}(n,e,t);return new Ad(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>jE(n,m)),d}}const r=function WR(n){return new cv(new xu.X(n.url),new xu.X(n.params),new xu.X(n.queryParams),new xu.X(n.fragment),new xu.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>jE(n,c));return new Ad(r,o)}}const pS="ngNavigationCancelingError";function Nx(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=pm(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=kx(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function kx(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pS]=!0,r.cancellationCode=e,t&&(r.url=t),r}function Rx(n){return Ox(n)&&pm(n.url)}function Ox(n){return n&&n[pS]}let Px=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[fS],encapsulation:2}),n})();function gS(n){const e=n.children&&n.children.map(gS),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kt&&(t.component=Px),t}function Nu(n){return n.outlet||Kt}function $E(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class nO{constructor(e,t,r,o,c){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=c}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dS(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=uv(t);e.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,o[d],r),delete o[d]}),Object.values(o).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=uv(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=uv(e);for(const d of Object.keys(c))this.deactivateRouteAndItsChildren(c[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=uv(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new HR(c.value.snapshot))}),e.children.length&&this.forwardEvent(new BR(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(dS(o),o===c)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),dS(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=$E(o.snapshot);d.attachRef=null,d.route=o,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Lx{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class WD{constructor(e,t){this.component=e,this.route=t}}function rO(n,e,t){const r=n._root;return GE(r,e?e._root:null,t,[r.value])}function lv(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function GE(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=uv(e);return n.children.forEach(d=>{(function oO(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const T=function sO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fm(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fm(n.url,e.url)||!jc(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hS(n,e)||!jc(n.queryParams,e.queryParams);default:return!hS(n,e)}}(d,c,c.routeConfig.runGuardsAndResolvers);T?o.canActivateChecks.push(new Lx(r)):(c.data=d.data,c._resolvedData=d._resolvedData),GE(n,e,c.component?m?m.children:null:t,r,o),T&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new WD(m.outlet.component,d))}else d&&qE(e,m,o),o.canActivateChecks.push(new Lx(r)),GE(n,null,c.component?m?m.children:null:t,r,o)})(d,c[d.value.outlet],t,r.concat([d.value]),o),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,m])=>qE(m,t.getContext(d),o)),o}function qE(n,e,t){const r=uv(n),o=n.value;Object.entries(r).forEach(([c,d])=>{qE(d,o.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new WD(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function zE(n){return"function"==typeof n}function Fx(n){return n instanceof SD||"EmptyError"===n?.name}const YD=Symbol("INITIAL_VALUE");function dv(){return Ji(n=>J1(n.map(e=>e.pipe(iv(1),Lp(YD)))).pipe((0,At.U)(e=>{for(const t of e)if(!0!==t){if(t===YD)return YD;if(!1===t||t instanceof av)return t}return!0}),Ts(e=>e!==YD),iv(1)))}function Vx(n){return(0,tR.z)((0,Lo.b)(e=>{if(pm(e))throw Nx(0,e)}),(0,At.U)(e=>!0===e))}class JD{constructor(e){this.segmentGroup=e||null}}class Ux{constructor(e){this.urlTree=e}}function hv(n){return kE(new JD(n))}function Bx(n){return kE(new Ux(n))}class AO{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new a.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Et.of)(r);if(o.numberOfChildren>1||!o.children[Kt])return kE(new a.vHH(4e3,!1));o=o.children[Kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new av(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,c])=>{if("string"==typeof c&&c.startsWith(":")){const m=c.substring(1);r[o]=t[m]}else r[o]=c}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let d={};return Object.entries(t.children).forEach(([m,T])=>{d[m]=this.createSegmentGroup(e,T,r,o)}),new Nn(c,d)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new a.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const mS={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bO(n,e,t,r,o){const c=_S(n,e,t);return c.matched?(r=function YR(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function IO(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,Et.of)(!0);const c=o.map(d=>{const m=lv(d,n);return Zf(function hO(n){return n&&zE(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,Et.of)(c).pipe(dv(),Vx())}(r,e,t).pipe((0,At.U)(d=>!0===d?c:{...mS}))):(0,Et.of)(c)}function _S(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mS}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||oR)(t,n,e);if(!o)return{...mS};const c={};Object.entries(o.posParams??{}).forEach(([m,T])=>{c[m]=T.path});const d=o.consumed.length>0?{...c,...o.consumed[o.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Zx(n,e,t,r){return t.length>0&&function xO(n,e,t){return t.some(r=>QD(n,e,r)&&Nu(r)!==Kt)}(n,t,r)?{segmentGroup:new Nn(e,MO(r,new Nn(t,n.children))),slicedSegments:[]}:0===t.length&&function NO(n,e,t){return t.some(r=>QD(n,e,r))}(n,t,r)?{segmentGroup:new Nn(n.segments,SO(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Nn(n.segments,n.children),slicedSegments:t}}function SO(n,e,t,r,o){const c={};for(const d of r)if(QD(n,t,d)&&!o[Nu(d)]){const m=new Nn([],{});c[Nu(d)]=m}return{...o,...c}}function MO(n,e){const t={};t[Kt]=e;for(const r of n)if(""===r.path&&Nu(r)!==Kt){const o=new Nn([],{});t[Nu(r)]=o}return t}function QD(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class PO{constructor(e,t,r,o,c,d,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new AO(this.urlSerializer,this.urlTree)}noMatchError(e){return new a.vHH(4002,!1)}recognize(){const e=Zx(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Kt).pipe(hm(t=>{if(t instanceof Ux)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof JD?this.noMatchError(t):t}),(0,At.U)(t=>{const r=new zD([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,{}),o=new Ad(r,t),c=new Sx("",o),d=function DR(n,e,t=null,r=null){return _x(mx(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(c._root),{state:c,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Kt).pipe(hm(r=>{throw r instanceof JD?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=bx(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,fn.D)(o).pipe(RE(c=>{const d=r.children[c],m=function eO(n,e){const t=n.filter(r=>Nu(r)===e);return t.push(...n.filter(r=>Nu(r)!==e)),t}(t,c);return this.processSegmentGroup(e,m,d,c)}),Dh((c,d)=>(c.push(...d),c)),MD(null),function nR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ts((o,c)=>n(o,c,r)):xD.y,X1(1),t?MD(e):fM(()=>new SD))}(),(0,Po.z)(c=>{if(null===c)return hv(r);const d=Hx(c);return function LO(n){n.sort((e,t)=>e.value.outlet===Kt?-1:t.value.outlet===Kt?1:e.value.outlet.localeCompare(t.value.outlet))}(d),(0,Et.of)(d)}))}processSegment(e,t,r,o,c,d){return(0,fn.D)(t).pipe(RE(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,c,d).pipe(hm(T=>{if(T instanceof JD)return(0,Et.of)(null);throw T}))),Bf(m=>!!m),hm(m=>{if(Fx(m))return function RO(n,e,t){return 0===e.length&&!n.children[t]}(r,o,c)?(0,Et.of)([]):hv(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,c,d,m){return function kO(n,e,t,r){return!!(Nu(n)===r||r!==Kt&&QD(e,t,n))&&("**"===n.path||_S(e,n,t).matched)}(r,o,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,c,d,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,c,d):hv(o):hv(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bx(c):this.applyRedirects.lineralizeSegments(r,c).pipe((0,Po.z)(d=>{const m=new Nn(d,{});return this.processSegment(e,t,m,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,d){const{matched:m,consumedSegments:T,remainingSegments:D,positionalParamSegments:S}=_S(t,o,c);if(!m)return hv(t);const k=this.applyRedirects.applyRedirectCommands(T,o.redirectTo,S);return o.redirectTo.startsWith("/")?Bx(k):this.applyRedirects.lineralizeSegments(o,k).pipe((0,Po.z)(j=>this.processSegment(e,r,t,j.concat(D),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,c,d){let m;if("**"===r.path){const T=o.length>0?ox(o).parameters:{},D=new zD(o,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jx(r),Nu(r),r.component??r._loadedComponent??null,r,$x(r));m=(0,Et.of)({snapshot:D,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=bO(t,r,o,e).pipe((0,At.U)(({matched:T,consumedSegments:D,remainingSegments:S,parameters:k})=>T?{snapshot:new zD(D,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,jx(r),Nu(r),r.component??r._loadedComponent??null,r,$x(r)),consumedSegments:D,remainingSegments:S}:null));return m.pipe(Ji(T=>null===T?hv(t):this.getChildConfig(e=r._injector??e,r,o).pipe(Ji(({routes:D})=>{const S=r._loadedInjector??e,{snapshot:k,consumedSegments:j,remainingSegments:X}=T,{segmentGroup:_e,slicedSegments:Pe}=Zx(t,j,X,D);if(0===Pe.length&&_e.hasChildren())return this.processChildren(S,D,_e).pipe((0,At.U)(wt=>null===wt?null:[new Ad(k,wt)]));if(0===D.length&&0===Pe.length)return(0,Et.of)([new Ad(k,[])]);const Ue=Nu(r)===c;return this.processSegment(S,D,_e,Pe,Ue?Kt:c,!0).pipe((0,At.U)(wt=>[new Ad(k,wt)]))}))))}getChildConfig(e,t,r){return t.children?(0,Et.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,Et.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function TO(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,Et.of)(!0);const c=o.map(d=>{const m=lv(d,n);return Zf(function uO(n){return n&&zE(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,Et.of)(c).pipe(dv(),Vx())}(e,t,r).pipe((0,Po.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Lo.b)(c=>{t._loadedRoutes=c.routes,t._loadedInjector=c.injector})):function DO(n){return kE(kx(!1,3))}())):(0,Et.of)({routes:[],injector:e})}}function FO(n){const e=n.value.routeConfig;return e&&""===e.path}function Hx(n){const e=[],t=new Set;for(const r of n){if(!FO(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Hx(r.children);e.push(new Ad(r.value,o))}return e.filter(r=>!t.has(r))}function jx(n){return n.data||{}}function $x(n){return n.resolve||{}}function Gx(n){return"string"==typeof n.title||null===n.title}function yS(n){return Ji(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,At.U)(()=>e)):(0,Et.of)(e)})}const fv=new a.OlP("ROUTES");let vS=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,Et.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Zf(t.loadComponent()).pipe((0,At.U)(qx),(0,Lo.b)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=c}),eS(()=>{this.componentLoaders.delete(t)})),o=new rx(r,()=>new dm.x).pipe(Q1());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,Et.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,At.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let T,D;return Array.isArray(m)?D=m:(T=m.create(t).injector,D=T.get(fv,[],a.XFs.Self|a.XFs.Optional).flat()),{routes:D.map(gS),injector:T}}),eS(()=>{this.childrenLoaders.delete(r)})),d=new rx(c,()=>new dm.x).pipe(Q1());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Zf(t()).pipe((0,At.U)(qx),(0,Po.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,Et.of)(r):(0,fn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qx(n){return function $O(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let XD=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new dm.x,this.configLoader=(0,a.f3M)(vS),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(LE),this.rootContexts=(0,a.f3M)(HE),this.inputBindingEnabled=null!==(0,a.f3M)(KD,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Et.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new VR(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new FR(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new xu.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:BE,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ts(r=>0!==r.id),(0,At.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ji(r=>{let o=!1,c=!1;return(0,Et.of)(r).pipe((0,Lo.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ji(d=>{const m=t.browserUrlTree.toString(),T=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!T&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const S="";return this.events.next(new ZE(d.id,t.serializeUrl(r.rawUrl),S,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Uf.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return zx(d.source)&&(t.browserUrlTree=d.extractedUrl),(0,Et.of)(d).pipe(Ji(S=>{const k=this.transitions?.getValue();return this.events.next(new sS(S.id,this.urlSerializer.serialize(S.extractedUrl),S.source,S.restoredState)),k!==this.transitions?.getValue()?Uf.E:Promise.resolve(S)}),function VO(n,e,t,r,o,c){return(0,Po.z)(d=>function OO(n,e,t,r,o,c,d="emptyOnly"){return new PO(n,e,t,r,o,d,c).recognize()}(n,e,t,r,d.extractedUrl,o,c).pipe((0,At.U)(({state:m,tree:T})=>({...d,targetSnapshot:m,urlAfterRedirects:T}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Lo.b)(S=>{if(r.targetSnapshot=S.targetSnapshot,r.urlAfterRedirects=S.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!S.extras.skipLocationChange){const j=t.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);t.setBrowserUrl(j,S)}t.browserUrlTree=S.urlAfterRedirects}const k=new kR(S.id,this.urlSerializer.serialize(S.extractedUrl),this.urlSerializer.serialize(S.urlAfterRedirects),S.targetSnapshot);this.events.next(k)}));if(T&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:S,extractedUrl:k,source:j,restoredState:X,extras:_e}=d,Pe=new sS(S,this.urlSerializer.serialize(k),j,X);this.events.next(Pe);const Ue=Ax(0,this.rootComponentType).snapshot;return r={...d,targetSnapshot:Ue,urlAfterRedirects:k,extras:{..._e,skipLocationChange:!1,replaceUrl:!1}},(0,Et.of)(r)}{const S="";return this.events.next(new ZE(d.id,t.serializeUrl(r.extractedUrl),S,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Uf.E}}),(0,Lo.b)(d=>{const m=new RR(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,At.U)(d=>r={...d,guards:rO(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function pO(n,e){return(0,Po.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:d}}=t;return 0===d.length&&0===c.length?(0,Et.of)({...t,guardsResult:!0}):function gO(n,e,t,r){return(0,fn.D)(n).pipe((0,Po.z)(o=>function EO(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Et.of)(!0);const d=c.map(m=>{const T=$E(e)??o,D=lv(m,T);return Zf(function dO(n){return n&&zE(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):T.runInContext(()=>D(n,e,t,r))).pipe(Bf())});return(0,Et.of)(d).pipe(dv())}(o.component,o.route,t,e,r)),Bf(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Po.z)(m=>m&&function aO(n){return"boolean"==typeof n}(m)?function mO(n,e,t,r){return(0,fn.D)(e).pipe(RE(o=>Cv(function yO(n,e){return null!==n&&e&&e(new UR(n)),(0,Et.of)(!0)}(o.route.parent,r),function _O(n,e){return null!==n&&e&&e(new ZR(n)),(0,Et.of)(!0)}(o.route,r),function wO(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(d=>function iO(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>tx(()=>{const m=d.guards.map(T=>{const D=$E(d.node)??t,S=lv(T,D);return Zf(function lO(n){return n&&zE(n.canActivateChild)}(S)?S.canActivateChild(r,n):D.runInContext(()=>S(r,n))).pipe(Bf())});return(0,Et.of)(m).pipe(dv())}));return(0,Et.of)(c).pipe(dv())}(n,o.path,t),function vO(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Et.of)(!0);const o=r.map(c=>tx(()=>{const d=$E(e)??t,m=lv(c,d);return Zf(function cO(n){return n&&zE(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(Bf())}));return(0,Et.of)(o).pipe(dv())}(n,o.route,t))),Bf(o=>!0!==o,!0))}(r,c,n,e):(0,Et.of)(m)),(0,At.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,Lo.b)(d=>{if(r.guardsResult=d.guardsResult,pm(d.guardsResult))throw Nx(0,d.guardsResult);const m=new OR(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Ts(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),yS(d=>{if(d.guards.canActivateChecks.length)return(0,Et.of)(d).pipe((0,Lo.b)(m=>{const T=new PR(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(T)}),Ji(m=>{let T=!1;return(0,Et.of)(m).pipe(function UO(n,e){return(0,Po.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Et.of)(t);let c=0;return(0,fn.D)(o).pipe(RE(d=>function BO(n,e,t,r){const o=n.routeConfig,c=n._resolve;return void 0!==o?.title&&!Gx(o)&&(c[OE]=o.title),function ZO(n,e,t,r){const o=function HO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,Et.of)({});const c={};return(0,fn.D)(o).pipe((0,Po.z)(d=>function jO(n,e,t,r){const o=$E(e)??r,c=lv(n,o);return Zf(c.resolve?c.resolve(e,t):o.runInContext(()=>c(e,t)))}(n[d],e,t,r).pipe(Bf(),(0,Lo.b)(m=>{c[d]=m}))),X1(1),function rR(n){return(0,At.U)(()=>n)}(c),hm(d=>Fx(d)?Uf.E:kE(d)))}(c,n,e,r).pipe((0,At.U)(d=>(n._resolvedData=d,n.data=bx(n,t).resolve,o&&Gx(o)&&(n.data[OE]=o.title),null)))}(d.route,r,n,e)),(0,Lo.b)(()=>c++),X1(1),(0,Po.z)(d=>c===o.length?(0,Et.of)(t):Uf.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Lo.b)({next:()=>T=!0,complete:()=>{T||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Lo.b)(m=>{const T=new LR(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(T)}))}),yS(d=>{const m=T=>{const D=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(T.routeConfig).pipe((0,Lo.b)(S=>{T.component=S}),(0,At.U)(()=>{})));for(const S of T.children)D.push(...m(S));return D};return J1(m(d.targetSnapshot.root)).pipe(MD(),iv(1))}),yS(()=>this.afterPreactivation()),(0,At.U)(d=>{const m=function zR(n,e,t){const r=jE(n,e._root,t?t._root:void 0);return new Dx(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,Lo.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t,r)=>(0,At.U)(o=>(new nO(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),iv(1),(0,Lo.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new gm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),eS(()=>{o||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),hm(d=>{if(c=!0,Ox(d)){Rx(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new qD(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),Rx(d)){const T=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||zx(r.source)};t.scheduleNavigation(T,BE,null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new aS(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(T){r.reject(T)}}return Uf.E}))}))}cancelNavigationTransition(t,r,o){const c=new qD(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(c),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zx(n){return n!==BE}let Kx=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(c=>c.outlet===Kt);return r}getResolvedTitleForRoute(t){return t.data[OE]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(GO)},providedIn:"root"}),n})(),GO=(()=>{class n extends Kx{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ya))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(KO)},providedIn:"root"}),n})();class zO{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let KO=(()=>{class n extends zO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eA=new a.OlP("",{providedIn:"root",factory:()=>({})});let WO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(YO)},providedIn:"root"}),n})(),YO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Rs=(()=>((Rs=Rs||{})[Rs.COMPLETE=0]="COMPLETE",Rs[Rs.FAILED=1]="FAILED",Rs[Rs.REDIRECTING=2]="REDIRECTING",Rs))();function Wx(n,e){n.events.pipe(Ts(t=>t instanceof gm||t instanceof qD||t instanceof aS||t instanceof ZE),(0,At.U)(t=>t instanceof gm||t instanceof ZE?Rs.COMPLETE:t instanceof qD&&(0===t.code||1===t.code)?Rs.REDIRECTING:Rs.FAILED),Ts(t=>t!==Rs.REDIRECTING),iv(1)).subscribe(()=>{e()})}function JO(n){throw n}function QO(n,e,t){return e.parse("/")}const XO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Aa=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(eA,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||JO,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||QO,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(WO),this.routeReuseStrategy=(0,a.f3M)(qO),this.titleStrategy=(0,a.f3M)(Kx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(fv,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(XD),this.urlSerializer=(0,a.f3M)(LE),this.location=(0,a.f3M)(Ge),this.componentInputBindingEnabled=!!(0,a.f3M)(KD,{optional:!0}),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new av,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ax(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),BE,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const c={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const T={...o};delete T.navigationId,delete T.\u0275routerPageId,0!==Object.keys(T).length&&(c.state=T)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:d,queryParamsHandling:m,preserveFragment:T}=r,D=T?this.currentUrlTree.fragment:d;let k,S=null;switch(m){case"merge":S={...this.currentUrlTree.queryParams,...c};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=c||null}null!==S&&(S=this.removeEmptyProps(S));try{k=mx(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),k=this.currentUrlTree.root}return _x(k,t,S,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=pm(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,BE,null,r)}navigate(t,r={skipLocationChange:!1}){return function tP(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new a.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...XO}:!1===r?{...eP}:r,pm(t))return ax(this.currentUrlTree,t,o);const c=this.parseUrl(t);return ax(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}scheduleNavigation(t,r,o,c,d){if(this.disposed)return Promise.resolve(!1);let m,T,D;d?(m=d.resolve,T=d.reject,D=d.promise):D=new Promise((k,j)=>{m=k,T=j});const S=this.pendingTasks.add();return Wx(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(S))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:c,resolve:m,reject:T,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(k=>Promise.reject(k))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",c)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-(this.browserPageId??this.currentPageId);0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tA=(()=>{class n{constructor(t,r,o,c,d,m){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=c,this.el=d,this.locationStrategy=m,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new dm.x;const T=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===T||"area"===T,this.isAnchorElement?this.subscription=t.events.subscribe(D=>{D instanceof gm&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,c,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||o||c||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const o=this.renderer,c=this.el.nativeElement;null!==r?o.setAttribute(c,t,r):o.removeAttribute(c,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Aa),a.Y36(cv),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Le))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&a.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})();class Yx{}let iP=(()=>{class n{constructor(t,r,o,c,d){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Ts(t=>t instanceof gm),RE(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,a.MMx)(c.providers,t,`Route: ${c.path}`));const d=c._injector??t,m=c._loadedInjector??d;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&o.push(this.preloadConfig(d,c)),(c.children||c._loadedRoutes)&&o.push(this.processRoutes(m,c.children??c._loadedRoutes))}return(0,fn.D)(o).pipe((0,gc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,Et.of)(null);const c=o.pipe((0,Po.z)(d=>null===d?(0,Et.of)(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,fn.D)([c,d]).pipe((0,gc.J)())}return c})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Aa),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Yx),a.LFG(vS))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wS=new a.OlP("");let Jx=(()=>{class n{constructor(t,r,o,c,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=c,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sS?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gm?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ZE&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ix&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ix(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function bd(n,e){return{\u0275kind:n,\u0275providers:e}}function Xx(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const r=n.get(Aa),o=n.get(eN);1===n.get(ES)&&r.initialNavigation(),n.get(tN,null,a.XFs.Optional)?.setUpPreloading(),n.get(wS,null,a.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const eN=new a.OlP("",{factory:()=>new dm.x}),ES=new a.OlP("",{providedIn:"root",factory:()=>1}),tN=new a.OlP("");function uP(n){return bd(0,[{provide:tN,useExisting:iP},{provide:Yx,useExisting:n}])}const nN=new a.OlP("ROUTER_FORROOT_GUARD"),lP=[Ge,{provide:LE,useClass:tS},Aa,HE,{provide:cv,useFactory:function Qx(n){return n.routerState.root},deps:[Aa]},vS,[]];function dP(){return new a.PXZ("Router",Aa)}let rN=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[lP,[],{provide:fv,multi:!0,useValue:t},{provide:nN,useFactory:gP,deps:[[Aa,new a.FiY,new a.tp0]]},{provide:eA,useValue:r||{}},r?.useHash?{provide:Le,useClass:Me}:{provide:Le,useClass:Ye},{provide:wS,useFactory:()=>{const n=(0,a.f3M)(oo),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(eA),r=(0,a.f3M)(XD),o=(0,a.f3M)(LE);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Jx(o,r,n,e,t)}},r?.preloadingStrategy?uP(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:dP},r?.initialNavigation?mP(r):[],r?.bindToComponentInputs?bd(8,[xx,{provide:KD,useExisting:xx}]).\u0275providers:[],[{provide:iN,useFactory:Xx},{provide:a.tb,multi:!0,useExisting:iN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:fv,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(nN,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function gP(n){return"guarded"}function mP(n){return["disabled"===n.initialNavigation?bd(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Aa);return()=>{e.setUpLocationChangeListener()}}},{provide:ES,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?bd(2,[{provide:ES,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(Re,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Aa),c=e.get(eN);Wx(o,()=>{r(!0)}),e.get(XD).afterPreactivation=()=>(r(!0),c.closed?(0,Et.of)(void 0):c),o.initialNavigation()}))}}]).\u0275providers:[]]}const iN=new a.OlP("");let TS=(()=>{class n{constructor(t){this.db=t,this.dbPath="/tutorials",this.tutorialsRef=t.collection(this.dbPath)}getAll(){return this.tutorialsRef}getByProgram(t){return this.db.collection(this.dbPath,r=>r.where("programaInteres","==",t))}create(t){return this.tutorialsRef.add({...t})}update(t,r){return this.tutorialsRef.doc(t).update(r)}delete(t){return this.tutorialsRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(XM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",2)(1,"h4"),a._uU(2,"Datos del estudiante"),a.qZA(),a.TgZ(3,"form")(4,"div",3)(5,"label",4),a._uU(6,"Ap. Paterno"),a.qZA(),a.TgZ(7,"input",5),a.NdJ("ngModelChange",function(o){a.CHM(t);const c=a.oxw();return a.KtG(c.currentTutorial.appPaterno=o)}),a.qZA()(),a.TgZ(8,"div",3)(9,"label",6),a._uU(10,"Ap. Materno"),a.qZA(),a.TgZ(11,"input",7),a.NdJ("ngModelChange",function(o){a.CHM(t);const c=a.oxw();return a.KtG(c.currentTutorial.appMaterno=o)}),a.qZA()(),a.TgZ(12,"div",3)(13,"label",6),a._uU(14,"Nombre"),a.qZA(),a.TgZ(15,"input",8),a.NdJ("ngModelChange",function(o){a.CHM(t);const c=a.oxw();return a.KtG(c.currentTutorial.nombre=o)}),a.qZA()(),a.TgZ(16,"div",3)(17,"label",6),a._uU(18,"Programa de interes"),a.qZA(),a._UZ(19,"input",9),a.qZA(),a.TgZ(20,"div",3)(21,"label",6),a._uU(22,"Escuela procedencia"),a.qZA(),a._UZ(23,"input",10),a.qZA(),a.TgZ(24,"div",3)(25,"label",6),a._uU(26,"Telefono"),a.qZA(),a._UZ(27,"input",11),a.qZA(),a.TgZ(28,"div",3)(29,"label",6),a._uU(30,"e-mail"),a.qZA(),a._UZ(31,"input",12),a.qZA(),a.TgZ(32,"div",3)(33,"label",6),a._uU(34,"facebook/instagram"),a.qZA(),a.TgZ(35,"input",13),a.NdJ("ngModelChange",function(o){a.CHM(t);const c=a.oxw();return a.KtG(c.currentTutorial.facebook=o)}),a.qZA()()()()}if(2&n){const t=a.oxw();a.xp6(7),a.Q6J("ngModel",t.currentTutorial.appPaterno),a.xp6(4),a.Q6J("ngModel",t.currentTutorial.appMaterno),a.xp6(4),a.Q6J("ngModel",t.currentTutorial.nombre),a.xp6(20),a.Q6J("ngModel",t.currentTutorial.facebook)}}function vP(n,e){1&n&&(a.TgZ(0,"div"),a._UZ(1,"br"),a.TgZ(2,"p"),a._uU(3,"Cannot access this Tutorial..."),a.qZA()())}let wP=(()=>{class n{constructor(t){this.tutorialService=t,this.refreshList=new a.vpe,this.currentTutorial={appPaterno:"",appMaterno:"",nombre:""},this.message=""}ngOnInit(){this.message=""}ngOnChanges(){this.message="",this.currentTutorial={...this.tutorial}}updatePublished(t){this.currentTutorial.id&&this.tutorialService.update(this.currentTutorial.id,{published:t}).then(()=>{this.message="The status was updated successfully!"}).catch(r=>console.log(r))}updateTutorial(){this.currentTutorial.id&&this.tutorialService.update(this.currentTutorial.id,{title:this.currentTutorial.appPaterno,description:this.currentTutorial.appMaterno}).then(()=>this.message="The tutorial was updated successfully!").catch(r=>console.log(r))}deleteTutorial(){this.currentTutorial.id&&this.tutorialService.delete(this.currentTutorial.id).then(()=>{this.refreshList.emit(),this.message="The tutorial was updated successfully!"}).catch(t=>console.log(t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(TS))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-tutorial-details"]],inputs:{tutorial:"tutorial"},outputs:{refreshList:"refreshList"},features:[a.TTD],decls:2,vars:2,consts:[["class","edit-form",4,"ngIf"],[4,"ngIf"],[1,"edit-form"],[1,"form-group"],["for","title"],["type","text","id","appPaterno","name","appPaterno",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["type","text","id","appMaterno","name","appMaterno",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","nombre","name","nombre",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","programaInteres","name","programaInteres",1,"form-control"],["type","text","id","bachilleratoProcedencia","name","bachilleratoProcedencia",1,"form-control"],["type","text","id","telefono","name","telefono",1,"form-control"],["type","text","id","email","name","email",1,"form-control"],["type","text","id","facebook","name","facebook",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(a.YNc(0,yP,36,4,"div",0),a.YNc(1,vP,4,0,"div",1)),2&t&&(a.Q6J("ngIf",r.currentTutorial),a.xp6(1),a.Q6J("ngIf",!r.currentTutorial))},dependencies:[Uo,Pm,Co,Wo,Sl,Rl,na]}),n})();function EP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",14),a.NdJ("click",function(){const o=a.CHM(t),c=o.$implicit,d=o.index,m=a.oxw();return a.KtG(m.setActiveTutorial(c,d))}),a._uU(1),a.qZA()}if(2&n){const t=e.$implicit,r=e.index,o=a.oxw();a.ekj("active",r==o.currentIndex),a.xp6(1),a.HOy(" ",r+1," ",t.appPaterno,"-",t.appMaterno,", ",t.nombre," ")}}function TP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"app-tutorial-details",15),a.NdJ("refreshList",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.refreshList())}),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(1),a.Q6J("tutorial",t.currentTutorial)}}function IP(n,e){1&n&&(a.TgZ(0,"div"),a._UZ(1,"br"),a.TgZ(2,"p"),a._uU(3,"Seleccione un estudiante ..."),a.qZA()())}let CP=(()=>{class n{constructor(t){this.tutorialService=t,this.currentIndex=-1,this.title="",this.programaInteres="",this.n=0}ngOnInit(){}refreshList(){this.currentTutorial=void 0,this.currentIndex=-1}retrieveTutorialsByProgram(){this.tutorialService.getByProgram(this.programaInteres).snapshotChanges().pipe((0,At.U)(t=>t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})))).subscribe(t=>{this.tutorials=t,this.n=this.tutorials.length})}retrieveTutorials(){this.tutorialService.getAll().snapshotChanges().pipe((0,At.U)(t=>t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()})))).subscribe(t=>{this.tutorials=t})}setActiveTutorial(t,r){this.currentTutorial=t,this.currentIndex=r}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(TS))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-tutorials-list"]],decls:25,vars:5,consts:[[1,"list","row"],[1,"col-md-6"],[1,"form-group"],["for","description"],["id","programaInteres","required","","name","programaInteres",1,"form-control",3,"ngModel","ngModelChange","change"],["value","lae"],["value","conta"],["value","gestion"],["value","isw"],["value","ltio"],["value","cspol"],[1,"list-group"],["class","list-group-item",3,"active","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"list-group-item",3,"click"],[3,"tutorial","refreshList"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),a._uU(4,"Filtrar por Carrera "),a.qZA(),a.TgZ(5,"select",4),a.NdJ("ngModelChange",function(c){return r.programaInteres=c})("change",function(){return r.retrieveTutorialsByProgram()}),a.TgZ(6,"option",5),a._uU(7,"Lic. en Administracion de Empresas"),a.qZA(),a.TgZ(8,"option",6),a._uU(9,"Lic. en Contaduria"),a.qZA(),a.TgZ(10,"option",7),a._uU(11,"Gestion y direccion de negocios"),a.qZA(),a.TgZ(12,"option",8),a._uU(13,"Ing. de software"),a.qZA(),a.TgZ(14,"option",9),a._uU(15,"Lic. Tecnologias de la Informacion en las Org."),a.qZA(),a.TgZ(16,"option",10),a._uU(17,"Lic. en Ciencias Politicas y Gestion Publica"),a.qZA()()(),a.TgZ(18,"h3"),a._uU(19),a.qZA(),a.TgZ(20,"ul",11),a.YNc(21,EP,2,6,"li",12),a.qZA()(),a.TgZ(22,"div",1),a.YNc(23,TP,2,1,"div",13),a.YNc(24,IP,4,0,"div",13),a.qZA()()),2&t&&(a.xp6(5),a.Q6J("ngModel",r.programaInteres),a.xp6(14),a.hij("",r.n," estudiantes "),a.xp6(2),a.Q6J("ngForOf",r.tutorials),a.xp6(2),a.Q6J("ngIf",r.currentTutorial),a.xp6(1),a.Q6J("ngIf",!r.currentTutorial))},dependencies:[ku,Uo,Sp,pc,fc,Wo,hu,Rl,wP],styles:[".list[_ngcontent-%COMP%]{text-align:left;max-width:750px;margin:auto}"]}),n})();class oN{constructor(){this.persuasivoM=0,this.persuasivoL=0,this.gentilM=0,this.gentilL=0,this.humildeM=0,this.humildeL=0,this.originalM=0,this.originalL=0,this.fuerzavoluntadM=0,this.fuerzavoluntadL=0,this.menteabiertaM=0,this.menteabiertaL=0,this.complacienteM=0,this.complacienteL=0,this.animosoM=0,this.animosoL=0,this.obedienteM=0,this.obedienteL=0,this.quisquillosoM=0,this.quisquillosoL=0,this.inconquistableM=0,this.inconquistableL=0,this.juguetonM=0,this.juguetonL=0,this.aventureroM=0,this.aventureroL=0,this.receptivoM=0,this.receptivoL=0,this.cordialM=0,this.cordialL=0,this.moderadoM=0,this.moderadoL=0,this.agresivoM=0,this.agresivoL=0,this.almafiestaM=0,this.almafiestaL=0,this.comodinoM=0,this.comodinoL=0,this.temerosoM=0,this.temerosoL=0,this.confiadoM=0,this.confiadoL=0,this.simpatizadorM=0,this.simpatizadorL=0,this.toleranteM=0,this.toleranteL=0,this.afirmativoM=0,this.afirmativoL=0,this.respetuosoM=0,this.respetuosoL=0,this.emprendedorM=0,this.emprendedorL=0,this.optimistaM=0,this.optimistaL=0,this.servicialM=0,this.servicialL=0,this.indulgenteM=0,this.indulgenteL=0,this.estetaM=0,this.estetaL=0,this.vigorosoM=0,this.vigorosoL=0,this.sociableM=0,this.sociableL=0,this.agradableM=0,this.agradableL=0,this.temerosodiosM=0,this.temerosodiosL=0,this.tenazM=0,this.tenazL=0,this.atractivoM=0,this.atractivoL=0,this.ecuanimeM=0,this.ecuanimeL=0,this.precisoM=0,this.precisoL=0,this.nerviosoM=0,this.nerviosoL=0,this.jovialM=0,this.jovialL=0,this.valienteM=0,this.valienteL=0,this.inspiradorM=0,this.inspiradorL=0,this.sumisoM=0,this.sumisoL=0,this.timidoM=0,this.timidoL=0,this.parlanchinM=0,this.parlanchinL=0,this.controladoM=0,this.controladoL=0,this.convencionalM=0,this.convencionalL=0,this.decisivoM=0,this.decisivoL=0,this.cautelosoM=0,this.cautelosoL=0,this.determinadoM=0,this.determinadoL=0,this.convincenteM=0,this.convincenteL=0,this.bonachonM=0,this.bonachonL=0,this.disciplinadoM=0,this.disciplinadoL=0,this.generosoM=0,this.generosoL=0,this.ani_mosoM=0,this.ani_mosoL=0,this.persistenteM=0,this.persistenteL=0,this.adaptableM=0,this.adaptableL=0,this.disputadorM=0,this.disputadorL=0,this.indiferenteM=0,this.indiferenteL=0,this.sangrelivianaM=0,this.sangrelivianaL=0,this.cohibidoM=0,this.cohibidoL=0,this.exactoM=0,this.exactoL=0,this.francoM=0,this.francoL=0,this.buencompaneroM=0,this.buencompaneroL=0,this.docilM=0,this.docilL=0,this.atrevidoM=0,this.atrevidoL=0,this.lealM=0,this.lealL=0,this.encantadorM=0,this.encantadorL=0,this.competitivoM=0,this.competitivoL=0,this.alegreM=0,this.alegreL=0,this.consideradoM=0,this.consideradoL=0,this.armoniosoM=0,this.armoniosoL=0,this.amigueroM=0,this.amigueroL=0,this.pacienteM=0,this.pacienteL=0,this.confianzamismoM=0,this.confianzamismoL=0,this.mesuradohablarM=0,this.mesuradohablarL=0,this.diplomaticoM=0,this.diplomaticoL=0,this.audazM=0,this.audazL=0,this.refinadoM=0,this.refinadoL=0,this.satisfechoM=0,this.satisfechoL=0,this.dispuestoM=0,this.dispuestoL=0,this.deseosoM=0,this.deseosoL=0,this.consecuenteM=0,this.consecuenteL=0,this.entusiastaM=0,this.entusiastaL=0,this.admirableM=0,this.admirableL=0,this.bondadosoM=0,this.bondadosoL=0,this.resignadoM=0,this.resignadoL=0,this.caracterfirmeM=0,this.caracterfirmeL=0,this.conformeM=0,this.conformeL=0,this.confiableM=0,this.confiableL=0,this.pacificoM=0,this.pacificoL=0,this.positivoM=0,this.positivoL=0,this.inquietoM=0,this.inquietoL=0,this.popularM=0,this.popularL=0,this.buenvecinoM=0,this.buenvecinoL=0,this.devotoM=0,this.devotoL=0,this.facultad="fnt"}}function DP(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"h5"),a._uU(2,"Ingresar apellido paterno, materno, nombre completo, el numero de folio y puesto "),a.qZA(),a.TgZ(3,"div",2)(4,"label",3),a._uU(5,"Apellido Paterno"),a.qZA(),a.TgZ(6,"input",4),a.NdJ("ngModelChange",function(o){a.CHM(t);const c=a.oxw();return a.KtG(c.tutorial.appPaterno=o)}),a.qZA()(),a.TgZ(7,"div",2)(8,"label",3),a._uU(9,"Apellido Materno"),a.qZA(),a.TgZ(10,"input",4),a.NdJ("ngModelChange",function(o){a.CHM(t);const c=a.oxw();return a.KtG(c.tutorial.appMaterno=o)}),a.qZA()(),a.TgZ(11,"div",2)(12,"label",3),a._uU(13,"Nombre completo"),a.qZA(),a.TgZ(14,"input",4),a.NdJ("ngModelChange",function(o){a.CHM(t);const c=a.oxw();return a.KtG(c.tutorial.nombre=o)}),a.qZA()(),a.TgZ(15,"div",2)(16,"label",3),a._uU(17,"Folio"),a.qZA(),a.TgZ(18,"input",5),a.NdJ("ngModelChange",function(o){a.CHM(t);const c=a.oxw();return a.KtG(c.tutorial.facebook=o)}),a.qZA()(),a.TgZ(19,"div",2)(20,"label",3),a._uU(21,"Puesto "),a.qZA(),a.TgZ(22,"select",6),a.NdJ("ngModelChange",function(o){a.CHM(t);const c=a.oxw();return a.KtG(c.tutorial.programaInteres=o)}),a.TgZ(23,"option",7),a._uU(24,"Ingreso a MEIT 2024"),a.qZA()()(),a.TgZ(25,"h5"),a._uU(26,' Encontraran cuatro palabras agrupadas, seleccionar de esas 4, \xfanicamente 2, la que "Mas" se parezca a uds. y la que "Menos" se parezca. '),a.qZA(),a._uU(27," Continuar con los grupos de 4 palabras hasta terminar el test. No dejar ninguna en blanco. "),a._UZ(28,"br")(29,"br"),a.TgZ(30,"div",2)(31,"label",8)(32,"h4"),a._uU(33,"GRUPO 1"),a.qZA()(),a.TgZ(34,"table")(35,"tr"),a._UZ(36,"td"),a.TgZ(37,"td")(38,"b"),a._uU(39,"M"),a.qZA(),a._uU(40,"ore"),a.qZA(),a.TgZ(41,"td")(42,"b"),a._uU(43,"L"),a.qZA(),a._uU(44,"ess"),a.qZA()(),a.TgZ(45,"tr")(46,"td"),a._uU(47,"PERSUASIVO"),a.qZA(),a.TgZ(48,"td")(49,"input",9),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(0))}),a.qZA()(),a.TgZ(50,"td")(51,"input",10),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(0))}),a.qZA()()(),a.TgZ(52,"tr")(53,"td"),a._uU(54,"GENTIL"),a.qZA(),a.TgZ(55,"td")(56,"input",11),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(1))}),a.qZA()(),a.TgZ(57,"td")(58,"input",12),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(1))}),a.qZA()()(),a.TgZ(59,"tr")(60,"td"),a._uU(61,"HUMILDE"),a.qZA(),a.TgZ(62,"td")(63,"input",13),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(2))}),a.qZA()(),a.TgZ(64,"td")(65,"input",14),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(2))}),a.qZA()()(),a.TgZ(66,"tr")(67,"td"),a._uU(68,"ORIGINAL"),a.qZA(),a.TgZ(69,"td")(70,"input",15),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(3))}),a.qZA()(),a.TgZ(71,"td")(72,"input",16),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(3))}),a.qZA()()()()(),a.TgZ(73,"div",2)(74,"label",8)(75,"h4"),a._uU(76,"GRUPO 2"),a.qZA()(),a.TgZ(77,"table")(78,"tr"),a._UZ(79,"td"),a.TgZ(80,"td")(81,"b"),a._uU(82,"M"),a.qZA(),a._uU(83,"ore"),a.qZA(),a.TgZ(84,"td")(85,"b"),a._uU(86,"L"),a.qZA(),a._uU(87,"ess"),a.qZA()(),a.TgZ(88,"tr")(89,"td"),a._uU(90,"FUERZA DE VOLUNTAD"),a.qZA(),a.TgZ(91,"td")(92,"input",17),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(0))}),a.qZA()(),a.TgZ(93,"td")(94,"input",18),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(0))}),a.qZA()()(),a.TgZ(95,"tr")(96,"td"),a._uU(97,"MENTE ABIERTA"),a.qZA(),a.TgZ(98,"td")(99,"input",19),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(1))}),a.qZA()(),a.TgZ(100,"td")(101,"input",20),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(1))}),a.qZA()()(),a.TgZ(102,"tr")(103,"td"),a._uU(104,"COMPLACIENTE"),a.qZA(),a.TgZ(105,"td")(106,"input",21),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(2))}),a.qZA()(),a.TgZ(107,"td")(108,"input",22),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(2))}),a.qZA()()(),a.TgZ(109,"tr")(110,"td"),a._uU(111,"ANIMOSO"),a.qZA(),a.TgZ(112,"td")(113,"input",23),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(3))}),a.qZA()(),a.TgZ(114,"td")(115,"input",24),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(3))}),a.qZA()()()()(),a.TgZ(116,"div",2)(117,"label",8)(118,"h4"),a._uU(119,"GRUPO 3"),a.qZA()(),a.TgZ(120,"table")(121,"tr"),a._UZ(122,"td"),a.TgZ(123,"td")(124,"b"),a._uU(125,"M"),a.qZA(),a._uU(126,"ore"),a.qZA(),a.TgZ(127,"td")(128,"b"),a._uU(129,"L"),a.qZA(),a._uU(130,"ess"),a.qZA()(),a.TgZ(131,"tr")(132,"td"),a._uU(133,"OBEDIENTE"),a.qZA(),a.TgZ(134,"td")(135,"input",25),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(0))}),a.qZA()(),a.TgZ(136,"td")(137,"input",26),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(0))}),a.qZA()()(),a.TgZ(138,"tr")(139,"td"),a._uU(140,"QUISQUILLOSO"),a.qZA(),a.TgZ(141,"td")(142,"input",27),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(1))}),a.qZA()(),a.TgZ(143,"td")(144,"input",28),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(1))}),a.qZA()()(),a.TgZ(145,"tr")(146,"td"),a._uU(147,"INCONQUISTABLE"),a.qZA(),a.TgZ(148,"td")(149,"input",29),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(2))}),a.qZA()(),a.TgZ(150,"td")(151,"input",30),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(2))}),a.qZA()()(),a.TgZ(152,"tr")(153,"td"),a._uU(154,"JUGUETON"),a.qZA(),a.TgZ(155,"td")(156,"input",31),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(3))}),a.qZA()(),a.TgZ(157,"td")(158,"input",32),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(3))}),a.qZA()()()()(),a.TgZ(159,"div",2)(160,"label",8)(161,"h4"),a._uU(162,"GRUPO 4"),a.qZA()(),a.TgZ(163,"table")(164,"tr"),a._UZ(165,"td"),a.TgZ(166,"td")(167,"b"),a._uU(168,"M"),a.qZA(),a._uU(169,"ore"),a.qZA(),a.TgZ(170,"td")(171,"b"),a._uU(172,"L"),a.qZA(),a._uU(173,"ess"),a.qZA()(),a.TgZ(174,"tr")(175,"td"),a._uU(176,"AVENTURERO"),a.qZA(),a.TgZ(177,"td")(178,"input",33),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(0))}),a.qZA()(),a.TgZ(179,"td")(180,"input",34),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(0))}),a.qZA()()(),a.TgZ(181,"tr")(182,"td"),a._uU(183,"RECEPTIVO"),a.qZA(),a.TgZ(184,"td")(185,"input",35),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(1))}),a.qZA()(),a.TgZ(186,"td")(187,"input",36),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(1))}),a.qZA()()(),a.TgZ(188,"tr")(189,"td"),a._uU(190,"CORDIAL"),a.qZA(),a.TgZ(191,"td")(192,"input",37),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(2))}),a.qZA()(),a.TgZ(193,"td")(194,"input",38),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(2))}),a.qZA()()(),a.TgZ(195,"tr")(196,"td"),a._uU(197,"MODERADO"),a.qZA(),a.TgZ(198,"td")(199,"input",39),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(3))}),a.qZA()(),a.TgZ(200,"td")(201,"input",40),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(3))}),a.qZA()()()()(),a.TgZ(202,"div",2)(203,"label",8)(204,"h4"),a._uU(205,"Grupo 5"),a.qZA()(),a.TgZ(206,"table")(207,"tr"),a._UZ(208,"td"),a.TgZ(209,"td")(210,"b"),a._uU(211,"M"),a.qZA(),a._uU(212,"ore"),a.qZA(),a.TgZ(213,"td")(214,"b"),a._uU(215,"L"),a.qZA(),a._uU(216,"ess"),a.qZA()(),a.TgZ(217,"tr")(218,"td"),a._uU(219,"AGRESIVO"),a.qZA(),a.TgZ(220,"td")(221,"input",41),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(0))}),a.qZA()(),a.TgZ(222,"td")(223,"input",42),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(0))}),a.qZA()()(),a.TgZ(224,"tr")(225,"td"),a._uU(226,"ALMA DE LA FIESTA"),a.qZA(),a.TgZ(227,"td")(228,"input",43),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(1))}),a.qZA()(),a.TgZ(229,"td")(230,"input",44),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(1))}),a.qZA()()(),a.TgZ(231,"tr")(232,"td"),a._uU(233,"COMODINO"),a.qZA(),a.TgZ(234,"td")(235,"input",45),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(2))}),a.qZA()(),a.TgZ(236,"td")(237,"input",46),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(2))}),a.qZA()()(),a.TgZ(238,"tr")(239,"td"),a._uU(240,"TEMEROSO"),a.qZA(),a.TgZ(241,"td")(242,"input",47),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(3))}),a.qZA()(),a.TgZ(243,"td")(244,"input",48),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(3))}),a.qZA()()()()(),a.TgZ(245,"div",2)(246,"label",8)(247,"h4"),a._uU(248,"Grupo 6"),a.qZA()(),a.TgZ(249,"table")(250,"tr"),a._UZ(251,"td"),a.TgZ(252,"td")(253,"b"),a._uU(254,"M"),a.qZA(),a._uU(255,"ore"),a.qZA(),a.TgZ(256,"td")(257,"b"),a._uU(258,"L"),a.qZA(),a._uU(259,"ess"),a.qZA()(),a.TgZ(260,"tr")(261,"td"),a._uU(262,"CONFIADO"),a.qZA(),a.TgZ(263,"td")(264,"input",49),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(0))}),a.qZA()(),a.TgZ(265,"td")(266,"input",50),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(0))}),a.qZA()()(),a.TgZ(267,"tr")(268,"td"),a._uU(269,"SIMPATIZADOR"),a.qZA(),a.TgZ(270,"td")(271,"input",51),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(1))}),a.qZA()(),a.TgZ(272,"td")(273,"input",52),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(1))}),a.qZA()()(),a.TgZ(274,"tr")(275,"td"),a._uU(276,"TOLERANTE"),a.qZA(),a.TgZ(277,"td")(278,"input",53),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(2))}),a.qZA()(),a.TgZ(279,"td")(280,"input",54),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(2))}),a.qZA()()(),a.TgZ(281,"tr")(282,"td"),a._uU(283,"AFIRMATIVO"),a.qZA(),a.TgZ(284,"td")(285,"input",55),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(3))}),a.qZA()(),a.TgZ(286,"td")(287,"input",56),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(3))}),a.qZA()()()()(),a.TgZ(288,"div",2)(289,"label",8)(290,"h4"),a._uU(291,"Grupo 7"),a.qZA()(),a.TgZ(292,"table")(293,"tr"),a._UZ(294,"td"),a.TgZ(295,"td")(296,"b"),a._uU(297,"M"),a.qZA(),a._uU(298,"ore"),a.qZA(),a.TgZ(299,"td")(300,"b"),a._uU(301,"L"),a.qZA(),a._uU(302,"ess"),a.qZA()(),a.TgZ(303,"tr")(304,"td"),a._uU(305,"RESPETUOSO"),a.qZA(),a.TgZ(306,"td")(307,"input",57),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(0))}),a.qZA()(),a.TgZ(308,"td")(309,"input",58),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(0))}),a.qZA()()(),a.TgZ(310,"tr")(311,"td"),a._uU(312,"EMPRENDEDOR"),a.qZA(),a.TgZ(313,"td")(314,"input",59),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(1))}),a.qZA()(),a.TgZ(315,"td")(316,"input",60),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(1))}),a.qZA()()(),a.TgZ(317,"tr")(318,"td"),a._uU(319,"OPTIMISTA"),a.qZA(),a.TgZ(320,"td")(321,"input",61),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(2))}),a.qZA()(),a.TgZ(322,"td")(323,"input",62),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(2))}),a.qZA()()(),a.TgZ(324,"tr")(325,"td"),a._uU(326,"SERVICIAL"),a.qZA(),a.TgZ(327,"td")(328,"input",63),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(3))}),a.qZA()(),a.TgZ(329,"td")(330,"input",64),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(3))}),a.qZA()()()()(),a.TgZ(331,"div",2)(332,"label",8)(333,"h4"),a._uU(334,"Grupo 8"),a.qZA()(),a.TgZ(335,"table")(336,"tr"),a._UZ(337,"td"),a.TgZ(338,"td")(339,"b"),a._uU(340,"M"),a.qZA(),a._uU(341,"ore"),a.qZA(),a.TgZ(342,"td")(343,"b"),a._uU(344,"L"),a.qZA(),a._uU(345,"ess"),a.qZA()(),a.TgZ(346,"tr")(347,"td"),a._uU(348,"INDULGENTE"),a.qZA(),a.TgZ(349,"td")(350,"input",65),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(0))}),a.qZA()(),a.TgZ(351,"td")(352,"input",66),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(0))}),a.qZA()()(),a.TgZ(353,"tr")(354,"td"),a._uU(355,"ESTETA"),a.qZA(),a.TgZ(356,"td")(357,"input",67),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(1))}),a.qZA()(),a.TgZ(358,"td")(359,"input",68),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(1))}),a.qZA()()(),a.TgZ(360,"tr")(361,"td"),a._uU(362,"VIGOROSO"),a.qZA(),a.TgZ(363,"td")(364,"input",69),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(2))}),a.qZA()(),a.TgZ(365,"td")(366,"input",70),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(2))}),a.qZA()()(),a.TgZ(367,"tr")(368,"td"),a._uU(369,"SOCIABLE"),a.qZA(),a.TgZ(370,"td")(371,"input",71),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(3))}),a.qZA()(),a.TgZ(372,"td")(373,"input",72),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(3))}),a.qZA()()()()(),a.TgZ(374,"div",2)(375,"label",8)(376,"h4"),a._uU(377,"Grupo 9"),a.qZA()(),a.TgZ(378,"table")(379,"tr"),a._UZ(380,"td"),a.TgZ(381,"td")(382,"b"),a._uU(383,"M"),a.qZA(),a._uU(384,"ore"),a.qZA(),a.TgZ(385,"td")(386,"b"),a._uU(387,"L"),a.qZA(),a._uU(388,"ess"),a.qZA()(),a.TgZ(389,"tr")(390,"td"),a._uU(391,"AGRADABLE"),a.qZA(),a.TgZ(392,"td")(393,"input",73),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(0))}),a.qZA()(),a.TgZ(394,"td")(395,"input",74),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(0))}),a.qZA()()(),a.TgZ(396,"tr")(397,"td"),a._uU(398,"TEMEROSO DE DIOS"),a.qZA(),a.TgZ(399,"td")(400,"input",75),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(1))}),a.qZA()(),a.TgZ(401,"td")(402,"input",76),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(1))}),a.qZA()()(),a.TgZ(403,"tr")(404,"td"),a._uU(405,"TENAZ"),a.qZA(),a.TgZ(406,"td")(407,"input",77),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(2))}),a.qZA()(),a.TgZ(408,"td")(409,"input",78),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(2))}),a.qZA()()(),a.TgZ(410,"tr")(411,"td"),a._uU(412,"ATRACTIVO"),a.qZA(),a.TgZ(413,"td")(414,"input",79),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(3))}),a.qZA()(),a.TgZ(415,"td")(416,"input",80),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(3))}),a.qZA()()()()(),a.TgZ(417,"div",2)(418,"label",8)(419,"h4"),a._uU(420,"Grupo 10"),a.qZA()(),a.TgZ(421,"table")(422,"tr"),a._UZ(423,"td"),a.TgZ(424,"td")(425,"b"),a._uU(426,"M"),a.qZA(),a._uU(427,"ore"),a.qZA(),a.TgZ(428,"td")(429,"b"),a._uU(430,"L"),a.qZA(),a._uU(431,"ess"),a.qZA()(),a.TgZ(432,"tr")(433,"td"),a._uU(434,"ECUANIME"),a.qZA(),a.TgZ(435,"td")(436,"input",81),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(0))}),a.qZA()(),a.TgZ(437,"td")(438,"input",82),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(0))}),a.qZA()()(),a.TgZ(439,"tr")(440,"td"),a._uU(441,"PRECISO"),a.qZA(),a.TgZ(442,"td")(443,"input",83),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(1))}),a.qZA()(),a.TgZ(444,"td")(445,"input",84),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(1))}),a.qZA()()(),a.TgZ(446,"tr")(447,"td"),a._uU(448,"NERVIOSO"),a.qZA(),a.TgZ(449,"td")(450,"input",85),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(2))}),a.qZA()(),a.TgZ(451,"td")(452,"input",86),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(2))}),a.qZA()()(),a.TgZ(453,"tr")(454,"td"),a._uU(455,"JOVIAL"),a.qZA(),a.TgZ(456,"td")(457,"input",87),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(3))}),a.qZA()(),a.TgZ(458,"td")(459,"input",88),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(3))}),a.qZA()()()()(),a.TgZ(460,"div",2)(461,"label",8)(462,"h4"),a._uU(463,"Grupo 11"),a.qZA()(),a.TgZ(464,"table")(465,"tr"),a._UZ(466,"td"),a.TgZ(467,"td")(468,"b"),a._uU(469,"M"),a.qZA(),a._uU(470,"ore"),a.qZA(),a.TgZ(471,"td")(472,"b"),a._uU(473,"L"),a.qZA(),a._uU(474,"ess"),a.qZA()(),a.TgZ(475,"tr")(476,"td"),a._uU(477,"VALIENTE"),a.qZA(),a.TgZ(478,"td")(479,"input",89),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(0))}),a.qZA()(),a.TgZ(480,"td")(481,"input",90),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(0))}),a.qZA()()(),a.TgZ(482,"tr")(483,"td"),a._uU(484,"INSPIRADOR"),a.qZA(),a.TgZ(485,"td")(486,"input",91),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(1))}),a.qZA()(),a.TgZ(487,"td")(488,"input",92),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(1))}),a.qZA()()(),a.TgZ(489,"tr")(490,"td"),a._uU(491,"SUMISO"),a.qZA(),a.TgZ(492,"td")(493,"input",93),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(2))}),a.qZA()(),a.TgZ(494,"td")(495,"input",94),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(2))}),a.qZA()()(),a.TgZ(496,"tr")(497,"td"),a._uU(498,"TIMIDO"),a.qZA(),a.TgZ(499,"td")(500,"input",95),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(3))}),a.qZA()(),a.TgZ(501,"td")(502,"input",96),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(3))}),a.qZA()()()()(),a.TgZ(503,"div",2)(504,"label",8)(505,"h4"),a._uU(506,"Grupo 12"),a.qZA()(),a.TgZ(507,"table")(508,"tr"),a._UZ(509,"td"),a.TgZ(510,"td")(511,"b"),a._uU(512,"M"),a.qZA(),a._uU(513,"ore"),a.qZA(),a.TgZ(514,"td")(515,"b"),a._uU(516,"L"),a.qZA(),a._uU(517,"ess"),a.qZA()(),a.TgZ(518,"tr")(519,"td"),a._uU(520,"PARLANCHIN"),a.qZA(),a.TgZ(521,"td")(522,"input",97),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(0))}),a.qZA()(),a.TgZ(523,"td")(524,"input",98),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(0))}),a.qZA()()(),a.TgZ(525,"tr")(526,"td"),a._uU(527,"CONTROLADO"),a.qZA(),a.TgZ(528,"td")(529,"input",99),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(1))}),a.qZA()(),a.TgZ(530,"td")(531,"input",100),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(1))}),a.qZA()()(),a.TgZ(532,"tr")(533,"td"),a._uU(534,"CONVENCIONAL"),a.qZA(),a.TgZ(535,"td")(536,"input",101),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(2))}),a.qZA()(),a.TgZ(537,"td")(538,"input",102),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(2))}),a.qZA()()(),a.TgZ(539,"tr")(540,"td"),a._uU(541,"DECISIVO"),a.qZA(),a.TgZ(542,"td")(543,"input",103),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(3))}),a.qZA()(),a.TgZ(544,"td")(545,"input",104),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(3))}),a.qZA()()()()(),a.TgZ(546,"div",2)(547,"label",8)(548,"h4"),a._uU(549,"Grupo 13"),a.qZA()(),a.TgZ(550,"table")(551,"tr"),a._UZ(552,"td"),a.TgZ(553,"td")(554,"b"),a._uU(555,"M"),a.qZA(),a._uU(556,"ore"),a.qZA(),a.TgZ(557,"td")(558,"b"),a._uU(559,"L"),a.qZA(),a._uU(560,"ess"),a.qZA()(),a.TgZ(561,"tr")(562,"td"),a._uU(563,"CAUTELOSO"),a.qZA(),a.TgZ(564,"td")(565,"input",105),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(0))}),a.qZA()(),a.TgZ(566,"td")(567,"input",106),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(0))}),a.qZA()()(),a.TgZ(568,"tr")(569,"td"),a._uU(570,"DETERMINADO"),a.qZA(),a.TgZ(571,"td")(572,"input",107),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(1))}),a.qZA()(),a.TgZ(573,"td")(574,"input",108),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(1))}),a.qZA()()(),a.TgZ(575,"tr")(576,"td"),a._uU(577,"CONVINCENTE"),a.qZA(),a.TgZ(578,"td")(579,"input",109),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(2))}),a.qZA()(),a.TgZ(580,"td")(581,"input",110),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(2))}),a.qZA()()(),a.TgZ(582,"tr")(583,"td"),a._uU(584,"BONACHON"),a.qZA(),a.TgZ(585,"td")(586,"input",111),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(3))}),a.qZA()(),a.TgZ(587,"td")(588,"input",112),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(3))}),a.qZA()()()()(),a.TgZ(589,"div",2)(590,"label",8)(591,"h4"),a._uU(592,"Grupo 14"),a.qZA()(),a.TgZ(593,"table")(594,"tr"),a._UZ(595,"td"),a.TgZ(596,"td")(597,"b"),a._uU(598,"M"),a.qZA(),a._uU(599,"ore"),a.qZA(),a.TgZ(600,"td")(601,"b"),a._uU(602,"L"),a.qZA(),a._uU(603,"ess"),a.qZA()(),a.TgZ(604,"tr")(605,"td"),a._uU(606,"DISCIPLINADO"),a.qZA(),a.TgZ(607,"td")(608,"input",113),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(0))}),a.qZA()(),a.TgZ(609,"td")(610,"input",114),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(0))}),a.qZA()()(),a.TgZ(611,"tr")(612,"td"),a._uU(613,"GENEROSO"),a.qZA(),a.TgZ(614,"td")(615,"input",115),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(1))}),a.qZA()(),a.TgZ(616,"td")(617,"input",116),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(1))}),a.qZA()()(),a.TgZ(618,"tr")(619,"td"),a._uU(620,"ANIMOSO"),a.qZA(),a.TgZ(621,"td")(622,"input",117),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(2))}),a.qZA()(),a.TgZ(623,"td")(624,"input",118),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(2))}),a.qZA()()(),a.TgZ(625,"tr")(626,"td"),a._uU(627,"PERSISTENTE"),a.qZA(),a.TgZ(628,"td")(629,"input",119),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(3))}),a.qZA()(),a.TgZ(630,"td")(631,"input",120),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(3))}),a.qZA()()()()(),a.TgZ(632,"div",2)(633,"label",8)(634,"h4"),a._uU(635,"Grupo 15"),a.qZA()(),a.TgZ(636,"table")(637,"tr"),a._UZ(638,"td"),a.TgZ(639,"td")(640,"b"),a._uU(641,"M"),a.qZA(),a._uU(642,"ore"),a.qZA(),a.TgZ(643,"td")(644,"b"),a._uU(645,"L"),a.qZA(),a._uU(646,"ess"),a.qZA()(),a.TgZ(647,"tr")(648,"td"),a._uU(649,"ADAPTABLE"),a.qZA(),a.TgZ(650,"td")(651,"input",121),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(0))}),a.qZA()(),a.TgZ(652,"td")(653,"input",122),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(0))}),a.qZA()()(),a.TgZ(654,"tr")(655,"td"),a._uU(656,"DISPUTADOR"),a.qZA(),a.TgZ(657,"td")(658,"input",123),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(1))}),a.qZA()(),a.TgZ(659,"td")(660,"input",124),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(1))}),a.qZA()()(),a.TgZ(661,"tr")(662,"td"),a._uU(663,"INDIFERENTE"),a.qZA(),a.TgZ(664,"td")(665,"input",125),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(2))}),a.qZA()(),a.TgZ(666,"td")(667,"input",126),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(2))}),a.qZA()()(),a.TgZ(668,"tr")(669,"td"),a._uU(670,"SANGRE LIVIANA"),a.qZA(),a.TgZ(671,"td")(672,"input",127),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(3))}),a.qZA()(),a.TgZ(673,"td")(674,"input",128),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(3))}),a.qZA()()()()(),a.TgZ(675,"div",2)(676,"label",8)(677,"h4"),a._uU(678,"Grupo 16"),a.qZA()(),a.TgZ(679,"table")(680,"tr"),a._UZ(681,"td"),a.TgZ(682,"td")(683,"b"),a._uU(684,"M"),a.qZA(),a._uU(685,"ore"),a.qZA(),a.TgZ(686,"td")(687,"b"),a._uU(688,"L"),a.qZA(),a._uU(689,"ess"),a.qZA()(),a.TgZ(690,"tr")(691,"td"),a._uU(692,"COHIBIDO"),a.qZA(),a.TgZ(693,"td")(694,"input",129),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(0))}),a.qZA()(),a.TgZ(695,"td")(696,"input",130),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(0))}),a.qZA()()(),a.TgZ(697,"tr")(698,"td"),a._uU(699,"EXACTO"),a.qZA(),a.TgZ(700,"td")(701,"input",131),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(1))}),a.qZA()(),a.TgZ(702,"td")(703,"input",132),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(1))}),a.qZA()()(),a.TgZ(704,"tr")(705,"td"),a._uU(706,"FRANCO"),a.qZA(),a.TgZ(707,"td")(708,"input",133),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(2))}),a.qZA()(),a.TgZ(709,"td")(710,"input",134),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(2))}),a.qZA()()(),a.TgZ(711,"tr")(712,"td"),a._uU(713,"BUEN COMPANERO"),a.qZA(),a.TgZ(714,"td")(715,"input",135),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(3))}),a.qZA()(),a.TgZ(716,"td")(717,"input",136),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(3))}),a.qZA()()()()(),a.TgZ(718,"div",2)(719,"label",8)(720,"h4"),a._uU(721,"Grupo 17"),a.qZA()(),a.TgZ(722,"table")(723,"tr"),a._UZ(724,"td"),a.TgZ(725,"td")(726,"b"),a._uU(727,"M"),a.qZA(),a._uU(728,"ore"),a.qZA(),a.TgZ(729,"td")(730,"b"),a._uU(731,"L"),a.qZA(),a._uU(732,"ess"),a.qZA()(),a.TgZ(733,"tr")(734,"td"),a._uU(735,"DOCIL"),a.qZA(),a.TgZ(736,"td")(737,"input",137),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(0))}),a.qZA()(),a.TgZ(738,"td")(739,"input",138),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(0))}),a.qZA()()(),a.TgZ(740,"tr")(741,"td"),a._uU(742,"ATREVIDO"),a.qZA(),a.TgZ(743,"td")(744,"input",139),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(1))}),a.qZA()(),a.TgZ(745,"td")(746,"input",140),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(1))}),a.qZA()()(),a.TgZ(747,"tr")(748,"td"),a._uU(749,"LEAL"),a.qZA(),a.TgZ(750,"td")(751,"input",141),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(2))}),a.qZA()(),a.TgZ(752,"td")(753,"input",142),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(2))}),a.qZA()()(),a.TgZ(754,"tr")(755,"td"),a._uU(756,"ENCANTADOR"),a.qZA(),a.TgZ(757,"td")(758,"input",143),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(3))}),a.qZA()(),a.TgZ(759,"td")(760,"input",144),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(3))}),a.qZA()()()()(),a.TgZ(761,"div",2)(762,"label",8)(763,"h4"),a._uU(764,"Grupo 18"),a.qZA()(),a.TgZ(765,"table")(766,"tr"),a._UZ(767,"td"),a.TgZ(768,"td")(769,"b"),a._uU(770,"M"),a.qZA(),a._uU(771,"ore"),a.qZA(),a.TgZ(772,"td")(773,"b"),a._uU(774,"L"),a.qZA(),a._uU(775,"ess"),a.qZA()(),a.TgZ(776,"tr")(777,"td"),a._uU(778,"COMPETITIVO"),a.qZA(),a.TgZ(779,"td")(780,"input",145),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(0))}),a.qZA()(),a.TgZ(781,"td")(782,"input",146),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(0))}),a.qZA()()(),a.TgZ(783,"tr")(784,"td"),a._uU(785,"ALEGRE"),a.qZA(),a.TgZ(786,"td")(787,"input",147),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(1))}),a.qZA()(),a.TgZ(788,"td")(789,"input",148),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(1))}),a.qZA()()(),a.TgZ(790,"tr")(791,"td"),a._uU(792,"CONSIDERADO"),a.qZA(),a.TgZ(793,"td")(794,"input",149),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(2))}),a.qZA()(),a.TgZ(795,"td")(796,"input",150),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(2))}),a.qZA()()(),a.TgZ(797,"tr")(798,"td"),a._uU(799,"ARMONIOSO"),a.qZA(),a.TgZ(800,"td")(801,"input",151),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(3))}),a.qZA()(),a.TgZ(802,"td")(803,"input",152),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(3))}),a.qZA()()()()(),a.TgZ(804,"div",2)(805,"label",8)(806,"h4"),a._uU(807,"Grupo 19"),a.qZA()(),a.TgZ(808,"table")(809,"tr"),a._UZ(810,"td"),a.TgZ(811,"td")(812,"b"),a._uU(813,"M"),a.qZA(),a._uU(814,"ore"),a.qZA(),a.TgZ(815,"td")(816,"b"),a._uU(817,"L"),a.qZA(),a._uU(818,"ess"),a.qZA()(),a.TgZ(819,"tr")(820,"td"),a._uU(821,"AMIGUERO"),a.qZA(),a.TgZ(822,"td")(823,"input",153),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(0))}),a.qZA()(),a.TgZ(824,"td")(825,"input",154),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(0))}),a.qZA()()(),a.TgZ(826,"tr")(827,"td"),a._uU(828,"PACIENTE"),a.qZA(),a.TgZ(829,"td")(830,"input",155),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(1))}),a.qZA()(),a.TgZ(831,"td")(832,"input",156),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(1))}),a.qZA()()(),a.TgZ(833,"tr")(834,"td"),a._uU(835,"CONFIANZA EN SI MISMO"),a.qZA(),a.TgZ(836,"td")(837,"input",157),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(2))}),a.qZA()(),a.TgZ(838,"td")(839,"input",158),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(2))}),a.qZA()()(),a.TgZ(840,"tr")(841,"td"),a._uU(842,"MESURADO PARA HABLAR"),a.qZA(),a.TgZ(843,"td")(844,"input",159),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(3))}),a.qZA()(),a.TgZ(845,"td")(846,"input",160),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(3))}),a.qZA()()()()(),a.TgZ(847,"div",2)(848,"label",8)(849,"h4"),a._uU(850,"Grupo 20"),a.qZA()(),a.TgZ(851,"table")(852,"tr"),a._UZ(853,"td"),a.TgZ(854,"td")(855,"b"),a._uU(856,"M"),a.qZA(),a._uU(857,"ore"),a.qZA(),a.TgZ(858,"td")(859,"b"),a._uU(860,"L"),a.qZA(),a._uU(861,"ess"),a.qZA()(),a.TgZ(862,"tr")(863,"td"),a._uU(864,"DIPLOMATICO"),a.qZA(),a.TgZ(865,"td")(866,"input",161),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(0))}),a.qZA()(),a.TgZ(867,"td")(868,"input",162),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(0))}),a.qZA()()(),a.TgZ(869,"tr")(870,"td"),a._uU(871,"AUDAZ"),a.qZA(),a.TgZ(872,"td")(873,"input",163),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(1))}),a.qZA()(),a.TgZ(874,"td")(875,"input",164),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(1))}),a.qZA()()(),a.TgZ(876,"tr")(877,"td"),a._uU(878,"REFINADO"),a.qZA(),a.TgZ(879,"td")(880,"input",165),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(2))}),a.qZA()(),a.TgZ(881,"td")(882,"input",166),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(2))}),a.qZA()()(),a.TgZ(883,"tr")(884,"td"),a._uU(885,"SATISFECHO"),a.qZA(),a.TgZ(886,"td")(887,"input",167),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(3))}),a.qZA()(),a.TgZ(888,"td")(889,"input",168),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(3))}),a.qZA()()()()(),a.TgZ(890,"div",2)(891,"label",8)(892,"h4"),a._uU(893,"Grupo 21"),a.qZA()(),a.TgZ(894,"table")(895,"tr"),a._UZ(896,"td"),a.TgZ(897,"td")(898,"b"),a._uU(899,"M"),a.qZA(),a._uU(900,"ore"),a.qZA(),a.TgZ(901,"td")(902,"b"),a._uU(903,"L"),a.qZA(),a._uU(904,"ess"),a.qZA()(),a.TgZ(905,"tr")(906,"td"),a._uU(907,"ADMIRABLE"),a.qZA(),a.TgZ(908,"td")(909,"input",169),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(0))}),a.qZA()(),a.TgZ(910,"td")(911,"input",170),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(0))}),a.qZA()()(),a.TgZ(912,"tr")(913,"td"),a._uU(914,"BONDADOSO"),a.qZA(),a.TgZ(915,"td")(916,"input",171),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(1))}),a.qZA()(),a.TgZ(917,"td")(918,"input",172),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(1))}),a.qZA()()(),a.TgZ(919,"tr")(920,"td"),a._uU(921,"RESIGNADO"),a.qZA(),a.TgZ(922,"td")(923,"input",173),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(2))}),a.qZA()(),a.TgZ(924,"td")(925,"input",174),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(2))}),a.qZA()()(),a.TgZ(926,"tr")(927,"td"),a._uU(928,"CARACTER FIRME"),a.qZA(),a.TgZ(929,"td")(930,"input",175),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(3))}),a.qZA()(),a.TgZ(931,"td")(932,"input",176),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(3))}),a.qZA()()()()(),a.TgZ(933,"div",2)(934,"label",8)(935,"h4"),a._uU(936,"Grupo 22"),a.qZA()(),a.TgZ(937,"table")(938,"tr"),a._UZ(939,"td"),a.TgZ(940,"td")(941,"b"),a._uU(942,"M"),a.qZA(),a._uU(943,"ore"),a.qZA(),a.TgZ(944,"td")(945,"b"),a._uU(946,"L"),a.qZA(),a._uU(947,"ess"),a.qZA()(),a.TgZ(948,"tr")(949,"td"),a._uU(950,"CONFORME"),a.qZA(),a.TgZ(951,"td")(952,"input",177),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(0))}),a.qZA()(),a.TgZ(953,"td")(954,"input",178),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(0))}),a.qZA()()(),a.TgZ(955,"tr")(956,"td"),a._uU(957,"CONFIABLE"),a.qZA(),a.TgZ(958,"td")(959,"input",179),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(1))}),a.qZA()(),a.TgZ(960,"td")(961,"input",180),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(1))}),a.qZA()()(),a.TgZ(962,"tr")(963,"td"),a._uU(964,"PACIFICO"),a.qZA(),a.TgZ(965,"td")(966,"input",181),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(2))}),a.qZA()(),a.TgZ(967,"td")(968,"input",182),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(2))}),a.qZA()()(),a.TgZ(969,"tr")(970,"td"),a._uU(971,"POSITIVO"),a.qZA(),a.TgZ(972,"td")(973,"input",183),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(3))}),a.qZA()(),a.TgZ(974,"td")(975,"input",184),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(3))}),a.qZA()()()()(),a.TgZ(976,"div",2)(977,"label",8)(978,"h4"),a._uU(979,"Grupo 23"),a.qZA()(),a.TgZ(980,"table")(981,"tr"),a._UZ(982,"td"),a.TgZ(983,"td")(984,"b"),a._uU(985,"M"),a.qZA(),a._uU(986,"ore"),a.qZA(),a.TgZ(987,"td")(988,"b"),a._uU(989,"L"),a.qZA(),a._uU(990,"ess"),a.qZA()(),a.TgZ(991,"tr")(992,"td"),a._uU(993,"INQUIETO"),a.qZA(),a.TgZ(994,"td")(995,"input",185),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(0))}),a.qZA()(),a.TgZ(996,"td")(997,"input",186),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(0))}),a.qZA()()(),a.TgZ(998,"tr")(999,"td"),a._uU(1e3,"POPULAR"),a.qZA(),a.TgZ(1001,"td")(1002,"input",187),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(1))}),a.qZA()(),a.TgZ(1003,"td")(1004,"input",188),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(1))}),a.qZA()()(),a.TgZ(1005,"tr")(1006,"td"),a._uU(1007,"BUEN VECINO"),a.qZA(),a.TgZ(1008,"td")(1009,"input",189),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(2))}),a.qZA()(),a.TgZ(1010,"td")(1011,"input",190),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(2))}),a.qZA()()(),a.TgZ(1012,"tr")(1013,"td"),a._uU(1014,"DEVOTO"),a.qZA(),a.TgZ(1015,"td")(1016,"input",191),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(3))}),a.qZA()(),a.TgZ(1017,"td")(1018,"input",192),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(3))}),a.qZA()()()()(),a.TgZ(1019,"div",2)(1020,"label",8)(1021,"h4"),a._uU(1022,"Grupo 24"),a.qZA()(),a.TgZ(1023,"table")(1024,"tr"),a._UZ(1025,"td"),a.TgZ(1026,"td")(1027,"b"),a._uU(1028,"M"),a.qZA(),a._uU(1029,"ore"),a.qZA(),a.TgZ(1030,"td")(1031,"b"),a._uU(1032,"L"),a.qZA(),a._uU(1033,"ess"),a.qZA()(),a.TgZ(1034,"tr")(1035,"td"),a._uU(1036,"INQUIETO"),a.qZA(),a.TgZ(1037,"td")(1038,"input",193),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(0))}),a.qZA()(),a.TgZ(1039,"td")(1040,"input",194),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(0))}),a.qZA()()(),a.TgZ(1041,"tr")(1042,"td"),a._uU(1043,"POPULAR"),a.qZA(),a.TgZ(1044,"td")(1045,"input",195),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(1))}),a.qZA()(),a.TgZ(1046,"td")(1047,"input",196),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(1))}),a.qZA()()(),a.TgZ(1048,"tr")(1049,"td"),a._uU(1050,"BUEN VECINO"),a.qZA(),a.TgZ(1051,"td")(1052,"input",197),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(2))}),a.qZA()(),a.TgZ(1053,"td")(1054,"input",198),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(2))}),a.qZA()()(),a.TgZ(1055,"tr")(1056,"td"),a._uU(1057,"DEVOTO"),a.qZA(),a.TgZ(1058,"td")(1059,"input",199),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(3))}),a.qZA()(),a.TgZ(1060,"td")(1061,"input",200),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(3))}),a.qZA()()()()(),a.TgZ(1062,"button",201),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.saveTutorial())}),a._uU(1063,"Guardar Registro"),a.qZA()()}if(2&n){const t=a.oxw();a.xp6(6),a.Q6J("ngModel",t.tutorial.appPaterno),a.xp6(4),a.Q6J("ngModel",t.tutorial.appMaterno),a.xp6(4),a.Q6J("ngModel",t.tutorial.nombre),a.xp6(4),a.Q6J("ngModel",t.tutorial.facebook),a.xp6(4),a.Q6J("ngModel",t.tutorial.programaInteres)}}function AP(n,e){1&n&&(a.TgZ(0,"div")(1,"h4"),a._uU(2,"Te has registrado exitosamente!"),a.qZA(),a.TgZ(3,"h3"),a._uU(4,"Felicidades!"),a.qZA()())}const bP=[{path:"",redirectTo:"add",pathMatch:"full"},{path:"tutorials",component:CP},{path:"add",component:(()=>{class n{constructor(t){this.tutorialService=t,this.tutorial=new oN,this.submitted=!1}saveTutorial(){this.tutorialService.create(this.tutorial).then(()=>{console.log("Created new item successfully!"),this.submitted=!0})}newTutorial(){this.submitted=!1,this.tutorial=new oN}setM1(t){return this.tutorial.persuasivoM=0,this.tutorial.gentilM=0,this.tutorial.humildeM=0,this.tutorial.originalM=0,0==t&&(this.tutorial.persuasivoM=1),1==t&&(this.tutorial.gentilM=1),2==t&&(this.tutorial.humildeM=1),3==t&&(this.tutorial.originalM=1),1}setL1(t){this.tutorial.persuasivoL=0,this.tutorial.gentilL=0,this.tutorial.humildeL=0,this.tutorial.originalL=0,0==t&&(this.tutorial.persuasivoL=1),1==t&&(this.tutorial.gentilL=1),2==t&&(this.tutorial.humildeL=1),3==t&&(this.tutorial.originalL=1)}setM2(t){return this.tutorial.fuerzavoluntadM=0,this.tutorial.menteabiertaM=0,this.tutorial.complacienteM=0,this.tutorial.animosoM=0,0==t&&(this.tutorial.fuerzavoluntadM=1),1==t&&(this.tutorial.menteabiertaM=1),2==t&&(this.tutorial.complacienteM=1),3==t&&(this.tutorial.animosoM=1),1}setL2(t){return this.tutorial.fuerzavoluntadL=0,this.tutorial.menteabiertaL=0,this.tutorial.complacienteL=0,this.tutorial.animosoL=0,0==t&&(this.tutorial.fuerzavoluntadL=1),1==t&&(this.tutorial.menteabiertaL=1),2==t&&(this.tutorial.complacienteL=1),3==t&&(this.tutorial.animosoL=1),1}setM3(t){return this.tutorial.obedienteM=0,this.tutorial.quisquillosoM=0,this.tutorial.inconquistableM=0,this.tutorial.juguetonM=0,0==t&&(this.tutorial.obedienteM=1),1==t&&(this.tutorial.quisquillosoM=1),2==t&&(this.tutorial.inconquistableM=1),3==t&&(this.tutorial.juguetonM=1),1}setL3(t){return this.tutorial.obedienteL=0,this.tutorial.quisquillosoL=0,this.tutorial.inconquistableL=0,this.tutorial.juguetonL=0,0==t&&(this.tutorial.obedienteL=1),1==t&&(this.tutorial.quisquillosoL=1),2==t&&(this.tutorial.inconquistableL=1),3==t&&(this.tutorial.juguetonL=1),1}setM4(t){return this.tutorial.aventureroM=0,this.tutorial.receptivoM=0,this.tutorial.cordialM=0,this.tutorial.moderadoM=0,0==t&&(this.tutorial.aventureroM=1),1==t&&(this.tutorial.receptivoM=1),2==t&&(this.tutorial.cordialM=1),3==t&&(this.tutorial.moderadoM=1),1}setL4(t){return this.tutorial.aventureroL=0,this.tutorial.receptivoL=0,this.tutorial.cordialL=0,this.tutorial.moderadoL=0,0==t&&(this.tutorial.aventureroL=1),1==t&&(this.tutorial.receptivoL=1),2==t&&(this.tutorial.cordialL=1),3==t&&(this.tutorial.moderadoL=1),1}setM5(t){return this.tutorial.agresivoM=0,this.tutorial.almafiestaM=0,this.tutorial.comodinoM=0,this.tutorial.temerosoM=0,0==t&&(this.tutorial.agresivoM=1),1==t&&(this.tutorial.almafiestaM=1),2==t&&(this.tutorial.comodinoM=1),3==t&&(this.tutorial.temerosoM=1),1}setL5(t){return this.tutorial.agresivoL=0,this.tutorial.almafiestaL=0,this.tutorial.comodinoL=0,this.tutorial.temerosoL=0,0==t&&(this.tutorial.agresivoL=1),1==t&&(this.tutorial.almafiestaL=1),2==t&&(this.tutorial.comodinoL=1),3==t&&(this.tutorial.temerosoL=1),1}setM6(t){return this.tutorial.confiadoM=0,this.tutorial.simpatizadorM=0,this.tutorial.toleranteM=0,this.tutorial.afirmativoM=0,0==t&&(this.tutorial.confiadoM=1),1==t&&(this.tutorial.simpatizadorM=1),2==t&&(this.tutorial.toleranteM=1),3==t&&(this.tutorial.afirmativoM=1),1}setL6(t){return this.tutorial.confiadoL=0,this.tutorial.simpatizadorL=0,this.tutorial.toleranteL=0,this.tutorial.afirmativoL=0,0==t&&(this.tutorial.confiadoL=1),1==t&&(this.tutorial.simpatizadorL=1),2==t&&(this.tutorial.toleranteL=1),3==t&&(this.tutorial.afirmativoL=1),1}setM7(t){return this.tutorial.respetuosoM=0,this.tutorial.emprendedorM=0,this.tutorial.optimistaM=0,this.tutorial.servicialM=0,0==t&&(this.tutorial.respetuosoM=1),1==t&&(this.tutorial.emprendedorM=1),2==t&&(this.tutorial.optimistaM=1),3==t&&(this.tutorial.servicialM=1),1}setL7(t){return this.tutorial.respetuosoL=0,this.tutorial.emprendedorL=0,this.tutorial.optimistaL=0,this.tutorial.servicialL=0,0==t&&(this.tutorial.respetuosoL=1),1==t&&(this.tutorial.emprendedorL=1),2==t&&(this.tutorial.optimistaL=1),3==t&&(this.tutorial.servicialL=1),1}setM8(t){return this.tutorial.indulgenteM=0,this.tutorial.estetaM=0,this.tutorial.vigorosoM=0,this.tutorial.sociableM=0,0==t&&(this.tutorial.indulgenteM=1),1==t&&(this.tutorial.estetaM=1),2==t&&(this.tutorial.vigorosoM=1),3==t&&(this.tutorial.sociableM=1),1}setL8(t){return this.tutorial.indulgenteL=0,this.tutorial.estetaL=0,this.tutorial.vigorosoL=0,this.tutorial.sociableL=0,0==t&&(this.tutorial.indulgenteL=1),1==t&&(this.tutorial.estetaL=1),2==t&&(this.tutorial.vigorosoL=1),3==t&&(this.tutorial.sociableL=1),1}setM9(t){return this.tutorial.agradableM=0,this.tutorial.temerosodiosM=0,this.tutorial.tenazM=0,this.tutorial.atractivoM=0,0==t&&(this.tutorial.agradableM=1),1==t&&(this.tutorial.temerosodiosM=1),2==t&&(this.tutorial.tenazM=1),3==t&&(this.tutorial.atractivoM=1),1}setL9(t){return this.tutorial.agradableL=0,this.tutorial.temerosodiosL=0,this.tutorial.tenazL=0,this.tutorial.atractivoL=0,0==t&&(this.tutorial.agradableL=1),1==t&&(this.tutorial.temerosodiosL=1),2==t&&(this.tutorial.tenazL=1),3==t&&(this.tutorial.atractivoL=1),1}setM10(t){return this.tutorial.ecuanimeM=0,this.tutorial.precisoM=0,this.tutorial.nerviosoM=0,this.tutorial.jovialM=0,0==t&&(this.tutorial.ecuanimeM=1),1==t&&(this.tutorial.precisoM=1),2==t&&(this.tutorial.nerviosoM=1),3==t&&(this.tutorial.jovialM=1),1}setL10(t){return this.tutorial.ecuanimeL=0,this.tutorial.precisoL=0,this.tutorial.nerviosoL=0,this.tutorial.jovialL=0,0==t&&(this.tutorial.ecuanimeL=1),1==t&&(this.tutorial.precisoL=1),2==t&&(this.tutorial.nerviosoL=1),3==t&&(this.tutorial.jovialL=1),1}setM11(t){return this.tutorial.valienteM=0,this.tutorial.inspiradorM=0,this.tutorial.sumisoM=0,this.tutorial.timidoM=0,0==t&&(this.tutorial.valienteM=1),1==t&&(this.tutorial.inspiradorM=1),2==t&&(this.tutorial.sumisoM=1),3==t&&(this.tutorial.timidoM=1),1}setL11(t){return this.tutorial.valienteL=0,this.tutorial.inspiradorL=0,this.tutorial.sumisoL=0,this.tutorial.timidoL=0,0==t&&(this.tutorial.valienteL=1),1==t&&(this.tutorial.inspiradorL=1),2==t&&(this.tutorial.sumisoL=1),3==t&&(this.tutorial.timidoL=1),1}setM12(t){return this.tutorial.parlanchinM=0,this.tutorial.controladoM=0,this.tutorial.convencionalM=0,this.tutorial.decisivoM=0,0==t&&(this.tutorial.parlanchinM=1),1==t&&(this.tutorial.controladoM=1),2==t&&(this.tutorial.convencionalM=1),3==t&&(this.tutorial.decisivoM=1),1}setL12(t){return this.tutorial.parlanchinL=0,this.tutorial.controladoL=0,this.tutorial.convencionalL=0,this.tutorial.decisivoL=0,0==t&&(this.tutorial.parlanchinL=1),1==t&&(this.tutorial.controladoL=1),2==t&&(this.tutorial.convencionalL=1),3==t&&(this.tutorial.decisivoL=1),1}setM13(t){return this.tutorial.cautelosoM=0,this.tutorial.determinadoM=0,this.tutorial.convincenteM=0,this.tutorial.bonachonM=0,0==t&&(this.tutorial.cautelosoM=1),1==t&&(this.tutorial.determinadoM=1),2==t&&(this.tutorial.convincenteM=1),3==t&&(this.tutorial.bonachonM=1),1}setL13(t){return this.tutorial.cautelosoL=0,this.tutorial.determinadoL=0,this.tutorial.convincenteL=0,this.tutorial.bonachonL=0,0==t&&(this.tutorial.cautelosoL=1),1==t&&(this.tutorial.determinadoL=1),2==t&&(this.tutorial.convincenteL=1),3==t&&(this.tutorial.bonachonL=1),1}setM14(t){return this.tutorial.disciplinadoM=0,this.tutorial.generosoM=0,this.tutorial.ani_mosoM=0,this.tutorial.persistenteM=0,0==t&&(this.tutorial.disciplinadoM=1),1==t&&(this.tutorial.generosoM=1),2==t&&(this.tutorial.ani_mosoM=1),3==t&&(this.tutorial.persistenteM=1),1}setL14(t){return this.tutorial.disciplinadoL=0,this.tutorial.generosoL=0,this.tutorial.ani_mosoL=0,this.tutorial.persistenteL=0,0==t&&(this.tutorial.disciplinadoL=1),1==t&&(this.tutorial.generosoL=1),2==t&&(this.tutorial.ani_mosoL=1),3==t&&(this.tutorial.persistenteL=1),1}setM15(t){return this.tutorial.adaptableM=0,this.tutorial.disputadorM=0,this.tutorial.indiferenteM=0,this.tutorial.sangrelivianaM=0,0==t&&(this.tutorial.adaptableM=1),1==t&&(this.tutorial.disputadorM=1),2==t&&(this.tutorial.indiferenteM=1),3==t&&(this.tutorial.sangrelivianaM=1),1}setL15(t){return this.tutorial.adaptableL=0,this.tutorial.disputadorL=0,this.tutorial.indiferenteL=0,this.tutorial.sangrelivianaL=0,0==t&&(this.tutorial.adaptableL=1),1==t&&(this.tutorial.disputadorL=1),2==t&&(this.tutorial.indiferenteL=1),3==t&&(this.tutorial.sangrelivianaL=1),1}setM16(t){return this.tutorial.cohibidoM=0,this.tutorial.exactoM=0,this.tutorial.francoM=0,this.tutorial.buencompaneroM=0,0==t&&(this.tutorial.cohibidoM=1),1==t&&(this.tutorial.exactoM=1),2==t&&(this.tutorial.francoM=1),3==t&&(this.tutorial.buencompaneroM=1),1}setL16(t){return this.tutorial.cohibidoL=0,this.tutorial.exactoL=0,this.tutorial.francoL=0,this.tutorial.buencompaneroL=0,0==t&&(this.tutorial.cohibidoL=1),1==t&&(this.tutorial.exactoL=1),2==t&&(this.tutorial.francoL=1),3==t&&(this.tutorial.buencompaneroL=1),1}setM17(t){return this.tutorial.docilM=0,this.tutorial.atrevidoM=0,this.tutorial.lealM=0,this.tutorial.encantadorM=0,0==t&&(this.tutorial.docilM=1),1==t&&(this.tutorial.atrevidoM=1),2==t&&(this.tutorial.lealM=1),3==t&&(this.tutorial.encantadorM=1),1}setL17(t){return this.tutorial.docilL=0,this.tutorial.atrevidoL=0,this.tutorial.lealL=0,this.tutorial.encantadorL=0,0==t&&(this.tutorial.docilL=1),1==t&&(this.tutorial.atrevidoL=1),2==t&&(this.tutorial.lealL=1),3==t&&(this.tutorial.encantadorL=1),1}setM18(t){return this.tutorial.competitivoM=0,this.tutorial.alegreM=0,this.tutorial.consideradoM=0,this.tutorial.armoniosoM=0,0==t&&(this.tutorial.competitivoM=1),1==t&&(this.tutorial.alegreM=1),2==t&&(this.tutorial.consideradoM=1),3==t&&(this.tutorial.armoniosoM=1),1}setL18(t){return this.tutorial.competitivoL=0,this.tutorial.alegreL=0,this.tutorial.consideradoL=0,this.tutorial.armoniosoL=0,0==t&&(this.tutorial.competitivoL=1),1==t&&(this.tutorial.alegreL=1),2==t&&(this.tutorial.consideradoL=1),3==t&&(this.tutorial.armoniosoL=1),1}setM19(t){return this.tutorial.amigueroM=0,this.tutorial.pacienteM=0,this.tutorial.confianzamismoM=0,this.tutorial.mesuradohablarM=0,0==t&&(this.tutorial.amigueroM=1),1==t&&(this.tutorial.pacienteM=1),2==t&&(this.tutorial.confianzamismoM=1),3==t&&(this.tutorial.mesuradohablarM=1),1}setL19(t){return this.tutorial.amigueroL=0,this.tutorial.pacienteL=0,this.tutorial.confianzamismoL=0,this.tutorial.mesuradohablarL=0,0==t&&(this.tutorial.amigueroL=1),1==t&&(this.tutorial.pacienteL=1),2==t&&(this.tutorial.confianzamismoL=1),3==t&&(this.tutorial.mesuradohablarL=1),1}setM20(t){return this.tutorial.diplomaticoM=0,this.tutorial.audazM=0,this.tutorial.refinadoM=0,this.tutorial.satisfechoM=0,0==t&&(this.tutorial.diplomaticoM=1),1==t&&(this.tutorial.audazM=1),2==t&&(this.tutorial.refinadoM=1),3==t&&(this.tutorial.satisfechoM=1),1}setL20(t){return this.tutorial.diplomaticoL=0,this.tutorial.audazL=0,this.tutorial.refinadoL=0,this.tutorial.satisfechoL=0,0==t&&(this.tutorial.diplomaticoL=1),1==t&&(this.tutorial.audazL=1),2==t&&(this.tutorial.refinadoL=1),3==t&&(this.tutorial.satisfechoL=1),1}setM21(t){return this.tutorial.dispuestoM=0,this.tutorial.deseosoM=0,this.tutorial.consecuenteM=0,this.tutorial.entusiastaM=0,0==t&&(this.tutorial.dispuestoM=1),1==t&&(this.tutorial.deseosoM=1),2==t&&(this.tutorial.consecuenteM=1),3==t&&(this.tutorial.entusiastaM=1),1}setL21(t){return this.tutorial.dispuestoL=0,this.tutorial.deseosoL=0,this.tutorial.consecuenteL=0,this.tutorial.entusiastaL=0,0==t&&(this.tutorial.dispuestoL=1),1==t&&(this.tutorial.deseosoL=1),2==t&&(this.tutorial.consecuenteL=1),3==t&&(this.tutorial.entusiastaL=1),1}setM22(t){return this.tutorial.admirableM=0,this.tutorial.bondadosoM=0,this.tutorial.resignadoM=0,this.tutorial.caracterfirmeM=0,0==t&&(this.tutorial.admirableM=1),1==t&&(this.tutorial.bondadosoM=1),2==t&&(this.tutorial.resignadoM=1),3==t&&(this.tutorial.caracterfirmeM=1),1}setL22(t){return this.tutorial.admirableL=0,this.tutorial.bondadosoL=0,this.tutorial.resignadoL=0,this.tutorial.caracterfirmeL=0,0==t&&(this.tutorial.admirableL=1),1==t&&(this.tutorial.bondadosoL=1),2==t&&(this.tutorial.resignadoL=1),3==t&&(this.tutorial.caracterfirmeL=1),1}setM23(t){return this.tutorial.conformeM=0,this.tutorial.confiableM=0,this.tutorial.pacificoM=0,this.tutorial.positivoM=0,0==t&&(this.tutorial.conformeM=1),1==t&&(this.tutorial.confiableM=1),2==t&&(this.tutorial.pacificoM=1),3==t&&(this.tutorial.positivoM=1),1}setL23(t){return this.tutorial.conformeL=0,this.tutorial.confiableL=0,this.tutorial.pacificoL=0,this.tutorial.positivoL=0,0==t&&(this.tutorial.conformeL=1),1==t&&(this.tutorial.confiableL=1),2==t&&(this.tutorial.pacificoL=1),3==t&&(this.tutorial.positivoL=1),1}setM24(t){return this.tutorial.inquietoM=0,this.tutorial.popularM=0,this.tutorial.buenvecinoM=0,this.tutorial.devotoM=0,0==t&&(this.tutorial.inquietoM=1),1==t&&(this.tutorial.popularM=1),2==t&&(this.tutorial.buenvecinoM=1),3==t&&(this.tutorial.devotoM=1),1}setL24(t){return this.tutorial.inquietoL=0,this.tutorial.popularL=0,this.tutorial.buenvecinoL=0,this.tutorial.devotoL=0,0==t&&(this.tutorial.inquietoL=1),1==t&&(this.tutorial.popularL=1),2==t&&(this.tutorial.buenvecinoL=1),3==t&&(this.tutorial.devotoL=1),1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(TS))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-add-tutorial"]],decls:3,vars:2,consts:[[1,"submit-form"],[4,"ngIf"],[1,"form-group"],["for","description"],["id","description","required","","name","description",1,"form-control",3,"ngModel","ngModelChange"],["id","facebook","required","","name","facebook",1,"form-control",3,"ngModel","ngModelChange"],["id","programaInteres","required","","name","programaInteres",1,"form-control",3,"ngModel","ngModelChange"],["value","MEIT2024"],["for","title"],["type","radio","value","0","name","m1",1,"form-control",3,"click"],["type","radio","value","0","name","l1",1,"form-control",3,"click"],["type","radio","value","1","name","m1",1,"form-control",3,"click"],["type","radio","value","1","name","l1",1,"form-control",3,"click"],["type","radio","value","2","name","m1",1,"form-control",3,"click"],["type","radio","value","2","name","l1",1,"form-control",3,"click"],["type","radio","value","3","name","m1",1,"form-control",3,"click"],["type","radio","value","3","name","l1",1,"form-control",3,"click"],["type","radio","value","0","name","m2",1,"form-control",3,"click"],["type","radio","value","0","name","l2",1,"form-control",3,"click"],["type","radio","value","1","name","m2",1,"form-control",3,"click"],["type","radio","value","1","name","l2",1,"form-control",3,"click"],["type","radio","value","2","name","m2",1,"form-control",3,"click"],["type","radio","value","2","name","l2",1,"form-control",3,"click"],["type","radio","value","3","name","m2",1,"form-control",3,"click"],["type","radio","value","3","name","l2",1,"form-control",3,"click"],["type","radio","value","0","name","m3",1,"form-control",3,"click"],["type","radio","value","0","name","l3",1,"form-control",3,"click"],["type","radio","value","1","name","m3",1,"form-control",3,"click"],["type","radio","value","1","name","l3",1,"form-control",3,"click"],["type","radio","value","2","name","m3",1,"form-control",3,"click"],["type","radio","value","2","name","l3",1,"form-control",3,"click"],["type","radio","value","3","name","m3",1,"form-control",3,"click"],["type","radio","value","3","name","l3",1,"form-control",3,"click"],["type","radio","value","0","name","m4",1,"form-control",3,"click"],["type","radio","value","0","name","l4",1,"form-control",3,"click"],["type","radio","value","1","name","m4",1,"form-control",3,"click"],["type","radio","value","1","name","l4",1,"form-control",3,"click"],["type","radio","value","2","name","m4",1,"form-control",3,"click"],["type","radio","value","2","name","l4",1,"form-control",3,"click"],["type","radio","value","3","name","m4",1,"form-control",3,"click"],["type","radio","value","3","name","l4",1,"form-control",3,"click"],["type","radio","value","0","name","m5",1,"form-control",3,"click"],["type","radio","value","0","name","l5",1,"form-control",3,"click"],["type","radio","value","1","name","m5",1,"form-control",3,"click"],["type","radio","value","1","name","l5",1,"form-control",3,"click"],["type","radio","value","2","name","m5",1,"form-control",3,"click"],["type","radio","value","2","name","l5",1,"form-control",3,"click"],["type","radio","value","3","name","m5",1,"form-control",3,"click"],["type","radio","value","3","name","l5",1,"form-control",3,"click"],["type","radio","value","0","name","m6",1,"form-control",3,"click"],["type","radio","value","0","name","l6",1,"form-control",3,"click"],["type","radio","value","1","name","m6",1,"form-control",3,"click"],["type","radio","value","1","name","l6",1,"form-control",3,"click"],["type","radio","value","2","name","m6",1,"form-control",3,"click"],["type","radio","value","2","name","l6",1,"form-control",3,"click"],["type","radio","value","3","name","m6",1,"form-control",3,"click"],["type","radio","value","3","name","l6",1,"form-control",3,"click"],["type","radio","value","0","name","m7",1,"form-control",3,"click"],["type","radio","value","0","name","l7",1,"form-control",3,"click"],["type","radio","value","1","name","m7",1,"form-control",3,"click"],["type","radio","value","1","name","l7",1,"form-control",3,"click"],["type","radio","value","2","name","m7",1,"form-control",3,"click"],["type","radio","value","2","name","l7",1,"form-control",3,"click"],["type","radio","value","3","name","m7",1,"form-control",3,"click"],["type","radio","value","3","name","l7",1,"form-control",3,"click"],["type","radio","value","0","name","m8",1,"form-control",3,"click"],["type","radio","value","0","name","l8",1,"form-control",3,"click"],["type","radio","value","1","name","m8",1,"form-control",3,"click"],["type","radio","value","1","name","l8",1,"form-control",3,"click"],["type","radio","value","2","name","m8",1,"form-control",3,"click"],["type","radio","value","2","name","l8",1,"form-control",3,"click"],["type","radio","value","3","name","m8",1,"form-control",3,"click"],["type","radio","value","3","name","l8",1,"form-control",3,"click"],["type","radio","value","0","name","m9",1,"form-control",3,"click"],["type","radio","value","0","name","l9",1,"form-control",3,"click"],["type","radio","value","1","name","m9",1,"form-control",3,"click"],["type","radio","value","1","name","l9",1,"form-control",3,"click"],["type","radio","value","2","name","m9",1,"form-control",3,"click"],["type","radio","value","2","name","l9",1,"form-control",3,"click"],["type","radio","value","3","name","m9",1,"form-control",3,"click"],["type","radio","value","3","name","l9",1,"form-control",3,"click"],["type","radio","value","0","name","m10",1,"form-control",3,"click"],["type","radio","value","0","name","l10",1,"form-control",3,"click"],["type","radio","value","1","name","m10",1,"form-control",3,"click"],["type","radio","value","1","name","l10",1,"form-control",3,"click"],["type","radio","value","2","name","m10",1,"form-control",3,"click"],["type","radio","value","2","name","l10",1,"form-control",3,"click"],["type","radio","value","3","name","m10",1,"form-control",3,"click"],["type","radio","value","3","name","l10",1,"form-control",3,"click"],["type","radio","value","0","name","m11",1,"form-control",3,"click"],["type","radio","value","0","name","l11",1,"form-control",3,"click"],["type","radio","value","1","name","m11",1,"form-control",3,"click"],["type","radio","value","1","name","l11",1,"form-control",3,"click"],["type","radio","value","2","name","m11",1,"form-control",3,"click"],["type","radio","value","2","name","l11",1,"form-control",3,"click"],["type","radio","value","3","name","m11",1,"form-control",3,"click"],["type","radio","value","3","name","l11",1,"form-control",3,"click"],["type","radio","value","0","name","m12",1,"form-control",3,"click"],["type","radio","value","0","name","l12",1,"form-control",3,"click"],["type","radio","value","1","name","m12",1,"form-control",3,"click"],["type","radio","value","1","name","l12",1,"form-control",3,"click"],["type","radio","value","2","name","m12",1,"form-control",3,"click"],["type","radio","value","2","name","l12",1,"form-control",3,"click"],["type","radio","value","3","name","m12",1,"form-control",3,"click"],["type","radio","value","3","name","l12",1,"form-control",3,"click"],["type","radio","value","0","name","m13",1,"form-control",3,"click"],["type","radio","value","0","name","l13",1,"form-control",3,"click"],["type","radio","value","1","name","m13",1,"form-control",3,"click"],["type","radio","value","1","name","l13",1,"form-control",3,"click"],["type","radio","value","2","name","m13",1,"form-control",3,"click"],["type","radio","value","2","name","l13",1,"form-control",3,"click"],["type","radio","value","3","name","m13",1,"form-control",3,"click"],["type","radio","value","3","name","l13",1,"form-control",3,"click"],["type","radio","value","0","name","m14",1,"form-control",3,"click"],["type","radio","value","0","name","l14",1,"form-control",3,"click"],["type","radio","value","1","name","m14",1,"form-control",3,"click"],["type","radio","value","1","name","l14",1,"form-control",3,"click"],["type","radio","value","2","name","m14",1,"form-control",3,"click"],["type","radio","value","2","name","l14",1,"form-control",3,"click"],["type","radio","value","3","name","m14",1,"form-control",3,"click"],["type","radio","value","3","name","l14",1,"form-control",3,"click"],["type","radio","value","0","name","m15",1,"form-control",3,"click"],["type","radio","value","0","name","l15",1,"form-control",3,"click"],["type","radio","value","1","name","m15",1,"form-control",3,"click"],["type","radio","value","1","name","l15",1,"form-control",3,"click"],["type","radio","value","2","name","m15",1,"form-control",3,"click"],["type","radio","value","2","name","l15",1,"form-control",3,"click"],["type","radio","value","3","name","m15",1,"form-control",3,"click"],["type","radio","value","3","name","l15",1,"form-control",3,"click"],["type","radio","value","0","name","m16",1,"form-control",3,"click"],["type","radio","value","0","name","l16",1,"form-control",3,"click"],["type","radio","value","1","name","m16",1,"form-control",3,"click"],["type","radio","value","1","name","l16",1,"form-control",3,"click"],["type","radio","value","2","name","m16",1,"form-control",3,"click"],["type","radio","value","2","name","l16",1,"form-control",3,"click"],["type","radio","value","3","name","m16",1,"form-control",3,"click"],["type","radio","value","3","name","l16",1,"form-control",3,"click"],["type","radio","value","0","name","m17",1,"form-control",3,"click"],["type","radio","value","0","name","l17",1,"form-control",3,"click"],["type","radio","value","1","name","m17",1,"form-control",3,"click"],["type","radio","value","1","name","l17",1,"form-control",3,"click"],["type","radio","value","2","name","m17",1,"form-control",3,"click"],["type","radio","value","2","name","l17",1,"form-control",3,"click"],["type","radio","value","3","name","m17",1,"form-control",3,"click"],["type","radio","value","3","name","l17",1,"form-control",3,"click"],["type","radio","value","0","name","m18",1,"form-control",3,"click"],["type","radio","value","0","name","l18",1,"form-control",3,"click"],["type","radio","value","1","name","m18",1,"form-control",3,"click"],["type","radio","value","1","name","l18",1,"form-control",3,"click"],["type","radio","value","2","name","m18",1,"form-control",3,"click"],["type","radio","value","2","name","l18",1,"form-control",3,"click"],["type","radio","value","3","name","m18",1,"form-control",3,"click"],["type","radio","value","3","name","l18",1,"form-control",3,"click"],["type","radio","value","0","name","m19",1,"form-control",3,"click"],["type","radio","value","0","name","l19",1,"form-control",3,"click"],["type","radio","value","1","name","m19",1,"form-control",3,"click"],["type","radio","value","1","name","l19",1,"form-control",3,"click"],["type","radio","value","2","name","m19",1,"form-control",3,"click"],["type","radio","value","2","name","l19",1,"form-control",3,"click"],["type","radio","value","3","name","m19",1,"form-control",3,"click"],["type","radio","value","3","name","l19",1,"form-control",3,"click"],["type","radio","value","0","name","m20",1,"form-control",3,"click"],["type","radio","value","0","name","l20",1,"form-control",3,"click"],["type","radio","value","1","name","m20",1,"form-control",3,"click"],["type","radio","value","1","name","l20",1,"form-control",3,"click"],["type","radio","value","2","name","m20",1,"form-control",3,"click"],["type","radio","value","2","name","l20",1,"form-control",3,"click"],["type","radio","value","3","name","m20",1,"form-control",3,"click"],["type","radio","value","3","name","l20",1,"form-control",3,"click"],["type","radio","value","0","name","m21",1,"form-control",3,"click"],["type","radio","value","0","name","l21",1,"form-control",3,"click"],["type","radio","value","1","name","m21",1,"form-control",3,"click"],["type","radio","value","1","name","l21",1,"form-control",3,"click"],["type","radio","value","2","name","m21",1,"form-control",3,"click"],["type","radio","value","2","name","l21",1,"form-control",3,"click"],["type","radio","value","3","name","m21",1,"form-control",3,"click"],["type","radio","value","3","name","l21",1,"form-control",3,"click"],["type","radio","value","0","name","m22",1,"form-control",3,"click"],["type","radio","value","0","name","l22",1,"form-control",3,"click"],["type","radio","value","1","name","m22",1,"form-control",3,"click"],["type","radio","value","1","name","l22",1,"form-control",3,"click"],["type","radio","value","2","name","m22",1,"form-control",3,"click"],["type","radio","value","2","name","l22",1,"form-control",3,"click"],["type","radio","value","3","name","m22",1,"form-control",3,"click"],["type","radio","value","3","name","l22",1,"form-control",3,"click"],["type","radio","value","0","name","m23",1,"form-control",3,"click"],["type","radio","value","0","name","l23",1,"form-control",3,"click"],["type","radio","value","1","name","m23",1,"form-control",3,"click"],["type","radio","value","1","name","l23",1,"form-control",3,"click"],["type","radio","value","2","name","m23",1,"form-control",3,"click"],["type","radio","value","2","name","l23",1,"form-control",3,"click"],["type","radio","value","3","name","m23",1,"form-control",3,"click"],["type","radio","value","3","name","l23",1,"form-control",3,"click"],["type","radio","value","0","name","m24",1,"form-control",3,"click"],["type","radio","value","0","name","l24",1,"form-control",3,"click"],["type","radio","value","1","name","m24",1,"form-control",3,"click"],["type","radio","value","1","name","l24",1,"form-control",3,"click"],["type","radio","value","2","name","m24",1,"form-control",3,"click"],["type","radio","value","2","name","l24",1,"form-control",3,"click"],["type","radio","value","3","name","m24",1,"form-control",3,"click"],["type","radio","value","3","name","l24",1,"form-control",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,DP,1064,5,"div",1),a.YNc(2,AP,5,0,"div",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",!r.submitted),a.xp6(1),a.Q6J("ngIf",r.submitted))},dependencies:[Uo,Sp,pc,Co,fc,Wo,hu,Rl],styles:[".submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"]}),n})()}];let SP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rN.forRoot(bP),rN]}),n})(),MP=(()=>{class n{constructor(){this.title="test Cleaver"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:15,vars:1,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-success"],["href","#",1,"navbar-brand"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","add",1,"nav-link"],["routerLink","tutorials",1,"nav-link"],[1,"container","mt-3"]],template:function(t,r){1&t&&(a.TgZ(0,"div")(1,"nav",0)(2,"a",1),a._uU(3,"UV - test de Cleaver"),a.qZA(),a.TgZ(4,"div",2)(5,"li",3)(6,"a",4),a._uU(7,"Test"),a.qZA()(),a.TgZ(8,"li",3)(9,"a",5),a._uU(10,"Consultas"),a.qZA()()()(),a.TgZ(11,"div",6)(12,"h2"),a._uU(13),a.qZA(),a._UZ(14,"router-outlet"),a.qZA()()),2&t&&(a.xp6(13),a.Oqu(r.title))},dependencies:[fS,tA],styles:[".container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:25px auto}"]}),n})(),xP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[MP]}),n.\u0275inj=a.cJS({imports:[gs,SP,Th,Si.hO.initializeApp(Jk_firebase),Yk]}),n})();Wd().bootstrapModule(xP).catch(n=>console.error(n))},1135:(lt,Te,R)=>{R.d(Te,{X:()=>q});var a=R(7579);class q extends a.x{constructor(Q){super(),this._value=Q}get value(){return this.getValue()}_subscribe(Q){const ne=super._subscribe(Q);return!ne.closed&&Q.next(this._value),ne}getValue(){const{hasError:Q,thrownError:ne,_value:le}=this;if(Q)throw ne;return this._throwIfClosed(),le}next(Q){super.next(this._value=Q)}}},9751:(lt,Te,R)=>{R.d(Te,{y:()=>Re});var a=R(2961),q=R(727),O=R(8822),Q=R(9635),ne=R(2416),le=R(576),fe=R(2806);let Re=(()=>{class J{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Ye=new J;return Ye.source=this,Ye.operator=Ce,Ye}subscribe(Ce,Ye,Me){const Ge=function Z(J){return J&&J instanceof a.Lv||function V(J){return J&&(0,le.m)(J.next)&&(0,le.m)(J.error)&&(0,le.m)(J.complete)}(J)&&(0,q.Nn)(J)}(Ce)?Ce:new a.Hp(Ce,Ye,Me);return(0,fe.x)(()=>{const{operator:Ne,source:mt}=this;Ge.add(Ne?Ne.call(Ge,mt):mt?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Ye){Ce.error(Ye)}}forEach(Ce,Ye){return new(Ye=de(Ye))((Me,Ge)=>{const Ne=new a.Hp({next:mt=>{try{Ce(mt)}catch(dt){Ge(dt),Ne.unsubscribe()}},error:Ge,complete:Me});this.subscribe(Ne)})}_subscribe(Ce){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Ce)}[O.L](){return this}pipe(...Ce){return(0,Q.U)(Ce)(this)}toPromise(Ce){return new(Ce=de(Ce))((Ye,Me)=>{let Ge;this.subscribe(Ne=>Ge=Ne,Ne=>Me(Ne),()=>Ye(Ge))})}}return J.create=Le=>new J(Le),J})();function de(J){var Le;return null!==(Le=J??ne.config.Promise)&&void 0!==Le?Le:Promise}},7579:(lt,Te,R)=>{R.d(Te,{x:()=>fe});var a=R(9751),q=R(727);const Q=(0,R(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=R(8737),le=R(2806);let fe=(()=>{class de extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const J=new Re(this,this);return J.operator=Z,J}_throwIfClosed(){if(this.closed)throw new Q}next(Z){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(Z)}})}error(Z){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:J}=this;for(;J.length;)J.shift().error(Z)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:J,isStopped:Le,observers:Ce}=this;return J||Le?q.Lc:(this.currentObservers=null,Ce.push(Z),new q.w0(()=>{this.currentObservers=null,(0,ne.P)(Ce,Z)}))}_checkFinalizedStatuses(Z){const{hasError:J,thrownError:Le,isStopped:Ce}=this;J?Z.error(Le):Ce&&Z.complete()}asObservable(){const Z=new a.y;return Z.source=this,Z}}return de.create=(V,Z)=>new Re(V,Z),de})();class Re extends fe{constructor(V,Z){super(),this.destination=V,this.source=Z}next(V){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===J||J.call(Z,V)}error(V){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===J||J.call(Z,V)}complete(){var V,Z;null===(Z=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===Z||Z.call(V)}_subscribe(V){var Z,J;return null!==(J=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(V))&&void 0!==J?J:q.Lc}}},2961:(lt,Te,R)=>{R.d(Te,{Hp:()=>Me,Lv:()=>J});var a=R(576),q=R(727),O=R(2416),Q=R(7849);function ne(){}const le=de("C",void 0,void 0);function de(te,pe,W){return{kind:te,value:pe,error:W}}var V=R(3410),Z=R(2806);class J extends q.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,q.Nn)(pe)&&pe.add(this)):this.destination=dt}static create(pe,W,he){return new Me(pe,W,he)}next(pe){this.isStopped?mt(function Re(te){return de("N",te,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?mt(function fe(te){return de("E",void 0,te)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?mt(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ce(te,pe){return Le.call(te,pe)}class Ye{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:W}=this;if(W.next)try{W.next(pe)}catch(he){Ge(he)}}error(pe){const{partialObserver:W}=this;if(W.error)try{W.error(pe)}catch(he){Ge(he)}else Ge(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(W){Ge(W)}}}class Me extends J{constructor(pe,W,he){let Ae;if(super(),(0,a.m)(pe)||!pe)Ae={next:pe??void 0,error:W??void 0,complete:he??void 0};else{let Fe;this&&O.config.useDeprecatedNextContext?(Fe=Object.create(pe),Fe.unsubscribe=()=>this.unsubscribe(),Ae={next:pe.next&&Ce(pe.next,Fe),error:pe.error&&Ce(pe.error,Fe),complete:pe.complete&&Ce(pe.complete,Fe)}):Ae=pe}this.destination=new Ye(Ae)}}function Ge(te){O.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(te):(0,Q.h)(te)}function mt(te,pe){const{onStoppedNotification:W}=O.config;W&&V.z.setTimeout(()=>W(te,pe))}const dt={closed:!0,next:ne,error:function Ne(te){throw te},complete:ne}},727:(lt,Te,R)=>{R.d(Te,{Lc:()=>le,w0:()=>ne,Nn:()=>fe});var a=R(576);const O=(0,R(3888).d)(de=>function(Z){de(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((J,Le)=>`${Le+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var Q=R(8737);class ne{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Ce of Z)Ce.remove(this);else Z.remove(this);const{initialTeardown:J}=this;if((0,a.m)(J))try{J()}catch(Ce){V=Ce instanceof O?Ce.errors:[Ce]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Ce of Le)try{Re(Ce)}catch(Ye){V=V??[],Ye instanceof O?V=[...V,...Ye.errors]:V.push(Ye)}}if(V)throw new O(V)}}add(V){var Z;if(V&&V!==this)if(this.closed)Re(V);else{if(V instanceof ne){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(V)}}_hasParent(V){const{_parentage:Z}=this;return Z===V||Array.isArray(Z)&&Z.includes(V)}_addParent(V){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(V),Z):Z?[Z,V]:V}_removeParent(V){const{_parentage:Z}=this;Z===V?this._parentage=null:Array.isArray(Z)&&(0,Q.P)(Z,V)}remove(V){const{_finalizers:Z}=this;Z&&(0,Q.P)(Z,V),V instanceof ne&&V._removeParent(this)}}ne.EMPTY=(()=>{const de=new ne;return de.closed=!0,de})();const le=ne.EMPTY;function fe(de){return de instanceof ne||de&&"closed"in de&&(0,a.m)(de.remove)&&(0,a.m)(de.add)&&(0,a.m)(de.unsubscribe)}function Re(de){(0,a.m)(de)?de():de.unsubscribe()}},2416:(lt,Te,R)=>{R.d(Te,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,Te,R)=>{R.d(Te,{E:()=>q});const q=new(R(9751).y)(ne=>ne.complete())},8996:(lt,Te,R)=>{R.d(Te,{D:()=>pe});var a=R(8421),q=R(5363),O=R(9468),le=R(9751),Re=R(2202),de=R(576),V=R(9672);function J(W,he){if(!W)throw new Error("Iterable cannot be null");return new le.y(Ae=>{(0,V.f)(Ae,he,()=>{const Fe=W[Symbol.asyncIterator]();(0,V.f)(Ae,he,()=>{Fe.next().then(ie=>{ie.done?Ae.complete():Ae.next(ie.value)})},0,!0)})})}var Le=R(3670),Ce=R(8239),Ye=R(1144),Me=R(6495),Ge=R(2206),Ne=R(4532),mt=R(3260);function pe(W,he){return he?function te(W,he){if(null!=W){if((0,Le.c)(W))return function Q(W,he){return(0,a.Xf)(W).pipe((0,O.R)(he),(0,q.Q)(he))}(W,he);if((0,Ye.z)(W))return function fe(W,he){return new le.y(Ae=>{let Fe=0;return he.schedule(function(){Fe===W.length?Ae.complete():(Ae.next(W[Fe++]),Ae.closed||this.schedule())})})}(W,he);if((0,Ce.t)(W))return function ne(W,he){return(0,a.Xf)(W).pipe((0,O.R)(he),(0,q.Q)(he))}(W,he);if((0,Ge.D)(W))return J(W,he);if((0,Me.T)(W))return function Z(W,he){return new le.y(Ae=>{let Fe;return(0,V.f)(Ae,he,()=>{Fe=W[Re.h](),(0,V.f)(Ae,he,()=>{let ie,He;try{({value:ie,done:He}=Fe.next())}catch(jt){return void Ae.error(jt)}He?Ae.complete():Ae.next(ie)},0,!0)}),()=>(0,de.m)(Fe?.return)&&Fe.return()})}(W,he);if((0,mt.L)(W))return function dt(W,he){return J((0,mt.Q)(W),he)}(W,he)}throw(0,Ne.z)(W)}(W,he):(0,a.Xf)(W)}},8421:(lt,Te,R)=>{R.d(Te,{Xf:()=>Le});var a=R(7582),q=R(1144),O=R(8239),Q=R(9751),ne=R(3670),le=R(2206),fe=R(4532),Re=R(6495),de=R(3260),V=R(576),Z=R(7849),J=R(8822);function Le(te){if(te instanceof Q.y)return te;if(null!=te){if((0,ne.c)(te))return function Ce(te){return new Q.y(pe=>{const W=te[J.L]();if((0,V.m)(W.subscribe))return W.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,q.z)(te))return function Ye(te){return new Q.y(pe=>{for(let W=0;W<te.length&&!pe.closed;W++)pe.next(te[W]);pe.complete()})}(te);if((0,O.t)(te))return function Me(te){return new Q.y(pe=>{te.then(W=>{pe.closed||(pe.next(W),pe.complete())},W=>pe.error(W)).then(null,Z.h)})}(te);if((0,le.D)(te))return Ne(te);if((0,Re.T)(te))return function Ge(te){return new Q.y(pe=>{for(const W of te)if(pe.next(W),pe.closed)return;pe.complete()})}(te);if((0,de.L)(te))return function mt(te){return Ne((0,de.Q)(te))}(te)}throw(0,fe.z)(te)}function Ne(te){return new Q.y(pe=>{(function dt(te,pe){var W,he,Ae,Fe;return(0,a.mG)(this,void 0,void 0,function*(){try{for(W=(0,a.KL)(te);!(he=yield W.next()).done;)if(pe.next(he.value),pe.closed)return}catch(ie){Ae={error:ie}}finally{try{he&&!he.done&&(Fe=W.return)&&(yield Fe.call(W))}finally{if(Ae)throw Ae.error}}pe.complete()})})(te,pe).catch(W=>pe.error(W))})}},6451:(lt,Te,R)=>{R.d(Te,{T:()=>le});var a=R(8189),q=R(8421),O=R(515),Q=R(7669),ne=R(8996);function le(...fe){const Re=(0,Q.yG)(fe),de=(0,Q._6)(fe,1/0),V=fe;return V.length?1===V.length?(0,q.Xf)(V[0]):(0,a.J)(de)((0,ne.D)(V,Re)):O.E}},9646:(lt,Te,R)=>{R.d(Te,{of:()=>O});var a=R(7669),q=R(8996);function O(...Q){const ne=(0,a.yG)(Q);return(0,q.D)(Q,ne)}},5403:(lt,Te,R)=>{R.d(Te,{x:()=>q});var a=R(2961);function q(Q,ne,le,fe,Re){return new O(Q,ne,le,fe,Re)}class O extends a.Lv{constructor(ne,le,fe,Re,de,V){super(ne),this.onFinalize=de,this.shouldUnsubscribe=V,this._next=le?function(Z){try{le(Z)}catch(J){ne.error(J)}}:super._next,this._error=Re?function(Z){try{Re(Z)}catch(J){ne.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(Z){ne.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},1884:(lt,Te,R)=>{R.d(Te,{x:()=>Q});var a=R(4671),q=R(4482),O=R(5403);function Q(le,fe=a.y){return le=le??ne,(0,q.e)((Re,de)=>{let V,Z=!0;Re.subscribe((0,O.x)(de,J=>{const Le=fe(J);(Z||!le(V,Le))&&(Z=!1,V=Le,de.next(J))}))})}function ne(le,fe){return le===fe}},4004:(lt,Te,R)=>{R.d(Te,{U:()=>O});var a=R(4482),q=R(5403);function O(Q,ne){return(0,a.e)((le,fe)=>{let Re=0;le.subscribe((0,q.x)(fe,de=>{fe.next(Q.call(ne,de,Re++))}))})}},8189:(lt,Te,R)=>{R.d(Te,{J:()=>O});var a=R(5577),q=R(4671);function O(Q=1/0){return(0,a.z)(q.y,Q)}},5577:(lt,Te,R)=>{R.d(Te,{z:()=>Re});var a=R(4004),q=R(8421),O=R(4482),Q=R(9672),ne=R(5403),fe=R(576);function Re(de,V,Z=1/0){return(0,fe.m)(V)?Re((J,Le)=>(0,a.U)((Ce,Ye)=>V(J,Ce,Le,Ye))((0,q.Xf)(de(J,Le))),Z):("number"==typeof V&&(Z=V),(0,O.e)((J,Le)=>function le(de,V,Z,J,Le,Ce,Ye,Me){const Ge=[];let Ne=0,mt=0,dt=!1;const te=()=>{dt&&!Ge.length&&!Ne&&V.complete()},pe=he=>Ne<J?W(he):Ge.push(he),W=he=>{Ce&&V.next(he),Ne++;let Ae=!1;(0,q.Xf)(Z(he,mt++)).subscribe((0,ne.x)(V,Fe=>{Le?.(Fe),Ce?pe(Fe):V.next(Fe)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(Ne--;Ge.length&&Ne<J;){const Fe=Ge.shift();Ye?(0,Q.f)(V,Ye,()=>W(Fe)):W(Fe)}te()}catch(Fe){V.error(Fe)}}))};return de.subscribe((0,ne.x)(V,pe,()=>{dt=!0,te()})),()=>{Me?.()}}(J,Le,de,Z)))}},5363:(lt,Te,R)=>{R.d(Te,{Q:()=>Q});var a=R(9672),q=R(4482),O=R(5403);function Q(ne,le=0){return(0,q.e)((fe,Re)=>{fe.subscribe((0,O.x)(Re,de=>(0,a.f)(Re,ne,()=>Re.next(de),le),()=>(0,a.f)(Re,ne,()=>Re.complete(),le),de=>(0,a.f)(Re,ne,()=>Re.error(de),le)))})}},3099:(lt,Te,R)=>{R.d(Te,{B:()=>ne});var a=R(8421),q=R(7579),O=R(2961),Q=R(4482);function ne(fe={}){const{connector:Re=(()=>new q.x),resetOnError:de=!0,resetOnComplete:V=!0,resetOnRefCountZero:Z=!0}=fe;return J=>{let Le,Ce,Ye,Me=0,Ge=!1,Ne=!1;const mt=()=>{Ce?.unsubscribe(),Ce=void 0},dt=()=>{mt(),Le=Ye=void 0,Ge=Ne=!1},te=()=>{const pe=Le;dt(),pe?.unsubscribe()};return(0,Q.e)((pe,W)=>{Me++,!Ne&&!Ge&&mt();const he=Ye=Ye??Re();W.add(()=>{Me--,0===Me&&!Ne&&!Ge&&(Ce=le(te,Z))}),he.subscribe(W),!Le&&Me>0&&(Le=new O.Hp({next:Ae=>he.next(Ae),error:Ae=>{Ne=!0,mt(),Ce=le(dt,de,Ae),he.error(Ae)},complete:()=>{Ge=!0,mt(),Ce=le(dt,V),he.complete()}}),(0,a.Xf)(pe).subscribe(Le))})(J)}}function le(fe,Re,...de){if(!0===Re)return void fe();if(!1===Re)return;const V=new O.Hp({next:()=>{V.unsubscribe(),fe()}});return(0,a.Xf)(Re(...de)).subscribe(V)}},9468:(lt,Te,R)=>{R.d(Te,{R:()=>q});var a=R(4482);function q(O,Q=0){return(0,a.e)((ne,le)=>{le.add(O.schedule(()=>ne.subscribe(le),Q))})}},8505:(lt,Te,R)=>{R.d(Te,{b:()=>ne});var a=R(576),q=R(4482),O=R(5403),Q=R(4671);function ne(le,fe,Re){const de=(0,a.m)(le)||fe||Re?{next:le,error:fe,complete:Re}:le;return de?(0,q.e)((V,Z)=>{var J;null===(J=de.subscribe)||void 0===J||J.call(de);let Le=!0;V.subscribe((0,O.x)(Z,Ce=>{var Ye;null===(Ye=de.next)||void 0===Ye||Ye.call(de,Ce),Z.next(Ce)},()=>{var Ce;Le=!1,null===(Ce=de.complete)||void 0===Ce||Ce.call(de),Z.complete()},Ce=>{var Ye;Le=!1,null===(Ye=de.error)||void 0===Ye||Ye.call(de,Ce),Z.error(Ce)},()=>{var Ce,Ye;Le&&(null===(Ce=de.unsubscribe)||void 0===Ce||Ce.call(de)),null===(Ye=de.finalize)||void 0===Ye||Ye.call(de)}))}):Q.y}},4408:(lt,Te,R)=>{R.d(Te,{o:()=>ne});var a=R(727);class q extends a.w0{constructor(fe,Re){super()}schedule(fe,Re=0){return this}}const O={setInterval(le,fe,...Re){const{delegate:de}=O;return de?.setInterval?de.setInterval(le,fe,...Re):setInterval(le,fe,...Re)},clearInterval(le){const{delegate:fe}=O;return(fe?.clearInterval||clearInterval)(le)},delegate:void 0};var Q=R(8737);class ne extends q{constructor(fe,Re){super(fe,Re),this.scheduler=fe,this.work=Re,this.pending=!1}schedule(fe,Re=0){var de;if(this.closed)return this;this.state=fe;const V=this.id,Z=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(Z,V,Re)),this.pending=!0,this.delay=Re,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(Z,this.id,Re),this}requestAsyncId(fe,Re,de=0){return O.setInterval(fe.flush.bind(fe,this),de)}recycleAsyncId(fe,Re,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return Re;null!=Re&&O.clearInterval(Re)}execute(fe,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(fe,Re);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,Re){let V,de=!1;try{this.work(fe)}catch(Z){de=!0,V=Z||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:fe,scheduler:Re}=this,{actions:de}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.P)(de,this),null!=fe&&(this.id=this.recycleAsyncId(Re,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,Te,R)=>{R.d(Te,{v:()=>O});var a=R(6063);class q{constructor(ne,le=q.now){this.schedulerActionCtor=ne,this.now=le}schedule(ne,le=0,fe){return new this.schedulerActionCtor(this,ne).schedule(fe,le)}}q.now=a.l.now;class O extends q{constructor(ne,le=q.now){super(ne,le),this.actions=[],this._active=!1}flush(ne){const{actions:le}=this;if(this._active)return void le.push(ne);let fe;this._active=!0;do{if(fe=ne.execute(ne.state,ne.delay))break}while(ne=le.shift());if(this._active=!1,fe){for(;ne=le.shift();)ne.unsubscribe();throw fe}}}},4986:(lt,Te,R)=>{R.d(Te,{z:()=>O});var a=R(4408);const O=new(R(7565).v)(a.o)},6063:(lt,Te,R)=>{R.d(Te,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(lt,Te,R)=>{R.d(Te,{z:()=>a});const a={setTimeout(q,O,...Q){const{delegate:ne}=a;return ne?.setTimeout?ne.setTimeout(q,O,...Q):setTimeout(q,O,...Q)},clearTimeout(q){const{delegate:O}=a;return(O?.clearTimeout||clearTimeout)(q)},delegate:void 0}},2202:(lt,Te,R)=>{R.d(Te,{h:()=>q});const q=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,Te,R)=>{R.d(Te,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(lt,Te,R)=>{R.d(Te,{_6:()=>le,jO:()=>Q,yG:()=>ne});var a=R(576);function O(fe){return fe[fe.length-1]}function Q(fe){return(0,a.m)(O(fe))?fe.pop():void 0}function ne(fe){return function q(fe){return fe&&(0,a.m)(fe.schedule)}(O(fe))?fe.pop():void 0}function le(fe,Re){return"number"==typeof O(fe)?fe.pop():Re}},8737:(lt,Te,R)=>{function a(q,O){if(q){const Q=q.indexOf(O);0<=Q&&q.splice(Q,1)}}R.d(Te,{P:()=>a})},3888:(lt,Te,R)=>{function a(q){const Q=q(ne=>{Error.call(ne),ne.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}R.d(Te,{d:()=>a})},2806:(lt,Te,R)=>{R.d(Te,{O:()=>Q,x:()=>O});var a=R(2416);let q=null;function O(ne){if(a.config.useDeprecatedSynchronousErrorHandling){const le=!q;if(le&&(q={errorThrown:!1,error:null}),ne(),le){const{errorThrown:fe,error:Re}=q;if(q=null,fe)throw Re}}else ne()}function Q(ne){a.config.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=ne)}},9672:(lt,Te,R)=>{function a(q,O,Q,ne=0,le=!1){const fe=O.schedule(function(){Q(),le?q.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(q.add(fe),!le)return fe}R.d(Te,{f:()=>a})},4671:(lt,Te,R)=>{function a(q){return q}R.d(Te,{y:()=>a})},1144:(lt,Te,R)=>{R.d(Te,{z:()=>a});const a=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(lt,Te,R)=>{R.d(Te,{D:()=>q});var a=R(576);function q(O){return Symbol.asyncIterator&&(0,a.m)(O?.[Symbol.asyncIterator])}},576:(lt,Te,R)=>{function a(q){return"function"==typeof q}R.d(Te,{m:()=>a})},3670:(lt,Te,R)=>{R.d(Te,{c:()=>O});var a=R(8822),q=R(576);function O(Q){return(0,q.m)(Q[a.L])}},6495:(lt,Te,R)=>{R.d(Te,{T:()=>O});var a=R(2202),q=R(576);function O(Q){return(0,q.m)(Q?.[a.h])}},8239:(lt,Te,R)=>{R.d(Te,{t:()=>q});var a=R(576);function q(O){return(0,a.m)(O?.then)}},3260:(lt,Te,R)=>{R.d(Te,{L:()=>Q,Q:()=>O});var a=R(7582),q=R(576);function O(ne){return(0,a.FC)(this,arguments,function*(){const fe=ne.getReader();try{for(;;){const{value:Re,done:de}=yield(0,a.qq)(fe.read());if(de)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(Re)}}finally{fe.releaseLock()}})}function Q(ne){return(0,q.m)(ne?.getReader)}},4482:(lt,Te,R)=>{R.d(Te,{A:()=>q,e:()=>O});var a=R(576);function q(Q){return(0,a.m)(Q?.lift)}function O(Q){return ne=>{if(q(ne))return ne.lift(function(le){try{return Q(le,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(lt,Te,R)=>{R.d(Te,{U:()=>O,z:()=>q});var a=R(4671);function q(...Q){return O(Q)}function O(Q){return 0===Q.length?a.y:1===Q.length?Q[0]:function(le){return Q.reduce((fe,Re)=>Re(fe),le)}}},7849:(lt,Te,R)=>{R.d(Te,{h:()=>O});var a=R(2416),q=R(3410);function O(Q){q.z.setTimeout(()=>{const{onUnhandledError:ne}=a.config;if(!ne)throw Q;ne(Q)})}},4532:(lt,Te,R)=>{function a(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Te,{z:()=>a})},2223:(lt,Te,R)=>{R.d(Te,{$8M:()=>Al,$WT:()=>Bo,$Z:()=>tg,AFp:()=>jp,AaK:()=>J,CHM:()=>qu,CRH:()=>_d,D6c:()=>_1,EJc:()=>qb,EpF:()=>Ln,F4k:()=>A0,FYo:()=>zp,FiY:()=>Hi,GfV:()=>Jv,Gpc:()=>Ye,HDt:()=>Py,HOy:()=>H_,JOm:()=>Es,KtG:()=>hl,LFG:()=>Qt,Lbi:()=>vc,Lck:()=>Og,MMx:()=>uC,NdJ:()=>N_,Ojb:()=>Bl,OlP:()=>pn,Oqu:()=>j0,P3R:()=>Jm,PXZ:()=>oD,Q6J:()=>yg,QGY:()=>fa,Qsj:()=>Kp,R0b:()=>_i,RDi:()=>jm,Rgc:()=>Vg,SBq:()=>Hh,Sil:()=>Qw,Suo:()=>Vw,TTD:()=>Bu,TgZ:()=>cf,X6Q:()=>mD,XFs:()=>qe,Xpm:()=>as,Xts:()=>xh,Y36:()=>Tc,YKP:()=>Zc,YNc:()=>mg,Yjl:()=>zc,Yz7:()=>Wt,Z0I:()=>Kn,ZZ4:()=>Gy,_Bn:()=>oC,_UZ:()=>M_,_c5:()=>vE,_uU:()=>Z0,aQg:()=>yE,c2e:()=>Oy,cJS:()=>zn,cg1:()=>tw,dDg:()=>Xb,dqk:()=>rn,eFA:()=>uD,eJc:()=>Dy,ekj:()=>B_,eoX:()=>Jg,f3M:()=>qt,g9A:()=>pT,h0i:()=>gd,hGG:()=>f1,hij:()=>Mn,iGM:()=>$g,ifc:()=>_n,ip1:()=>Ry,jDz:()=>$r,kL8:()=>G_,lG2:()=>qc,lqb:()=>yc,lri:()=>nD,n5z:()=>au,oAB:()=>_o,oxw:()=>sd,q4F:()=>TT,qFp:()=>v1,qLn:()=>Gl,qOj:()=>dg,qZA:()=>Mc,rWj:()=>rD,rg0:()=>Bd,sBO:()=>Ta,s_b:()=>yy,soG:()=>Lf,tb:()=>em,tp0:()=>li,uIk:()=>Xl,vHH:()=>te,vpe:()=>ts,wAp:()=>Mt,xp6:()=>n0,z2F:()=>Td,zSh:()=>Hv,zs3:()=>_u});var a=R(7579),q=R(727),O=R(1135),Q=R(9751),ne=R(6451),le=R(9646),fe=R(3099),Re=R(5577),de=R(1884);function V(i){for(let s in i)if(i[s]===V)return s;throw Error("Could not find renamed property on target object.")}function Z(i,s){for(const u in s)s.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=s[u])}function J(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(J).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function Le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ce=V({__forward_ref__:V});function Ye(i){return i.__forward_ref__=Ye,i.toString=function(){return J(this())},i}function Me(i){return Ge(i)?i():i}function Ge(i){return"function"==typeof i&&i.hasOwnProperty(Ce)&&i.__forward_ref__===Ye}function Ne(i){return i&&!!i.\u0275providers}const dt="https://g.co/ng/security#xss";class te extends Error{constructor(s,u){super(function pe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,u)),this.code=s}}function W(i){return"string"==typeof i?i:null==i?"":String(i)}function He(i,s){throw new te(-201,!1)}function tt(i,s){null==i&&function ht(i,s,u,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${u} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function zn(i){return{providers:i.providers||[],imports:i.imports||[]}}function qr(i){return rs(i,ni)||rs(i,Vo)}function Kn(i){return null!==qr(i)}function rs(i,s){return i.hasOwnProperty(s)?i[s]:null}function ba(i){return i&&(i.hasOwnProperty(ri)||i.hasOwnProperty(Sa))?i[ri]:null}const ni=V({\u0275prov:V}),ri=V({\u0275inj:V}),Vo=V({ngInjectableDef:V}),Sa=V({ngInjectorDef:V});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let ft;function ln(i){const s=ft;return ft=i,s}function An(i,s,u){const l=qr(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&qe.Optional?null:void 0!==s?s:void He(J(i))}const rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Mr={},Bt="__NG_DI_FLAG__",Xi="ngTempTokenPath",xa=/\n/gm,eo="__source";let gr;function mn(i){const s=gr;return gr=i,s}function to(i,s=qe.Default){if(void 0===gr)throw new te(-203,!1);return null===gr?An(i,void 0,s):gr.get(i,s&qe.Optional?null:void 0,s)}function Qt(i,s=qe.Default){return(function _t(){return ft}()||to)(Me(i),s)}function qt(i,s=qe.Default){return Qt(i,U(s))}function U(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function F(i){const s=[];for(let u=0;u<i.length;u++){const l=Me(i[u]);if(Array.isArray(l)){if(0===l.length)throw new te(900,!1);let h,p=qe.Default;for(let _=0;_<l.length;_++){const w=l[_],I=ve(w);"number"==typeof I?-1===I?h=w.token:p|=I:h=w}s.push(Qt(h,p))}else s.push(Qt(l))}return s}function G(i,s){return i[Bt]=s,i.prototype[Bt]=s,i}function ve(i){return i[Bt]}function pt(i){return{toString:i}.toString()}var Nt=(()=>((Nt=Nt||{})[Nt.OnPush=0]="OnPush",Nt[Nt.Default=1]="Default",Nt))(),_n=(()=>{return(i=_n||(_n={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",_n;var i})();const dn={},Dt=[],$t=V({\u0275cmp:V}),mr=V({\u0275dir:V}),yi=V({\u0275pipe:V}),ro=V({\u0275mod:V}),oi=V({\u0275fac:V}),ue=V({__NG_ELEMENT_ID__:V}),ee=V({__NG_ENV_ID__:V});function xe(i,s,u){let l=i.length;for(;;){const h=i.indexOf(s,u);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=s.length;if(h+p===l||i.charCodeAt(h+p)<=32)return h}u=h+1}}function ut(i,s,u){let l=0;for(;l<u.length;){const h=u[l];if("number"==typeof h){if(0!==h)break;l++;const p=u[l++],_=u[l++],w=u[l++];i.setAttribute(s,_,w,p)}else{const p=h,_=u[++l];Lt(p)?i.setProperty(s,p,_):i.setAttribute(s,p,_),l++}}return l}function St(i){return 3===i||4===i||6===i}function Lt(i){return 64===i.charCodeAt(0)}function Yt(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let u=-1;for(let l=0;l<s.length;l++){const h=s[l];"number"==typeof h?u=h:0===u||rr(i,u,h,null,-1===u||2===u?s[++l]:null)}}return i}function rr(i,s,u,l,h){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const w=i[p++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=p-1;break}}}for(;p<i.length;){const w=i[p];if("number"==typeof w)break;if(w===u){if(null===l)return void(null!==h&&(i[p+1]=h));if(l===i[p+1])return void(i[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,u),null!==l&&i.splice(p++,0,l),null!==h&&i.splice(p++,0,h)}const Wn="ng-template";function mo(i,s,u){let l=0,h=!0;for(;l<i.length;){let p=i[l++];if("string"==typeof p&&h){const _=i[l++];if(u&&"class"===p&&-1!==xe(_.toLowerCase(),s,0))return!0}else{if(1===p){for(;l<i.length&&"string"==typeof(p=i[l++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function ss(i){return 4===i.type&&i.value!==Wn}function Na(i,s,u){return s===(4!==i.type||u?i.value:Wn)}function Sd(i,s,u){let l=4;const h=i.attrs||[],p=function ku(i){for(let s=0;s<i.length;s++)if(St(i[s]))return s;return i.length}(h);let _=!1;for(let w=0;w<s.length;w++){const I=s[w];if("number"!=typeof I){if(!_)if(4&l){if(l=2|1&l,""!==I&&!Na(i,I,u)||""===I&&1===s.length){if(si(l))return!1;_=!0}}else{const b=8&l?I:s[++w];if(8&l&&null!==i.attrs){if(!mo(i.attrs,b,u)){if(si(l))return!1;_=!0}continue}const L=Md(8&l?"class":I,h,ss(i),u);if(-1===L){if(si(l))return!1;_=!0;continue}if(""!==b){let $;$=L>p?"":h[L+1].toLowerCase();const K=8&l?$:null;if(K&&-1!==xe(K,b,0)||2&l&&b!==$){if(si(l))return!1;_=!0}}}}else{if(!_&&!si(l)&&!si(I))return!1;if(_&&si(I))continue;_=!1,l=I|1&l}}return si(l)||_}function si(i){return 0==(1&i)}function Md(i,s,u,l){if(null===s)return-1;let h=0;if(l||!u){let p=!1;for(;h<s.length;){const _=s[h];if(_===i)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=s[++h];for(;"string"==typeof w;)w=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function xd(i,s){let u=i.indexOf(4);if(u>-1)for(u++;u<i.length;){const l=i[u];if("number"==typeof l)return-1;if(l===s)return u;u++}return-1}(s,i)}function vi(i,s,u=!1){for(let l=0;l<s.length;l++)if(Sd(i,s[l],u))return!0;return!1}function Uo(i,s){return i?":not("+s.trim()+")":s}function _m(i){let s=i[0],u=1,l=2,h="",p=!1;for(;u<i.length;){let _=i[u];if("string"==typeof _)if(2&l){const w=i[++u];h+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!si(_)&&(s+=Uo(p,h),h=""),l=_,p=p||!si(l);u++}return""!==h&&(s+=Uo(p,h)),s}function as(i){return pt(()=>{const s=Ou(i),u={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Nt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||_n.Emulated,styles:i.styles||Dt,_:null,schemas:i.schemas||null,tView:null,id:""};Kc(u);const l=i.dependencies;return u.directiveDefs=Os(l,!1),u.pipeDefs=Os(l,!0),u.id=function Rd(i){let s=0;const u=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of u)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(u),u})}function kd(i){return Ft(i)||sr(i)}function ym(i){return null!==i}function _o(i){return pt(()=>({type:i.type,bootstrap:i.bootstrap||Dt,declarations:i.declarations||Dt,imports:i.imports||Dt,exports:i.exports||Dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ka(i,s){if(null==i)return dn;const u={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=l,s&&(s[h]=p)}return u}function qc(i){return pt(()=>{const s=Ou(i);return Kc(s),s})}function zc(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ft(i){return i[$t]||null}function sr(i){return i[mr]||null}function un(i){return i[yi]||null}function Bo(i){const s=Ft(i)||sr(i)||un(i);return null!==s&&s.standalone}function xr(i,s){const u=i[ro]||null;if(!u&&!0===s)throw new Error(`Type ${J(i)} does not have '\u0275mod' property.`);return u}function Ou(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||Dt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ka(i.inputs,s),outputs:ka(i.outputs)}}function Kc(i){i.features?.forEach(s=>s(i))}function Os(i,s){if(!i)return null;const u=s?un:kd;return()=>("function"==typeof i?i():i).map(l=>u(l)).filter(ym)}const Vn=0,Ke=1,Pt=2,wn=3,ai=4,Zo=5,Br=6,us=7,En=8,_r=9,yo=10,Rt=11,Kr=12,Od=13,io=14,Rn=15,Ps=16,Oa=17,wi=18,Ls=19,Pd=20,ui=21,Un=22,Wc=23,cs=24,Zt=25,Pu=1,oo=2,Wr=7,Ei=8,ls=9,ar=11;function Bn(i){return Array.isArray(i)&&"object"==typeof i[Pu]}function ci(i){return Array.isArray(i)&&!0===i[Pu]}function Fs(i){return 0!=(4&i.flags)}function vo(i){return i.componentOffset>-1}function wo(i){return 1==(1&i.flags)}function yr(i){return!!i.template}function Nr(i){return 0!=(512&i[Pt])}function Ho(i,s){return i.hasOwnProperty(oi)?i[oi]:null}let Ua=rn.WeakRef??class Lu{constructor(s){this.ref=s}deref(){return this.ref}},Cm=0,Zr=null,Fu=!1;function Jn(i){const s=Zr;return Zr=i,s}class Vu{constructor(){this.id=Cm++,this.ref=function Ud(i){return new Ua(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,u]of this.producers){const l=u.producerNode.deref();if(void 0!==l&&u.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(s),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Fu;Fu=!0;try{for(const[u,l]of this.consumers){const h=l.consumerNode.deref();void 0!==h&&h.trackingVersion===l.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),h?.producers.delete(this.id))}}finally{Fu=s}}producerAccessed(){if(Fu)throw new Error("");if(null===Zr)return;let s=Zr.producers.get(this.id);void 0===s?(s={consumerNode:Zr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Zr.trackingVersion},Zr.producers.set(this.id,s),this.consumers.set(Zr.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Zr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Zr?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Ha=null;function Bd(i){const s=Jn(null);try{return i()}finally{Jn(s)}}const nl=()=>{};class Zd extends Vu{constructor(s,u,l){super(),this.watch=s,this.schedule=u,this.dirty=!1,this.cleanupFn=nl,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Jn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=nl,this.watch(this.registerOnCleanup)}finally{Jn(s)}}cleanup(){this.cleanupFn()}}class rl{constructor(s,u,l){this.previousValue=s,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function Bu(){return ja}function ja(i){return i.type.prototype.ngOnChanges&&(i.setInput=Zu),il}function il(){const i=Hu(this),s=i?.current;if(s){const u=i.previous;if(u===dn)i.previous=s;else for(let l in s)u[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Zu(i,s,u,l){const h=this.declaredInputs[u],p=Hu(i)||function Am(i,s){return i[ol]=s}(i,{previous:dn,current:null}),_=p.current||(p.current={}),w=p.previous,I=w[h];_[h]=new rl(I&&I.currentValue,s,w===dn),i[l]=s}Bu.ngInherit=!0;const ol="__ngSimpleChanges__";function Hu(i){return i[ol]||null}const Li=function(i,s,u){};function Tn(i){for(;Array.isArray(i);)i=i[Vn];return i}function ju(i,s){return Tn(s[i])}function jr(i,s){return Tn(s[i.index])}function sl(i,s){return i.data[s]}function ur(i,s){const u=s[i];return Bn(u)?u:u[Vn]}function Hs(i){return 128==(128&i[Pt])}function $o(i,s){return null==s?null:i[s]}function al(i){i[Oa]=0}function $d(i){1024&i[Pt]||(i[Pt]|=1024,Gu(i,1))}function ul(i){1024&i[Pt]&&(i[Pt]&=-1025,Gu(i,-1))}function Gu(i,s){let u=i[wn];if(null===u)return;u[Zo]+=s;let l=u;for(u=u[wn];null!==u&&(1===s&&1===l[Zo]||-1===s&&0===l[Zo]);)u[Zo]+=s,l=u,u=u[wn]}const gt={lFrame:pl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zd(){return gt.bindingsEnabled}function De(){return gt.lFrame.lView}function zt(){return gt.lFrame.tView}function qu(i){return gt.lFrame.contextLView=i,i[En]}function hl(i){return gt.lFrame.contextLView=null,i}function bn(){let i=Qf();for(;null!==i&&64===i.type;)i=i.parent;return i}function Qf(){return gt.lFrame.currentTNode}function To(i,s){const u=gt.lFrame;u.currentTNode=i,u.isParent=s}function za(){return gt.lFrame.isParent}function qo(){return gt.lFrame.bindingIndex++}function hn(i){const s=gt.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,u}function Ka(i,s){const u=gt.lFrame;u.bindingIndex=u.bindingRootIndex=i,gs(s)}function gs(i){gt.lFrame.currentDirectiveIndex=i}function Yd(){return gt.lFrame.currentQueryIndex}function Wu(i){gt.lFrame.currentQueryIndex=i}function Yu(i){const s=i[Ke];return 2===s.type?s.declTNode:1===s.type?i[Br]:null}function Ya(i,s,u){if(u&qe.SkipSelf){let h=s,p=i;for(;!(h=h.parent,null!==h||u&qe.Host||(h=Yu(p),null===h||(p=p[io],10&h.type))););if(null===h)return!1;s=h,i=p}const l=gt.lFrame=Fi();return l.currentTNode=s,l.lView=i,!0}function zs(i){const s=Fi(),u=i[Ke];gt.lFrame=s,s.currentTNode=u.firstChild,s.lView=i,s.tView=u,s.contextLView=i,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Fi(){const i=gt.lFrame,s=null===i?null:i.child;return null===s?pl(i):s}function pl(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Jd(){const i=gt.lFrame;return gt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ju=Jd;function gl(){const i=Jd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Yr(){return gt.lFrame.selectedIndex}function ms(i){gt.lFrame.selectedIndex=i}function Cn(){const i=gt.lFrame;return sl(i.tView,i.selectedIndex)}let ml=!0;function _l(){return ml}function ao(i){ml=i}function Xa(i,s){for(let u=s.directiveStart,l=s.directiveEnd;u<l;u++){const p=i.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:b,ngOnDestroy:N}=p;_&&(i.contentHooks??=[]).push(-u,_),w&&((i.contentHooks??=[]).push(u,w),(i.contentCheckHooks??=[]).push(u,w)),I&&(i.viewHooks??=[]).push(-u,I),b&&((i.viewHooks??=[]).push(u,b),(i.viewCheckHooks??=[]).push(u,b)),null!=N&&(i.destroyHooks??=[]).push(u,N)}}function yl(i,s,u){vl(i,s,3,u)}function Ks(i,s,u,l){(3&i[Pt])===u&&vl(i,s,u,l)}function eh(i,s){let u=i[Pt];(3&u)===s&&(u&=4095,u+=1,i[Pt]=u)}function vl(i,s,u,l){const p=l??-1,_=s.length-1;let w=0;for(let I=void 0!==l?65535&i[Oa]:0;I<_;I++)if("number"==typeof s[I+1]){if(w=s[I],null!=l&&w>=l)break}else s[I]<0&&(i[Oa]+=65536),(w<p||-1==p)&&(Qu(i,u,s,I),i[Oa]=(4294901760&i[Oa])+I+2),I++}function np(i,s){Li(4,i,s);const u=Jn(null);try{s.call(i)}finally{Jn(u),Li(5,i,s)}}function Qu(i,s,u,l){const h=u[l]<0,p=u[l+1],w=i[h?-u[l]:u[l]];h?i[Pt]>>12<i[Oa]>>16&&(3&i[Pt])===s&&(i[Pt]+=4096,np(w,p)):np(w,p)}const fn=-1;class vr{constructor(s,u,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function jn(i){return i!==fn}function At(i){return 32767&i}function nu(i,s){let u=function Ci(i){return i>>16}(i),l=s;for(;u>0;)l=l[io],u--;return l}let ru=!0;function zo(i){const s=ru;return ru=i,s}const iu=255,wr=5;let Di=0;const Vi={};function Js(i,s){const u=ec(i,s);if(-1!==u)return u;const l=s[Ke];l.firstCreatePass&&(i.injectorIndex=s.length,nh(l.data,i),nh(s,null),nh(l.blueprint,null));const h=Co(i,s),p=i.injectorIndex;if(jn(h)){const _=At(h),w=nu(h,s),I=w[Ke].data;for(let b=0;b<8;b++)s[p+b]=w[_+b]|I[_+b]}return s[p+8]=h,p}function nh(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ec(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Co(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let u=0,l=null,h=s;for(;null!==h;){if(l=Dl(h),null===l)return fn;if(u++,h=h[io],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return fn}function Ai(i,s,u){!function th(i,s,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(ue)&&(l=u[ue]),null==l&&(l=u[ue]=Di++);const h=l&iu;s.data[i+(h>>wr)]|=1<<h}(i,s,u)}function Or(i,s,u){if(u&qe.Optional||void 0!==i)return i;He()}function Ui(i,s,u,l){if(u&qe.Optional&&void 0===l&&(l=null),!(u&(qe.Self|qe.Host))){const h=i[_r],p=ln(void 0);try{return h?h.get(s,l,u&qe.Optional):An(s,l,u&qe.Optional)}finally{ln(p)}}return Or(l,0,u)}function Il(i,s,u,l=qe.Default,h){if(null!==i){if(2048&s[Pt]&&!(l&qe.Self)){const _=function oc(i,s,u,l,h){let p=i,_=s;for(;null!==p&&null!==_&&2048&_[Pt]&&!(512&_[Pt]);){const w=rh(p,_,u,l|qe.Self,Vi);if(w!==Vi)return w;let I=p.parent;if(!I){const b=_[Pd];if(b){const N=b.get(u,Vi,l);if(N!==Vi)return N}I=Dl(_),_=_[io]}p=I}return h}(i,s,u,l,Vi);if(_!==Vi)return _}const p=rh(i,s,u,l,Vi);if(p!==Vi)return p}return Ui(s,u,l,h)}function rh(i,s,u,l,h){const p=function ih(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ue)?i[ue]:void 0;return"number"==typeof s?s>=0?s&iu:rc:s}(u);if("function"==typeof p){if(!Ya(s,i,l))return l&qe.Host?Or(h,0,l):Ui(s,u,l,h);try{const _=p(l);if(null!=_||l&qe.Optional)return _;He()}finally{Ju()}}else if("number"==typeof p){let _=null,w=ec(i,s),I=fn,b=l&qe.Host?s[Rn][Br]:null;for((-1===w||l&qe.SkipSelf)&&(I=-1===w?Co(i,s):s[w+8],I!==fn&&nc(l,!1)?(_=s[Ke],w=At(I),s=nu(I,s)):w=-1);-1!==w;){const N=s[Ke];if(su(p,w,N.data)){const L=Cl(w,s,u,_,l,b);if(L!==Vi)return L}I=s[w+8],I!==fn&&nc(l,s[Ke].data[w+8]===b)&&su(p,w,s)?(_=N,w=At(I),s=nu(I,s)):w=-1}}return h}function Cl(i,s,u,l,h,p){const _=s[Ke],w=_.data[i+8],N=tc(w,_,u,null==l?vo(w)&&ru:l!=_&&0!=(3&w.type),h&qe.Host&&p===w);return null!==N?uo(s,_,N,w):Vi}function tc(i,s,u,l,h){const p=i.providerIndexes,_=s.data,w=1048575&p,I=i.directiveStart,N=p>>20,$=h?w+N:i.directiveEnd;for(let K=l?w:w+N;K<$;K++){const ye=_[K];if(K<I&&u===ye||K>=I&&ye.type===u)return K}if(h){const K=_[I];if(K&&yr(K)&&K.type===u)return I}return null}function uo(i,s,u,l){let h=i[u];const p=s.data;if(function rp(i){return i instanceof vr}(h)){const _=h;_.resolving&&function Ae(i,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new te(-200,`Circular dependency in DI detected for ${i}${u}`)}(function he(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():W(i)}(p[u]));const w=zo(_.canSeeViewProviders);_.resolving=!0;const I=_.injectImpl?ln(_.injectImpl):null;Ya(i,l,qe.Default);try{h=i[u]=_.factory(void 0,p,i,l),s.firstCreatePass&&u>=l.directiveStart&&function Xd(i,s,u){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(l){const _=ja(s);(u.preOrderHooks??=[]).push(i,_),(u.preOrderCheckHooks??=[]).push(i,_)}h&&(u.preOrderHooks??=[]).push(0-i,h),p&&((u.preOrderHooks??=[]).push(i,p),(u.preOrderCheckHooks??=[]).push(i,p))}(u,p[u],s)}finally{null!==I&&ln(I),zo(w),_.resolving=!1,Ju()}}return h}function su(i,s,u){return!!(u[s+(i>>wr)]&1<<i)}function nc(i,s){return!(i&qe.Self||i&qe.Host&&s)}class _s{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,l){return Il(this._tNode,this._lView,s,U(l),u)}}function rc(){return new _s(bn(),De())}function au(i){return pt(()=>{const s=i.prototype.constructor,u=s[oi]||ic(s),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const p=h[oi]||ic(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function ic(i){return Ge(i)?()=>{const s=ic(Me(i));return s&&s()}:Ho(i)}function Dl(i){const s=i[Ke],u=s.type;return 2===u?s.declTNode:1===u?i[Br]:null}function Al(i){return function ou(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const u=i.attrs;if(u){const l=u.length;let h=0;for(;h<l;){const p=u[h];if(St(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof u[h];)h++;else{if(p===s)return u[h+1];h+=2}}}return null}(bn(),i)}const ys="__parameters__";function Bi(i,s,u){return pt(()=>{const l=function Qs(i){return function(...u){if(i){const l=i(...u);for(const h in l)this[h]=l[h]}}}(s);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return w.annotation=_,w;function w(I,b,N){const L=I.hasOwnProperty(ys)?I[ys]:Object.defineProperty(I,ys,{value:[]})[ys];for(;L.length<=N;)L.push(null);return(L[N]=L[N]||[]).push(_),I}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function Zi(i,s){i.forEach(u=>Array.isArray(u)?Zi(u,s):s(u))}function Yo(i,s,u){s>=i.length?i.push(u):i.splice(s,0,u)}function lu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function E(i,s,u){let l=M(i,s);return l>=0?i[1|l]=u:(l=~l,function Mm(i,s,u,l){let h=i.length;if(h==s)i.push(u,l);else if(1===h)i.push(l,i[0]),i[0]=u;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=u,i[s+1]=l}}(i,l,s,u)),l}function C(i,s){const u=M(i,s);if(u>=0)return i[1|u]}function M(i,s){return function H(i,s,u){let l=0,h=i.length>>u;for(;h!==l;){const p=l+(h-l>>1),_=i[p<<u];if(s===_)return p<<u;_>s?h=p:l=p+1}return~(h<<u)}(i,s,1)}const Hi=G(Bi("Optional"),8),li=G(Bi("SkipSelf"),4);function vp(i){return 128==(128&i.flags)}var Es=(()=>((Es=Es||{})[Es.Important=1]="Important",Es[Es.DashCase=2]="DashCase",Es))();const lh=new Map;let Rl=0;const dh="__ngContext__";function Tr(i,s){Bn(s)?(i[dh]=s[Ls],function Ol(i){lh.set(i[Ls],i)}(s)):i[dh]=s}let gh;function mh(i,s){return gh(i,s)}function co(i){const s=i[wn];return ci(s)?s[wn]:s}function Mp(i){return xp(i[Kr])}function _h(i){return xp(i[ai])}function xp(i){for(;null!==i&&!ci(i);)i=i[ai];return i}function Pr(i,s,u,l,h){if(null!=l){let p,_=!1;ci(l)?p=l:Bn(l)&&(_=!0,l=l[Vn]);const w=Tn(l);0===i&&null!==u?null==h?B(s,u,w):x(s,u,w,h||null,!0):1===i&&null!==u?x(s,u,w,h||null,!0):2===i?function Ih(i,s,u){const l=et(i,s);l&&function be(i,s,u,l){i.removeChild(s,u,l)}(i,l,s,u)}(s,w,_):3===i&&s.destroyNode(w),null!=p&&function oA(i,s,u,l,h){const p=u[Wr];p!==Tn(u)&&Pr(s,i,l,p,h);for(let w=ar;w<u.length;w++){const I=u[w];Et(I[Ke],I,i,s,l,p)}}(s,i,p,u,h)}}function qi(i,s,u){return i.createElement(s,u)}function Bm(i,s){const u=i[ls],l=u.indexOf(s);ul(s),u.splice(l,1)}function hu(i,s){if(i.length<=ar)return;const u=ar+s,l=i[u];if(l){const h=l[Ps];null!==h&&h!==i&&Bm(h,l),s>0&&(i[u-1][ai]=l[ai]);const p=lu(i,ar+s);!function Ao(i,s){Et(i,s,s[Rt],2,null,null),s[Vn]=null,s[Br]=null}(l[Ke],l);const _=p[wi];null!==_&&_.detachView(p[Ke]),l[wn]=null,l[ai]=null,l[Pt]&=-129}return l}function kp(i,s){if(!(256&s[Pt])){const u=s[Rt];s[Wc]?.destroy(),s[cs]?.destroy(),u.destroyNode&&Et(i,s,u,3,null,null),function Tv(i){let s=i[Kr];if(!s)return y(i[Ke],i);for(;s;){let u=null;if(Bn(s))u=s[Kr];else{const l=s[ar];l&&(u=l)}if(!u){for(;s&&!s[ai]&&s!==i;)Bn(s)&&y(s[Ke],s),s=s[wn];null===s&&(s=i),Bn(s)&&y(s[Ke],s),u=s&&s[ai]}s=u}}(s)}}function y(i,s){if(!(256&s[Pt])){s[Pt]&=-129,s[Pt]|=256,function g(i,s){let u;if(null!=i&&null!=(u=i.destroyHooks))for(let l=0;l<u.length;l+=2){const h=s[u[l]];if(!(h instanceof vr)){const p=u[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=h[p[_]],I=p[_+1];Li(4,w,I);try{I.call(w)}finally{Li(5,w,I)}}else{Li(4,h,p);try{p.call(h)}finally{Li(5,h,p)}}}}}(i,s),function f(i,s){const u=i.cleanup,l=s[us];if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const _=u[p+3];_>=0?l[_]():l[-_].unsubscribe(),p+=2}else u[p].call(l[u[p+1]]);null!==l&&(s[us]=null);const h=s[ui];if(null!==h){s[ui]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(i,s),1===s[Ke].type&&s[Rt].destroy();const u=s[Ps];if(null!==u&&ci(s[wn])){u!==s[wn]&&Bm(u,s);const l=s[wi];null!==l&&l.detachView(i)}!function Lm(i){lh.delete(i[Ls])}(s)}}function v(i,s,u){return function A(i,s,u){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return u[Vn];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=i.data[l.directiveStart+h];if(p===_n.None||p===_n.Emulated)return null}return jr(l,u)}}(i,s.parent,u)}function x(i,s,u,l,h){i.insertBefore(s,u,l,h)}function B(i,s,u){i.appendChild(s,u)}function Y(i,s,u,l,h){null!==l?x(i,s,u,l,h):B(i,s,u)}function et(i,s){return i.parentNode(s)}let Rp,fu,nn,wh=function bo(i,s,u){return 40&i.type?jr(i,u):null};function Eh(i,s,u,l){const h=v(i,l,s),p=s[Rt],w=function On(i,s,u){return wh(i,s,u)}(l.parent||s[Br],l,s);if(null!=h)if(Array.isArray(u))for(let I=0;I<u.length;I++)Y(p,h,u[I],w,!1);else Y(p,h,u,w,!1);void 0!==Rp&&Rp(p,l,s,u,h)}function Pl(i,s){if(null!==s){const u=s.type;if(3&u)return jr(s,i);if(4&u)return Th(-1,i[s.index]);if(8&u){const l=s.child;if(null!==l)return Pl(i,l);{const h=i[s.index];return ci(h)?Th(-1,h):Tn(h)}}if(32&u)return mh(s,i)()||Tn(i[s.index]);{const l=Pp(i,s);return null!==l?Array.isArray(l)?l[0]:Pl(co(i[Rn]),l):Pl(i,s.next)}}return null}function Pp(i,s){return null!==s?i[Rn][Br].projection[s.projection]:null}function Th(i,s){const u=ar+i+1;if(u<s.length){const l=s[u],h=l[Ke].firstChild;if(null!==h)return Pl(l,h)}return s[Wr]}function Ch(i,s,u,l,h,p,_){for(;null!=u;){const w=l[u.index],I=u.type;if(_&&0===s&&(w&&Tr(Tn(w),l),u.flags|=2),32!=(32&u.flags))if(8&I)Ch(i,s,u.child,l,h,p,!1),Pr(s,i,h,w,p);else if(32&I){const b=mh(u,l);let N;for(;N=b();)Pr(s,i,h,N,p);Pr(s,i,h,w,p)}else 16&I?gc(i,s,l,u,h,p):Pr(s,i,h,w,p);u=_?u.projectionNext:u.next}}function Et(i,s,u,l,h,p){Ch(u,l,i.firstChild,s,h,p,!1)}function gc(i,s,u,l,h,p){const _=u[Rn],I=_[Br].projection[l.projection];if(Array.isArray(I))for(let b=0;b<I.length;b++)Pr(s,i,h,I[b],p);else{let b=I;const N=_[wn];vp(l)&&(b.flags|=128),Ch(i,s,b,N,h,p,!0)}}function Lp(i,s,u){""===u?i.removeAttribute(s,"class"):i.setAttribute(s,"class",u)}function Zm(i,s,u){const{mergedAttrs:l,classes:h,styles:p}=u;null!==l&&ut(i,s,l),null!==h&&Lp(i,s,h),null!==p&&function So(i,s,u){i.setAttribute(s,"style",u)}(i,s,p)}function jm(i){fu=i}function $m(i){return function Dv(){if(void 0===nn&&(nn=null,rn.trustedTypes))try{nn=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return nn}()?.createScriptURL(i)||i}class Vt{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dt})`}}function mc(i){return i instanceof Vt?i.changingThisBreaksApplicationSecurity:i}function Vp(i,s){const u=function Mi(i){return i instanceof Vt&&i.getTypeName()||null}(i);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see ${dt})`)}return u===s}const Up=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function Rv(i){const s=Mh();return s?s.sanitize(or.URL,i)||"":Vp(i,"URL")?mc(i):function bh(i){return(i=String(i)).match(Up)?i:"unsafe:"+i}(W(i))}function Ov(i){const s=Mh();if(s)return $m(s.sanitize(or.RESOURCE_URL,i)||"");if(Vp(i,"ResourceURL"))return $m(mc(i));throw new te(904,!1)}function Jm(i,s,u){return function Lv(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Ov:Rv}(s,u)(i)}function Mh(){const i=De();return i&&i[yo].sanitizer}class pn{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xh=new pn("ENVIRONMENT_INITIALIZER"),Fv=new pn("INJECTOR",-1),Qm=new pn("INJECTOR_DEF_TYPES");class Vv{get(s,u=Mr){if(u===Mr){const l=new Error(`NullInjectorError: No provider for ${J(s)}!`);throw l.name="NullInjectorError",l}return u}}function Uv(...i){return{\u0275providers:Xm(0,i),\u0275fromNgModule:!0}}function Xm(i,...s){const u=[],l=new Set;let h;return Zi(s,p=>{const _=p;Lr(_,u,[],l)&&(h||=[],h.push(_))}),void 0!==h&&e_(h,u),u}function e_(i,s){for(let u=0;u<i.length;u++){const{providers:h}=i[u];Nh(h,p=>{s.push(p)})}}function Lr(i,s,u,l){if(!(i=Me(i)))return!1;let h=null,p=ba(i);const _=!p&&Ft(i);if(p||_){if(_&&!_.standalone)return!1;h=i}else{const I=i.ngModule;if(p=ba(I),!p)return!1;h=I}const w=l.has(h);if(_){if(w)return!1;if(l.add(h),_.dependencies){const I="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const b of I)Lr(b,s,u,l)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let b;l.add(h);try{Zi(p.imports,N=>{Lr(N,s,u,l)&&(b||=[],b.push(N))})}finally{}void 0!==b&&e_(b,s)}if(!w){const b=Ho(h)||(()=>new h);s.push({provide:h,useFactory:b,deps:Dt},{provide:Qm,useValue:h,multi:!0},{provide:xh,useValue:()=>Qt(h),multi:!0})}const I=p.providers;null==I||w||Nh(I,N=>{s.push(N)})}}return h!==i&&void 0!==i.providers}function Nh(i,s){for(let u of i)Ne(u)&&(u=u.\u0275providers),Array.isArray(u)?Nh(u,s):s(u)}const Bv=V({provide:String,useValue:V});function Zv(i){return null!==i&&"object"==typeof i&&Bv in i}function _c(i){return"function"==typeof i}const Hv=new pn("Set Injector scope."),t_={},Zp={};let Ul;function kh(){return void 0===Ul&&(Ul=new Vv),Ul}class yc{}class jv extends yc{get destroyed(){return this._destroyed}constructor(s,u,l,h){super(),this.parent=u,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,n_(s,_=>this.processProvider(_)),this.records.set(Fv,Oh(void 0,this)),h.has("environment")&&this.records.set(yc,Oh(void 0,this));const p=this.records.get(Hv);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Qm.multi,Dt,qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of s)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const u=mn(this),l=ln(void 0);try{return s()}finally{mn(u),ln(l)}}get(s,u=Mr,l=qe.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ee))return s[ee](this);l=U(l);const h=mn(this),p=ln(void 0);try{if(!(l&qe.SkipSelf)){let w=this.records.get(s);if(void 0===w){const I=function fT(i){return"function"==typeof i||"object"==typeof i&&i instanceof pn}(s)&&qr(s);w=I&&this.injectableDefInScope(I)?Oh(Rh(s),t_):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&qe.Self?kh():this.parent).get(s,u=l&qe.Optional&&u===Mr?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Xi]=_[Xi]||[]).unshift(J(s)),h)throw _;return function oe(i,s,u,l){const h=i[Xi];throw s[eo]&&h.unshift(s[eo]),i.message=function nt(i,s,u,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=J(s);if(Array.isArray(s))h=s.map(J).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):J(w)))}h=`{${p.join(", ")}}`}return`${u}${l?"("+l+")":""}[${h}]: ${i.replace(xa,"\n  ")}`}("\n"+i.message,h,u,l),i.ngTokenPath=h,i[Xi]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{ln(p),mn(h)}}resolveInjectorInitializers(){const s=mn(this),u=ln(void 0);try{const l=this.get(xh.multi,Dt,qe.Self);for(const h of l)h()}finally{mn(s),ln(u)}}toString(){const s=[],u=this.records;for(const l of u.keys())s.push(J(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(s){let u=_c(s=Me(s))?s:Me(s&&s.provide);const l=function Gv(i){return Zv(i)?Oh(void 0,i.useValue):Oh(qv(i),t_)}(s);if(_c(s)||!0!==s.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Oh(void 0,t_,!0),h.factory=()=>F(h.multi),this.records.set(u,h)),u=s,h.multi.push(s)}this.records.set(u,l)}hydrate(s,u){return u.value===t_&&(u.value=Zp,u.value=u.factory()),"object"==typeof u.value&&u.value&&function hT(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=Me(s.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(s){const u=this._onDestroyHooks.indexOf(s);-1!==u&&this._onDestroyHooks.splice(u,1)}}function Rh(i){const s=qr(i),u=null!==s?s.factory:Ho(i);if(null!==u)return u;if(i instanceof pn)throw new te(204,!1);if(i instanceof Function)return function $v(i){const s=i.length;if(s>0)throw function uc(i,s){const u=[];for(let l=0;l<i;l++)u.push(s);return u}(s,"?"),new te(204,!1);const u=function is(i){return i&&(i[ni]||i[Vo])||null}(i);return null!==u?()=>u.factory(i):()=>new i}(i);throw new te(204,!1)}function qv(i,s,u){let l;if(_c(i)){const h=Me(i);return Ho(h)||Rh(h)}if(Zv(i))l=()=>Me(i.useValue);else if(function dT(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...F(i.deps||[]));else if(function lT(i){return!(!i||!i.useExisting)}(i))l=()=>Qt(Me(i.useExisting));else{const h=Me(i&&(i.useClass||i.provide));if(!function Hp(i){return!!i.deps}(i))return Ho(h)||Rh(h);l=()=>new h(...F(i.deps))}return l}function Oh(i,s,u=!1){return{factory:i,value:s,multi:u?[]:void 0}}function n_(i,s){for(const u of i)Array.isArray(u)?n_(u,s):u&&Ne(u)?n_(u.\u0275providers,s):s(u)}const jp=new pn("AppId",{providedIn:"root",factory:()=>_A}),_A="ng",pT=new pn("Platform Initializer"),vc=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Bl=new pn("CSP nonce",{providedIn:"root",factory:()=>function Jo(){if(void 0!==fu)return fu;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kv=(i,s)=>null;function qp(i,s){return Kv(i,s)}class TA{}class wT{}class $l{resolveComponentFactory(s){throw function ET(i){const s=Error(`No component factory found for ${J(i)}.`);return s.ngComponent=i,s}(s)}}let Xo=(()=>{class i{}return i.NULL=new $l,i})();function u_(){return mu(bn(),De())}function mu(i,s){return new Hh(jr(i,s))}let Hh=(()=>{class i{constructor(u){this.nativeElement=u}}return i.__NG_ELEMENT_ID__=u_,i})();function $n(i){return i instanceof Hh?i.nativeElement:i}class zp{}let Kp=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Wp(){const i=De(),u=ur(bn().index,i);return(Bn(u)?u:i)[Rt]}(),i})(),IA=(()=>{class i{}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>null}),i})();class Jv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const TT=new Jv("16.0.4"),Qv={};function Yp(i){for(;i;){i[Pt]|=64;const s=co(i);if(Nr(i)&&!s)return i;i=s}return null}function aa(i){return i.ngOriginalError}class Gl{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s);this._console.error("ERROR",s),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&aa(s);for(;u&&aa(u);)u=aa(u);return u||null}}const ql=new pn("",{providedIn:"root",factory:()=>!1});function ua(i){return i instanceof Function?i():i}class d_ extends Vu{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Yp(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,u,l){const h=Jn(this);this.trackingVersion++;try{s(u,l)}finally{Jn(h)}}destroy(){this.trackingVersion++}}let Xp=null;function $h(){return Xp??=new d_,Xp}function Gh(i,s){return i[s]??$h()}function bT(i,s){const u=$h();u.hasReadASignal&&(i[s]=Xp,u.lView=i,Xp=new d_)}const at={};function n0(i){ST(zt(),De(),Yr()+i,!1)}function ST(i,s,u,l){if(!l)if(3==(3&s[Pt])){const p=i.preOrderCheckHooks;null!==p&&yl(s,p,u)}else{const p=i.preOrderHooks;null!==p&&Ks(s,p,0,u)}ms(u)}function h_(i,s=null,u=null,l){const h=qh(i,s,u,l);return h.resolveInjectorInitializers(),h}function qh(i,s=null,u=null,l,h=new Set){const p=[u||Dt,Uv(i)];return l=l||("object"==typeof i?void 0:J(i)),new jv(p,s||kh(),l||null,h)}let _u=(()=>{class i{static create(u,l){if(Array.isArray(u))return h_({name:""},l,u,"");{const h=u.name??"";return h_({name:h},u.parent,u.providers,h)}}}return i.THROW_IF_NOT_FOUND=Mr,i.NULL=new Vv,i.\u0275prov=Wt({token:i,providedIn:"any",factory:()=>Qt(Fv)}),i.__NG_ELEMENT_ID__=-1,i})();function Tc(i,s=qe.Default){const u=De();return null===u?Qt(i,s):Il(bn(),u,Me(i),s)}function tg(){throw new Error("invalid")}function zl(i,s,u,l,h,p,_,w,I,b,N){const L=s.blueprint.slice();return L[Vn]=h,L[Pt]=140|l,(null!==b||i&&2048&i[Pt])&&(L[Pt]|=2048),al(L),L[wn]=L[io]=i,L[En]=u,L[yo]=_||i&&i[yo],L[Rt]=w||i&&i[Rt],L[_r]=I||i&&i[_r]||null,L[Br]=p,L[Ls]=function Pm(){return Rl++}(),L[Un]=N,L[Pd]=b,L[Rn]=2==s.type?i[Rn]:L,L}function zh(i,s,u,l,h){let p=i.data[s];if(null===p)p=function f_(i,s,u,l,h){const p=Qf(),_=za(),I=i.data[s]=function g_(i,s,u,l,h,p){let _=s?s.injectorIndex:-1,w=0;return function $s(){return null!==gt.skipHydrationRootTNode}()&&(w|=128),{type:u,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,u,s,l,h);return null===i.firstChild&&(i.firstChild=I),null!==p&&(_?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I,I.prev=p)),I}(i,s,u,l,h),function Wd(){return gt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=l,p.attrs=h;const _=function Ii(){const i=gt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return To(p,!0),p}function yu(i,s,u,l){if(0===u)return-1;const h=s.length;for(let p=0;p<u;p++)s.push(l),i.blueprint.push(l),i.data.push(null);return h}function o0(i,s,u,l,h){const p=Gh(s,Wc),_=Yr(),w=2&l;try{if(ms(-1),w&&s.length>Zt&&ST(i,s,Zt,!1),Li(w?2:0,h),w)p.runInContext(u,l,h);else{const b=Jn(null);try{u(l,h)}finally{Jn(b)}}}finally{w&&null===s[Wc]&&bT(s,Wc),ms(_),Li(w?3:1,h)}}function p_(i,s,u){if(Fs(s)){const l=Jn(null);try{const p=s.directiveEnd;for(let _=s.directiveStart;_<p;_++){const w=i.data[_];w.contentQueries&&w.contentQueries(1,u[_],_)}}finally{Jn(l)}}}function ng(i,s,u){zd()&&(function d0(i,s,u,l){const h=u.directiveStart,p=u.directiveEnd;vo(u)&&function ig(i,s,u){const l=jr(s,i),_=E_(i,zl(i,s0(u),null,u.onPush?64:16,l,s,null,i[yo].rendererFactory.createRenderer(l,u),null,null,null));i[s.index]=_}(s,u,i.data[h+u.componentOffset]),i.firstCreatePass||Js(u,s),Tr(l,s);const _=u.initialInputs;for(let w=h;w<p;w++){const I=i.data[w],b=uo(s,i,w,u);Tr(b,s),null!==_&&Yh(0,w-h,b,I,0,_),yr(I)&&(ur(u.index,s)[En]=uo(s,i,w,u))}}(i,s,u,jr(u,s)),64==(64&u.flags)&&Wl(i,s,u))}function rg(i,s,u=jr){const l=s.localNames;if(null!==l){let h=s.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],w=-1===_?u(s,i):i[_];i[h++]=w}}}function s0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Kh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Kh(i,s,u,l,h,p,_,w,I,b,N){const L=Zt+l,$=L+h,K=function OT(i,s){const u=[];for(let l=0;l<s;l++)u.push(l<i?null:at);return u}(L,$),ye="function"==typeof b?b():b;return K[Ke]={type:i,blueprint:K,template:u,queries:null,viewQuery:w,declTNode:s,data:K.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:I,consts:ye,incompleteFirstPass:!1,ssrId:N}}let a0=i=>null;function lo(i,s,u,l){for(let h in i)if(i.hasOwnProperty(h)){u=null===u?{}:u;const p=i[h];null===l?u0(u,s,h,p):l.hasOwnProperty(h)&&u0(u,s,l[h],p)}return u}function u0(i,s,u,l){i.hasOwnProperty(u)?i[u].push(s,l):i[u]=[s,l]}function l0(i,s,u,l){if(zd()){const h=null===l?null:{"":-1},p=function ZT(i,s){const u=i.directiveRegistry;let l=null,h=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];if(vi(s,_.selectors,!1))if(l||(l=[]),yr(_))if(null!==_.findHostDirectiveDefs){const w=[];h=h||new Map,_.findHostDirectiveDefs(_,w,h),l.unshift(...w,_),Ds(i,s,w.length)}else l.unshift(_),Ds(i,s,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,l,h),l.push(_)}return null===l?null:[l,h]}(i,u);let _,w;null===p?_=w=null:[_,w]=p,null!==_&&m_(i,s,u,_,h,w),h&&function es(i,s,u){if(s){const l=i.localNames=[];for(let h=0;h<s.length;h+=2){const p=u[s[h+1]];if(null==p)throw new te(-301,!1);l.push(s[h],p)}}}(u,l,h)}u.mergedAttrs=Yt(u.mergedAttrs,u.attrs)}function m_(i,s,u,l,h,p){for(let b=0;b<l.length;b++)Ai(Js(u,s),i,l[b].type);!function __(i,s,u){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+u,i.providerIndexes=s}(u,i.data.length,l.length);for(let b=0;b<l.length;b++){const N=l[b];N.providersResolver&&N.providersResolver(N)}let _=!1,w=!1,I=yu(i,s,l.length,null);for(let b=0;b<l.length;b++){const N=l[b];u.mergedAttrs=Yt(u.mergedAttrs,N.hostAttrs),y_(i,u,s,I,N),pi(I,N,h),null!==N.contentQueries&&(u.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=64);const L=N.type.prototype;!_&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((i.preOrderHooks??=[]).push(u.index),_=!0),!w&&(L.ngOnChanges||L.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(u.index),w=!0),I++}!function UT(i,s,u){const h=s.directiveEnd,p=i.data,_=s.attrs,w=[];let I=null,b=null;for(let N=s.directiveStart;N<h;N++){const L=p[N],$=u?u.get(L):null,ye=$?$.outputs:null;I=lo(L.inputs,N,I,$?$.inputs:null),b=lo(L.outputs,N,b,ye);const ke=null===I||null===_||ss(s)?null:NA(I,N,_);w.push(ke)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=8),I.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=I,s.outputs=b}(i,u,p)}function Wl(i,s,u){const l=u.directiveStart,h=u.directiveEnd,p=u.index,_=function Ku(){return gt.lFrame.currentDirectiveIndex}();try{ms(p);for(let w=l;w<h;w++){const I=i.data[w],b=s[w];gs(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&h0(I,b)}}finally{ms(-1),gs(_)}}function h0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ds(i,s,u){s.componentOffset=u,(i.components??=[]).push(s.index)}function pi(i,s,u){if(u){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)u[s.exportAs[l]]=i;yr(s)&&(u[""]=i)}}function y_(i,s,u,l,h){i.data[l]=h;const p=h.factory||(h.factory=Ho(h.type)),_=new vr(p,yr(h),Tc);i.blueprint[l]=_,u[l]=_,function ca(i,s,u,l,h){const p=h.hostBindings;if(p){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const w=~s.index;(function BT(i){let s=i.length;for(;s>0;){const u=i[--s];if("number"==typeof u&&u<0)return u}return 0})(_)!=w&&_.push(w),_.push(u,l,p)}}(i,s,l,yu(i,u,h.hostVars,at),h)}function xo(i,s,u,l,h,p){const _=jr(i,s);!function v_(i,s,u,l,h,p,_){if(null==p)i.removeAttribute(s,h,u);else{const w=null==_?W(p):_(p,l||"",h);i.setAttribute(s,h,w,u)}}(s[Rt],_,p,i.value,u,l,h)}function Yh(i,s,u,l,h,p){const _=p[s];if(null!==_)for(let w=0;w<_.length;)HT(l,u,_[w++],_[w++],_[w++])}function HT(i,s,u,l,h){const p=Jn(null);try{null!==i.setInput?i.setInput(s,h,u,l):s[l]=h}finally{Jn(p)}}function NA(i,s,u){let l=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===l&&(l=[]);const _=i[p];for(let w=0;w<_.length;w+=2)if(_[w]===s){l.push(p,_[w+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function w_(i,s,u,l){return[i,!0,!1,s,null,0,l,u,null,null,null]}function jT(i,s){const u=i.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const p=u[l+1];if(-1!==p){const _=i.data[p];Wu(u[l]),_.contentQueries(2,s[p],p)}}}function E_(i,s){return i[Kr]?i[Od][ai]=s:i[Kr]=s,i[Od]=s,s}function T_(i,s,u){Wu(0);const l=Jn(null);try{s(i,u)}finally{Jn(l)}}function og(i){return i[us]||(i[us]=[])}function $T(i){return i.cleanup||(i.cleanup=[])}function Yl(i,s){const u=i[_r],l=u?u.get(Gl,null):null;l&&l.handleError(s)}function I_(i,s,u,l,h){for(let p=0;p<u.length;){const _=u[p++],w=u[p++];HT(i.data[_],s[_],l,w,h)}}function Pn(i,s,u){const l=ju(s,i);!function pc(i,s,u){i.setValue(s,u)}(i[Rt],l,u)}function Jh(i,s){const u=ur(s,i),l=u[Ke];!function Ic(i,s){for(let u=s.length;u<i.blueprint.length;u++)s.push(i.blueprint[u])}(l,u);const h=u[Vn];null!==h&&null===u[Un]&&(u[Un]=qp(h,u[_r])),sg(l,u,u[En])}function sg(i,s,u){zs(s);try{const l=i.viewQuery;null!==l&&T_(1,l,u);const h=i.template;null!==h&&o0(i,s,h,1,u),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&jT(i,s),i.staticViewQueries&&T_(2,i.viewQuery,u);const p=i.components;null!==p&&function kA(i,s){for(let u=0;u<s.length;u++)Jh(i,s[u])}(s,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[Pt]&=-5,gl()}}let C_=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(u,l,h){const p=typeof Zone>"u"?null:Zone.current,_=new Zd(u,b=>{this.all.has(b)&&this.queue.set(b,p)},h);let w;this.all.add(_),_.notify();const I=()=>{_.cleanup(),w?.(),this.all.delete(_),this.queue.delete(_)};return w=l?.onDestroy(I),{destroy:I}}flush(){if(0!==this.queue.size)for(const[u,l]of this.queue)this.queue.delete(u),l?l.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>new i}),i})();function ct(i,s,u){let l=u?i.styles:null,h=u?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?p=w:1==p?h=Le(h,w):2==p&&(l=Le(l,w+": "+s[++_]+";"))}u?i.styles=l:i.stylesWithoutHost=l,u?i.classes=h:i.classesWithoutHost=h}function ag(i,s,u,l,h=!1){for(;null!==u;){const p=s[u.index];if(null!==p&&l.push(Tn(p)),ci(p)){for(let w=ar;w<p.length;w++){const I=p[w],b=I[Ke].firstChild;null!==b&&ag(I[Ke],I,b,l)}p[Wr]!==p[Vn]&&l.push(p[Wr])}const _=u.type;if(8&_)ag(i,s,u.child,l);else if(32&_){const w=mh(u,s);let I;for(;I=w();)l.push(I)}else if(16&_){const w=Pp(s,u);if(Array.isArray(w))l.push(...w);else{const I=co(s[Rn]);ag(I[Ke],I,w,l,!0)}}u=h?u.projectionNext:u.next}return l}function We(i,s,u,l=!0){const h=s[yo].rendererFactory;h.begin&&h.begin();try{lr(i,s,i.template,u)}catch(_){throw l&&Yl(s,_),_}finally{h.end&&h.end(),s[yo].effectManager?.flush()}}function lr(i,s,u,l){const h=s[Pt];if(256!=(256&h)){s[yo].effectManager?.flush(),zs(s);try{al(s),function zu(i){return gt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==u&&o0(i,s,u,2,l);const _=3==(3&h);if(_){const b=i.preOrderCheckHooks;null!==b&&yl(s,b,null)}else{const b=i.preOrderHooks;null!==b&&Ks(s,b,0,null),eh(s,0)}if(function RA(i){for(let s=Mp(i);null!==s;s=_h(s)){if(!s[oo])continue;const u=s[ls];for(let l=0;l<u.length;l++){$d(u[l])}}}(s),function qT(i){for(let s=Mp(i);null!==s;s=_h(s))for(let u=ar;u<s.length;u++){const l=s[u],h=l[Ke];Hs(l)&&lr(h,l,h.template,l[En])}}(s),null!==i.contentQueries&&jT(i,s),_){const b=i.contentCheckHooks;null!==b&&yl(s,b)}else{const b=i.contentHooks;null!==b&&Ks(s,b,1),eh(s,1)}!function RT(i,s){const u=i.hostBindingOpCodes;if(null===u)return;const l=Gh(s,cs);try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)ms(~p);else{const _=p,w=u[++h],I=u[++h];Ka(w,_),l.runInContext(I,2,s[_])}}}finally{null===s[cs]&&bT(s,cs),ms(-1)}}(i,s);const w=i.components;null!==w&&function PA(i,s){for(let u=0;u<s.length;u++)OA(i,s[u])}(s,w);const I=i.viewQuery;if(null!==I&&T_(2,I,l),_){const b=i.viewCheckHooks;null!==b&&yl(s,b)}else{const b=i.viewHooks;null!==b&&Ks(s,b,2),eh(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Pt]&=-73,ul(s)}finally{gl()}}}function OA(i,s){const u=ur(s,i);if(Hs(u)){const l=u[Ke];80&u[Pt]?lr(l,u,l.template,u[En]):u[Zo]>0&&f0(u)}}function f0(i){for(let l=Mp(i);null!==l;l=_h(l))for(let h=ar;h<l.length;h++){const p=l[h];if(Hs(p))if(1024&p[Pt]){const _=p[Ke];lr(_,p,_.template,p[En])}else p[Zo]>0&&f0(p)}const u=i[Ke].components;if(null!==u)for(let l=0;l<u.length;l++){const h=ur(u[l],i);Hs(h)&&h[Zo]>0&&f0(h)}}class ug{get rootNodes(){const s=this._lView,u=s[Ke];return ag(u,s,u.firstChild,[])}constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(s){this._lView[En]=s}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[wn];if(ci(s)){const u=s[Ei],l=u?u.indexOf(this):-1;l>-1&&(hu(s,l),lu(u,l))}this._attachedToViewContainer=!1}kp(this._lView[Ke],this._lView)}onDestroy(s){!function cl(i,s){if(256==(256&i[Pt]))throw new te(911,!1);null===i[ui]&&(i[ui]=[]),i[ui].push(s)}(this._lView,s)}markForCheck(){Yp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){We(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Np(i,s){Et(i,s,s[Rt],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=s}}class zT extends ug{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;We(s[Ke],s,s[En],!1)}checkNoChanges(){}get context(){return null}}class KT extends Xo{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=Ft(s);return new xt(u,this.ngModule)}}function LA(i){const s=[];for(let u in i)i.hasOwnProperty(u)&&s.push({propName:i[u],templateName:u});return s}class WT{constructor(s,u){this.injector=s,this.parentInjector=u}get(s,u,l){l=U(l);const h=this.injector.get(s,Qv,l);return h!==Qv||u===Qv?h:this.parentInjector.get(s,u,l)}}class xt extends wT{get inputs(){return LA(this.componentDef.inputs)}get outputs(){return LA(this.componentDef.outputs)}constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function Hf(i){return i.map(_m).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}create(s,u,l,h){let p=(h=h||this.ngModule)instanceof yc?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new WT(s,p):s,w=_.get(zp,null);if(null===w)throw new te(407,!1);const N={rendererFactory:w,sanitizer:_.get(IA,null),effectManager:_.get(C_,null)},L=w.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",K=l?function PT(i,s,u,l){const p=l.get(ql,!1)||u===_n.ShadowDom,_=i.selectRootElement(s,p);return function Kl(i){a0(i)}(_),_}(L,l,this.componentDef.encapsulation,_):qi(L,$,function FA(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}($)),ye=this.componentDef.onPush?576:528,ke=Kh(0,null,null,1,0,null,null,null,null,null,null),Ze=zl(null,ke,null,ye,null,null,N,L,_,null,null);let st,we;zs(Ze);try{const vt=this.componentDef;let Jt,gn=null;vt.findHostDirectiveDefs?(Jt=[],gn=new Map,vt.findHostDirectiveDefs(vt,Jt,gn),Jt.push(vt)):Jt=[vt];const ks=function Xn(i,s){const u=i[Ke],l=Zt;return i[l]=s,zh(u,l,2,"#host",null)}(Ze,K),Mu=function yt(i,s,u,l,h,p,_){const w=h[Ke];!function cg(i,s,u,l){for(const h of i)s.mergedAttrs=Yt(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(ct(s,s.mergedAttrs,!0),null!==u&&Zm(l,u,s))}(l,i,s,_);let I=null;null!==s&&(I=qp(s,h[_r]));const b=p.rendererFactory.createRenderer(s,u),N=zl(h,s0(u),null,u.onPush?64:16,h[i.index],i,p,b,null,null,I);return w.firstCreatePass&&Ds(w,i,l.length-1),E_(h,N),h[i.index]=N}(ks,K,vt,Jt,Ze,N,L);we=sl(ke,Zt),K&&function UA(i,s,u,l){if(l)ut(i,u,["ng-version",TT.full]);else{const{attrs:h,classes:p}=function Ru(i){const s=[],u=[];let l=1,h=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===h?""!==p&&s.push(p,i[++l]):8===h&&u.push(p);else{if(!si(h))break;h=p}l++}return{attrs:s,classes:u}}(s.selectors[0]);h&&ut(i,u,h),p&&p.length>0&&Lp(i,u,p.join(" "))}}(L,vt,K,l),void 0!==u&&function dr(i,s,u){const l=i.projection=[];for(let h=0;h<s.length;h++){const p=u[h];l.push(null!=p?Array.from(p):null)}}(we,this.ngContentSelectors,u),st=function on(i,s,u,l,h,p){const _=bn(),w=h[Ke],I=jr(_,h);m_(w,h,_,u,null,l);for(let N=0;N<u.length;N++)Tr(uo(h,w,_.directiveStart+N,_),h);Wl(w,h,_),I&&Tr(I,h);const b=uo(h,w,_.directiveStart+_.componentOffset,_);if(i[En]=h[En]=b,null!==p)for(const N of p)N(b,s);return p_(w,_,i),b}(Mu,vt,Jt,gn,Ze,[Je]),sg(ke,Ze,null)}finally{gl()}return new Qh(this.componentType,st,mu(we,Ze),Ze,we)}}class Qh extends TA{constructor(s,u,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new zT(h),this.componentType=s}setInput(s,u){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),u))return;const p=this._rootLView;I_(p[Ke],p,h,s,u),this.previousInputValues.set(s,u),Yp(ur(this._tNode.index,p))}}get injector(){return new _s(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Je(){const i=bn();Xa(De()[Ke],i)}function dg(i){let s=function lg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),u=!0;const l=[i];for(;s;){let h;if(yr(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new te(903,!1);h=s.\u0275dir}if(h){if(u){l.push(h);const _=i;_.inputs=p0(i.inputs),_.declaredInputs=p0(i.declaredInputs),_.outputs=p0(i.outputs);const w=h.hostBindings;w&&hg(i,w);const I=h.viewQuery,b=h.contentQueries;if(I&&D_(i,I),b&&BA(i,b),Z(i.inputs,h.inputs),Z(i.declaredInputs,h.declaredInputs),Z(i.outputs,h.outputs),yr(h)&&h.data.animation){const N=i.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(i),w===dg&&(u=!1)}}s=Object.getPrototypeOf(s)}!function Jl(i){let s=0,u=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=s+=h.hostVars,h.hostAttrs=Yt(h.hostAttrs,u=Yt(u,h.hostAttrs))}}(l)}function p0(i){return i===dn?{}:i===Dt?[]:i}function D_(i,s){const u=i.viewQuery;i.viewQuery=u?(l,h)=>{s(l,h),u(l,h)}:s}function BA(i,s){const u=i.contentQueries;i.contentQueries=u?(l,h,p)=>{s(l,h,p),u(l,h,p)}:s}function hg(i,s){const u=i.hostBindings;i.hostBindings=u?(l,h)=>{s(l,h),u(l,h)}:s}function ho(i){return!!la(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function la(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Qr(i,s,u){return!Object.is(i[s],u)&&(i[s]=u,!0)}function Ql(i,s,u,l){const h=Qr(i,s,u);return Qr(i,s+1,l)||h}function Xl(i,s,u,l){const h=De();return Qr(h,qo(),s)&&(zt(),xo(Cn(),h,i,s,u,l)),Xl}function td(i,s,u,l,h,p,_,w,I,b){const L=function er(i,s,u,l,h,p){const _=Ql(i,s,u,l);return Ql(i,s+2,h,p)||_}(i,function Io(){return gt.lFrame.bindingIndex}(),u,h,_,I);return hn(4),L?s+W(u)+l+W(h)+p+W(_)+w+W(I)+b:at}function mg(i,s,u,l,h,p,_,w){const I=De(),b=zt(),N=i+Zt,L=b.firstCreatePass?function bc(i,s,u,l,h,p,_,w,I){const b=s.consts,N=zh(s,i,4,_||null,$o(b,w));l0(s,u,N,$o(b,I)),Xa(s,N);const L=N.tView=Kh(2,N,l,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,b,null);return null!==s.queries&&(s.queries.template(s,N),L.queries=s.queries.embeddedTView(N)),N}(N,b,I,s,u,l,h,p,_):b.data[N];To(L,!1);const $=Eu(b,I,L,i);_l()&&Eh(b,I,$,L),Tr($,I),E_(I,I[N]=w_($,I,$,L)),wo(L)&&ng(b,I,L),null!=_&&rg(I,L,w)}let Eu=function Ss(i,s,u,l){return ao(!0),s[Rt].createComment("")};function yg(i,s,u){const l=De();return Qr(l,qo(),s)&&function Mo(i,s,u,l,h,p,_,w){const I=jr(s,u);let N,b=s.inputs;!w&&null!=b&&(N=b[l])?(I_(i,u,N,l,h),vo(s)&&function Cs(i,s){const u=ur(s,i);16&u[Pt]||(u[Pt]|=64)}(u,s.index)):3&s.type&&(l=function Wh(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=_?_(h,s.value||"",l):h,p.setProperty(I,l,h))}(zt(),Cn(),l,i,s,l[Rt],u,!1),yg}function uf(i,s,u,l,h){const _=h?"class":"style";I_(i,u,s.inputs[_],_,l)}function cf(i,s,u,l){const h=De(),p=zt(),_=Zt+i,w=h[Rt],I=p.firstCreatePass?function id(i,s,u,l,h,p){const _=s.consts,I=zh(s,i,2,l,$o(_,h));return l0(s,u,I,$o(_,p)),null!==I.attrs&&ct(I,I.attrs,!1),null!==I.mergedAttrs&&ct(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,p,h,s,u,l):p.data[_],b=E0(p,h,I,w,s,i);h[_]=b;const N=wo(I);return To(I,!0),Zm(w,b,I),32!=(32&I.flags)&&_l()&&Eh(p,h,b,I),0===function ll(){return gt.lFrame.elementDepthCount}()&&Tr(b,h),function Jf(){gt.lFrame.elementDepthCount++}(),N&&(ng(p,h,I),p_(p,I,h)),null!==l&&rg(h,I),cf}function Mc(){let i=bn();za()?function qs(){gt.lFrame.isParent=!1}():(i=i.parent,To(i,!1));const s=i;(function Ga(i){return gt.skipHydrationRootTNode===i})(s)&&function Kd(){gt.skipHydrationRootTNode=null}(),function qd(){gt.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(Xa(u,i),Fs(i)&&u.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ws(i){return 0!=(8&i.flags)}(s)&&uf(u,s,De(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function El(i){return 0!=(16&i.flags)}(s)&&uf(u,s,De(),s.stylesWithoutHost,!1),Mc}function M_(i,s,u,l){return cf(i,s,u,l),Mc(),M_}let E0=(i,s,u,l,h,p)=>(ao(!0),qi(l,h,function tp(){return gt.lFrame.currentNamespace}()));function Ln(){return De()}function fa(i){return!!i&&"function"==typeof i.then}function A0(i){return!!i&&"function"==typeof i.subscribe}function N_(i,s,u,l){const h=De(),p=zt(),_=bn();return function b0(i,s,u,l,h,p,_){const w=wo(l),b=i.firstCreatePass&&$T(i),N=s[En],L=og(s);let $=!0;if(3&l.type||_){const ke=jr(l,s),Ze=_?_(ke):ke,st=L.length,we=_?Jt=>_(Tn(Jt[l.index])):l.index;let vt=null;if(!_&&w&&(vt=function JA(i,s,u,l){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===u&&h[p+1]===l){const w=s[us],I=h[p+2];return w.length>I?w[I]:null}"string"==typeof _&&(p+=2)}return null}(i,s,h,l.index)),null!==vt)(vt.__ngLastListenerFn__||vt).__ngNextListenerFn__=p,vt.__ngLastListenerFn__=p,$=!1;else{p=yn(l,s,N,p,!1);const Jt=u.listen(Ze,h,p);L.push(p,Jt),b&&b.push(h,we,st,st+1)}}else p=yn(l,s,N,p,!1);const K=l.outputs;let ye;if($&&null!==K&&(ye=K[h])){const ke=ye.length;if(ke)for(let Ze=0;Ze<ke;Ze+=2){const gn=s[ye[Ze]][ye[Ze+1]].subscribe(p),ks=L.length;L.push(p,gn),b&&b.push(h,l.index,ks,-(ks+1))}}}(p,h,h[Rt],_,i,s,l),N_}function Xt(i,s,u,l){try{return Li(6,s,u),!1!==u(l)}catch(h){return Yl(i,h),!1}finally{Li(7,s,u)}}function yn(i,s,u,l,h){return function p(_){if(_===Function)return l;Yp(i.componentOffset>-1?ur(i.index,s):s);let I=Xt(s,u,l,_),b=p.__ngNextListenerFn__;for(;b;)I=Xt(s,u,b,_)&&I,b=b.__ngNextListenerFn__;return h&&!1===I&&_.preventDefault(),I}}function sd(i=1){return function Ja(i){return(gt.lFrame.contextLView=function Xf(i,s){for(;i>0;)s=s[io],i--;return s}(i,gt.lFrame.contextLView))[En]}(i)}function O_(i,s){return i<<17|s<<2}function xc(i){return i>>17&32767}function Tu(i){return 2|i}function Ms(i){return(131068&i)>>2}function lf(i,s){return-131069&i|s<<2}function L_(i){return 1|i}function P0(i,s,u,l,h){const p=i[u+1],_=null===s;let w=l?xc(p):Ms(p),I=!1;for(;0!==w&&(!1===I||_);){const N=i[w+1];L0(i[w],s)&&(I=!0,i[w+1]=l?L_(N):Tu(N)),w=l?xc(N):Ms(N)}I&&(i[u+1]=l?Tu(p):L_(p))}function L0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&M(i,s)>=0}function B_(i,s){return function Yi(i,s,u,l){const h=De(),p=zt(),_=hn(2);p.firstUpdatePass&&function Ht(i,s,u,l){const h=i.data;if(null===h[u+1]){const p=h[Yr()],_=function TI(i,s){return s>=i.expandoStartIndex}(i,u);(function ud(i,s){return 0!=(i.flags&(s?8:16))})(p,l)&&null===s&&!_&&(s=!1),s=function tb(i,s,u,l){const h=function Wa(i){const s=gt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=l?s.residualClasses:s.residualStyles;if(null===h)0===(l?s.classBindings:s.styleBindings)&&(u=Rc(u=Z_(null,i,s,u,l),s.attrs,l),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==h)if(u=Z_(h,i,s,u,l),null===p){let I=function U0(i,s,u){const l=u?s.classBindings:s.styleBindings;if(0!==Ms(l))return i[xc(l)]}(i,s,l);void 0!==I&&Array.isArray(I)&&(I=Z_(null,i,s,I[1],l),I=Rc(I,s.attrs,l),function II(i,s,u,l){i[xc(u?s.classBindings:s.styleBindings)]=l}(i,s,l,I))}else p=function CI(i,s,u){let l;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)l=Rc(l,i[p].hostAttrs,u);return Rc(l,s.attrs,u)}(i,s,l)}return void 0!==p&&(l?s.residualClasses=p:s.residualStyles=p),u}(h,p,s,l),function vI(i,s,u,l,h,p){let _=p?s.classBindings:s.styleBindings,w=xc(_),I=Ms(_);i[l]=u;let N,b=!1;if(Array.isArray(u)?(N=u[1],(null===N||M(u,N)>0)&&(b=!0)):N=u,h)if(0!==I){const $=xc(i[w+1]);i[l+1]=O_($,w),0!==$&&(i[$+1]=lf(i[$+1],l)),i[w+1]=function O0(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=O_(w,0),0!==w&&(i[w+1]=lf(i[w+1],l)),w=l;else i[l+1]=O_(I,0),0===w?w=l:i[I+1]=lf(i[I+1],l),I=l;b&&(i[l+1]=Tu(i[l+1])),P0(i,N,l,!0),P0(i,N,l,!1),function df(i,s,u,l,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&M(p,s)>=0&&(u[l+1]=L_(u[l+1]))}(s,N,i,l,p),_=O_(w,I),p?s.classBindings=_:s.styleBindings=_}(h,p,s,u,_,l)}}(p,i,_,l),s!==at&&Qr(h,_,s)&&function Oc(i,s,u,l,h,p,_,w){if(!(3&s.type))return;const I=i.data,b=I[w+1],N=function P_(i){return 1==(1&i)}(b)?B0(I,s,u,h,Ms(b),_):void 0;ma(N)||(ma(p)||function QA(i){return 2==(2&i)}(b)&&(p=B0(I,null,u,h,w,_)),function Cv(i,s,u,l,h){if(s)h?i.addClass(u,l):i.removeClass(u,l);else{let p=-1===l.indexOf("-")?void 0:Es.DashCase;null==h?i.removeStyle(u,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Es.Important),i.setStyle(u,l,h,p))}}(l,_,ju(Yr(),u),h,p))}(p,p.data[Yr()],h,h[Rt],i,h[_+1]=function bI(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=J(mc(i)))),i}(s,u),l,_)}(i,s,null,!0),B_}function Z_(i,s,u,l,h){let p=null;const _=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<_&&(p=s[w],l=Rc(l,p.hostAttrs,h),p!==i);)w++;return null!==i&&(u.directiveStylingLast=w),l}function Rc(i,s,u){const l=u?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?h=_:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),E(i,_,!!u||s[++p]))}return void 0===i?null:i}function B0(i,s,u,l,h,p){const _=null===s;let w;for(;h>0;){const I=i[h],b=Array.isArray(I),N=b?I[1]:I,L=null===N;let $=u[h+1];$===at&&($=L?Dt:void 0);let K=L?C($,l):N===l?$:void 0;if(b&&!ma(K)&&(K=C(I,l)),ma(K)&&(w=K,_))return w;const ye=i[h+1];h=_?xc(ye):Ms(ye)}if(null!==s){let I=p?s.residualClasses:s.residualStyles;null!=I&&(w=C(I,l))}return w}function ma(i){return void 0!==i}function Z0(i,s=""){const u=De(),l=zt(),h=i+Zt,p=l.firstCreatePass?zh(l,h,1,s,null):l.data[h],_=H0(l,u,p,s,i);u[h]=_,_l()&&Eh(l,u,_,p),To(p,!1)}let H0=(i,s,u,l,h)=>(ao(!0),function sa(i,s){return i.createText(s)}(s[Rt],l));function j0(i){return Mn("",i,""),j0}function Mn(i,s,u){const l=De(),h=function ed(i,s,u,l){return Qr(i,qo(),u)?s+W(u)+l:at}(l,i,s,u);return h!==at&&Pn(l,Yr(),h),Mn}function H_(i,s,u,l,h,p,_,w,I){const b=De(),N=td(b,i,s,u,l,h,p,_,w,I);return N!==at&&Pn(b,Yr(),N),H_}const ld=void 0;var VI=["en",[["a","p"],["AM","PM"],ld],[["AM","PM"],ld,ld],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ld,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ld,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ld,"{1} 'at' {0}",ld],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function FI(i){const u=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let vf={};function tw(i){const s=function Sr(i){return i.toLowerCase().replace(/_/g,"-")}(i);let u=dd(s);if(u)return u;const l=s.split("-")[0];if(u=dd(l),u)return u;if("en"===l)return VI;throw new te(701,!1)}function G_(i){return tw(i)[Mt.PluralCase]}function dd(i){return i in vf||(vf[i]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[i]),vf[i]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const _a="en-US";let rw=_a;function ty(i,s,u,l,h){if(i=Me(i),Array.isArray(i))for(let p=0;p<i.length;p++)ty(i[p],s,u,l,h);else{const p=zt(),_=De();let w=_c(i)?i:Me(i.provide),I=qv(i);const b=bn(),N=1048575&b.providerIndexes,L=b.directiveStart,$=b.providerIndexes>>20;if(_c(i)||!i.multi){const K=new vr(I,h,Tc),ye=_w(w,s,h?N:N+$,L);-1===ye?(Ai(Js(b,_),p,w),gw(p,i,s.length),s.push(w),b.directiveStart++,b.directiveEnd++,h&&(b.providerIndexes+=1048576),u.push(K),_.push(K)):(u[ye]=K,_[ye]=K)}else{const K=_w(w,s,N+$,L),ye=_w(w,s,N,N+$),Ze=ye>=0&&u[ye];if(h&&!Ze||!h&&!(K>=0&&u[K])){Ai(Js(b,_),p,w);const st=function iC(i,s,u,l,h){const p=new vr(i,u,Tc);return p.multi=[],p.index=s,p.componentProviders=0,mw(p,h,l&&!u),p}(h?rC:ny,u.length,h,l,I);!h&&Ze&&(u[ye].providerFactory=st),gw(p,i,s.length,0),s.push(w),b.directiveStart++,b.directiveEnd++,h&&(b.providerIndexes+=1048576),u.push(st),_.push(st)}else gw(p,i,K>-1?K:ye,mw(u[h?ye:K],I,!h&&l));!h&&l&&Ze&&u[ye].componentProviders++}}}function gw(i,s,u,l){const h=_c(s),p=function mA(i){return!!i.useClass}(s);if(h||p){const I=(p?Me(s.useClass):s).prototype.ngOnDestroy;if(I){const b=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const N=b.indexOf(u);-1===N?b.push(u,[l,I]):b[N+1].push(l,I)}else b.push(u,I)}}}function mw(i,s,u){return u&&i.componentProviders++,i.multi.push(s)-1}function _w(i,s,u,l){for(let h=u;h<l;h++)if(s[h]===i)return h;return-1}function ny(i,s,u,l){return yw(this.multi,[])}function rC(i,s,u,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=uo(u,u[Ke],this.providerFactory.index,l);p=w.slice(0,_),yw(h,p);for(let I=_;I<w.length;I++)p.push(w[I])}else p=[],yw(h,p);return p}function yw(i,s){for(let u=0;u<i.length;u++)s.push((0,i[u])());return s}function oC(i,s=[]){return u=>{u.providersResolver=(l,h)=>function Ib(i,s,u){const l=zt();if(l.firstCreatePass){const h=yr(i);ty(u,l.data,l.blueprint,h,!0),ty(s,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,s)}}class gd{}class Zc{}function Og(i,s){return new ry(i,s??null,[])}class ry extends gd{constructor(s,u,l){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KT(this);const h=xr(s);this._bootstrapComponents=ua(h.bootstrap),this._r3Injector=qh(s,u,[{provide:gd,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver},...l],J(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class vw extends Zc{constructor(s){super(),this.moduleType=s}create(s){return new ry(this.moduleType,s,[])}}class aC extends gd{constructor(s){super(),this.componentFactoryResolver=new KT(this),this.instance=null;const u=new jv([...s.providers,{provide:gd,useValue:this},{provide:Xo,useValue:this.componentFactoryResolver}],s.parent||kh(),s.debugName,new Set(["environment"]));this.injector=u,s.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function uC(i,s,u=null){return new aC({providers:i,parent:s,debugName:u,runEnvironmentInitializers:!0}).injector}let ww=(()=>{class i{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const l=Xm(0,u.type),h=l.length>0?uC([l],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Wt({token:i,providedIn:"environment",factory:()=>new i(Qt(yc))}),i})();function $r(i){i.getStandaloneInjector=s=>s.get(ww).getOrCreateStandaloneInjector(i)}function Fg(i){return s=>{setTimeout(i,void 0,s)}}const ts=class dy extends a.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,l){let h=s,p=u||(()=>null),_=l;if(s&&"object"==typeof s){const I=s;h=I.next?.bind(I),p=I.error?.bind(I),_=I.complete?.bind(I)}this.__isAsync&&(p=Fg(p),h&&(h=Fg(h)),_&&(_=Fg(_)));const w=super.subscribe({next:h,error:p,complete:_});return s instanceof q.w0&&s.add(w),w}};function Nw(){return this._results[Symbol.iterator]()}class hy{get changes(){return this._changes||(this._changes=new ts)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=hy.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Nw)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const l=this;l.dirty=!1;const h=function Qn(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function Sl(i,s,u){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],p=s[l];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(l._results,h,u))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vg=(()=>{class i{}return i.__NG_ELEMENT_ID__=kw,i})();const EC=Vg,fy=class extends EC{constructor(s,u,l){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,u){return this.createEmbeddedViewImpl(s,u,null)}createEmbeddedViewImpl(s,u,l){const h=this._declarationTContainer.tView,p=zl(this._declarationLView,h,s,16,null,h.declTNode,null,null,null,u||null,l||null);p[Ps]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[wi];return null!==w&&(p[wi]=w.createEmbeddedView(h)),sg(h,p,s),new ug(p)}};function kw(){return py(bn(),De())}function py(i,s){return 4&i.type?new fy(s,i,mu(i,s)):null}let yy=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ob,i})();function Ob(){return vy(bn(),De())}const Rw=yy,DC=class extends Rw{constructor(s,u,l){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=l}get element(){return mu(this._hostTNode,this._hostLView)}get injector(){return new _s(this._hostTNode,this._hostLView)}get parentInjector(){const s=Co(this._hostTNode,this._hostLView);if(jn(s)){const u=nu(s,this._hostLView),l=At(s);return new _s(u[Ke].data[l+8],u)}return new _s(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=AC(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(s,u,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const w=s.createEmbeddedViewImpl(u||{},p,null);return this.insertImpl(w,h,false),w}createComponent(s,u,l,h,p){const _=s&&!function Wo(i){return"function"==typeof i}(s);let w;if(_)w=u;else{const ke=u||{};w=ke.index,l=ke.injector,h=ke.projectableNodes,p=ke.environmentInjector||ke.ngModuleRef}const I=_?s:new xt(Ft(s)),b=l||this.parentInjector;if(!p&&null==I.ngModule){const Ze=(_?b:this.parentInjector).get(yc,null);Ze&&(p=Ze)}Ft(I.componentType??{});const K=I.create(b,h,null,p);return this.insertImpl(K.hostView,w,false),K}insert(s,u){return this.insertImpl(s,u,!1)}insertImpl(s,u,l){const h=s._lView,p=h[Ke];if(function jd(i){return ci(i[wn])}(h)){const I=this.indexOf(s);if(-1!==I)this.detach(I);else{const b=h[wn],N=new DC(b,b[Br],b[wn]);N.detach(N.indexOf(s))}}const _=this._adjustIndex(u),w=this._lContainer;if(function vh(i,s,u,l){const h=ar+l,p=u.length;l>0&&(u[h-1][ai]=s),l<p-ar?(s[ai]=u[h],Yo(u,ar+l,s)):(u.push(s),s[ai]=null),s[wn]=u;const _=s[Ps];null!==_&&u!==_&&function Iv(i,s){const u=i[ls];s[Rn]!==s[wn][wn][Rn]&&(i[oo]=!0),null===u?i[ls]=[s]:u.push(s)}(_,s);const w=s[wi];null!==w&&w.insertView(i),s[Pt]|=128}(p,h,w,_),!l){const I=Th(_,w),b=h[Rt],N=et(b,w[Wr]);null!==N&&function Um(i,s,u,l,h,p){l[Vn]=h,l[Br]=s,Et(i,l,u,1,h,p)}(p,w[Br],b,h,N,I)}return s.attachToViewContainerRef(),Yo(md(w),_,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=AC(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),l=hu(this._lContainer,u);l&&(lu(md(this._lContainer),u),kp(l[Ke],l))}detach(s){const u=this._adjustIndex(s,-1),l=hu(this._lContainer,u);return l&&null!=lu(md(this._lContainer),u)?new ug(l):null}_adjustIndex(s,u=0){return s??this.length+u}};function AC(i){return i[Ei]}function md(i){return i[Ei]||(i[Ei]=[])}function vy(i,s){let u;const l=s[i.index];return ci(l)?u=l:(u=w_(l,s,null,i),s[i.index]=u,E_(s,u)),wy(u,s,i,l),new DC(u,i,s)}let wy=function Bg(i,s,u,l){if(i[Wr])return;let h;h=8&u.type?Tn(l):function xf(i,s){const u=i[Rt],l=u.createComment(""),h=jr(s,i);return x(u,et(u,h),l,function rt(i,s){return i.nextSibling(s)}(u,h),!1),l}(s,u),i[Wr]=h};class Ey{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ey(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const l=null!==s.contentQueries?s.contentQueries[0]:u.length,h=[];for(let p=0;p<l;p++){const _=u.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Hg(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==Bw(s,u).matches&&this.queries[u].setDirty()}}class Ty{constructor(s,u,l=null){this.predicate=s,this.flags=u,this.read=l}}class wa{constructor(s=[]){this.queries=s}elementStart(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let l=0;l<this.length;l++){const h=null!==u?u.length:0,p=this.getByIndex(l).embeddedTView(s,h);p&&(p.indexInDeclarationView=l,null!==u?u.push(p):u=[p])}return null!==u?new wa(u):null}template(s,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Iy{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new Iy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(s,u,Pb(u,p)),this.matchTNodeWithReadOption(s,u,tc(u,s,p,!1,!1))}else l===Vg?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,tc(u,s,l,!1,!1))}matchTNodeWithReadOption(s,u,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Hh||h===yy||h===Vg&&4&u.type)this.addMatch(u.index,-2);else{const p=tc(u,s,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,l)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function Pb(i,s){const u=i.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===s)return u[l+1];return null}function Lb(i,s,u,l){return-1===u?function Pw(i,s){return 11&i.type?mu(i,s):4&i.type?py(i,s):null}(s,i):-2===u?function Lw(i,s,u){return u===Hh?mu(s,i):u===Vg?py(s,i):u===yy?vy(s,i):void 0}(i,s,l):uo(i,i[Ke],u,s)}function bC(i,s,u,l){const h=s[wi].queries[l];if(null===h.matches){const p=i.data,_=u.matches,w=[];for(let I=0;I<_.length;I+=2){const b=_[I];w.push(b<0?null:Lb(s,p[b],_[I+1],u.metadata.read))}h.matches=w}return h.matches}function jg(i,s,u,l){const h=i.queries.getByIndex(u),p=h.matches;if(null!==p){const _=bC(i,s,h,u);for(let w=0;w<p.length;w+=2){const I=p[w];if(I>0)l.push(_[w/2]);else{const b=p[w+1],N=s[-I];for(let L=ar;L<N.length;L++){const $=N[L];$[Ps]===$[wn]&&jg($[Ke],$,b,l)}if(null!==N[ls]){const L=N[ls];for(let $=0;$<L.length;$++){const K=L[$];jg(K[Ke],K,b,l)}}}}}return l}function $g(i){const s=De(),u=zt(),l=Yd();Wu(l+1);const h=Bw(u,l);if(i.dirty&&function bm(i){return 4==(4&i[Pt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?jg(u,s,l,[]):bC(u,s,h,l);i.reset(p,$n),i.notifyOnChanges()}return!0}return!1}function Vw(i,s,u,l){const h=zt();if(h.firstCreatePass){const p=bn();(function MC(i,s,u){null===i.queries&&(i.queries=new wa),i.queries.track(new Iy(s,u))})(h,new Ty(s,u,l),p.index),function xC(i,s){const u=i.contentQueries||(i.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(i.queries.length-1,s)}(h,i),2==(2&u)&&(h.staticContentQueries=!0)}!function SC(i,s,u){const l=new hy(4==(4&u));(function VT(i,s,u,l){const h=og(s);h.push(u),i.firstCreatePass&&$T(i).push(l,h.length-1)})(i,s,l,l.destroy),null===s[wi]&&(s[wi]=new Hg),s[wi].queries.push(new Ey(l))}(h,De(),u)}function _d(){return function Uw(i,s){return i[wi].queries[s].queryList}(De(),Yd())}function Bw(i,s){return i.queries.getByIndex(s)}function Dy(i){return!!xr(i)}const Ry=new pn("Application Initializer");let Jw=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l}),this.appInits=qt(Ry,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const h of this.appInits){const p=h();if(fa(p))u.push(p);else if(A0(p)){const _=new Promise((w,I)=>{p.subscribe({complete:w,error:I})});u.push(_)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{l()}).catch(h=>{this.reject(h)}),0===u.length&&l(),this.initialized=!0}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Oy=(()=>{class i{log(u){console.log(u)}warn(u){console.warn(u)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Lf=new pn("LocaleId",{providedIn:"root",factory:()=>qt(Lf,qe.Optional|qe.SkipSelf)||function Su(){return typeof $localize<"u"&&$localize.locale||_a}()}),qb=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Py=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class zb{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let Qw=(()=>{class i{compileModuleSync(u){return new vw(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const l=this.compileModuleSync(u),p=ua(xr(u).declarations).reduce((_,w)=>{const I=Ft(w);return I&&_.push(new xt(I)),_},[]);return new zb(l,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Yb=(()=>Promise.resolve(0))();function eE(i){typeof Zone>"u"?Yb.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}function Fy(...i){}class _i{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ts(!1),this.onMicrotaskEmpty=new ts(!1),this.onStable=new ts(!1),this.onError=new ts(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&u,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Jb(){let i=rn.requestAnimationFrame,s=rn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Qb(i){const s=()=>{!function Kg(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(rn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Wg(i),i.isCheckStableRunning=!0,nE(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Wg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,h,p,_,w)=>{try{return rE(i),u.invokeTask(h,p,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),wd(i)}},onInvoke:(u,l,h,p,_,w,I)=>{try{return rE(i),u.invoke(h,p,_,w,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),wd(i)}},onHasTask:(u,l,h,p)=>{u.hasTask(h,p),l===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Wg(i),nE(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,l,h,p)=>(u.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_i.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(_i.isInAngularZone())throw new te(909,!1)}run(s,u,l){return this._inner.run(s,u,l)}runTask(s,u,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,s,tE,Fy,Fy);try{return p.runTask(_,u,l)}finally{p.cancelTask(_)}}runGuarded(s,u,l){return this._inner.runGuarded(s,u,l)}runOutsideAngular(s){return this._outer.run(s)}}const tE={};function nE(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Wg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function rE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function wd(i){i._nesting--,nE(i)}class eD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ts,this.onMicrotaskEmpty=new ts,this.onStable=new ts,this.onError=new ts}run(s,u,l){return s.apply(u,l)}runGuarded(s,u,l){return s.apply(u,l)}runOutsideAngular(s){return s()}runTask(s,u,l,h){return s.apply(u,l)}}const Yg=new pn("",{providedIn:"root",factory:tD});function tD(){const i=qt(_i);let s=!0;const u=new Q.y(h=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(s),h.complete()})}),l=new Q.y(h=>{let p;i.runOutsideAngular(()=>{p=i.onStable.subscribe(()=>{_i.assertNotInAngularZone(),eE(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const _=i.onUnstable.subscribe(()=>{_i.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),_.unsubscribe()}});return(0,ne.T)(u,l.pipe((0,fe.B)()))}const nD=new pn(""),rD=new pn("");let Qg,Xb=(()=>{class i{constructor(u,l,h){this._ngZone=u,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qg||(function iE(i){Qg=i}(h),h.addToWindow(l)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_i.assertNotInAngularZone(),eE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())eE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(u)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),u(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,l,h){return[]}}return i.\u0275fac=function(u){return new(u||i)(Qt(_i),Qt(Jg),Qt(rD))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})(),Jg=(()=>{class i{constructor(){this._applications=new Map}registerApplication(u,l){this._applications.set(u,l)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,l=!0){return Qg?.findTestabilityInTree(this,u,l)??null}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Ea=null;const oE=new pn("AllowMultipleToken"),Xg=new pn("PlatformDestroyListeners"),em=new pn("appBootstrapListener");class oD{constructor(s,u){this.name=s,this.token=u}}function uD(i,s,u=[]){const l=`Platform: ${s}`,h=new pn(l);return(p=[])=>{let _=uE();if(!_||_.injector.get(oE,!1)){const w=[...u,...p,{provide:h,useValue:!0}];i?i(w):function aE(i){if(Ea&&!Ea.get(oE,!1))throw new te(400,!1);(function sE(){!function Uu(i){Ha=i}(()=>{throw new te(600,!1)})})(),Ea=i;const s=i.get(cE);(function Ed(i){i.get(pT,null)?.forEach(u=>u())})(i)}(function cD(i=[],s){return _u.create({name:s,providers:[{provide:Hv,useValue:"platform"},{provide:Xg,useValue:new Set([()=>Ea=null])},...i]})}(w,l))}return function e1(i){const s=uE();if(!s)throw new te(401,!1);return s}()}}function uE(){return Ea?.get(cE)??null}let cE=(()=>{class i{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,l){const h=function n1(i="zone.js",s){return"noop"===i?new eD:"zone.js"===i?new _i(s):i}(l?.ngZone,function lD(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return h.run(()=>{const p=function sC(i,s,u){return new ry(i,s,u)}(u.moduleType,this.injector,function en(i){return[{provide:_i,useFactory:i},{provide:xh,multi:!0,useFactory:()=>{const s=qt(pD,{optional:!0});return()=>s.initialize()}},{provide:lE,useFactory:fD},{provide:Yg,useFactory:tD}]}(()=>h)),_=p.injector.get(Gl,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:I=>{_.handleError(I)}});p.onDestroy(()=>{tm(this._modules,p),w.unsubscribe()})}),function dD(i,s,u){try{const l=u();return fa(l)?l.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(_,h,()=>{const w=p.injector.get(Jw);return w.runInitializers(),w.donePromise.then(()=>(function iw(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(rw=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Lf,_a)||_a),this._moduleDoBootstrap(p),p))})})}bootstrapModule(u,l=[]){const h=hD({},l);return function Vy(i,s,u){const l=new vw(u);return Promise.resolve(l)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const l=u.injector.get(Td);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new te(-403,!1);u.instance.ngDoBootstrap(l)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const u=this._injector.get(Xg,null);u&&(u.forEach(l=>l()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(u){return new(u||i)(Qt(_u))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function hD(i,s){return Array.isArray(s)?s.reduce(hD,i):{...i,...s}}let Td=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=qt(lE),this.zoneIsStable=qt(Yg),this.componentTypes=[],this.components=[],this.isStable=qt(Py).hasPendingTasks.pipe((0,Re.z)(u=>u?(0,le.of)(!1):this.zoneIsStable),(0,de.x)(),(0,fe.B)()),this._injector=qt(yc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,l){const h=u instanceof wT;if(!this._injector.get(Jw).done)throw!h&&Bo(u),new te(405,!1);let _;_=h?u:this._injector.get(Xo).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const w=function Uy(i){return i.isBoundToModule}(_)?void 0:this._injector.get(gd),b=_.create(_u.NULL,[],l||_.selector,w),N=b.location.nativeElement,L=b.injector.get(nD,null);return L?.registerApplication(N),b.onDestroy(()=>{this.detachView(b.hostView),tm(this.components,b),L?.unregisterApplication(N)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const l=u;this._views.push(l),l.attachToAppRef(this)}detachView(u){const l=u;tm(this._views,l),l.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const l=this._injector.get(em,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>tm(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new te(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function tm(i,s){const u=i.indexOf(s);u>-1&&i.splice(u,1)}const lE=new pn("",{providedIn:"root",factory:()=>qt(Gl).handleError.bind(void 0)});function fD(){const i=qt(_i),s=qt(Gl);return u=>i.runOutsideAngular(()=>s.handleError(u))}let pD=(()=>{class i{constructor(){this.zone=qt(_i),this.applicationRef=qt(Td)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function mD(){return!1}let Ta=(()=>{class i{}return i.__NG_ELEMENT_ID__=_D,i})();function _D(i){return function i1(i,s,u){if(vo(i)&&!u){const l=ur(i.index,s);return new ug(l,l)}return 47&i.type?new ug(s[Rn],s):null}(bn(),De(),16==(16&i))}class ED{constructor(){}supports(s){return ho(s)}create(s){return new nm(s)}}const TD=(i,s)=>s;class nm{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||TD}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,l=this._removalsHead,h=0,p=null;for(;u||l;){const _=!l||u&&u.currentIndex<c1(l,h,p)?u:l,w=c1(_,h,p),I=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{p||(p=[]);const b=w-h,N=I-h;if(b!=N){for(let $=0;$<b;$++){const K=$<p.length?p[$]:p[$]=0,ye=K+$;N<=ye&&ye<b&&(p[$]=K+1)}p[_.previousIndex]=N-b}}w!==I&&s(_,w,I)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!ho(s))throw new te(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,_,u=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)p=s[w],_=this._trackByFn(w,p),null!==u&&Object.is(u.trackById,_)?(l&&(u=this._verifyReinsertion(u,p,_,w)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,_,w),l=!0),u=u._next}else h=0,function fg(i,s){if(Array.isArray(i))for(let u=0;u<i.length;u++)s(i[u]);else{const u=i[Symbol.iterator]();let l;for(;!(l=u.next()).done;)s(l.value)}}(s,w=>{_=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,_)?(l&&(u=this._verifyReinsertion(u,w,_,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,_,h),l=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,l,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,p,h)):s=this._addAfter(new u1(u,l),p,h),s}_verifyReinsertion(s,u,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,u,l),this._addToMoves(s,l),s}_moveAfter(s,u,l){return this._unlink(s),this._insertAfter(s,u,l),this._addToMoves(s,l),s}_addAfter(s,u,l){return this._insertAfter(s,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,l){const h=null===u?this._itHead:u._next;return s._next=h,s._prev=u,null===h?this._itTail=s:h._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ca),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,l=s._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ca),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class u1{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ia{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const u=s._prevDup,l=s._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class Ca{constructor(){this.map=new Map}put(s){const u=s.trackById;let l=this.map.get(u);l||(l=new Ia,this.map.set(u,l)),l.add(s)}get(s,u){const h=this.map.get(s);return h?h.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function c1(i,s,u){const l=i.previousIndex;if(null===l)return l;let h=0;return u&&l<u.length&&(h=u[l]),l+s+h}class Hc{constructor(){}supports(s){return s instanceof Map||la(s)}create(){return new $y}}class $y{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||la(s)))throw new te(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,l);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const l=s._prev;return u._next=s,u._prev=l,s._prev=u,l&&(l._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,u);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new l1(s);return this._records.set(s,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(l=>u(s[l],l))}}class l1{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ID(){return new Gy([new ED])}let Gy=(()=>{class i{constructor(u){this.factories=u}static create(u,l){if(null!=l){const h=l.factories.slice();u=u.concat(h)}return new i(u)}static extend(u){return{provide:i,useFactory:l=>i.create(u,l||ID()),deps:[[i,new li,new Hi]]}}find(u){const l=this.factories.find(h=>h.supports(u));if(null!=l)return l;throw new te(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:ID}),i})();function rm(){return new yE([new Hc])}let yE=(()=>{class i{constructor(u){this.factories=u}static create(u,l){if(l){const h=l.factories.slice();u=u.concat(h)}return new i(u)}static extend(u){return{provide:i,useFactory:l=>i.create(u,l||rm()),deps:[[i,new li,new Hi]]}}find(u){const l=this.factories.find(h=>h.supports(u));if(l)return l;throw new te(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:rm}),i})();const vE=uD(null,"core",[]);let f1=(()=>{class i{constructor(u){}}return i.\u0275fac=function(u){return new(u||i)(Qt(Td))},i.\u0275mod=_o({type:i}),i.\u0275inj=zn({}),i})();function _1(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function v1(i){const s=Ft(i);if(!s)return null;const u=new xt(s);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return s.standalone}}}},3942:(lt,Te,R)=>{R.d(Te,{Z:()=>Ye});var a=R(2090),q=R(4859),O=R(6881),Q=R(1877);class ne{constructor(Ge,Ne){this._delegate=Ge,this.firebase=Ne,(0,O._addComponent)(Ge,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ge,Ne=O._DEFAULT_ENTRY_NAME){var mt;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(Ge);return!dt.isInitialized()&&"EXPLICIT"===(null===(mt=dt.getComponent())||void 0===mt?void 0:mt.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:Ne})}_removeServiceInstance(Ge,Ne=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(Ne)}_addComponent(Ge){(0,O._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,O._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function de(){const Me=function Re(Me){const Ge={},Ne={__esModule:!0,initializeApp:function te(Ae,Fe={}){const ie=O.initializeApp(Ae,Fe);if((0,a.r3)(Ge,ie.name))return Ge[ie.name];const He=new Me(ie,Ne);return Ge[ie.name]=He,He},app:dt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function W(Ae){const Fe=Ae.name,ie=Fe.replace("-compat","");if(O._registerComponent(Ae)&&"PUBLIC"===Ae.type){const He=(jt=dt())=>{if("function"!=typeof jt[ie])throw fe.create("invalid-app-argument",{appName:Fe});return jt[ie]()};void 0!==Ae.serviceProps&&(0,a.ZB)(He,Ae.serviceProps),Ne[ie]=He,Me.prototype[ie]=function(...jt){return this._getService.bind(this,Fe).apply(this,Ae.multipleInstances?jt:[])}}return"PUBLIC"===Ae.type?Ne[ie]:null},removeApp:function mt(Ae){delete Ge[Ae]},useAsService:function he(Ae,Fe){return"serverAuth"===Fe?null:Fe},modularAPIs:O}};function dt(Ae){if(!(0,a.r3)(Ge,Ae=Ae||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Ae});return Ge[Ae]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function pe(){return Object.keys(Ge).map(Ae=>Ge[Ae])}}),dt.App=Me,Ne}(ne);return Me.INTERNAL=Object.assign(Object.assign({},Me.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function Ge(Ne){(0,a.ZB)(Me,Ne)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Me}(),Z=new Q.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Me=self.firebase.SDK_VERSION;Me&&Me.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=V;!function Ce(Me){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Me)}()},6881:(lt,Te,R)=>{R.r(Te),R.d(Te,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>os,_DEFAULT_ENTRY_NAME:()=>qe,_addComponent:()=>An,_addOrOverwriteComponent:()=>zr,_apps:()=>_t,_clearComponents:()=>an,_components:()=>ln,_getProvider:()=>pr,_registerComponent:()=>rn,_removeServiceInstance:()=>Ma,deleteApp:()=>gr,getApp:()=>ii,getApps:()=>eo,initializeApp:()=>xa,onLog:()=>to,registerVersion:()=>mn,setLogLevel:()=>Qt});var a=R(5861),q=R(4859),O=R(1877),Q=R(2090);const ne=(ue,ee)=>ee.some(xe=>ue instanceof xe);let le,fe;const V=new WeakMap,Z=new WeakMap,J=new WeakMap,Le=new WeakMap,Ce=new WeakMap;let Ge={get(ue,ee,xe){if(ue instanceof IDBTransaction){if("done"===ee)return Z.get(ue);if("objectStoreNames"===ee)return ue.objectStoreNames||J.get(ue);if("store"===ee)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return te(ue[ee])},set:(ue,ee,xe)=>(ue[ee]=xe,!0),has:(ue,ee)=>ue instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in ue};function dt(ue){return"function"==typeof ue?function mt(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...ee){return ue.apply(pe(this),ee),te(V.get(this))}:function(...ee){return te(ue.apply(pe(this),ee))}:function(ee,...xe){const ut=ue.call(pe(this),ee,...xe);return J.set(ut,ee.sort?ee.sort():[ee]),te(ut)}}(ue):(ue instanceof IDBTransaction&&function Me(ue){if(Z.has(ue))return;const ee=new Promise((xe,ut)=>{const St=()=>{ue.removeEventListener("complete",Lt),ue.removeEventListener("error",Yt),ue.removeEventListener("abort",Yt)},Lt=()=>{xe(),St()},Yt=()=>{ut(ue.error||new DOMException("AbortError","AbortError")),St()};ue.addEventListener("complete",Lt),ue.addEventListener("error",Yt),ue.addEventListener("abort",Yt)});Z.set(ue,ee)}(ue),ne(ue,function Re(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Ge):ue)}function te(ue){if(ue instanceof IDBRequest)return function Ye(ue){const ee=new Promise((xe,ut)=>{const St=()=>{ue.removeEventListener("success",Lt),ue.removeEventListener("error",Yt)},Lt=()=>{xe(te(ue.result)),St()},Yt=()=>{ut(ue.error),St()};ue.addEventListener("success",Lt),ue.addEventListener("error",Yt)});return ee.then(xe=>{xe instanceof IDBCursor&&V.set(xe,ue)}).catch(()=>{}),Ce.set(ee,ue),ee}(ue);if(Le.has(ue))return Le.get(ue);const ee=dt(ue);return ee!==ue&&(Le.set(ue,ee),Ce.set(ee,ue)),ee}const pe=ue=>Ce.get(ue),Ae=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],ie=new Map;function He(ue,ee){if(!(ue instanceof IDBDatabase)||ee in ue||"string"!=typeof ee)return;if(ie.get(ee))return ie.get(ee);const xe=ee.replace(/FromIndex$/,""),ut=ee!==xe,St=Fe.includes(xe);if(!(xe in(ut?IDBIndex:IDBObjectStore).prototype)||!St&&!Ae.includes(xe))return;const Lt=function(){var Yt=(0,a.Z)(function*(rr,...Wn){const mo=this.transaction(rr,St?"readwrite":"readonly");let ss=mo.store;return ut&&(ss=ss.index(Wn.shift())),(yield Promise.all([ss[xe](...Wn),St&&mo.done]))[0]});return function(Wn){return Yt.apply(this,arguments)}}();return ie.set(ee,Lt),Lt}!function Ne(ue){Ge=ue(Ge)}(ue=>({...ue,get:(ee,xe,ut)=>He(ee,xe)||ue.get(ee,xe,ut),has:(ee,xe)=>!!He(ee,xe)||ue.has(ee,xe)}));class jt{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function fr(ue){const ee=ue.getComponent();return"VERSION"===ee?.type}(xe)){const ut=xe.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(xe=>xe).join(" ")}}const Gr="@firebase/app",se=new O.Yd("@firebase/app"),qe="[DEFAULT]",ft={[Gr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,ln=new Map;function An(ue,ee){try{ue.container.addComponent(ee)}catch(xe){se.debug(`Component ${ee.name} failed to register with FirebaseApp ${ue.name}`,xe)}}function zr(ue,ee){ue.container.addOrOverwriteComponent(ee)}function rn(ue){const ee=ue.name;if(ln.has(ee))return se.debug(`There were multiple attempts to register component ${ee}.`),!1;ln.set(ee,ue);for(const xe of _t.values())An(xe,ue);return!0}function pr(ue,ee){const xe=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),ue.container.getProvider(ee)}function Ma(ue,ee,xe=qe){pr(ue,ee).clearInstance(xe)}function an(){ln.clear()}const Bt=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xi{constructor(ee,xe,ut){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const os="9.23.0";function xa(ue,ee={}){let xe=ue;"object"!=typeof ee&&(ee={name:ee});const ut=Object.assign({name:qe,automaticDataCollectionEnabled:!1},ee),St=ut.name;if("string"!=typeof St||!St)throw Bt.create("bad-app-name",{appName:String(St)});if(xe||(xe=(0,Q.aH)()),!xe)throw Bt.create("no-options");const Lt=_t.get(St);if(Lt){if((0,Q.vZ)(xe,Lt.options)&&(0,Q.vZ)(ut,Lt.config))return Lt;throw Bt.create("duplicate-app",{appName:St})}const Yt=new q.H0(St);for(const Wn of ln.values())Yt.addComponent(Wn);const rr=new Xi(xe,ut,Yt);return _t.set(St,rr),rr}function ii(ue=qe){const ee=_t.get(ue);if(!ee&&ue===qe&&(0,Q.aH)())return xa();if(!ee)throw Bt.create("no-app",{appName:ue});return ee}function eo(){return Array.from(_t.values())}function gr(ue){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(ue){const ee=ue.name;_t.has(ee)&&(_t.delete(ee),yield Promise.all(ue.container.getProviders().map(xe=>xe.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function mn(ue,ee,xe){var ut;let St=null!==(ut=ft[ue])&&void 0!==ut?ut:ue;xe&&(St+=`-${xe}`);const Lt=St.match(/\s|\//),Yt=ee.match(/\s|\//);if(Lt||Yt){const rr=[`Unable to register library "${St}" with version "${ee}":`];return Lt&&rr.push(`library name "${St}" contains illegal characters (whitespace or "/")`),Lt&&Yt&&rr.push("and"),Yt&&rr.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void se.warn(rr.join(" "))}rn(new q.wA(`${St}-version`,()=>({library:St,version:ee}),"VERSION"))}function to(ue,ee){if(null!==ue&&"function"!=typeof ue)throw Bt.create("invalid-log-argument");(0,O.Am)(ue,ee)}function Qt(ue){(0,O.Ub)(ue)}const no="firebase-heartbeat-database",qt=1,U="firebase-heartbeat-store";let F=null;function G(){return F||(F=function W(ue,ee,{blocked:xe,upgrade:ut,blocking:St,terminated:Lt}={}){const Yt=indexedDB.open(ue,ee),rr=te(Yt);return ut&&Yt.addEventListener("upgradeneeded",Wn=>{ut(te(Yt.result),Wn.oldVersion,Wn.newVersion,te(Yt.transaction),Wn)}),xe&&Yt.addEventListener("blocked",Wn=>xe(Wn.oldVersion,Wn.newVersion,Wn)),rr.then(Wn=>{Lt&&Wn.addEventListener("close",()=>Lt()),St&&Wn.addEventListener("versionchange",mo=>St(mo.oldVersion,mo.newVersion,mo))}).catch(()=>{}),rr}(no,qt,{upgrade:(ue,ee)=>{0===ee&&ue.createObjectStore(U)}}).catch(ue=>{throw Bt.create("idb-open",{originalErrorMessage:ue.message})})),F}function oe(){return(oe=(0,a.Z)(function*(ue){try{return yield(yield G()).transaction(U).objectStore(U).get(Nt(ue))}catch(ee){if(ee instanceof Q.ZR)se.warn(ee.message);else{const xe=Bt.create("idb-get",{originalErrorMessage:ee?.message});se.warn(xe.message)}}})).apply(this,arguments)}function nt(ue,ee){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(ue,ee){try{const ut=(yield G()).transaction(U,"readwrite");yield ut.objectStore(U).put(ee,Nt(ue)),yield ut.done}catch(xe){if(xe instanceof Q.ZR)se.warn(xe.message);else{const ut=Bt.create("idb-set",{originalErrorMessage:xe?.message});se.warn(ut.message)}}})).apply(this,arguments)}function Nt(ue){return`${ue.name}!${ue.options.appId}`}class Dt{constructor(ee){this.container=ee,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new yi(xe),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var ee=this;return(0,a.Z)(function*(){const ut=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=$t();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==St&&!ee._heartbeatsCache.heartbeats.some(Lt=>Lt.date===St))return ee._heartbeatsCache.heartbeats.push({date:St,agent:ut}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Lt=>{const Yt=new Date(Lt.date).valueOf();return Date.now()-Yt<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,a.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const xe=$t(),{heartbeatsToSend:ut,unsentEntries:St}=function mr(ue,ee=1024){const xe=[];let ut=ue.slice();for(const St of ue){const Lt=xe.find(Yt=>Yt.agent===St.agent);if(Lt){if(Lt.dates.push(St.date),ro(xe)>ee){Lt.dates.pop();break}}else if(xe.push({agent:St.agent,dates:[St.date]}),ro(xe)>ee){xe.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:xe,unsentEntries:ut}}(ee._heartbeatsCache.heartbeats),Lt=(0,Q.L)(JSON.stringify({version:2,heartbeats:ut}));return ee._heartbeatsCache.lastSentHeartbeatDate=xe,St.length>0?(ee._heartbeatsCache.heartbeats=St,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Lt})()}}function $t(){return(new Date).toISOString().substring(0,10)}class yi{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,Q.hl)()&&(0,Q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,a.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function ve(ue){return oe.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var xe=this;return(0,a.Z)(function*(){var ut;if(yield xe._canUseIndexedDBPromise){const Lt=yield xe.read();return nt(xe.app,{lastSentHeartbeatDate:null!==(ut=ee.lastSentHeartbeatDate)&&void 0!==ut?ut:Lt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var xe=this;return(0,a.Z)(function*(){var ut;if(yield xe._canUseIndexedDBPromise){const Lt=yield xe.read();return nt(xe.app,{lastSentHeartbeatDate:null!==(ut=ee.lastSentHeartbeatDate)&&void 0!==ut?ut:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...ee.heartbeats]})}})()}}function ro(ue){return(0,Q.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function oi(ue){rn(new q.wA("platform-logger",ee=>new jt(ee),"PRIVATE")),rn(new q.wA("heartbeat",ee=>new Dt(ee),"PRIVATE")),mn(Gr,"0.9.13",ue),mn(Gr,"0.9.13","esm2017"),mn("fire-js","")}("")},4859:(lt,Te,R)=>{R.d(Te,{H0:()=>Re,wA:()=>O});var a=R(5861),q=R(2090);class O{constructor(V,Z,J){this.name=V,this.instanceFactory=Z,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const Q="[DEFAULT]";class ne{constructor(V,Z){this.name=V,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const Z=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(Z)){const J=new q.BH;if(this.instancesDeferred.set(Z,J),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:Z});Le&&J.resolve(Le)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(V){var Z;const J=this.normalizeInstanceIdentifier(V?.identifier),Le=null!==(Z=V?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(Ce){if(Le)return null;throw Ce}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function fe(de){return"EAGER"===de.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[Z,J]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(Z);try{const Ce=this.getOrInitializeService({instanceIdentifier:Le});J.resolve(Ce)}catch{}}}}clearInstance(V=Q){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,a.Z)(function*(){const Z=Array.from(V.instances.values());yield Promise.all([...Z.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...Z.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=Q){return this.instances.has(V)}getOptions(V=Q){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:Z={}}=V,J=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:J,options:Z});for(const[Ce,Ye]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(Ce)&&Ye.resolve(Le);return Le}onInit(V,Z){var J;const Le=this.normalizeInstanceIdentifier(Z),Ce=null!==(J=this.onInitCallbacks.get(Le))&&void 0!==J?J:new Set;Ce.add(V),this.onInitCallbacks.set(Le,Ce);const Ye=this.instances.get(Le);return Ye&&V(Ye,Le),()=>{Ce.delete(V)}}invokeOnInitCallbacks(V,Z){const J=this.onInitCallbacks.get(Z);if(J)for(const Le of J)try{Le(V,Z)}catch{}}getOrInitializeService({instanceIdentifier:V,options:Z={}}){let J=this.instances.get(V);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(de=V,de===Q?void 0:de),options:Z}),this.instances.set(V,J),this.instancesOptions.set(V,Z),this.invokeOnInitCallbacks(J,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,J)}catch{}var de;return J||null}normalizeInstanceIdentifier(V=Q){return this.component?this.component.multipleInstances?V:Q:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const Z=this.getProvider(V.name);if(Z.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);Z.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const Z=new ne(V,this);return this.providers.set(V,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,Te,R)=>{R.d(Te,{Am:()=>de,Ub:()=>Re,Yd:()=>fe,in:()=>q});const a=[];var q=(()=>((q=q||{})[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",q))();const O={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},Q=q.INFO,ne={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},le=(V,Z,...J)=>{if(Z<V.logLevel)return;const Le=(new Date).toISOString(),Ce=ne[Z];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Ce](`[${Le}]  ${V.name}:`,...J)};class fe{constructor(Z){this.name=Z,this._logLevel=Q,this._logHandler=le,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in q))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?O[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...Z),this._logHandler(this,q.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...Z),this._logHandler(this,q.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,q.INFO,...Z),this._logHandler(this,q.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,q.WARN,...Z),this._logHandler(this,q.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...Z),this._logHandler(this,q.ERROR,...Z)}}function Re(V){a.forEach(Z=>{Z.setLogLevel(V)})}function de(V,Z){for(const J of a){let Le=null;Z&&Z.level&&(Le=O[Z.level]),J.userLogHandler=null===V?null:(Ce,Ye,...Me)=>{const Ge=Me.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Ye>=(Le??Ce.logLevel)&&V({level:q[Ye].toLowerCase(),message:Ge,args:Me,type:Ce.name})}}}},259:(lt,Te,R)=>{R.d(Te,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=R(6881);(0,a.registerVersion)("firebase","9.23.0","app")},9260:(lt,Te,R)=>{R.d(Te,{Z:()=>a.Z});var a=R(3942);a.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(lt,Te,R)=>{R.r(Te);var a=R(5861),q=R(3942),O=R(2090),Q=R(6881),ne=R(7582),le=R(1877),fe=R(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ye=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Me=function Ce(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),mt=new le.Yd("@firebase/auth");function te(y,...f){mt.logLevel<=le.in.ERROR&&mt.error(`Auth (${Q.SDK_VERSION}): ${y}`,...f)}function pe(y,...f){throw Fe(y,...f)}function W(y,...f){return Fe(y,...f)}function he(y,f,g){const v=Object.assign(Object.assign({},Me()),{[f]:g});return new O.LL("auth","Firebase",v).create(f,{appName:y.name})}function Ae(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&pe(y,"argument-error"),he(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fe(y,...f){if("string"!=typeof y){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return Ge.create(y,...f)}function ie(y,f,...g){if(!y)throw Fe(f,...g)}function He(y){const f="INTERNAL ASSERTION FAILED: "+y;throw te(f),new Error(f)}function jt(y,f){y||He(f)}function fr(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Gr(){return"http:"===Fo()||"https:"===Fo()}function Fo(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ee{constructor(f,g){this.shortDelay=f,this.longDelay=g,jt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gr()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Se(y,f){jt(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class je{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ve={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Tt=new Ee(3e4,6e4);function Xe(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Ut(y,f,g,v){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(y,f,g,v,A={}){return ht(y,A,(0,a.Z)(function*(){let x={},B={};v&&("GET"===f?B=v:x={body:JSON.stringify(v)});const Y=(0,O.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),be=yield y._getAdditionalHeaders();return be["Content-Type"]="application/json",y.languageCode&&(be["X-Firebase-Locale"]=y.languageCode),je.fetch()(Wt(y,y.config.apiHost,g,Y),Object.assign({method:f,headers:be,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ht(y,f,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(y,f,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},Ve),f);try{const A=new ti(y),x=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const B=yield x.json();if("needConfirmation"in B)throw zn(y,"account-exists-with-different-credential",B);if(x.ok&&!("errorMessage"in B))return B;{const Y=x.ok?B.errorMessage:B.error.message,[be,$e]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===be)throw zn(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===be)throw zn(y,"email-already-in-use",B);if("USER_DISABLED"===be)throw zn(y,"user-disabled",B);const et=v[be]||be.toLowerCase().replace(/[_\s]+/g,"-");if($e)throw he(y,et,$e);pe(y,et)}}catch(A){if(A instanceof O.ZR)throw A;pe(y,"network-request-failed",{message:String(A)})}})).apply(this,arguments)}function tn(y,f,g,v){return kn.apply(this,arguments)}function kn(){return(kn=(0,a.Z)(function*(y,f,g,v,A={}){const x=yield Ut(y,f,g,v,A);return"mfaPendingCredential"in x&&pe(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Wt(y,f,g,v){const A=`${f}${g}?${v}`;return y.config.emulator?Se(y.config,A):`${y.config.apiScheme}://${A}`}class ti{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(W(this.auth,"network-request-failed")),Tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(y,f,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const A=W(y,f,v);return A.customData._tokenResponse=g,A}function Kn(){return(Kn=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function is(){return(is=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ri(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function qe(){return(qe=(0,a.Z)(function*(y,f=!1){const g=(0,O.m9)(y),v=yield g.getIdToken(f),A=_t(v);ie(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const x="object"==typeof A.firebase?A.firebase:void 0,B=x?.sign_in_provider;return{claims:A,token:v,authTime:ri(ft(A.auth_time)),issuedAtTime:ri(ft(A.iat)),expirationTime:ri(ft(A.exp)),signInProvider:B||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function ft(y){return 1e3*Number(y)}function _t(y){const[f,g,v]=y.split(".");if(void 0===f||void 0===g||void 0===v)return te("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,O.tV)(g);return A?JSON.parse(A):(te("Failed to decode base64 JWT payload"),null)}catch(A){return te("Caught error parsing JWT payload as JSON",A?.toString()),null}}function An(y,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,a.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof O.ZR&&function rn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}class pr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Ma{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ri(this.lastLoginAt),this.creationTime=ri(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function an(y){return Mr.apply(this,arguments)}function Mr(){return Mr=(0,a.Z)(function*(y){var f;const g=y.auth,v=yield y.getIdToken(),A=yield An(y,function ba(y,f){return ni.apply(this,arguments)}(g,{idToken:v}));ie(A?.users.length,g,"internal-error");const x=A.users[0];y._notifyReloadListener(x);const B=null!==(f=x.providerUserInfo)&&void 0!==f&&f.length?function xa(y){return y.map(f=>{var{providerId:g}=f,v=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(x.providerUserInfo):[],Y=function os(y,f){return[...y.filter(v=>!f.some(A=>A.providerId===v.providerId)),...f]}(y.providerData,B),et=!!y.isAnonymous&&!(y.email&&x.passwordHash||Y?.length),rt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:Y,metadata:new Ma(x.createdAt,x.lastLoginAt),isAnonymous:et};Object.assign(y,rt)}),Mr.apply(this,arguments)}function Xi(){return(Xi=(0,a.Z)(function*(y){const f=(0,O.m9)(y);yield an(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function eo(){return(eo=(0,a.Z)(function*(y,f){const g=yield ht(y,{},(0,a.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:A,apiKey:x}=y.config,B=Wt(y,A,"/v1/token",`key=${x}`),Y=yield y._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",je.fetch()(B,{method:"POST",headers:Y,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(typeof f.idToken<"u","internal-error"),ie(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function ln(y){const f=_t(y);return ie(f,"internal-error"),ie(typeof f.exp<"u","internal-error"),ie(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,a.Z)(function*(){return ie(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,a.Z)(function*(){const{accessToken:A,refreshToken:x,expiresIn:B}=yield function ii(y,f){return eo.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(A,x,Number(B))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:A,expirationTime:x}=g,B=new gr;return v&&(ie("string"==typeof v,"internal-error",{appName:f}),B.refreshToken=v),A&&(ie("string"==typeof A,"internal-error",{appName:f}),B.accessToken=A),x&&(ie("number"==typeof x,"internal-error",{appName:f}),B.expirationTime=x),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new gr,this.toJSON())}_performRefresh(){return He("not implemented")}}function nr(y,f){ie("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class mn{constructor(f){var{uid:g,auth:v,stsTokenManager:A}=f,x=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Ma(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const v=yield An(g,g.stsTokenManager.getToken(g.auth,f));return ie(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function Sa(y){return qe.apply(this,arguments)}(this,f)}reload(){return function Bt(y){return Xi.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new mn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,a.Z)(function*(){let A=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),A=!0),g&&(yield an(v)),yield v.auth._persistUserIfCurrent(v),A&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield An(f,function qr(y,f){return Kn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,A,x,B,Y,be,$e,et;const rt=null!==(v=g.displayName)&&void 0!==v?v:void 0,On=null!==(A=g.email)&&void 0!==A?A:void 0,bo=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,wh=null!==(B=g.photoURL)&&void 0!==B?B:void 0,Rp=null!==(Y=g.tenantId)&&void 0!==Y?Y:void 0,Op=null!==(be=g._redirectEventId)&&void 0!==be?be:void 0,Eh=null!==($e=g.createdAt)&&void 0!==$e?$e:void 0,Pl=null!==(et=g.lastLoginAt)&&void 0!==et?et:void 0,{uid:Pp,emailVerified:Th,isAnonymous:Ih,providerData:Si,stsTokenManager:Ch}=g;ie(Pp&&Ch,f,"internal-error");const Et=gr.fromJSON(this.name,Ch);ie("string"==typeof Pp,f,"internal-error"),nr(rt,f.name),nr(On,f.name),ie("boolean"==typeof Th,f,"internal-error"),ie("boolean"==typeof Ih,f,"internal-error"),nr(bo,f.name),nr(wh,f.name),nr(Rp,f.name),nr(Op,f.name),nr(Eh,f.name),nr(Pl,f.name);const Ir=new mn({uid:Pp,auth:f,email:On,emailVerified:Th,displayName:rt,isAnonymous:Ih,photoURL:wh,phoneNumber:bo,tenantId:Rp,stsTokenManager:Et,createdAt:Eh,lastLoginAt:Pl});return Si&&Array.isArray(Si)&&(Ir.providerData=Si.map(gc=>Object.assign({},gc))),Op&&(Ir._redirectEventId=Op),Ir}static _fromIdTokenResponse(f,g,v=!1){return(0,a.Z)(function*(){const A=new gr;A.updateFromServerResponse(g);const x=new mn({uid:g.localId,auth:f,stsTokenManager:A,isAnonymous:v});return yield an(x),x})()}}const to=new Map;function Qt(y){jt(y instanceof Function,"Expected a class definition");let f=to.get(y);return f?(jt(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,to.set(y,f),f)}const qt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,v){var A=this;return(0,a.Z)(function*(){A.storage[g]=v})()}_get(g){var v=this;return(0,a.Z)(function*(){const A=v.storage[g];return void 0===A?null:A})()}_remove(g){var v=this;return(0,a.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function U(y,f,g){return`firebase:${y}:${f}:${g}`}class F{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:A,name:x}=this.auth;this.fullUserKey=U(this.userKey,A.apiKey,x),this.fullPersistenceKey=U("persistence",A.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?mn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,a.Z)(function*(){if(!g.length)return new F(Qt(qt),f,v);const A=(yield Promise.all(g.map(function(){var $e=(0,a.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return $e.apply(this,arguments)}}()))).filter($e=>$e);let x=A[0]||Qt(qt);const B=U(v,f.config.apiKey,f.name);let Y=null;for(const $e of g)try{const et=yield $e._get(B);if(et){const rt=mn._fromJSON(f,et);$e!==x&&(Y=rt),x=$e;break}}catch{}const be=A.filter($e=>$e._shouldAllowMigration);return x._shouldAllowMigration&&be.length?(x=be[0],Y&&(yield x._set(B,Y.toJSON())),yield Promise.all(g.map(function(){var $e=(0,a.Z)(function*(et){if(et!==x)try{yield et._remove(B)}catch{}});return function(et){return $e.apply(this,arguments)}}())),new F(x,f,v)):new F(x,f,v)})()}}function G(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(pt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ve(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(_n(f))return"Blackberry";if(dn(f))return"Webos";if(oe(f))return"Safari";if((f.includes("chrome/")||nt(f))&&!f.includes("edge/"))return"Chrome";if(Nt(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function ve(y=(0,O.z$)()){return/firefox\//i.test(y)}function oe(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function nt(y=(0,O.z$)()){return/crios\//i.test(y)}function pt(y=(0,O.z$)()){return/iemobile/i.test(y)}function Nt(y=(0,O.z$)()){return/android/i.test(y)}function _n(y=(0,O.z$)()){return/blackberry/i.test(y)}function dn(y=(0,O.z$)()){return/webos/i.test(y)}function Dt(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ro(y=(0,O.z$)()){return Dt(y)||Nt(y)||dn(y)||_n(y)||/windows phone/i.test(y)||pt(y)}function ue(y,f=[]){let g;switch(y){case"Browser":g=G((0,O.z$)());break;case"Worker":g=`${G((0,O.z$)())}-${y}`;break;default:g=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${Q.SDK_VERSION}/${v}`}function xe(){return(xe=(0,a.Z)(function*(y){return(yield Ut(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ut(y,f){return St.apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(y,f){return Ut(y,"GET","/v2/recaptchaConfig",Xe(y,f))})).apply(this,arguments)}function Lt(y){return void 0!==y&&void 0!==y.getResponse}function Yt(y){return void 0!==y&&void 0!==y.enterprise}class rr{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function mo(y){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=A=>{const x=W("internal-error");x.customData=A,g(x)},v.type="text/javascript",v.charset="UTF-8",function Wn(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function ss(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Md{constructor(f){this.type="recaptcha-enterprise",this.auth=Yn(f)}verify(f="verify",g=!1){var v=this;return(0,a.Z)(function*(){function x(){return x=(0,a.Z)(function*(Y){if(!g){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var be=(0,a.Z)(function*($e,et){ut(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const On=new rr(rt);return null==Y.tenantId?Y._agentRecaptchaConfig=On:Y._tenantRecaptchaConfigs[Y.tenantId]=On,$e(On.siteKey)}et(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{et(rt)})});return function($e,et){return be.apply(this,arguments)}}())}),x.apply(this,arguments)}function B(Y,be,$e){const et=window.grecaptcha;Yt(et)?et.enterprise.ready(()=>{et.enterprise.execute(Y,{action:f}).then(rt=>{be(rt)}).catch(()=>{be("NO_RECAPTCHA")})}):$e(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,be)=>{(function A(Y){return x.apply(this,arguments)})(v.auth).then($e=>{if(!g&&Yt(window.grecaptcha))B($e,Y,be);else{if(typeof window>"u")return void be(new Error("RecaptchaVerifier is only supported in browser"));mo("https://www.google.com/recaptcha/enterprise.js?render="+$e).then(()=>{B($e,Y,be)}).catch(et=>{be(et)})}}).catch($e=>{be($e)})})})()}}function vi(y,f,g){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,a.Z)(function*(y,f,g,v=!1){const A=new Md(y);let x;try{x=yield A.verify(g)}catch{x=yield A.verify(g,!0)}const B=Object.assign({},f);return Object.assign(B,v?{captchaResp:x}:{captchaResponse:x}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class ku{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const v=x=>new Promise((B,Y)=>{try{B(f(x))}catch(be){Y(be)}});v.onAbort=g,this.queue.push(v);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,a.Z)(function*(){if(g.auth.currentUser===f)return;const v=[];try{for(const A of g.queue)yield A(f),A.onAbort&&v.push(A.onAbort)}catch(A){v.reverse();for(const x of v)try{x()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:A?.message})}})()}}class xd{constructor(f,g,v,A){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=v,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uo(this),this.idTokenSubscription=new Uo(this),this.beforeStateQueue=new ku(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=Qt(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var A,x;if(!v._deleted&&(v.persistenceManager=yield F.create(v,f),!v._deleted)){if(null!==(A=v._popupRedirectResolver)&&void 0!==A&&A._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(x=v.currentUser)||void 0===x?void 0:x.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var v;const A=yield g.assertedPersistence.getCurrentUser();let x=A,B=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Y=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,be=x?._redirectEventId,$e=yield g.tryRedirectSignIn(f);(!Y||Y===be)&&$e?.user&&(x=$e.user,B=!0)}if(!x)return g.directlySetCurrentUser(null);if(!x._redirectEventId){if(B)try{yield g.beforeStateQueue.runMiddleware(x)}catch(Y){x=A,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Y))}return x?g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)}return ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){try{yield an(f)}catch(v){if("auth/network-request-failed"!==v?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function me(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const v=f?(0,O.m9)(f):null;return v&&ie(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f,g=!1){var v=this;return(0,a.Z)(function*(){if(!v._deleted)return f&&ie(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,a.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(Qt(f))}))}initializeRecaptchaConfig(){var f=this;return(0,a.Z)(function*(){const g=yield ut(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new rr(g);null==f.tenantId?f._agentRecaptchaConfig=v:f._tenantRecaptchaConfigs[f.tenantId]=v,v.emailPasswordEnabled&&new Md(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,a.Z)(function*(){const A=yield v.getOrInitRedirectPersistenceManager(g);return null===f?A.removeCurrentUser():A.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&Qt(f)||g._popupRedirectResolver;ie(v,g,"argument-error"),g.redirectPersistenceManager=yield F.create(g,[Qt(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var v,A;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,A){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),B=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(B,this,"internal-error"),B.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,v,A):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const A=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();A&&(v["X-Firebase-Client"]=A);const x=yield f._getAppCheckToken();return x&&(v["X-Firebase-AppCheck"]=x),v})()}_getAppCheckToken(){var f=this;return(0,a.Z)(function*(){var g;const v=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return v?.error&&function dt(y,...f){mt.logLevel<=le.in.WARN&&mt.warn(`Auth (${Q.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function Yn(y){return(0,O.m9)(y)}class Uo{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function kd(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class _o{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return He("not implemented")}_getIdTokenResponse(f){return He("not implemented")}_linkToIdToken(f,g){return He("not implemented")}_getReauthenticationResolver(f){return He("not implemented")}}function jf(y,f){return ka.apply(this,arguments)}function ka(){return(ka=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:resetPassword",Xe(y,f))})).apply(this,arguments)}function qc(y,f){return zc.apply(this,arguments)}function zc(){return(zc=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",Xe(y,f))})).apply(this,arguments)}function un(y,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithPassword",Xe(y,f))})).apply(this,arguments)}function xr(y,f){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:sendOobCode",Xe(y,f))})).apply(this,arguments)}function Os(){return(Os=(0,a.Z)(function*(y,f){return xr(y,f)})).apply(this,arguments)}function Ra(y,f){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,a.Z)(function*(y,f){return xr(y,f)})).apply(this,arguments)}function Vn(y,f){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(y,f){return xr(y,f)})).apply(this,arguments)}function wn(){return(wn=(0,a.Z)(function*(y,f){return xr(y,f)})).apply(this,arguments)}function Zo(){return(Zo=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,f))})).apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,f))})).apply(this,arguments)}class En extends _o{constructor(f,g,v,A=null){super("password",v),this._email=f,this._password=g,this._tenantId=A}static _fromEmailAndPassword(f,g){return new En(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new En(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){var v;switch(g.signInMethod){case"password":const A={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=f._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const x=yield vi(f,A,"signInWithPassword");return un(f,x)}return un(f,A).catch(function(){var x=(0,a.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Y=yield vi(f,A,"signInWithPassword");return un(f,Y)}return Promise.reject(B)});return function(B){return x.apply(this,arguments)}}());case"emailLink":return function ai(y,f){return Zo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:pe(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return qc(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Br(y,f){return us.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:pe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _r(y,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithIdp",Xe(y,f))})).apply(this,arguments)}class Kr extends _o{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Kr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):pe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A}=g,x=(0,ne._T)(g,["providerId","signInMethod"]);if(!v||!A)return null;const B=new Kr(v,A);return B.idToken=x.idToken||void 0,B.accessToken=x.accessToken||void 0,B.secret=x.secret,B.nonce=x.nonce,B.pendingToken=x.pendingToken||null,B}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,_r(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_r(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function io(){return(io=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:sendVerificationCode",Xe(y,f))})).apply(this,arguments)}function Ps(){return(Ps=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,f))})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(y,f){const g=yield tn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,f));if(g.temporaryProof)throw zn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ls={USER_NOT_FOUND:"user-not-found"};function ui(){return(ui=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ls)})).apply(this,arguments)}class Un extends _o{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Un({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Un({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Rn(y,f){return Ps.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Oa(y,f){return wi.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Pd(y,f){return ui.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:A}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:A}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:x}=f;return v||g||A||x?new Un({verificationId:g,verificationCode:v,phoneNumber:A,temporaryProof:x}):null}}class Zt{constructor(f){var g,v,A,x,B,Y;const be=(0,O.zd)((0,O.pd)(f)),$e=null!==(g=be.apiKey)&&void 0!==g?g:null,et=null!==(v=be.oobCode)&&void 0!==v?v:null,rt=function Wc(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=be.mode)&&void 0!==A?A:null);ie($e&&et&&rt,"argument-error"),this.apiKey=$e,this.operation=rt,this.code=et,this.continueUrl=null!==(x=be.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(B=be.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(Y=be.tenantId)&&void 0!==Y?Y:null}static parseLink(f){const g=function cs(y){const f=(0,O.zd)((0,O.pd)(y)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||g||f||y}(f);try{return new Zt(g)}catch{return null}}}let Pu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return En._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const A=Zt.parseLink(v);return ie(A,"argument-error"),En._fromEmailAndCode(g,A.code,A.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class oo{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wr extends oo{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ei extends Wr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),Kr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ie(f.idToken||f.accessToken,"argument-error"),Kr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ei.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ei.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:A,pendingToken:x,nonce:B,providerId:Y}=f;if(!v&&!A&&!g&&!x||!Y)return null;try{return new Ei(Y)._credential({idToken:g,accessToken:v,nonce:B,pendingToken:x})}catch{return null}}}let ls=(()=>{class y extends Wr{constructor(){super("facebook.com")}static credential(g){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ds=(()=>{class y extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:A}=g;if(!v&&!A)return null;try{return y.credential(v,A)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ar=(()=>{class y extends Wr{constructor(){super("github.com")}static credential(g){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Bn extends _o{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,_r(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_r(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:A,pendingToken:x}=g;return v&&A&&x&&v===A?new Bn(v,x):null}static _create(f,g){return new Bn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Fs extends oo{constructor(f){ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Fs.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Fs.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Bn.fromJSON(f);return ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return Bn._create(v,g)}catch{return null}}}let vo=(()=>{class y extends Wr{constructor(){super("twitter.com")}static credential(g,v){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:A}=g;if(!v||!A)return null;try{return y.credential(v,A)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function wo(y,f){return yr.apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signUp",Xe(y,f))})).apply(this,arguments)}class Nr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,A=!1){return(0,a.Z)(function*(){const x=yield mn._fromIdTokenResponse(f,v,A),B=hs(v);return new Nr({user:x,providerId:B,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const A=hs(v);return new Nr({user:f,providerId:A,_tokenResponse:v,operationType:g})})()}}function hs(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Yc(){return(Yc=(0,a.Z)(function*(y){var f;const g=Yn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Nr({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield wo(g,{returnSecureToken:!0}),A=yield Nr._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Pa extends O.ZR{constructor(f,g,v,A){var x;super(g.code,g.message),this.operationType=v,this.user=A,Object.setPrototypeOf(this,Pa.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,A){return new Pa(f,g,v,A)}}function $f(y,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Pa._fromErrorAndOperation(y,x,f,v):x})}function Gf(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function so(){return so=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y);yield La(!0,g,f);const{providerUserInfo:v}=yield function rs(y,f){return is.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),A=Gf(v||[]);return g.providerData=g.providerData.filter(x=>A.has(x.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),so.apply(this,arguments)}function Jc(y,f){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,a.Z)(function*(y,f,g=!1){const v=yield An(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return Nr._forOperation(y,"link",v)})).apply(this,arguments)}function La(y,f,g){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,a.Z)(function*(y,f,g){yield an(f);const A=!1===y?"provider-already-linked":"no-such-provider";ie(Gf(f.providerData).has(g)===y,f.auth,A)})).apply(this,arguments)}function qf(y,f){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,a.Z)(function*(y,f,g=!1){const{auth:v}=y,A="reauthenticate";try{const x=yield An(y,$f(v,A,f,y),g);ie(x.idToken,v,"internal-error");const B=_t(x.idToken);ie(B,v,"internal-error");const{sub:Y}=B;return ie(y.uid===Y,v,"user-mismatch"),Nr._forOperation(y,A,x)}catch(x){throw"auth/user-not-found"===x?.code&&pe(v,"user-mismatch"),x}})).apply(this,arguments)}function Fd(y,f){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,a.Z)(function*(y,f,g=!1){const v="signIn",A=yield $f(y,v,f),x=yield Nr._fromIdTokenResponse(y,v,A);return g||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Fa(y,f){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(y,f){return Fd(Yn(y),f)})).apply(this,arguments)}function Tm(y,f){return el.apply(this,arguments)}function el(){return(el=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y);return yield La(!1,g,f.providerId),Jc(g,f)})).apply(this,arguments)}function Zn(y,f){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,a.Z)(function*(y,f){return qf((0,O.m9)(y),f)})).apply(this,arguments)}function Im(){return(Im=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithCustomToken",Xe(y,f))})).apply(this,arguments)}function Pi(){return Pi=(0,a.Z)(function*(y,f){const g=Yn(y),v=yield function zf(y,f){return Im.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),A=yield Nr._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(A.user),A}),Pi.apply(this,arguments)}class Lu{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Ua._fromServerResponse(f,g):"totpInfo"in g?Ud._fromServerResponse(f,g):pe(f,"internal-error")}}class Ua extends Lu{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Ua(g)}}class Ud extends Lu{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Ud(g)}}function Ba(y,f,g){var v;ie((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),ie(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Zr(){return Zr=(0,a.Z)(function*(y,f,g){var v;const A=Yn(y),x={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=A._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const B=yield vi(A,x,"getOobCode",!0);g&&Ba(A,B,g),yield Ra(A,B)}else g&&Ba(A,x,g),yield Ra(A,x).catch(function(){var B=(0,a.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const be=yield vi(A,x,"getOobCode",!0);g&&Ba(A,be,g),yield Ra(A,be)}});return function(Y){return B.apply(this,arguments)}}())}),Zr.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(y,f,g){yield jf((0,O.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ti(){return Ti=(0,a.Z)(function*(y,f){yield function Ft(y,f){return sr.apply(this,arguments)}((0,O.m9)(y),{oobCode:f})}),Ti.apply(this,arguments)}function Za(y,f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y),v=yield jf(g,{oobCode:f}),A=v.requestType;switch(ie(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(v.mfaInfo,g,"internal-error");default:ie(v.email,g,"internal-error")}let x=null;return v.mfaInfo&&(x=Lu._fromServerResponse(Yn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:x},operation:A}})).apply(this,arguments)}function Bs(){return(Bs=(0,a.Z)(function*(y,f){const{data:g}=yield Za((0,O.m9)(y),f);return g.email})).apply(this,arguments)}function Ha(){return Ha=(0,a.Z)(function*(y,f,g){var v;const A=Yn(y),x={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(v=A._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const $e=yield vi(A,x,"signUpPassword");B=wo(A,$e)}else B=wo(A,x).catch(function(){var $e=(0,a.Z)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rt=yield vi(A,x,"signUpPassword");return wo(A,rt)}return Promise.reject(et)});return function(et){return $e.apply(this,arguments)}}());const Y=yield B.catch($e=>Promise.reject($e)),be=yield Nr._fromIdTokenResponse(A,"signIn",Y);return yield A._updateCurrentUser(be.user),be}),Ha.apply(this,arguments)}function fs(){return fs=(0,a.Z)(function*(y,f,g){var v;const A=Yn(y),x={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(Y,be){ie(be.handleCodeInApp,A,"argument-error"),be&&Ba(A,Y,be)}if(null!==(v=A._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Y=yield vi(A,x,"getOobCode",!0);B(Y,g),yield Vn(A,Y)}else B(x,g),yield Vn(A,x).catch(function(){var Y=(0,a.Z)(function*(be){if("auth/missing-recaptcha-token"!==be.code)return Promise.reject(be);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const $e=yield vi(A,x,"getOobCode",!0);B($e,g),yield Vn(A,$e)}});return function(be){return Y.apply(this,arguments)}}())}),fs.apply(this,arguments)}function Wf(){return(Wf=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y),A=Pu.credentialWithLink(f,g||fr());return ie(A._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Fa(v,A)})).apply(this,arguments)}function nl(){return(nl=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:createAuthUri",Xe(y,f))})).apply(this,arguments)}function rl(){return rl=(0,a.Z)(function*(y,f){const v={identifier:f,continueUri:Gr()?fr():"http://localhost"},{signinMethods:A}=yield function Bd(y,f){return nl.apply(this,arguments)}((0,O.m9)(y),v);return A||[]}),rl.apply(this,arguments)}function ja(){return ja=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y),A={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Ba(g.auth,A,f);const{email:x}=yield function Kc(y,f){return Os.apply(this,arguments)}(g.auth,A);x!==y.email&&(yield y.reload())}),ja.apply(this,arguments)}function Zu(){return Zu=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&Ba(v.auth,x,g);const{email:B}=yield function Pt(y,f){return wn.apply(this,arguments)}(v.auth,x);B!==y.email&&(yield y.reload())}),Zu.apply(this,arguments)}function Hu(){return(Hu=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Zs(){return Zs=(0,a.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,O.m9)(y),x={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},B=yield An(v,function ol(y,f){return Hu.apply(this,arguments)}(v.auth,x));v.displayName=B.displayName||null,v.photoURL=B.photoUrl||null;const Y=v.providerData.find(({providerId:be})=>"password"===be);Y&&(Y.displayName=v.displayName,Y.photoURL=v.photoURL),yield v._updateTokensIfNecessary(B)}),Zs.apply(this,arguments)}function Hd(y,f,g){return $a.apply(this,arguments)}function $a(){return($a=(0,a.Z)(function*(y,f,g){const{auth:v}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const B=yield An(y,qc(v,x));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class ps{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class ju extends ps{constructor(f,g,v,A){super(f,g,v),this.username=A}}class jr extends ps{constructor(f,g){super(f,"facebook.com",g)}}class $u extends ju{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class sl extends ps{constructor(f,g){super(f,"google.com",g)}}class jo extends ju{constructor(f,g,v){super(f,"twitter.com",g,v)}}function ur(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Tn(y){var f,g;if(!y)return null;const{providerId:v}=y,A=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&y?.idToken){const B=null===(g=null===(f=_t(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(B)return new ps(x,"anonymous"!==B&&"custom"!==B?B:null)}if(!v)return null;switch(v){case"facebook.com":return new jr(x,A);case"github.com":return new $u(x,A);case"google.com":return new sl(x,A);case"twitter.com":return new jo(x,A,y.screenName||null);case"custom":case"anonymous":return new ps(x,null);default:return new ps(x,v,A)}}(g)}class gt{constructor(f,g,v){this.type=f,this.credential=g,this.auth=v}static _fromIdtoken(f,g){return new gt("enroll",f,g)}static _fromMfaPendingCredential(f){return new gt("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return gt._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return gt._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Go{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=Yn(f),A=g.customData._serverResponse,x=(A.mfaInfo||[]).map(Y=>Lu._fromServerResponse(v,Y));ie(A.mfaPendingCredential,v,"internal-error");const B=gt._fromMfaPendingCredential(A.mfaPendingCredential);return new Go(B,x,function(){var Y=(0,a.Z)(function*(be){const $e=yield be._process(v,B);delete A.mfaInfo,delete A.mfaPendingCredential;const et=Object.assign(Object.assign({},A),{idToken:$e.idToken,refreshToken:$e.refreshToken});switch(g.operationType){case"signIn":const rt=yield Nr._fromIdTokenResponse(v,g.operationType,et);return yield v._updateCurrentUser(rt.user),rt;case"reauthenticate":return ie(g.user,v,"internal-error"),Nr._forOperation(g.user,g.operationType,et);default:pe(v,"internal-error")}});return function(be){return Y.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}class Ga{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>Lu._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new Ga(f)}getSession(){var f=this;return(0,a.Z)(function*(){return gt._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var v=this;return(0,a.Z)(function*(){const A=f,x=yield v.getSession(),B=yield An(v.user,A._process(v.user.auth,x,g));return yield v.user._updateTokensIfNecessary(B),v.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){const v="string"==typeof f?f:f.uid,A=yield g.user.getIdToken();try{const x=yield An(g.user,function $s(y,f){return Ut(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(y,f))}(g.user.auth,{idToken:A,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:B})=>B!==v),yield g.user._updateTokensIfNecessary(x),yield g.user.reload()}catch(x){throw x}})()}}const qa=new WeakMap,Gs="__sak";class Kd{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Gs,"1"),this.storage.removeItem(Gs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const bn=(()=>{class y extends Kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function De(){const y=(0,O.z$)();return oe(y)||Dt(y)}()&&function oi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ro(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const A=this.storage.getItem(v),x=this.localCache[v];A!==x&&g(v,x,A)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((Y,be,$e)=>{this.notifyListeners(Y,$e)});const A=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(A);if(g.newValue!==Y)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!v)return}const x=()=>{const Y=this.storage.getItem(A);!v&&this.localCache[A]===Y||this.notifyListeners(A,Y)},B=this.storage.getItem(A);!function yi(){return(0,O.w1)()&&10===document.documentMode}()||B===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const x of Array.from(A))x(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var A=()=>super._set,x=this;return(0,a.Z)(function*(){yield A().call(x,g,v),x.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,A=this;return(0,a.Z)(function*(){const x=yield v().call(A,g);return A.localCache[g]=JSON.stringify(x),x})()}_remove(g){var v=()=>super._remove,A=this;return(0,a.Z)(function*(){yield v().call(A,g),delete A.localCache[g]})()}}return y.type="LOCAL",y})(),Ii=(()=>{class y extends Kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let za=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(x=>x.isListeningto(g));if(v)return v;const A=new y(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,a.Z)(function*(){const A=g,{eventId:x,eventType:B,data:Y}=A.data,be=v.handlersMap[B];if(!be?.size)return;A.ports[0].postMessage({status:"ack",eventId:x,eventType:B});const $e=Array.from(be).map(function(){var rt=(0,a.Z)(function*(On){return On(A.origin,Y)});return function(On){return rt.apply(this,arguments)}}()),et=yield function To(y){return Promise.all(y.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}($e);A.ports[0].postMessage({status:"done",eventId:x,eventType:B,response:et})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function qs(y="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return y+g}class pv{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var A=this;return(0,a.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let B,Y;return new Promise((be,$e)=>{const et=qs("",20);x.port1.start();const rt=setTimeout(()=>{$e(new Error("unsupported_event"))},v);Y={messageChannel:x,onMessage(On){const bo=On;if(bo.data.eventId===et)switch(bo.data.status){case"ack":clearTimeout(rt),B=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),be(bo.data.response);break;default:clearTimeout(rt),clearTimeout(B),$e(new Error("invalid_response"))}}},A.handlers.add(Y),x.port1.addEventListener("message",Y.onMessage),A.target.postMessage({eventType:f,eventId:et,data:g},[x.port2])}).finally(()=>{Y&&A.removeMessageHandler(Y)})})()}}function Hn(){return window}function kr(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function zu(){return(zu=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Wd="firebaseLocalStorageDb",Ka="firebaseLocalStorage",Ku="fbase_key";class gs{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Wa(y,f){return y.transaction([Ka],f?"readwrite":"readonly").objectStore(Ka)}function Wu(){const y=indexedDB.open(Wd,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(Ka,{keyPath:Ku})}catch(A){g(A)}}),y.addEventListener("success",(0,a.Z)(function*(){const v=y.result;v.objectStoreNames.contains(Ka)?f(v):(v.close(),yield function Yd(){const y=indexedDB.deleteDatabase(Wd);return new gs(y).toPromise()}(),f(yield Wu()))}))})}function Yu(y,f,g){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(y,f,g){const v=Wa(y,!0).put({[Ku]:f,value:g});return new gs(v).toPromise()})).apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(y,f){const g=Wa(y,!1).get(f),v=yield new gs(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function pl(y,f){const g=Wa(y,!0).delete(f);return new gs(g).toPromise()}const Ja=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Wu()),g.db})()}_withRetries(g){var v=this;return(0,a.Z)(function*(){let A=0;for(;;)try{const x=yield v._openDb();return yield g(x)}catch(x){if(A++>3)throw x;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return kr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=za._getInstance(function hn(){return kr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,a.Z)(function*(A,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(A,x){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,a.Z)(function*(A,x){return["keyChanged"]});return function(A,x){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var v,A;if(g.activeServiceWorker=yield function Io(){return zu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new pv(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);x&&null!==(v=x[0])&&void 0!==v&&v.fulfilled&&null!==(A=x[0])&&void 0!==A&&A.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,a.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function qo(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Wu();return yield Yu(g,Gs,"1"),yield pl(g,Gs),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,a.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(x=>Yu(x,g,v)),A.localCache[g]=v,A.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,a.Z)(function*(){const A=yield v._withRetries(x=>function zs(y,f){return Fi.apply(this,arguments)}(x,g));return v.localCache[g]=A,A})()}_remove(g){var v=this;return(0,a.Z)(function*(){return v._withPendingWrite((0,a.Z)(function*(){return yield v._withRetries(A=>pl(A,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const v=yield g._withRetries(B=>{const Y=Wa(B,!1).getAll();return new gs(Y).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const A=[],x=new Set;for(const{fbase_key:B,value:Y}of v)x.add(B),JSON.stringify(g.localCache[B])!==JSON.stringify(Y)&&(g.notifyListeners(B,Y),A.push(B));for(const B of Object.keys(g.localCache))g.localCache[B]&&!x.has(B)&&(g.notifyListeners(B,null),A.push(B));return A})()}notifyListeners(g,v){this.localCache[g]=v;const A=this.listeners[g];if(A)for(const x of Array.from(A))x(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Qa=1e12;class ep{constructor(f){this.auth=f,this.counter=Qa,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new Qd(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||Qa;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Qa))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var v;return null===(v=g._widgets.get(f||Qa))||void 0===v||v.execute(),""})()}}class Qd{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof f?document.getElementById(f):f;ie(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function tp(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ml=ss("rcb"),_l=new Ee(3e4,6e4);class Xd{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Hn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return ie(function Xa(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Lt(Hn().grecaptcha)?Promise.resolve(Hn().grecaptcha):new Promise((v,A)=>{const x=Hn().setTimeout(()=>{A(W(f,"network-request-failed"))},_l.get());Hn()[ml]=()=>{Hn().clearTimeout(x),delete Hn()[ml];const Y=Hn().grecaptcha;if(!Y||!Lt(Y))return void A(W(f,"internal-error"));const be=Y.render;Y.render=($e,et)=>{const rt=be($e,et);return this.counter++,rt},this.hostLanguage=g,v(Y)},mo(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:ml,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),A(W(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Hn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yl{load(f){return(0,a.Z)(function*(){return new ep(f)})()}clearedOneInstance(){}}const Ks="recaptcha",eh={theme:"light",type:"image"};class vl{constructor(f,g=Object.assign({},eh),v){this.parameters=g,this.type=Ks,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(v),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof f?document.getElementById(f):f;ie(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yl:new Xd,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(x=>{const B=Y=>{Y&&(f.tokenChangeListeners.delete(B),x(Y))};f.tokenChangeListeners.add(B),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=Hn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){ie(Gr()&&!kr(),f.auth,"internal-error"),yield function np(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function ee(y){return xe.apply(this,arguments)}(f.auth);ie(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qu{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Un._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function vr(){return(vr=(0,a.Z)(function*(y,f,g){const v=Yn(y),A=yield Ws(v,f,(0,O.m9)(g));return new Qu(A,x=>Fa(v,x))})).apply(this,arguments)}function Xu(){return(Xu=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);yield La(!1,v,"phone");const A=yield Ws(v.auth,f,(0,O.m9)(g));return new Qu(A,x=>Tm(v,x))})).apply(this,arguments)}function wl(){return(wl=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y),A=yield Ws(v.auth,f,(0,O.m9)(g));return new Qu(A,x=>Zn(v,x))})).apply(this,arguments)}function Ws(y,f,g){return El.apply(this,arguments)}function El(){return El=(0,a.Z)(function*(y,f,g){var v;const A=yield g.verify();try{let x;if(ie("string"==typeof A,y,"argument-error"),ie(g.type===Ks,y,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const B=x.session;if("phoneNumber"in x)return ie("enroll"===B.type,y,"internal-error"),(yield function ll(y,f){return Ut(y,"POST","/v2/accounts/mfaEnrollment:start",Xe(y,f))}(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{ie("signin"===B.type,y,"internal-error");const Y=(null===(v=x.multiFactorHint)||void 0===v?void 0:v.uid)||x.multiFactorUid;return ie(Y,y,"missing-multi-factor-info"),(yield function Xf(y,f){return Ut(y,"POST","/v2/accounts/mfaSignIn:start",Xe(y,f))}(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function Od(y,f){return io.apply(this,arguments)}(y,{phoneNumber:x.phoneNumber,recaptchaToken:A});return B}}finally{g._reset()}}),El.apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(y,f){yield Jc((0,O.m9)(y),f)})).apply(this,arguments)}let jn=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Yn(g)}verifyPhoneNumber(g,v){return Ws(this.auth,g,(0,O.m9)(v))}static credential(g,v){return Un._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:A}=g;return v&&A?Un._fromTokenResponse(v,A):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function At(y,f){return f?Qt(f):(ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ci extends _o{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _r(f,this._buildIdpRequest())}_linkToIdToken(f,g){return _r(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return _r(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function nu(y){return Fd(y.auth,new Ci(y),y.bypassAuthState)}function ru(y){const{auth:f,user:g}=y;return ie(g,f,"internal-error"),qf(g,new Ci(y),y.bypassAuthState)}function zo(y){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,a.Z)(function*(y){const{auth:f,user:g}=y;return ie(g,f,"internal-error"),Jc(g,new Ci(y),y.bypassAuthState)})).apply(this,arguments)}class iu{constructor(f,g,v,A,x=!1){this.auth=f,this.resolver=v,this.user=A,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(v,A){f.pendingPromise={resolve:v,reject:A};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(v,A){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:v,sessionId:A,postBody:x,tenantId:B,error:Y,type:be}=f;if(Y)return void g.reject(Y);const $e={auth:g.auth,requestUri:v,sessionId:A,tenantId:B||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(be)($e))}catch(et){g.reject(et)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return nu;case"linkViaPopup":case"linkViaRedirect":return zo;case"reauthViaPopup":case"reauthViaRedirect":return ru;default:pe(this.auth,"internal-error")}}resolve(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wr=new Ee(2e3,1e4);function Vi(){return(Vi=(0,a.Z)(function*(y,f,g){const v=Yn(y);Ae(y,f,oo);const A=At(v,g);return new Co(v,"signInViaPopup",f,A).executeNotNull()})).apply(this,arguments)}function Js(){return(Js=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);Ae(v.auth,f,oo);const A=At(v.auth,g);return new Co(v.auth,"reauthViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}function ec(){return(ec=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);Ae(v.auth,f,oo);const A=At(v.auth,g);return new Co(v.auth,"linkViaPopup",f,A,v).executeNotNull()})).apply(this,arguments)}let Co=(()=>{class y extends iu{constructor(g,v,A,x,B){super(g,v,x,B),this.provider=A,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const v=yield g.execute();return ie(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,a.Z)(function*(){jt(1===g.filter.length,"Popup operations only handle one event");const v=qs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(W(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(W(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,A;this.pollId=null!==(A=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==A&&A.closed?window.setTimeout(()=>{this.pollId=null,this.reject(W(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,wr.get())};g()}}return y.currentPopupAction=null,y})();const Ai="pendingRedirect",ou=new Map;class Or extends iu{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let v=ou.get(g.auth._key());if(!v){try{const x=(yield function Ui(y,f){return Il.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(x)}catch(A){v=()=>Promise.reject(A)}ou.set(g.auth._key(),v)}return g.bypassAuthState||ou.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const A=yield v.auth._redirectUserForId(f.eventId);if(A)return v.user=A,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Il(){return(Il=(0,a.Z)(function*(y,f){const g=su(f),v=ih(y);if(!(yield v._isAvailable()))return!1;const A="true"===(yield v._get(g));return yield v._remove(g),A})).apply(this,arguments)}function rh(y,f){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(y,f){return ih(y)._set(su(f),"true")})).apply(this,arguments)}function uo(y,f){ou.set(y._key(),f)}function ih(y){return Qt(y._redirectPersistence)}function su(y){return U(Ai,y.config.apiKey,y.name)}function nc(y,f,g){return function _s(y,f,g){return rc.apply(this,arguments)}(y,f,g)}function rc(){return(rc=(0,a.Z)(function*(y,f,g){const v=Yn(y);Ae(y,f,oo),yield v._initializationPromise;const A=At(v,g);return yield rh(A,v),A._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function au(y,f,g){return function ic(y,f,g){return oc.apply(this,arguments)}(y,f,g)}function oc(){return(oc=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);Ae(v.auth,f,oo),yield v.auth._initializationPromise;const A=At(v.auth,g);yield rh(A,v.auth);const x=yield Bi(v);return A._openRedirect(v.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Dl(y,f,g){return function Al(y,f,g){return Ko.apply(this,arguments)}(y,f,g)}function Ko(){return(Ko=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);Ae(v.auth,f,oo),yield v.auth._initializationPromise;const A=At(v.auth,g);yield La(!1,v,f.providerId),yield rh(A,v.auth);const x=yield Bi(v);return A._openRedirect(v.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(y,f){return yield Yn(y)._initializationPromise,vs(y,f,!1)})).apply(this,arguments)}function vs(y,f){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,a.Z)(function*(y,f,g=!1){const v=Yn(y),A=At(v,f),B=yield new Or(v,A,g).execute();return B&&!g&&(delete B.user._redirectEventId,yield v._persistUserIfCurrent(B.user),yield v._setRedirectUser(null,f)),B})).apply(this,arguments)}function Bi(y){return uu.apply(this,arguments)}function uu(){return(uu=(0,a.Z)(function*(y){const f=qs(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class ac{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function bl(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xs(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!Xs(f)){const A=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(W(this.auth,A))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cu(f))}saveEventToCache(f){this.cachedEventUids.add(cu(f)),this.lastProcessedEventTime=Date.now()}}function cu(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Xs({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function ip(y){return oh.apply(this,arguments)}function oh(){return(oh=(0,a.Z)(function*(y,f={}){return Ut(y,"GET","/v1/projects",f)})).apply(this,arguments)}const cr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ws=/^https?/;function In(){return(In=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield ip(y);for(const g of f)try{if(sp(g))return}catch{}pe(y,"unauthorized-domain")})).apply(this,arguments)}function sp(y){const f=fr(),{protocol:g,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&B.hostname===v}if(!ws.test(g))return!1;if(cr.test(y))return v===y;const A=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(v)}const Wo=new Ee(3e4,6e4);function Sl(){const y=Hn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Zi=null;const lu=new Ee(5e3,15e3),uc="__/auth/iframe",ap="emulator/auth/iframe",gv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WE(y){const f=y.config;ie(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Se(f,ap):`https://${y.config.authDomain}/${uc}`,v={apiKey:f.apiKey,appName:y.name,v:Q.SDK_VERSION},A=Mm.get(y.config.apiHost);A&&(v.eid=A);const x=y._getFrameworks();return x.length&&(v.fw=x.join(",")),`${g}?${(0,O.xO)(v).slice(1)}`}function C(){return C=(0,a.Z)(function*(y){const f=yield function Yo(y){return Zi=Zi||function Qn(y){return new Promise((f,g)=>{var v,A,x;function B(){Sl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Sl(),g(W(y,"network-request-failed"))},timeout:Wo.get()})}if(null!==(A=null===(v=Hn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==A&&A.Iframe)f(gapi.iframes.getContext());else{if(null===(x=Hn().gapi)||void 0===x||!x.load){const Y=ss("iframefcb");return Hn()[Y]=()=>{gapi.load?B():g(W(y,"network-request-failed"))},mo(`https://apis.google.com/js/api.js?onload=${Y}`).catch(be=>g(be))}B()}}).catch(f=>{throw Zi=null,f})}(y),Zi}(y),g=Hn().gapi;return ie(g,y,"internal-error"),f.open({where:document.body,url:WE(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gv,dontclear:!0},v=>new Promise(function(){var A=(0,a.Z)(function*(x,B){yield v.restyle({setHideOnLeave:!1});const Y=W(y,"network-request-failed"),be=Hn().setTimeout(()=>{B(Y)},lu.get());function $e(){Hn().clearTimeout(be),x(v)}v.ping($e).then($e,()=>{B(Y)})});return function(x,B){return A.apply(this,arguments)}}()))}),C.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ze{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const It="__/auth/handler",Ct="emulator/auth/handler",Er=encodeURIComponent("fac");function ir(y,f,g,v,A,x){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,a.Z)(function*(y,f,g,v,A,x){ie(y.config.authDomain,y,"auth-domain-config-required"),ie(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:Q.SDK_VERSION,eventId:A};if(f instanceof oo){f.setDefaultLanguage(y.languageCode),B.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[et,rt]of Object.entries(x||{}))B[et]=rt}if(f instanceof Wr){const et=f.getScopes().filter(rt=>""!==rt);et.length>0&&(B.scopes=et.join(","))}y.tenantId&&(B.tid=y.tenantId);const Y=B;for(const et of Object.keys(Y))void 0===Y[et]&&delete Y[et];const be=yield y._getAppCheckToken(),$e=be?`#${Er}=${encodeURIComponent(be)}`:"";return`${function Ml({config:y}){return y.emulator?Se(y,Ct):`https://${y.authDomain}/${It}`}(y)}?${(0,O.xO)(Y).slice(1)}${$e}`})).apply(this,arguments)}const li="webStorageSupport",ji=class bi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ii,this._completeRedirectFn=vs,this._overrideRedirectResult=uo}_openPopup(f,g,v,A){var x=this;return(0,a.Z)(function*(){var B;jt(null===(B=x.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Y=yield ir(f,g,v,fr(),A);return function Be(y,f,g,v=500,A=600){const x=Math.max((window.screen.availHeight-A)/2,0).toString(),B=Math.max((window.screen.availWidth-v)/2,0).toString();let Y="";const be=Object.assign(Object.assign({},M),{width:v.toString(),height:A.toString(),top:x,left:B}),$e=(0,O.z$)().toLowerCase();g&&(Y=nt($e)?"_blank":g),ve($e)&&(f=f||"http://localhost",be.scrollbars="yes");const et=Object.entries(be).reduce((On,[bo,wh])=>`${On}${bo}=${wh},`,"");if(function mr(y=(0,O.z$)()){var f;return Dt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}($e)&&"_self"!==Y)return function it(y,f){const g=document.createElement("a");g.href=y,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",Y),new ze(null);const rt=window.open(f||"",Y,et);ie(rt,y,"popup-blocked");try{rt.focus()}catch{}return new ze(rt)}(f,Y,qs())})()}_openRedirect(f,g,v,A){var x=this;return(0,a.Z)(function*(){return yield x._originValidation(f),function fl(y){Hn().location.href=y}(yield ir(f,g,v,fr(),A)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:A,promise:x}=this.eventManagers[g];return A?Promise.resolve(A):(jt(x,"If manager is not set, promise should be"),x)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const v=yield function E(y){return C.apply(this,arguments)}(f),A=new ac(f);return v.register("authEvent",x=>(ie(x?.authEvent,f,"invalid-auth-event"),{status:A.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:A},g.iframes[f._key()]=v,A})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(li,{type:li},A=>{var x;const B=null===(x=A?.[0])||void 0===x?void 0:x[li];void 0!==B&&g(!!B),pe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function op(y){return In.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ro()||oe()||Dt()}};class du{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return He("unexpected MultiFactorSessionType")}}}class ea extends du{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ea(f)}_finalizeEnroll(f,g,v){return function Jf(y,f){return Ut(y,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(y,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Yr(y,f){return Ut(y,"POST","/v2/accounts/mfaSignIn:finalize",Xe(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let mv=(()=>{class y{constructor(){}static assertion(g){return ea._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var xl="@firebase/auth";class lc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{f(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ta(){return window}(0,O.Pz)("authIdTokenMaxAge"),function cp(y){(0,Q._registerComponent)(new fe.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),A=f.getProvider("heartbeat"),x=f.getProvider("app-check-internal"),{apiKey:B,authDomain:Y}=v.options;ie(B&&!B.includes(":"),"invalid-api-key",{appName:v.name});const be={apiKey:B,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(y)},$e=new xd(v,A,x,be);return function Hf(y,f){const g=f?.persistence||[],v=(Array.isArray(g)?g:[g]).map(Qt);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,f?.popupRedirectResolver)}($e,g),$e},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,Q._registerComponent)(new fe.wA("auth-internal",f=>{const g=Yn(f.getProvider("auth").getImmediate());return new lc(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Q.registerVersion)(xl,"0.23.2",function ah(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,Q.registerVersion)(xl,"0.23.2","esm2017")}("Browser");function ch(){return ch=(0,a.Z)(function*(y,f,g){var v;const{BuildInfo:A}=ta();jt(f.sessionId,"AuthEvent did not contain a session ID");const x=yield function fp(y){return pp.apply(this,arguments)}(f.sessionId),B={};return Dt()?B.ibi=A.packageName:Nt()?B.apn=A.packageName:pe(y,"operation-not-supported-in-this-environment"),A.displayName&&(B.appDisplayName=A.displayName),B.sessionId=x,ir(y,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,B)}),ch.apply(this,arguments)}function dp(){return(dp=(0,a.Z)(function*(y){const{BuildInfo:f}=ta(),g={};Dt()?g.iosBundleId=f.packageName:Nt()?g.androidPackageName=f.packageName:pe(y,"operation-not-supported-in-this-environment"),yield ip(y,g)})).apply(this,arguments)}function wv(){return(wv=(0,a.Z)(function*(y,f,g){const{cordova:v}=ta();let A=()=>{};try{yield new Promise((x,B)=>{let Y=null;function be(){var rt;x();const On=null===(rt=v.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof On&&On(),"function"==typeof g?.close&&g.close()}function $e(){Y||(Y=window.setTimeout(()=>{B(W(y,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===document?.visibilityState&&$e()}f.addPassiveListener(be),document.addEventListener("resume",$e,!1),Nt()&&document.addEventListener("visibilitychange",et,!1),A=()=>{f.removePassiveListener(be),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",et,!1),Y&&window.clearTimeout(Y)}})}finally{A()}})).apply(this,arguments)}function pp(){return(pp=(0,a.Z)(function*(y){const f=function Rm(y){if(jt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class iA extends ac{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function na(y){return dc.apply(this,arguments)}function dc(){return(dc=(0,a.Z)(function*(y){const f=yield _p()._get(ra(y));return f&&(yield _p()._remove(ra(y))),f})).apply(this,arguments)}function mp(){const y=[];for(let g=0;g<20;g++){const v=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return y.join("")}function _p(){return Qt(bn)}function ra(y){return U("authEvent",y.config.apiKey,y.name)}function hc(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,O.zd)(g.join("?"))}const Ev=class QE{constructor(){this._redirectPersistence=Ii,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vs,this._overrideRedirectResult=uo}_initialize(f){var g=this;return(0,a.Z)(function*(){const v=f._key();let A=g.eventManagers.get(v);return A||(A=new iA(f),g.eventManagers.set(v,A),g.attachCallbackListeners(f,A)),A})()}_openPopup(f){pe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,A){var x=this;return(0,a.Z)(function*(){!function km(y){var f,g,v,A,x,B,Y,be,$e,et;const rt=ta();ie("function"==typeof(null===(f=rt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof(null===(g=rt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(x=null===(A=null===(v=rt?.cordova)||void 0===v?void 0:v.plugins)||void 0===A?void 0:A.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(be=null===(Y=null===(B=rt?.cordova)||void 0===B?void 0:B.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===be?void 0:be.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(et=null===($e=rt?.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===et?void 0:et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield x._initialize(f);yield B.initialized(),B.resetRedirect(),function tc(){ou.clear()}(),yield x._originValidation(f);const Y=function JE(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:mp(),postBody:null,tenantId:y.tenantId,error:W(y,"no-auth-event")}}(f,v,A);yield function kl(y,f){return _p()._set(ra(y),f)}(f,Y);const be=yield function vv(y,f,g){return ch.apply(this,arguments)}(f,Y,g),$e=yield function hp(y){const{cordova:f}=ta();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let A=null;v?f.plugins.browsertab.openUrl(y):A=f.InAppBrowser.open(y,function $t(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(A)})})}(be);return function Nm(y,f,g){return wv.apply(this,arguments)}(f,B,$e)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function rA(y){return dp.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:A,BuildInfo:x}=ta(),B=setTimeout((0,a.Z)(function*(){yield na(f),g.onEvent(wp())}),500),Y=function(){var et=(0,a.Z)(function*(rt){clearTimeout(B);const On=yield na(f);let bo=null;On&&rt?.url&&(bo=function gp(y,f){var g,v;const A=function vp(y){const f=hc(y),g=f.link?decodeURIComponent(f.link):void 0,v=hc(g).link,A=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return hc(A).link||A||v||g||y}(f);if(A.includes("/__/auth/callback")){const x=hc(A),B=x.firebaseError?function yp(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,Y=null===(v=null===(g=B?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],be=Y?W(Y):null;return be?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:be,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:A,postBody:null}}return null}(On,rt.url)),g.onEvent(bo||wp())});return function(On){return et.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,Y);const be=A,$e=`${x.packageName.toLowerCase()}://`;ta().handleOpenURL=function(){var et=(0,a.Z)(function*(rt){if(rt.toLowerCase().startsWith($e)&&Y({url:rt}),"function"==typeof be)try{be(rt)}catch(On){console.error(On)}});return function(rt){return et.apply(this,arguments)}}()}};function wp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:W("no-auth-event")}}function Ol(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Lm(y=(0,O.z$)()){return!("file:"!==Ol()&&"ionic:"!==Ol()&&"capacitor:"!==Ol()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function dh(){try{const y=self.localStorage,f=qs();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Ip(y=(0,O.z$)()){return function di(){return(0,O.w1)()&&11===document?.documentMode}()||function Tp(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Tr()&&(0,O.hl)()}return!1}function Tr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ia(){return(function Ep(){return"http:"===Ol()||"https:"===Ol()}()||(0,O.ru)()||Lm())&&!function XE(){return(0,O.b$)()||(0,O.UG)()}()&&dh()&&!Tr()}function Cp(){return Lm()&&typeof document<"u"}function Ap(){return(Ap=(0,a.Z)(function*(){return!!Cp()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const Gi={LOCAL:"local",NONE:"none",SESSION:"session"},oa=ie,Fm="persistence";function ph(y){return bp.apply(this,arguments)}function bp(){return(bp=(0,a.Z)(function*(y){yield y._initializationPromise;const f=mh(),g=U(Fm,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function mh(){var y;try{return(null===(y=function hh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Vm=ie;class co{constructor(){this.browserResolver=Qt(ji),this.cordovaResolver=Qt(Ev),this.underlyingResolver=null,this._redirectPersistence=Ii,this._completeRedirectFn=vs,this._overrideRedirectResult=uo}_initialize(f){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,A){var x=this;return(0,a.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,v,A)})()}_openRedirect(f,g,v,A){var x=this;return(0,a.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,v,A)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Cp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Dp(){return Ap.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function fc(y){return y.unwrap()}function Mp(y){return xp(y)}function xp(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return jn.credentialFromResult(y);const g=f.providerId;if(!g||g===de.PASSWORD)return null;let v;switch(g){case de.GOOGLE:v=ds;break;case de.FACEBOOK:v=ls;break;case de.GITHUB:v=ar;break;case de.TWITTER:v=vo;break;default:const{oauthIdToken:A,oauthAccessToken:x,oauthTokenSecret:B,pendingToken:Y,nonce:be}=f;return x||B||A||Y?Y?g.startsWith("saml.")?Bn._create(g,Y):Kr._fromParams({providerId:g,signInMethod:g,pendingToken:Y,idToken:A,accessToken:x}):new Ei(g).credential({idToken:A,accessToken:x,rawNonce:be}):null}return y instanceof O.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function Pr(y,f){return f.catch(g=>{throw g instanceof O.ZR&&function _h(y,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new yh(y,function Gd(y,f){var g;const v=(0,O.m9)(y),A=f;return ie(f.customData.operationType,v,"argument-error"),ie(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Go._fromError(v,A)}(y,f));else if(v){const A=xp(f),x=f;A&&(x.credential=A,x.tenantId=v.tenantId||void 0,x.email=v.email||void 0,x.phoneNumber=v.phoneNumber||void 0)}}(y,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Mp(g),additionalUserInfo:ur(g),user:qi.getOrCreate(A)}})}function sa(y,f){return pc.apply(this,arguments)}function pc(){return(pc=(0,a.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>Pr(y,g.confirm(v))}})).apply(this,arguments)}class yh{constructor(f,g){this.resolver=g,this.auth=function Sp(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Pr(fc(this.auth),this.resolver.resolveSignIn(f))}}class qi{constructor(f){this._delegate=f,this.multiFactor=function dl(y){const f=(0,O.m9)(y);return qa.has(f)||qa.set(f,Ga._fromUser(f)),qa.get(f)}(f)}static getOrCreate(f){return qi.USER_MAP.has(f)||qi.USER_MAP.set(f,new qi(f)),qi.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,a.Z)(function*(){return Pr(g.auth,Tm(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,a.Z)(function*(){return sa(v.auth,function rp(y,f,g){return Xu.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,a.Z)(function*(){return Pr(g.auth,function nh(y,f,g){return ec.apply(this,arguments)}(g._delegate,f,co))})()}linkWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield ph(Yn(g.auth)),Dl(g._delegate,f,co)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,a.Z)(function*(){return Pr(g.auth,Zn(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return sa(this.auth,function eu(y,f,g){return wl.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Pr(this.auth,function th(y,f,g){return Js.apply(this,arguments)}(this._delegate,f,co))}reauthenticateWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield ph(Yn(g.auth)),au(g._delegate,f,co)})()}sendEmailVerification(f){return function Bu(y,f){return ja.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,a.Z)(function*(){return yield function Em(y,f){return so.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Yf(y,f){return Hd((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Li(y,f){return Hd((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function tu(y,f){return Ys.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Am(y,f){return Zs.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function il(y,f,g){return Zu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qi.USER_MAP=new WeakMap;const Ao=ie;let Um=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;Ao(A,"invalid-api-key",{appName:g.name}),Ao(A,"invalid-api-key",{appName:g.name});const x=typeof window<"u"?co:void 0;this._delegate=v.initialize({options:{persistence:Tv(A,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function Ru(y,f,g){const v=Yn(y);ie(v._canInitEmulator,v,"emulator-config-failed"),ie(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const A=!!g?.disableWarnings,x=as(f),{host:B,port:Y}=function Nd(y){const f=as(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(v);if(A){const x=A[1];return{host:x,port:kd(v.substr(x.length+1))}}{const[x,B]=v.split(":");return{host:x,port:kd(B)}}}(f);v.config.emulator={url:`${x}//${B}${null===Y?"":`:${Y}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:B,port:Y,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function ym(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function Vu(y,f){return Ti.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Za(this._delegate,g)}confirmPasswordReset(g,v){return function Fu(y,f,g){return Jn.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var A=this;return(0,a.Z)(function*(){return Pr(A._delegate,function Kf(y,f,g){return Ha.apply(this,arguments)}(A._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Zd(y,f){return rl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Dm(y,f){const g=Zt.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){Ao(ia(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function ys(y,f){return Do.apply(this,arguments)}(g._delegate,co);return v?Pr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Om(y,f){Yn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,A){const{next:x,error:B,complete:Y}=Np(g,v,A);return this._delegate.onAuthStateChanged(x,B,Y)}onIdTokenChanged(g,v,A){const{next:x,error:B,complete:Y}=Np(g,v,A);return this._delegate.onIdTokenChanged(x,B,Y)}sendSignInLinkToEmail(g,v){return function Uu(y,f,g){return fs.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function Cm(y,f,g){return Zr.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,a.Z)(function*(){let A;switch(function fh(y,f){oa(Object.values(Gi).includes(f),y,"invalid-persistence-type"),(0,O.b$)()?oa(f!==Gi.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?oa(f===Gi.NONE,y,"unsupported-persistence-type"):Tr()?oa(f===Gi.NONE||f===Gi.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):oa(f===Gi.NONE||dh(),y,"unsupported-persistence-type")}(v._delegate,g),g){case Gi.SESSION:A=Ii;break;case Gi.LOCAL:A=(yield Qt(Ja)._isAvailable())?Ja:bn;break;case Gi.NONE:A=qt;break;default:return pe("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Pr(this._delegate,function wm(y){return Yc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Pr(this._delegate,Fa(this._delegate,g))}signInWithCustomToken(g){return Pr(this._delegate,function Eo(y,f){return Pi.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return Pr(this._delegate,function tl(y,f,g){return Fa((0,O.m9)(y),Pu.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return Pr(this._delegate,function Hr(y,f,g){return Wf.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return sa(this._delegate,function fn(y,f,g){return vr.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,a.Z)(function*(){return Ao(ia(),v._delegate,"operation-not-supported-in-this-environment"),Pr(v._delegate,function Di(y,f,g){return Vi.apply(this,arguments)}(v._delegate,g,co))})()}signInWithRedirect(g){var v=this;return(0,a.Z)(function*(){return Ao(ia(),v._delegate,"operation-not-supported-in-this-environment"),yield ph(v._delegate),nc(v._delegate,g,co)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Us(y,f){return Bs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Gi,y})();function Np(y,f,g){let v=y;"function"!=typeof y&&({next:v,error:f,complete:g}=y);const A=v;return{next:B=>A(B&&qi.getOrCreate(B)),error:f,complete:g}}function Tv(y,f){const g=function gh(y,f){const g=mh();if(!g)return[];const v=U(Fm,y,f);switch(g.getItem(v)){case Gi.NONE:return[qt];case Gi.LOCAL:return[Ja,Ii];case Gi.SESSION:return[Ii];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(Ja)&&g.push(Ja),typeof window<"u")for(const v of[bn,Ii])g.includes(v)||g.push(v);return g.includes(qt)||g.push(qt),g}class vh{constructor(){this.providerId="phone",this._delegate=new jn(fc(q.Z.auth()))}static credential(f,g){return jn.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}vh.PHONE_SIGN_IN_METHOD=jn.PHONE_SIGN_IN_METHOD,vh.PROVIDER_ID=jn.PROVIDER_ID;const Iv=ie;class Bm{constructor(f,g,v=q.Z.app()){var A;Iv(null===(A=v.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new vl(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kp(y){y.INTERNAL.registerComponent(new fe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Um(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Pu,FacebookAuthProvider:ls,GithubAuthProvider:ar,GoogleAuthProvider:ds,OAuthProvider:Ei,SAMLAuthProvider:Fs,PhoneAuthProvider:vh,PhoneMultiFactorGenerator:mv,RecaptchaVerifier:Bm,TwitterAuthProvider:vo,Auth:Um,AuthCredential:_o,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(q.Z)},5861:(lt,Te,R)=>{function a(O,Q,ne,le,fe,Re,de){try{var V=O[Re](de),Z=V.value}catch(J){return void ne(J)}V.done?Q(Z):Promise.resolve(Z).then(le,fe)}function q(O){return function(){var Q=this,ne=arguments;return new Promise(function(le,fe){var Re=O.apply(Q,ne);function de(Z){a(Re,le,fe,de,V,"next",Z)}function V(Z){a(Re,le,fe,de,V,"throw",Z)}de(void 0)})}}R.d(Te,{Z:()=>q})},7582:(lt,Te,R)=>{function Q(se,me){var Ee={};for(var Se in se)Object.prototype.hasOwnProperty.call(se,Se)&&me.indexOf(Se)<0&&(Ee[Se]=se[Se]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Se=Object.getOwnPropertySymbols(se);je<Se.length;je++)me.indexOf(Se[je])<0&&Object.prototype.propertyIsEnumerable.call(se,Se[je])&&(Ee[Se[je]]=se[Se[je]])}return Ee}function J(se,me,Ee,Se){return new(Ee||(Ee=Promise))(function(Ve,Tt){function Xe(ht){try{tt(Se.next(ht))}catch(vn){Tt(vn)}}function Ut(ht){try{tt(Se.throw(ht))}catch(vn){Tt(vn)}}function tt(ht){ht.done?Ve(ht.value):function je(Ve){return Ve instanceof Ee?Ve:new Ee(function(Tt){Tt(Ve)})}(ht.value).then(Xe,Ut)}tt((Se=Se.apply(se,me||[])).next())})}function te(se){return this instanceof te?(this.v=se,this):new te(se)}function pe(se,me,Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Se=Ee.apply(se,me||[]),Ve=[];return je={},Tt("next"),Tt("throw"),Tt("return"),je[Symbol.asyncIterator]=function(){return this},je;function Tt(tn){Se[tn]&&(je[tn]=function(kn){return new Promise(function(Wt,ti){Ve.push([tn,kn,Wt,ti])>1||Xe(tn,kn)})})}function Xe(tn,kn){try{!function Ut(tn){tn.value instanceof te?Promise.resolve(tn.value.v).then(tt,ht):vn(Ve[0][2],tn)}(Se[tn](kn))}catch(Wt){vn(Ve[0][3],Wt)}}function tt(tn){Xe("next",tn)}function ht(tn){Xe("throw",tn)}function vn(tn,kn){tn(kn),Ve.shift(),Ve.length&&Xe(Ve[0][0],Ve[0][1])}}function he(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ee,me=se[Symbol.asyncIterator];return me?me.call(se):(se=function Me(se){var me="function"==typeof Symbol&&Symbol.iterator,Ee=me&&se[me],Se=0;if(Ee)return Ee.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Se>=se.length&&(se=void 0),{value:se&&se[Se++],done:!se}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Ee={},Se("next"),Se("throw"),Se("return"),Ee[Symbol.asyncIterator]=function(){return this},Ee);function Se(Ve){Ee[Ve]=se[Ve]&&function(Tt){return new Promise(function(Xe,Ut){!function je(Ve,Tt,Xe,Ut){Promise.resolve(Ut).then(function(tt){Ve({value:tt,done:Xe})},Tt)}(Xe,Ut,(Tt=se[Ve](Tt)).done,Tt.value)})}}}R.d(Te,{FC:()=>pe,KL:()=>he,_T:()=>Q,mG:()=>J,qq:()=>te})}},lt=>{lt(lt.s=8541)}]);