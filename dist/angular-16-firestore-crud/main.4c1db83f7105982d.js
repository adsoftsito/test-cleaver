"use strict";(self.webpackChunkangular_16_firestore_crud=self.webpackChunkangular_16_firestore_crud||[]).push([[179],{2011:(ct,Ie,k)=>{k.d(Ie,{Dh:()=>ke,GT:()=>ce,cc:()=>De,hO:()=>Pe,on:()=>V,pX:()=>ne,xv:()=>de});var a=k(2223),$=k(9260),O=k(4976);ct=k.hmd(ct);const X=["ngOnDestroy"],ne=(Ne,_t,ht,te={})=>new Proxy(Ne,{get:(pe,W)=>ht.runOutsideAngular(()=>{var he;if(Ne[W])return!(null===(he=te?.spy)||void 0===he)&&he.get&&te.spy.get(W,Ne[W]),Ne[W];if(X.indexOf(W)>-1)return()=>{};const be=_t.toPromise().then(Ve=>{const ie=Ve&&Ve[W];return"function"==typeof ie?ie.bind(Ve):ie&&ie.then?ie.then(He=>ht.run(()=>He)):ht.run(()=>ie)});return new Proxy(()=>{},{get:(Ve,ie)=>be[ie],apply:(Ve,ie,He)=>be.then(jt=>{var fr;const Gr=jt&&jt(...He);return!(null===(fr=te?.spy)||void 0===fr)&&fr.apply&&te.spy.apply(W,He,Gr),Gr})})})}),ce=(Ne,_t)=>{_t.forEach(ht=>{Object.getOwnPropertyNames(ht.prototype||ht).forEach(te=>{Object.defineProperty(Ne.prototype,te,Object.getOwnPropertyDescriptor(ht.prototype||ht,te))})})};class fe{constructor(_t){return _t}}const ke=new a.OlP("angularfire2.app.options"),de=new a.OlP("angularfire2.app.name");function V(Ne,_t,ht){const pe="object"==typeof ht&&ht||{};pe.name=pe.name||"string"==typeof ht&&ht||"[DEFAULT]";const he=$.Z.apps.filter(be=>be&&be.name===pe.name)[0]||_t.runOutsideAngular(()=>$.Z.initializeApp(Ne,pe));try{JSON.stringify(Ne)!==JSON.stringify(he.options)&&Z("error",`${he.name} Firebase App already initialized with different options${ct.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(he)}const Z=(Ne,..._t)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ne](..._t)},J={provide:fe,useFactory:V,deps:[ke,a.R0b,[new a.FiY,de]]};let Pe=(()=>{class Ne{constructor(ht){$.Z.registerVersion("angularfire",O.q4.full,"core"),$.Z.registerVersion("angularfire",O.q4.full,"app-compat"),$.Z.registerVersion("angular",a.q4F.full,ht.toString())}static initializeApp(ht,te){return{ngModule:Ne,providers:[{provide:ke,useValue:ht},{provide:de,useValue:te}]}}}return Ne.\u0275fac=function(ht){return new(ht||Ne)(a.LFG(a.Lbi))},Ne.\u0275mod=a.oAB({type:Ne}),Ne.\u0275inj=a.cJS({providers:[J]}),Ne})();function De(Ne,_t,ht,te,pe){const[,W,he]=globalThis.\u0275AngularfireInstanceCache.find(be=>be[0]===Ne)||[];if(W)return function Ye(Ne,_t){try{return Ne.toString()===_t.toString()}catch{return Ne===_t}}(pe,he)||(Ge("error",`${_t} was already initialized on the ${ht} Firebase App with different settings.${Se?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:pe,was:he})),W;{const be=te();return globalThis.\u0275AngularfireInstanceCache.push([Ne,be,pe]),be}}const Se=!!ct.hot,Ge=(Ne,..._t)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ne](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(ct,Ie,k)=>{k.d(Ie,{q4:()=>Js,iC:()=>up,HU:()=>oh,vb:()=>sp,JM:()=>ys});var a=k(2223),$=k(259),O=k(5861),X=k(6881),ne=k(2090),ce=k(4859),fe=k(1877);const ke=(I,D)=>D.some(S=>I instanceof S);let de,V;const Pe=new WeakMap,De=new WeakMap,Ye=new WeakMap,Se=new WeakMap,Ge=new WeakMap;let ht={get(I,D,S){if(I instanceof IDBTransaction){if("done"===D)return De.get(I);if("objectStoreNames"===D)return I.objectStoreNames||Ye.get(I);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return he(I[D])},set:(I,D,S)=>(I[D]=S,!0),has:(I,D)=>I instanceof IDBTransaction&&("done"===D||"store"===D)||D in I};function W(I){return"function"==typeof I?function pe(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function J(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...D){return I.apply(be(this),D),he(Pe.get(this))}:function(...D){return he(I.apply(be(this),D))}:function(D,...S){const L=I.call(be(this),D,...S);return Ye.set(L,D.sort?D.sort():[D]),he(L)}}(I):(I instanceof IDBTransaction&&function _t(I){if(De.has(I))return;const D=new Promise((S,L)=>{const H=()=>{I.removeEventListener("complete",z),I.removeEventListener("error",le),I.removeEventListener("abort",le)},z=()=>{S(),H()},le=()=>{L(I.error||new DOMException("AbortError","AbortError")),H()};I.addEventListener("complete",z),I.addEventListener("error",le),I.addEventListener("abort",le)});De.set(I,D)}(I),ke(I,function Z(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,ht):I)}function he(I){if(I instanceof IDBRequest)return function Ne(I){const D=new Promise((S,L)=>{const H=()=>{I.removeEventListener("success",z),I.removeEventListener("error",le)},z=()=>{S(he(I.result)),H()},le=()=>{L(I.error),H()};I.addEventListener("success",z),I.addEventListener("error",le)});return D.then(S=>{S instanceof IDBCursor&&Pe.set(S,I)}).catch(()=>{}),Ge.set(D,I),D}(I);if(Se.has(I))return Se.get(I);const D=W(I);return D!==I&&(Se.set(I,D),Ge.set(D,I)),D}const be=I=>Ge.get(I),He=["get","getKey","getAll","getAllKeys","count"],jt=["put","add","delete","clear"],fr=new Map;function Gr(I,D){if(!(I instanceof IDBDatabase)||D in I||"string"!=typeof D)return;if(fr.get(D))return fr.get(D);const S=D.replace(/FromIndex$/,""),L=D!==S,H=jt.includes(S);if(!(S in(L?IDBIndex:IDBObjectStore).prototype)||!H&&!He.includes(S))return;const z=function(){var le=(0,O.Z)(function*(ze,...Be){const it=this.transaction(ze,H?"readwrite":"readonly");let Dt=it.store;return L&&(Dt=Dt.index(Be.shift())),(yield Promise.all([Dt[S](...Be),H&&it.done]))[0]});return function(Be){return le.apply(this,arguments)}}();return fr.set(D,z),z}!function te(I){ht=I(ht)}(I=>({...I,get:(D,S,L)=>Gr(D,S)||I.get(D,S,L),has:(D,S)=>!!Gr(D,S)||I.has(D,S)}));const Po="@firebase/installations",se="0.6.4",_e=1e4,we=`w:${se}`,Me="FIS_v2",qe="https://firebaseinstallations.googleapis.com/v1",Ue=36e5,tt=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ft(I){return I instanceof ne.ZR&&I.code.includes("request-failed")}function vn({projectId:I}){return`${qe}/projects/${I}/installations`}function tn(I){return{token:I.token,requestStatus:2,expiresIn:ts(I.expiresIn),creationTime:Date.now()}}function Rn(I,D){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,O.Z)(function*(I,D){const L=(yield D.json()).error;return tt.create("request-failed",{requestName:I,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ti({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function $r(I){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,O.Z)(function*(I){const D=yield I();return D.status>=500&&D.status<600?I():D})).apply(this,arguments)}function ts(I){return Number(I.replace("s","000"))}function ni(){return(ni=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},{fid:S}){const L=vn(I),H=ti(I),z=D.getImmediate({optional:!0});if(z){const it=yield z.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const ze={method:"POST",headers:H,body:JSON.stringify({fid:S,authVersion:Me,appId:I.appId,sdkVersion:we})},Be=yield $r(()=>fetch(L,ze));if(Be.ok){const it=yield Be.json();return{fid:it.fid||S,registrationStatus:2,refreshToken:it.refreshToken,authToken:tn(it.authToken)}}throw yield Rn("Create Installation",Be)})).apply(this,arguments)}function ri(I){return new Promise(D=>{setTimeout(D,I)})}const Aa=/^[cdef][\w-]{21}$/,$e="";function pt(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const S=function yt(I){return function Fo(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Aa.test(S)?S:$e}catch{return $e}}function cn(I){return`${I.appName}!${I.appId}`}const bn=new Map;function zr(I,D){const S=cn(I);Ma(S,D),function un(I,D){const S=function Bt(){return!Sr&&"BroadcastChannel"in self&&(Sr=new BroadcastChannel("[Firebase] FID Change"),Sr.onmessage=I=>{Ma(I.data.key,I.data.fid)}),Sr}();S&&S.postMessage({key:I,fid:D}),function eo(){0===bn.size&&Sr&&(Sr.close(),Sr=null)}()}(S,D)}function Ma(I,D){const S=bn.get(I);if(S)for(const L of S)L(D)}let Sr=null;const rs="firebase-installations-database",Sa=1,ii="firebase-installations-store";let to=null;function gr(){return to||(to=function Ve(I,D,{blocked:S,upgrade:L,blocking:H,terminated:z}={}){const le=indexedDB.open(I,D),ze=he(le);return L&&le.addEventListener("upgradeneeded",Be=>{L(he(le.result),Be.oldVersion,Be.newVersion,he(le.transaction))}),S&&le.addEventListener("blocked",()=>S()),ze.then(Be=>{z&&Be.addEventListener("close",()=>z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}(rs,Sa,{upgrade:(I,D)=>{0===D&&I.createObjectStore(ii)}})),to}function nr(I,D){return mn.apply(this,arguments)}function mn(){return(mn=(0,O.Z)(function*(I,D){const S=cn(I),H=(yield gr()).transaction(ii,"readwrite"),z=H.objectStore(ii),le=yield z.get(S);return yield z.put(D,S),yield H.done,(!le||le.fid!==D.fid)&&zr(I,D.fid),D})).apply(this,arguments)}function no(I){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,O.Z)(function*(I){const D=cn(I),L=(yield gr()).transaction(ii,"readwrite");yield L.objectStore(ii).delete(D),yield L.done})).apply(this,arguments)}function ro(I,D){return $t.apply(this,arguments)}function $t(){return($t=(0,O.Z)(function*(I,D){const S=cn(I),H=(yield gr()).transaction(ii,"readwrite"),z=H.objectStore(ii),le=yield z.get(S),ze=D(le);return void 0===ze?yield z.delete(S):yield z.put(ze,S),yield H.done,ze&&(!le||le.fid!==ze.fid)&&zr(I,ze.fid),ze})).apply(this,arguments)}function U(I){return F.apply(this,arguments)}function F(){return F=(0,O.Z)(function*(I){let D;const S=yield ro(I.appConfig,L=>{const H=function G(I){return dn(I||{fid:pt(),registrationStatus:0})}(L),z=function ve(I,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(tt.create("app-offline"))};const S={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function oe(I,D){return nt.apply(this,arguments)}(I,S);return{installationEntry:S,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:gt(I)}:{installationEntry:D}}(I,H);return D=z.registrationPromise,z.installationEntry});return S.fid===$e?{installationEntry:yield D}:{installationEntry:S,registrationPromise:D}}),F.apply(this,arguments)}function nt(){return nt=(0,O.Z)(function*(I,D){try{const S=yield function ba(I,D){return ni.apply(this,arguments)}(I,D);return nr(I.appConfig,S)}catch(S){throw ft(S)&&409===S.customData.serverCode?yield no(I.appConfig):yield nr(I.appConfig,{fid:D.fid,registrationStatus:0}),S}}),nt.apply(this,arguments)}function gt(I){return kt.apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(I){let D=yield _n(I.appConfig);for(;1===D.registrationStatus;)yield ri(100),D=yield _n(I.appConfig);if(0===D.registrationStatus){const{installationEntry:S,registrationPromise:L}=yield U(I);return L||S}return D})).apply(this,arguments)}function _n(I){return ro(I,D=>{if(!D)throw tt.create("installation-not-found");return dn(D)})}function dn(I){return function bt(I){return 1===I.registrationStatus&&I.registrationTime+_e<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function mr(){return(mr=(0,O.Z)(function*({appConfig:I,heartbeatServiceProvider:D},S){const L=function vi(I,{fid:D}){return`${vn(I)}/${D}/authTokens:generate`}(I,S),H=function zn(I,{refreshToken:D}){const S=ti(I);return S.append("Authorization",function ns(I){return`${Me} ${I}`}(D)),S}(I,S),z=D.getImmediate({optional:!0});if(z){const it=yield z.getHeartbeatsHeader();it&&H.append("x-firebase-client",it)}const ze={method:"POST",headers:H,body:JSON.stringify({installation:{sdkVersion:we,appId:I.appId}})},Be=yield $r(()=>fetch(L,ze));if(Be.ok)return tn(yield Be.json());throw yield Rn("Generate Auth Token",Be)})).apply(this,arguments)}function io(I){return oi.apply(this,arguments)}function oi(){return oi=(0,O.Z)(function*(I,D=!1){let S;const L=yield ro(I.appConfig,z=>{if(!Pt(z))throw tt.create("not-registered");const le=z.authToken;if(!D&&function Yt(I){return 2===I.requestStatus&&!function rr(I){const D=Date.now();return D<I.creationTime||I.creationTime+I.expiresIn<D+Ue}(I)}(le))return z;if(1===le.requestStatus)return S=function ue(I,D){return ee.apply(this,arguments)}(I,D),z;{if(!navigator.onLine)throw tt.create("app-offline");const ze=function Wn(I){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:D})}(z);return S=function ut(I,D){return At.apply(this,arguments)}(I,ze),ze}});return S?yield S:L.authToken}),oi.apply(this,arguments)}function ee(){return(ee=(0,O.Z)(function*(I,D){let S=yield xe(I.appConfig);for(;1===S.authToken.requestStatus;)yield ri(100),S=yield xe(I.appConfig);const L=S.authToken;return 0===L.requestStatus?io(I,D):L})).apply(this,arguments)}function xe(I){return ro(I,D=>{if(!Pt(D))throw tt.create("not-registered");return function mo(I){return 1===I.requestStatus&&I.requestTime+_e<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function At(){return At=(0,O.Z)(function*(I,D){try{const S=yield function Gt(I,D){return mr.apply(this,arguments)}(I,D),L=Object.assign(Object.assign({},D),{authToken:S});return yield nr(I.appConfig,L),S}catch(S){if(!ft(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield nr(I.appConfig,L)}else yield no(I.appConfig);throw S}}),At.apply(this,arguments)}function Pt(I){return void 0!==I&&2===I.registrationStatus}function xa(){return(xa=(0,O.Z)(function*(I){const D=I,{installationEntry:S,registrationPromise:L}=yield U(D);return L?L.catch(console.error):io(D).catch(console.error),S.fid})).apply(this,arguments)}function si(){return si=(0,O.Z)(function*(I,D=!1){const S=I;return yield function Md(I){return Ei.apply(this,arguments)}(S),(yield io(S,D)).token}),si.apply(this,arguments)}function Ei(){return(Ei=(0,O.Z)(function*(I){const{registrationPromise:D}=yield U(I);D&&(yield D)})).apply(this,arguments)}function os(I){return tt.create("missing-app-config-values",{valueName:I})}const xd="installations",_m=I=>{const D=I.getProvider("app").getImmediate(),S=function Nu(I){if(!I||!I.options)throw os("App Configuration");if(!I.name)throw os("App Name");const D=["projectId","apiKey","appId"];for(const S of D)if(!I.options[S])throw os(S);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(D);return{app:D,appConfig:S,heartbeatServiceProvider:(0,X._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},_o=I=>{const D=I.getProvider("app").getImmediate(),S=(0,X._getProvider)(D,xd).getImmediate();return{getId:()=>function is(I){return xa.apply(this,arguments)}(S),getToken:H=>function Ad(I){return si.apply(this,arguments)}(S,H)}};(function jf(){(0,X._registerComponent)(new ce.wA(xd,_m,"PUBLIC")),(0,X._registerComponent)(new ce.wA("installations-internal",_o,"PRIVATE"))})(),(0,X.registerVersion)(Po,se),(0,X.registerVersion)(Po,se,"esm2017");const Na="@firebase/remote-config",ln=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Kr{constructor(D,S,L,H){this.client=D,this.storage=S,this.storageCache=L,this.logger=H}isCachedDataFresh(D,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-S,H=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${H}.`),H}fetch(D){var S=this;return(0,O.Z)(function*(){const[L,H]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(H&&S.isCachedDataFresh(D.cacheMaxAgeMillis,L))return H;D.eTag=H&&H.eTag;const z=yield S.client.fetch(D),le=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===z.status&&le.push(S.storage.setLastSuccessfulFetchResponse(z)),yield Promise.all(le),z})()}}function kd(I=navigator){return I.languages&&I.languages[0]||I.language}class oo{constructor(D,S,L,H,z,le){this.firebaseInstallations=D,this.sdkVersion=S,this.namespace=L,this.projectId=H,this.apiKey=z,this.appId=le}fetch(D){var S=this;return(0,O.Z)(function*(){const[L,H]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Be={sdk_version:S.sdkVersion,app_instance_id:L,app_instance_id_token:H,app_id:S.appId,language_code:kd()},it={method:"POST",headers:ze,body:JSON.stringify(Be)},Dt=fetch(le,it),Ct=new Promise((Mi,ji)=>{D.signal.addEventListener(()=>{const cu=new Error("The operation was aborted.");cu.name="AbortError",ji(cu)})});let wr;try{yield Promise.race([Dt,Ct]),wr=yield Dt}catch(Mi){let ji="fetch-client-network";throw"AbortError"===Mi?.name&&(ji="fetch-timeout"),ln.create(ji,{originalErrorMessage:Mi?.message})}let ir=wr.status;const qi=wr.headers.get("ETag")||void 0;let Ac,ci;if(200===wr.status){let Mi;try{Mi=yield wr.json()}catch(ji){throw ln.create("fetch-client-parse",{originalErrorMessage:ji?.message})}Ac=Mi.entries,ci=Mi.state}if("INSTANCE_STATE_UNSPECIFIED"===ci?ir=500:"NO_CHANGE"===ci?ir=304:("NO_TEMPLATE"===ci||"EMPTY_CONFIG"===ci)&&(Ac={}),304!==ir&&200!==ir)throw ln.create("fetch-status",{httpStatus:ir});return{status:ir,eTag:qi,config:Ac}})()}}class ka{constructor(D,S){this.client=D,this.storage=S}fetch(D){var S=this;return(0,O.Z)(function*(){const L=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:S,backoffCount:L}){var H=this;return(0,O.Z)(function*(){yield function kn(I,D){return new Promise((S,L)=>{const H=Math.max(D-Date.now(),0),z=setTimeout(S,H);I.addEventListener(()=>{clearTimeout(z),L(ln.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,S);try{const z=yield H.client.fetch(D);return yield H.storage.deleteThrottleMetadata(),z}catch(z){if(!function Os(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(z))throw z;const le={throttleEndTimeMillis:Date.now()+(0,ne.$s)(L),backoffCount:L+1};return yield H.storage.setThrottleMetadata(le),H.attemptFetch(D,le)}})()}}class Od{constructor(D,S,L,H,z){this.app=D,this._client=S,this._storageCache=L,this._storage=H,this._logger=z,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ui(I,D){const S=I.target.error||void 0;return ln.create(D,{originalErrorMessage:S&&S?.message})}const Un="app_namespace_store";class Ww{constructor(D,S,L,H=function Ht(){return new Promise((I,D)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=L=>{D(ui(L,"storage-open"))},S.onsuccess=L=>{I(L.target.result)},S.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Un,{keyPath:"compositeKey"})}}catch(S){D(ln.create("storage-open",{originalErrorMessage:S?.message}))}})}()){this.appId=D,this.appName=S,this.namespace=L,this.openDbPromise=H}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var S=this;return(0,O.Z)(function*(){const L=yield S.openDbPromise;return new Promise((H,z)=>{const ze=L.transaction([Un],"readonly").objectStore(Un),Be=S.createCompositeKey(D);try{const it=ze.get(Be);it.onerror=Dt=>{z(ui(Dt,"storage-get"))},it.onsuccess=Dt=>{const Ct=Dt.target.result;H(Ct?Ct.value:void 0)}}catch(it){z(ln.create("storage-get",{originalErrorMessage:it?.message}))}})})()}set(D,S){var L=this;return(0,O.Z)(function*(){const H=yield L.openDbPromise;return new Promise((z,le)=>{const Be=H.transaction([Un],"readwrite").objectStore(Un),it=L.createCompositeKey(D);try{const Dt=Be.put({compositeKey:it,value:S});Dt.onerror=Ct=>{le(ui(Ct,"storage-set"))},Dt.onsuccess=()=>{z()}}catch(Dt){le(ln.create("storage-set",{originalErrorMessage:Dt?.message}))}})})()}delete(D){var S=this;return(0,O.Z)(function*(){const L=yield S.openDbPromise;return new Promise((H,z)=>{const ze=L.transaction([Un],"readwrite").objectStore(Un),Be=S.createCompositeKey(D);try{const it=ze.delete(Be);it.onerror=Dt=>{z(ui(Dt,"storage-delete"))},it.onsuccess=()=>{H()}}catch(it){z(ln.create("storage-delete",{originalErrorMessage:it?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ku{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const S=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),H=D.storage.getActiveConfig(),z=yield S;z&&(D.lastFetchStatus=z);const le=yield L;le&&(D.lastSuccessfulFetchTimestampMillis=le);const ze=yield H;ze&&(D.activeConfig=ze)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function us(){return ls.apply(this,arguments)}function ls(){return(ls=(0,O.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function so(){(0,X._registerComponent)(new ce.wA("remote-config",function I(D,{instanceIdentifier:S}){const L=D.getProvider("app").getImmediate(),H=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ln.create("registration-window");if(!(0,ne.hl)())throw ln.create("indexed-db-unavailable");const{projectId:z,apiKey:le,appId:ze}=L.options;if(!z)throw ln.create("registration-project-id");if(!le)throw ln.create("registration-api-key");if(!ze)throw ln.create("registration-app-id");const Be=new Ww(ze,L.name,S=S||"firebase"),it=new ku(Be),Dt=new fe.Yd(Na);Dt.logLevel=fe.in.ERROR;const Ct=new oo(H,X.SDK_VERSION,S,z,le,ze),wr=new ka(Ct,Be),ir=new Kr(wr,Be,it,Dt),qi=new Od(L,ir,it,Be,Dt);return function Lt(I){const D=(0,ne.m9)(I);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(qi),qi},"PUBLIC").setMultipleInstances(!0)),(0,X.registerVersion)(Na,"0.4.4"),(0,X.registerVersion)(Na,"0.4.4","esm2017")}();const ar=(I,D)=>D.some(S=>I instanceof S);let ym,Bn;const vo=new WeakMap,Eo=new WeakMap,yr=new WeakMap,Nr=new WeakMap,cs=new WeakMap;let Oa={get(I,D,S){if(I instanceof IDBTransaction){if("done"===D)return Eo.get(I);if("objectStoreNames"===D)return I.objectStoreNames||yr.get(I);if("store"===D)return S.objectStoreNames[1]?void 0:S.objectStore(S.objectStoreNames[0])}return ao(I[D])},set:(I,D,S)=>(I[D]=S,!0),has:(I,D)=>I instanceof IDBTransaction&&("done"===D||"store"===D)||D in I};function Em(I){return"function"==typeof I?function $f(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ps(){return Bn||(Bn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...D){return I.apply(Yl(this),D),ao(vo.get(this))}:function(...D){return ao(I.apply(Yl(this),D))}:function(D,...S){const L=I.call(Yl(this),D,...S);return yr.set(L,D.sort?D.sort():[D]),ao(L)}}(I):(I instanceof IDBTransaction&&function Wl(I){if(Eo.has(I))return;const D=new Promise((S,L)=>{const H=()=>{I.removeEventListener("complete",z),I.removeEventListener("error",le),I.removeEventListener("abort",le)},z=()=>{S(),H()},le=()=>{L(I.error||new DOMException("AbortError","AbortError")),H()};I.addEventListener("complete",z),I.addEventListener("error",le),I.addEventListener("abort",le)});Eo.set(I,D)}(I),ar(I,function li(){return ym||(ym=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Oa):I)}function ao(I){if(I instanceof IDBRequest)return function vm(I){const D=new Promise((S,L)=>{const H=()=>{I.removeEventListener("success",z),I.removeEventListener("error",le)},z=()=>{S(ao(I.result)),H()},le=()=>{L(I.error),H()};I.addEventListener("success",z),I.addEventListener("error",le)});return D.then(S=>{S instanceof IDBCursor&&vo.set(S,I)}).catch(()=>{}),cs.set(D,I),D}(I);if(Nr.has(I))return Nr.get(I);const D=Em(I);return D!==I&&(Nr.set(I,D),cs.set(D,I)),D}const Yl=I=>cs.get(I);function Jl(I,D,{blocked:S,upgrade:L,blocking:H,terminated:z}={}){const le=indexedDB.open(I,D),ze=ao(le);return L&&le.addEventListener("upgradeneeded",Be=>{L(ao(le.result),Be.oldVersion,Be.newVersion,ao(le.transaction))}),S&&le.addEventListener("blocked",()=>S()),ze.then(Be=>{z&&Be.addEventListener("close",()=>z()),H&&Be.addEventListener("versionchange",()=>H())}).catch(()=>{}),ze}function La(I,{blocked:D}={}){const S=indexedDB.deleteDatabase(I);return D&&S.addEventListener("blocked",()=>D()),ao(S).then(()=>{})}const Ld=["get","getKey","getAll","getAllKeys","count"],zf=["put","add","delete","clear"],Ql=new Map;function Pd(I,D){if(!(I instanceof IDBDatabase)||D in I||"string"!=typeof D)return;if(Ql.get(D))return Ql.get(D);const S=D.replace(/FromIndex$/,""),L=D!==S,H=zf.includes(S);if(!(S in(L?IDBIndex:IDBObjectStore).prototype)||!H&&!Ld.includes(S))return;const z=function(){var le=(0,O.Z)(function*(ze,...Be){const it=this.transaction(ze,H?"readwrite":"readonly");let Dt=it.store;return L&&(Dt=Dt.index(Be.shift())),(yield Promise.all([Dt[S](...Be),H&&it.done]))[0]});return function(Be){return le.apply(this,arguments)}}();return Ql.set(D,z),z}!function Gf(I){Oa=I(Oa)}(I=>({...I,get:(D,S,L)=>Pd(D,S)||I.get(D,S,L),has:(D,S)=>!!Pd(D,S)||I.has(D,S)}));const Fd="/firebase-messaging-sw.js",Pa="/firebase-cloud-messaging-push-scope",Fa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wm="https://fcmregistrations.googleapis.com/v1",Xl="google.c.a.c_id",Zn="google.c.a.c_l",Bo="google.c.a.ts";var wo=(()=>((wo=wo||{}).PUSH_RECEIVED="push-received",wo.NOTIFICATION_CLICKED="notification-clicked",wo))();function Pi(I){const D=new Uint8Array(I);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ou(I){const S=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(S),H=new Uint8Array(L.length);for(let z=0;z<L.length;++z)H[z]=L.charCodeAt(z);return H}const Va="fcm_token_details_db",Vd=5,Ua="fcm_token_object_Store";function Zr(){return Zr=(0,O.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(z=>z.name).includes(Va))return null;let D=null;return(yield Jl(Va,Vd,{upgrade:(L=(0,O.Z)(function*(H,z,le,ze){var Be;if(z<2||!H.objectStoreNames.contains(Ua))return;const it=ze.objectStore(Ua),Dt=yield it.index("fcmSenderId").get(I);if(yield it.clear(),Dt)if(2===z){const Ct=Dt;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;D={token:Ct.fcmToken,createTime:null!==(Be=Ct.createTime)&&void 0!==Be?Be:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:Pi(Ct.vapidKey)}}}else if(3===z){const Ct=Dt;D={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Pi(Ct.auth),p256dh:Pi(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Pi(Ct.vapidKey)}}}else if(4===z){const Ct=Dt;D={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Pi(Ct.auth),p256dh:Pi(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Pi(Ct.vapidKey)}}}}),function(z,le,ze,Be){return L.apply(this,arguments)})})).close(),yield La(Va),yield La("fcm_vapid_details_db"),yield La("undefined"),function Lu(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:D}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var L}),Zr.apply(this,arguments)}const Jn="firebase-messaging-database",Pu=1,Ti="firebase-messaging-store";let Ba=null;function Fs(){return Ba||(Ba=Jl(Jn,Pu,{upgrade:(I,D)=>{0===D&&I.createObjectStore(Ti)}})),Ba}function Vs(I){return Us.apply(this,arguments)}function Us(){return Us=(0,O.Z)(function*(I){const D=ds(I),L=yield(yield Fs()).transaction(Ti).objectStore(Ti).get(D);if(L)return L;{const H=yield function Tm(I){return Zr.apply(this,arguments)}(I.appConfig.senderId);if(H)return yield Wf(I,H),H}}),Us.apply(this,arguments)}function Wf(I,D){return Za.apply(this,arguments)}function Za(){return(Za=(0,O.Z)(function*(I,D){const S=ds(I),H=(yield Fs()).transaction(Ti,"readwrite");return yield H.objectStore(Ti).put(D,S),yield H.done,D})).apply(this,arguments)}function Fu(){return(Fu=(0,O.Z)(function*(I){const D=ds(I),L=(yield Fs()).transaction(Ti,"readwrite");yield L.objectStore(Ti).delete(D),yield L.done})).apply(this,arguments)}function ds({appConfig:I}){return I.appId}const Hr=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yf(I,D){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,O.Z)(function*(I,D){const S=yield rc(I),L=ic(D),H={method:"POST",headers:S,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(Ha(I.appConfig),H)).json()}catch(le){throw Hr.create("token-subscribe-failed",{errorInfo:le?.toString()})}if(z.error)throw Hr.create("token-subscribe-failed",{errorInfo:z.error.message});if(!z.token)throw Hr.create("token-subscribe-no-token");return z.token})).apply(this,arguments)}function Bd(){return(Bd=(0,O.Z)(function*(I,D){const S=yield rc(I),L=ic(D.subscriptionOptions),H={method:"PATCH",headers:S,body:JSON.stringify(L)};let z;try{z=yield(yield fetch(`${Ha(I.appConfig)}/${D.token}`,H)).json()}catch(le){throw Hr.create("token-update-failed",{errorInfo:le?.toString()})}if(z.error)throw Hr.create("token-update-failed",{errorInfo:z.error.message});if(!z.token)throw Hr.create("token-update-no-token");return z.token})).apply(this,arguments)}function nc(I,D){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,O.Z)(function*(I,D){const L={method:"DELETE",headers:yield rc(I)};try{const z=yield(yield fetch(`${Ha(I.appConfig)}/${D}`,L)).json();if(z.error)throw Hr.create("token-unsubscribe-failed",{errorInfo:z.error.message})}catch(H){throw Hr.create("token-unsubscribe-failed",{errorInfo:H?.toString()})}})).apply(this,arguments)}function Ha({projectId:I}){return`${wm}/projects/${I}/registrations`}function rc(I){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,O.Z)(function*({appConfig:I,installations:D}){const S=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function ic({p256dh:I,auth:D,endpoint:S,vapidKey:L}){const H={web:{endpoint:S,auth:D,p256dh:I}};return L!==Fa&&(H.web.applicationPubKey=L),H}const Bu=6048e5;function Bs(){return Bs=(0,O.Z)(function*(I){const D=yield function Zu(I,D){return qr.apply(this,arguments)}(I.swRegistration,I.vapidKey),S={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:D.endpoint,auth:Pi(D.getKey("auth")),p256dh:Pi(D.getKey("p256dh"))},L=yield Vs(I.firebaseDependencies);if(L){if(function Hu(I,D){return D.vapidKey===I.vapidKey&&D.endpoint===I.endpoint&&D.auth===I.auth&&D.p256dh===I.p256dh}(L.subscriptionOptions,S))return Date.now()>=L.createTime+Bu?function Zd(I,D){return qa.apply(this,arguments)}(I,{token:L.token,createTime:Date.now(),subscriptionOptions:S}):L.token;try{yield nc(I.firebaseDependencies,L.token)}catch(H){console.warn(H)}return In(I.firebaseDependencies,S)}return In(I.firebaseDependencies,S)}),Bs.apply(this,arguments)}function Fi(){return Fi=(0,O.Z)(function*(I){const D=yield Vs(I.firebaseDependencies);D&&(yield nc(I.firebaseDependencies,D.token),yield function ec(I){return Fu.apply(this,arguments)}(I.firebaseDependencies));const S=yield I.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()}),Fi.apply(this,arguments)}function qa(){return qa=(0,O.Z)(function*(I,D){try{const S=yield function tc(I,D){return Bd.apply(this,arguments)}(I.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:S,createTime:Date.now()});return yield Wf(I.firebaseDependencies,L),S}catch(S){throw yield function Jf(I){return Fi.apply(this,arguments)}(I),S}}),qa.apply(this,arguments)}function In(I,D){return hs.apply(this,arguments)}function hs(){return(hs=(0,O.Z)(function*(I,D){const L={token:yield Yf(I,D),createTime:Date.now(),subscriptionOptions:D};return yield Wf(I,L),L.token})).apply(this,arguments)}function qr(){return(qr=(0,O.Z)(function*(I,D){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ou(D)})})).apply(this,arguments)}function oc(I){const D={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function Zo(I,D){if(!D.notification)return;I.notification={};const S=D.notification.title;S&&(I.notification.title=S);const L=D.notification.body;L&&(I.notification.body=L);const H=D.notification.image;H&&(I.notification.image=H);const z=D.notification.icon;z&&(I.notification.icon=z)}(D,I),function ur(I,D){D.data&&(I.data=D.data)}(D,I),function bm(I,D){var S,L,H,z,le;if(!(D.fcmOptions||null!==(S=D.notification)&&void 0!==S&&S.click_action))return;I.fcmOptions={};const ze=null!==(H=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==H?H:null===(z=D.notification)||void 0===z?void 0:z.click_action;ze&&(I.fcmOptions.link=ze);const Be=null===(le=D.fcmOptions)||void 0===le?void 0:le.analytics_label;Be&&(I.fcmOptions.analyticsLabel=Be)}(D,I),D}function Hd(I,D){const S=[];for(let L=0;L<I.length;L++)S.push(I.charAt(L)),L<D.length&&S.push(D.charAt(L));return S.join("")}function sc(I){return Hr.create("missing-app-config-values",{valueName:I})}Hd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class qd{constructor(D,S,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const H=function Ho(I){if(!I||!I.options)throw sc("App Configuration Object");if(!I.name)throw sc("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:S}=I;for(const L of D)if(!S[L])throw sc(L);return{appName:I.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:H,installations:S,analyticsProvider:L}}_delete(){return Promise.resolve()}}function qu(){return(qu=(0,O.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(Fd,{scope:Pa}),I.swRegistration.update().catch(()=>{})}catch(D){throw Hr.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Hs(){return(Hs=(0,O.Z)(function*(I,D){if(!D&&!I.swRegistration&&(yield function ac(I){return qu.apply(this,arguments)}(I)),D||!I.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Hr.create("invalid-sw-registration");I.swRegistration=D}})).apply(this,arguments)}function qo(){return(qo=(0,O.Z)(function*(I,D){D?I.vapidKey=D:I.vapidKey||(I.vapidKey=Fa)})).apply(this,arguments)}function lc(){return lc=(0,O.Z)(function*(I,D){if(!navigator)throw Hr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Hr.create("permission-blocked");return yield function mt(I,D){return qo.apply(this,arguments)}(I,D?.vapidKey),yield function uc(I,D){return Hs.apply(this,arguments)}(I,D?.serviceWorkerRegistration),function Cm(I){return Bs.apply(this,arguments)}(I)}),lc.apply(this,arguments)}function Gd(){return(Gd=(0,O.Z)(function*(I,D,S){const L=function $d(I){switch(I){case wo.NOTIFICATION_CLICKED:return"notification_open";case wo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:S[Xl],message_name:S[Zn],message_time:S[Bo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ja(){return ja=(0,O.Z)(function*(I,D){const S=D.data;if(!S.isFirebaseMessaging)return;I.onMessageHandler&&S.messageType===wo.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(oc(S)):I.onMessageHandler.next(oc(S)));const L=S.data;(function Zs(I){return"object"==typeof I&&!!I&&Xl in I})(L)&&"1"===L["google.c.a.e"]&&(yield function Qf(I,D,S){return Gd.apply(this,arguments)}(I,S.messageType,L))}),ja.apply(this,arguments)}const Ga="@firebase/messaging",js=I=>{const D=new qd(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function qs(I,D){return ja.apply(this,arguments)}(D,S)),D},zd=I=>{const D=I.getProvider("messaging").getImmediate();return{getToken:L=>function jd(I,D){return lc.apply(this,arguments)}(D,L)}};function zt(){return ju.apply(this,arguments)}function ju(){return(ju=(0,O.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ce(){(0,X._registerComponent)(new ce.wA("messaging",js,"PUBLIC")),(0,X._registerComponent)(new ce.wA("messaging-internal",zd,"PRIVATE")),(0,X.registerVersion)(Ga,"0.12.4"),(0,X.registerVersion)(Ga,"0.12.4","esm2017")}();const Hn="analytics",hc="firebase_id",Rr="origin",To=6e4,Gu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",jo="https://www.googletagmanager.com/gtag/js",hn=new fe.Yd("@firebase/analytics"),kr=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function za(I){if(!I.startsWith(jo)){const D=kr.create("invalid-gtag-resource",{gtagURL:I});return hn.warn(D.message),""}return I}function $u(I){return Promise.all(I.map(D=>D.catch(S=>S)))}function Ku(){return(Ku=(0,O.Z)(function*(I,D,S,L,H,z){const le=L[H];try{if(le)yield D[le];else{const Be=(yield $u(S)).find(it=>it.measurementId===H);Be&&(yield D[Be.appId])}}catch(ze){hn.error(ze)}I("config",H,z)})).apply(this,arguments)}function $s(){return($s=(0,O.Z)(function*(I,D,S,L,H){try{let z=[];if(H&&H.send_to){let le=H.send_to;Array.isArray(le)||(le=[le]);const ze=yield $u(S);for(const Be of le){const it=ze.find(Ct=>Ct.measurementId===Be),Dt=it&&D[it.appId];if(!Dt){z=[];break}z.push(Dt)}}0===z.length&&(z=Object.values(D)),yield Promise.all(z),I("event",L,H||{})}catch(z){hn.error(z)}})).apply(this,arguments)}const Wu=30,ep=new class Ya{constructor(D={},S=1e3){this.throttleMetadata=D,this.intervalMillis=S}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,S){this.throttleMetadata[D]=S}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Yr(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Dn(){return(Dn=(0,O.Z)(function*(I){var D;const{appId:S,apiKey:L}=I,H={method:"GET",headers:Yr(L)},z=Gu.replace("{app-id}",S),le=yield fetch(z,H);if(200!==le.status&&304!==le.status){let ze="";try{const Be=yield le.json();null!==(D=Be.error)&&void 0!==D&&D.message&&(ze=Be.error.message)}catch{}throw kr.create("config-fetch-failed",{httpStatus:le.status,responseMessage:ze})}return le.json()})).apply(this,arguments)}function Ja(){return(Ja=(0,O.Z)(function*(I,D=ep,S){const{appId:L,apiKey:H,measurementId:z}=I.options;if(!L)throw kr.create("no-app-id");if(!H){if(z)return{measurementId:z,appId:L};throw kr.create("no-api-key")}const le=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ze=new mc;return setTimeout((0,O.Z)(function*(){ze.abort()}),void 0!==S?S:To),tp({appId:L,apiKey:H,measurementId:z},le,ze,D)})).apply(this,arguments)}function tp(I,D,S){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,O.Z)(function*(I,{throttleEndTimeMillis:D,backoffCount:S},L,H=ep){var z;const{appId:le,measurementId:ze}=I;try{yield function np(I,D){return new Promise((S,L)=>{const H=Math.max(D-Date.now(),0),z=setTimeout(S,H);I.addEventListener(()=>{clearTimeout(z),L(kr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(L,D)}catch(Be){if(ze)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${Be?.message}]`),{appId:le,measurementId:ze};throw Be}try{const Be=yield function ps(I){return Dn.apply(this,arguments)}(I);return H.deleteThrottleMetadata(le),Be}catch(Be){const it=Be;if(!function gc(I){if(!(I instanceof ne.ZR&&I.customData))return!1;const D=Number(I.customData.httpStatus);return 429===D||500===D||503===D||504===D}(it)){if(H.deleteThrottleMetadata(le),ze)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ze} provided in the "measurementId" field in the local Firebase config. [${it?.message}]`),{appId:le,measurementId:ze};throw Be}const Dt=503===Number(null===(z=it?.customData)||void 0===z?void 0:z.httpStatus)?(0,ne.$s)(S,H.intervalMillis,Wu):(0,ne.$s)(S,H.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+Dt,backoffCount:S+1};return H.setThrottleMetadata(le,Ct),hn.debug(`Calling attemptFetch again in ${Dt} millis`),tp(I,Ct,L,H)}}),Jd.apply(this,arguments)}class mc{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let uo,Xa;function Qa(){return(Qa=(0,O.Z)(function*(I,D,S,L,H){if(H&&H.global)I("event",S,L);else{const z=yield D;I("event",S,Object.assign(Object.assign({},L),{send_to:z}))}})).apply(this,arguments)}function eu(){return(eu=(0,O.Z)(function*(){if(!(0,ne.hl)())return hn.warn(kr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(I){return hn.warn(kr.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function qn(){return qn=(0,O.Z)(function*(I,D,S,L,H,z,le){var ze;const Be=function Am(I){return Ja.apply(this,arguments)}(I);Be.then(ir=>{S[ir.measurementId]=ir.appId,I.options.measurementId&&ir.measurementId!==I.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>hn.error(ir)),D.push(Be);const it=function Ec(){return eu.apply(this,arguments)}().then(ir=>{if(ir)return L.getId()}),[Dt,Ct]=yield Promise.all([Be,it]);(function Yd(I){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(jo)&&S.src.includes(I))return S;return null})(z)||function Ka(I,D){const S=function fs(I,D){let S;return window.trustedTypes&&(S=window.trustedTypes.createPolicy(I,D)),S}("firebase-js-sdk-policy",{createScriptURL:za}),L=document.createElement("script"),H=`${jo}?l=${I}&id=${D}`;L.src=S?S?.createScriptURL(H):H,L.async=!0,document.head.appendChild(L)}(z,Dt.measurementId),Xa&&(H("consent","default",Xa),function vc(I){Xa=I}(void 0)),H("js",new Date);const wr=null!==(ze=le?.config)&&void 0!==ze?ze:{};return wr[Rr]="firebase",wr.update=!0,null!=Ct&&(wr[hc]=Ct),H("config",Dt.measurementId,wr),uo&&(H("set",uo),function Ks(I){uo=I}(void 0)),Dt.measurementId}),qn.apply(this,arguments)}class Mt{constructor(D){this.app=D}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},tu=[];const nu={};let ru,Er,Go="dataLayer",bi=!1;function Ys(I,D,S){!function eh(){const I=[];if((0,ne.ru)()&&I.push("This is a browser extension environment."),(0,ne.zI)()||I.push("Cookies are not available."),I.length>0){const D=I.map((L,H)=>`(${H+1}) ${L}`).join(" "),S=kr.create("invalid-analytics-context",{errorInfo:D});hn.warn(S.message)}}();const L=I.options.appId;if(!L)throw kr.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw kr.create("no-api-key");hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[L])throw kr.create("already-exists",{id:L});if(!bi){!function Wd(I){let D=[];Array.isArray(window[I])?D=window[I]:window[I]=D}(Go);const{wrappedGtag:z,gtagCore:le}=function fc(I,D,S,L,H){let z=function(...le){window[L].push(arguments)};return window[H]&&"function"==typeof window[H]&&(z=window[H]),window[H]=function Vi(I,D,S,L){function z(){return z=(0,O.Z)(function*(le,...ze){try{if("event"===le){const[Be,it]=ze;yield function Wa(I,D,S,L,H){return $s.apply(this,arguments)}(I,D,S,Be,it)}else if("config"===le){const[Be,it]=ze;yield function zu(I,D,S,L,H,z){return Ku.apply(this,arguments)}(I,D,S,L,Be,it)}else if("consent"===le){const[Be]=ze;I("consent","update",Be)}else if("get"===le){const[Be,it,Dt]=ze;I("get",Be,it,Dt)}else if("set"===le){const[Be]=ze;I("set",Be)}else I(le,...ze)}catch(Be){hn.error(Be)}}),z.apply(this,arguments)}return function H(le){return z.apply(this,arguments)}}(z,I,D,S),{gtagCore:z,wrappedGtag:window[H]}}(Ci,tu,nu,Go,"gtag");Er=z,ru=le,bi=!0}return Ci[L]=function Ws(I,D,S,L,H,z,le){return qn.apply(this,arguments)}(I,tu,nu,D,ru,Go,S),new Mt(I)}function $o(){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,O.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const ou="@firebase/analytics";!function gs(){(0,X._registerComponent)(new ce.wA(Hn,(D,{options:S})=>Ys(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,X._registerComponent)(new ce.wA("analytics-internal",function I(D){try{const S=D.getProvider(Hn).getImmediate();return{logEvent:(L,H,z)=>function lo(I,D,S,L){I=(0,ne.m9)(I),function Qd(I,D,S,L,H){return Qa.apply(this,arguments)}(Er,Ci[I.app.options.appId],D,S,L).catch(H=>hn.error(H))}(S,L,H,z)}}catch(S){throw kr.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,X.registerVersion)(ou,"0.10.0"),(0,X.registerVersion)(ou,"0.10.0","esm2017")}();var tl=k(4408),nl=k(7565);const Dc=new class rl extends nl.v{}(class su extends tl.o{constructor(D,S){super(D,S),this.scheduler=D,this.work=S}schedule(D,S=0){return S>0?super.schedule(D,S):(this.delay=S,this.state=D,this.scheduler.flush(this),this)}execute(D,S){return S>0||this.closed?super.execute(D,S):this._execute(D,S)}requestAsyncId(D,S,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,S,L):(D.flush(this),0)}});var zo=k(4986),ms=k(8505),Do=k(9468),_s=k(5363);const Js=new a.GfV("7.6.1"),Zi="__angularfire_symbol__analyticsIsSupportedValue",au="__angularfire_symbol__analyticsIsSupported",il="__angularfire_symbol__remoteConfigIsSupportedValue",ol="__angularfire_symbol__remoteConfigIsSupported",uu="__angularfire_symbol__messagingIsSupportedValue",Qs="__angularfire_symbol__messagingIsSupported";function ys(I,D,S){if(D){if(1===D.length)return D[0];const z=D.filter(le=>le.app===S);if(1===z.length)return z[0]}return S.container.getProvider(I).getImmediate({optional:!0})}globalThis[au]||(globalThis[au]=$o().then(I=>globalThis[Zi]=I).catch(()=>globalThis[Zi]=!1)),globalThis[Qs]||(globalThis[Qs]=zt().then(I=>globalThis[uu]=I).catch(()=>globalThis[uu]=!1)),globalThis[ol]||(globalThis[ol]=us().then(I=>globalThis[il]=I).catch(()=>globalThis[il]=!1));const sp=(I,D)=>{const S=D?[D]:(0,$.C6)(),L=[];return S.forEach(H=>{H.container.getProvider(I).instances.forEach(le=>{L.includes(le)||L.push(le)})}),L};function Tn(){}class ap{constructor(D,S=Dc){this.zone=D,this.delegate=S}now(){return this.delegate.now()}schedule(D,S,L){const H=this.zone;return this.delegate.schedule(function(le){H.runGuarded(()=>{D.apply(this,[le])})},S,L)}}class Xs{constructor(D){this.zone=D,this.task=null}call(D,S){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tn,{},Tn,Tn)),S.pipe((0,ms.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let oh=(()=>{class I{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new ap(Zone.current)),this.insideAngular=S.run(()=>new ap(Zone.current,zo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(S){return new(S||I)(a.LFG(a.R0b))},I.\u0275prov=a.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Qn(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function up(I){return Qn(),function pv(I){return function(S){return(S=S.lift(new Xs(I.ngZone))).pipe((0,Do.R)(I.outsideAngular),(0,_s.Q)(I.insideAngular))}}(Qn())(I)}},2090:(ct,Ie,k)=>{k.d(Ie,{$s:()=>no,BH:()=>W,G6:()=>we,L:()=>de,LL:()=>Ut,Pz:()=>pe,Sg:()=>he,UG:()=>ie,US:()=>ce,ZB:()=>J,ZR:()=>Xe,aH:()=>te,b$:()=>fr,eu:()=>qe,hl:()=>Me,jU:()=>He,m9:()=>$t,ne:()=>cn,pd:()=>pt,r3:()=>Kn,ru:()=>jt,tV:()=>V,uI:()=>Ve,vZ:()=>ni,w1:()=>Po,xO:()=>Aa,xb:()=>ns,z$:()=>be,zI:()=>Ue,zd:()=>$e});const X=function(U){const F=[];let G=0;for(let ve=0;ve<U.length;ve++){let oe=U.charCodeAt(ve);oe<128?F[G++]=oe:oe<2048?(F[G++]=oe>>6|192,F[G++]=63&oe|128):55296==(64512&oe)&&ve+1<U.length&&56320==(64512&U.charCodeAt(ve+1))?(oe=65536+((1023&oe)<<10)+(1023&U.charCodeAt(++ve)),F[G++]=oe>>18|240,F[G++]=oe>>12&63|128,F[G++]=oe>>6&63|128,F[G++]=63&oe|128):(F[G++]=oe>>12|224,F[G++]=oe>>6&63|128,F[G++]=63&oe|128)}return F},ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,F){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let oe=0;oe<U.length;oe+=3){const nt=U[oe],gt=oe+1<U.length,kt=gt?U[oe+1]:0,_n=oe+2<U.length,dn=_n?U[oe+2]:0;let mr=(15&kt)<<2|dn>>6,vi=63&dn;_n||(vi=64,gt||(mr=64)),ve.push(G[nt>>2],G[(3&nt)<<4|kt>>4],G[mr],G[vi])}return ve.join("")},encodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(U):this.encodeByteArray(X(U),F)},decodeString(U,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(U):function(U){const F=[];let G=0,ve=0;for(;G<U.length;){const oe=U[G++];if(oe<128)F[ve++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const nt=U[G++];F[ve++]=String.fromCharCode((31&oe)<<6|63&nt)}else if(oe>239&&oe<365){const _n=((7&oe)<<18|(63&U[G++])<<12|(63&U[G++])<<6|63&U[G++])-65536;F[ve++]=String.fromCharCode(55296+(_n>>10)),F[ve++]=String.fromCharCode(56320+(1023&_n))}else{const nt=U[G++],gt=U[G++];F[ve++]=String.fromCharCode((15&oe)<<12|(63&nt)<<6|63&gt)}}return F.join("")}(this.decodeStringToByteArray(U,F))},decodeStringToByteArray(U,F){this.init_();const G=F?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let oe=0;oe<U.length;){const nt=G[U.charAt(oe++)],kt=oe<U.length?G[U.charAt(oe)]:0;++oe;const dn=oe<U.length?G[U.charAt(oe)]:64;++oe;const Gt=oe<U.length?G[U.charAt(oe)]:64;if(++oe,null==nt||null==kt||null==dn||null==Gt)throw new fe;ve.push(nt<<2|kt>>4),64!==dn&&(ve.push(kt<<4&240|dn>>2),64!==Gt&&ve.push(dn<<6&192|Gt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(U){return function(U){const F=X(U);return ce.encodeByteArray(F,!0)}(U).replace(/\./g,"")},V=function(U){try{return ce.decodeString(U,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function J(U,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return F}for(const G in F)!F.hasOwnProperty(G)||!Pe(G)||(U[G]=J(U[G],F[G]));return U}function Pe(U){return"__proto__"!==U}const Ne=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const F=U&&V(U[1]);return F&&JSON.parse(F)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},te=()=>{var U;return null===(U=Ne())||void 0===U?void 0:U.config},pe=U=>{var F;return null===(F=Ne())||void 0===F?void 0:F[`_${U}`]};class W{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,G)=>{this.resolve=F,this.reject=G})}wrapCallback(F){return(G,ve)=>{G?this.reject(G):this.resolve(ve),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F(G):F(G,ve))}}}function he(U,F){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=F||"demo-project",oe=U.iat||0,nt=U.sub||U.user_id;if(!nt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const gt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:oe,exp:oe+3600,auth_time:oe,sub:nt,user_id:nt,firebase:{sign_in_provider:"custom",identities:{}}},U);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(gt)),""].join(".")}function be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function ie(){var U;const F=null===(U=Ne())||void 0===U?void 0:U.forceEnvironment;if("node"===F)return!0;if("browser"===F)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function jt(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function fr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Po(){const U=be();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function we(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){try{return"object"==typeof indexedDB}catch{return!1}}function qe(){return new Promise((U,F)=>{try{let G=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ve);oe.onsuccess=()=>{oe.result.close(),G||self.indexedDB.deleteDatabase(ve),U(!0)},oe.onupgradeneeded=()=>{G=!1},oe.onerror=()=>{var nt;F((null===(nt=oe.error)||void 0===nt?void 0:nt.message)||"")}}catch(G){F(G)}})}function Ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Xe extends Error{constructor(F,G,ve){super(G),this.code=F,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ut.prototype.create)}}class Ut{constructor(F,G,ve){this.service=F,this.serviceName=G,this.errors=ve}create(F,...G){const ve=G[0]||{},oe=`${this.service}/${F}`,nt=this.errors[F],gt=nt?function tt(U,F){return U.replace(ft,(G,ve)=>{const oe=F[ve];return null!=oe?String(oe):`<${ve}?>`})}(nt,ve):"Error";return new Xe(oe,`${this.serviceName}: ${gt} (${oe}).`,ve)}}const ft=/\{\$([^}]+)}/g;function Kn(U,F){return Object.prototype.hasOwnProperty.call(U,F)}function ns(U){for(const F in U)if(Object.prototype.hasOwnProperty.call(U,F))return!1;return!0}function ni(U,F){if(U===F)return!0;const G=Object.keys(U),ve=Object.keys(F);for(const oe of G){if(!ve.includes(oe))return!1;const nt=U[oe],gt=F[oe];if(ri(nt)&&ri(gt)){if(!ni(nt,gt))return!1}else if(nt!==gt)return!1}for(const oe of ve)if(!G.includes(oe))return!1;return!0}function ri(U){return null!==U&&"object"==typeof U}function Aa(U){const F=[];for(const[G,ve]of Object.entries(U))Array.isArray(ve)?ve.forEach(oe=>{F.push(encodeURIComponent(G)+"="+encodeURIComponent(oe))}):F.push(encodeURIComponent(G)+"="+encodeURIComponent(ve));return F.length?"&"+F.join("&"):""}function $e(U){const F={};return U.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[oe,nt]=ve.split("=");F[decodeURIComponent(oe)]=decodeURIComponent(nt)}}),F}function pt(U){const F=U.indexOf("?");if(!F)return"";const G=U.indexOf("#",F);return U.substring(F,G>0?G:void 0)}function cn(U,F){const G=new bn(U,F);return G.subscribe.bind(G)}class bn{constructor(F,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{F(this)}).catch(ve=>{this.error(ve)})}next(F){this.forEachObserver(G=>{G.next(F)})}error(F){this.forEachObserver(G=>{G.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,G,ve){let oe;if(void 0===F&&void 0===G&&void 0===ve)throw new Error("Missing Observer.");oe=function on(U,F){if("object"!=typeof U||null===U)return!1;for(const G of F)if(G in U&&"function"==typeof U[G])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:G,complete:ve},void 0===oe.next&&(oe.next=pr),void 0===oe.error&&(oe.error=pr),void 0===oe.complete&&(oe.complete=pr);const nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),nt}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,F)}sendOne(F,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{G(this.observers[F])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pr(){}const to=1e3,gr=2,nr=144e5,mn=.5;function no(U,F=to,G=gr){const ve=F*Math.pow(G,U),oe=Math.round(mn*ve*(Math.random()-.5)*2);return Math.min(nr,ve+oe)}function $t(U){return U&&U._delegate?U._delegate:U}},6741:(ct,Ie,k)=>{var a=k(2223);let $=null;function O(){return $}class ne{}const ce=new a.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(de)},providedIn:"platform"}),n})();const ke=new a.OlP("Location Initialized");let de=(()=>{class n extends fe{constructor(){super(),this._doc=(0,a.f3M)(ce),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function V(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Z(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function J(n){return n&&"?"!==n[0]?"?"+n:n}let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ye)},providedIn:"root"}),n})();const De=new a.OlP("appBaseHref");let Ye=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return V(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+J(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,l){const d=this.prepareExternalUrl(o+J(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){const d=this.prepareExternalUrl(o+J(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(De,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends Pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=V(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,l){let d=this.prepareExternalUrl(o+J(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,l){let d=this.prepareExternalUrl(o+J(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(De,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Z(ht(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+J(r))}normalize(t){return n.stripTrailingSlash(function _t(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ht(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+J(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+J(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=J,n.joinWithSlash=V,n.stripTrailingSlash=Z,n.\u0275fac=function(t){return new(t||n)(a.LFG(Pe))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ne(){return new Ge((0,a.LFG)(Pe))}()},providedIn:"root"}),n})();function ht(n){return n.replace(/\/index.html$/,"")}let Rs=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new mm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qf("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qf("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class mm{constructor(){this.$implicit=null,this.ngIf=null}}function qf(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let wi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function as(n){return"server"===n}let so=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Wr((0,a.LFG)(ce),window)}),n})();class Wr{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function us(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const l=o.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],o-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ii(this.window.history)||Ii(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ii(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oc extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Zo extends oc{static makeCurrent(){!function X(n){$||($=n)}(new Zo)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function bm(){return ur=ur||document.querySelector("base"),ur?ur.getAttribute("href"):null}();return null==t?null:function Hd(n){Zs=Zs||document.createElement("a"),Zs.setAttribute("href",n);const e=Zs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ur=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function is(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Zs,ur=null,sc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const qd=new a.OlP("EventManagerPlugins");let ac=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(l=>l.supports(t)),!r)throw new a.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(qd),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class qu{constructor(e){this._doc=e}}const uc="ng-app-id";let Hs=(()=>{class n{constructor(t,r,o,l={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=as(l),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${uc}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const l=o.get(t);return l.usage+=r,l.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,l=o?.get(r);if(l?.parentNode===t)return o.delete(r),l.removeAttribute(uc),l;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(uc,this.appId),d}}addStyleToHost(t,r){const o=this.getStyleElement(t,r);t.appendChild(o);const l=this.styleRef,d=l.get(r)?.elements;d?d.push(o):l.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(a.AFp),a.LFG(a.Ojb,8),a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const mt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qo=/%COMP%/g,$d=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ga(n,e){return e.map(t=>t.replace(qo,n))}let cc=(()=>{class n{constructor(t,r,o,l,d,m,w,C=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestory=l,this.doc=d,this.platformId=m,this.ngZone=w,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=as(m),this.defaultRenderer=new js(t,d,w,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===a.ifc.ShadowDom&&(r={...r,encapsulation:a.ifc.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof An?o.applyToHost(t):o instanceof dc&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let l=o.get(r.id);if(!l){const d=this.doc,m=this.ngZone,w=this.eventManager,C=this.sharedStylesHost,M=this.removeStylesOnCompDestory,R=this.platformIsServer;switch(r.encapsulation){case a.ifc.Emulated:l=new An(w,C,r,this.appId,M,d,m,R);break;case a.ifc.ShadowDom:return new ju(w,C,t,r,d,m,this.nonce,R);default:l=new dc(w,C,r,M,d,m,R)}l.onDestroy=()=>o.delete(r.id),o.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ac),a.LFG(Hs),a.LFG(a.AFp),a.LFG($d),a.LFG(ce),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(a.Ojb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class js{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(mt[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(zt(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(zt(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new a.vHH(5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const l=mt[o];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=mt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,o&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=O().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function zt(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ju extends js{constructor(e,t,r,o,l,d,m,w){super(e,l,d,w),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=Ga(o.id,o.styles);for(const M of C){const R=document.createElement("style");m&&R.setAttribute("nonce",m),R.textContent=M,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class dc extends js{constructor(e,t,r,o,l,d,m,w){super(e,l,d,m),this.sharedStylesHost=t,this.removeStylesOnCompDestory=o,this.rendererUsageCount=0,this.styles=w?Ga(w,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class An extends dc{constructor(e,t,r,o,l,d,m,w){const C=o+"-"+r.id;super(e,t,r,l,d,m,w,C),this.contentAttr=function qs(n){return"_ngcontent-%COMP%".replace(qo,n)}(C),this.hostAttr=function ja(n){return"_nghost-%COMP%".replace(qo,n)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Xf=(()=>{class n extends qu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Di=["alt","control","meta","shift"],Io={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$a={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Gs=(()=>{class n extends qu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const l=n._normalizeKey(r.pop());let d="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),d="code."),Di.forEach(C=>{const M=r.indexOf(C);M>-1&&(r.splice(M,1),d+=C+".")}),d+=l,0!=r.length||0===l.length)return null;const w={};return w.domEventName=o,w.fullKey=d,w}static matchEventFullKeyCode(t,r){let o=Io[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(o=t.code,l="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Di.forEach(d=>{d!==o&&(0,$a[d])(t)&&(l+=d+".")}),l+=o,l===r)}static eventCallback(t,r,o){return l=>{n.matchEventFullKeyCode(l,t)&&o.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Kd=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function To(){Zo.makeCurrent()},multi:!0},{provide:ce,useFactory:function jo(){return(0,a.RDi)(document),document},deps:[]}]),kr=new a.OlP(""),za=[{provide:a.rWj,useClass:class Ho{addToWindow(e){a.dqk.getAngularTestability=(r,o=!0)=>{const l=e.findTestabilityInTree(r,o);if(null==l)throw new a.vHH(5103,!1);return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const o=a.dqk.getAllAngularTestabilities();let l=o.length,d=!1;const m=function(w){d=d||w,l--,0==l&&r(d)};o.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],$u=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Gu(){return new a.qLn},deps:[]},{provide:qd,useClass:Xf,multi:!0,deps:[ce,a.R0b,a.Lbi]},{provide:qd,useClass:Gs,multi:!0,deps:[ce]},cc,Hs,ac,{provide:a.FYo,useExisting:cc},{provide:class ar{},useClass:sc,deps:[]},[]];let fs=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(kr,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...$u,...za],imports:[wi,a.hGG]}),n})(),Wa=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ku(){return new Wa((0,a.LFG)(ce))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var fn=k(8996),vr=k(9751);const{isArray:ip}=Array,{getPrototypeOf:Ju,prototype:Xa,keys:vc}=Object;function Ks(n){if(1===n.length){const e=n[0];if(ip(e))return{args:e,keys:null};if(function Ec(n){return n&&"object"==typeof n&&Ju(n)===Xa}(e)){const t=vc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var eu=k(8421),Ws=k(7669),qn=k(5403),Mt=k(4004);const{isArray:Ci}=Array;function nu(n){return(0,Mt.U)(e=>function tu(n,e){return Ci(e)?n(...e):n(e)}(n,e))}function Go(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let ru=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Er=(()=>{class n extends ru{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const bi=new a.OlP("NgValueAccessor"),Ys={provide:bi,useExisting:(0,a.Gpc)(()=>$o),multi:!0},Qu=new a.OlP("CompositionEventMode");let $o=(()=>{class n extends ru{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function th(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Qu,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([Ys]),a.qOj]}),n})();const Or=new a.OlP("NgValidators"),Bi=new a.OlP("NgAsyncValidators");function lo(n){return function Ai(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function su(n){return null}function nl(n){return null!=n}function rl(n){return(0,a.QGY)(n)?(0,fn.D)(n):n}function Dc(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Cc(n,e){return e.map(t=>t(n))}function ms(n){return n.map(e=>function zo(n){return!n.validate}(e)?e:t=>e.validate(t))}function _s(n){return null!=n?function Do(n){if(!n)return null;const e=n.filter(nl);return 0==e.length?null:function(t){return Dc(Cc(t,e))}}(ms(n)):null}function Zi(n){return null!=n?function Js(n){if(!n)return null;const e=n.filter(nl);return 0==e.length?null:function(t){return function wc(...n){const e=(0,Ws.jO)(n),{args:t,keys:r}=Ks(n),o=new vr.y(l=>{const{length:d}=t;if(!d)return void l.complete();const m=new Array(d);let w=d,C=d;for(let M=0;M<d;M++){let R=!1;(0,eu.Xf)(t[M]).subscribe((0,qn.x)(l,q=>{R||(R=!0,C--),m[M]=q},()=>w--,void 0,()=>{(!w||!R)&&(C||l.next(r?Go(r,m):m),l.complete())}))}});return e?o.pipe(nu(e)):o}(Cc(t,e).map(rl)).pipe((0,Mt.U)(Dc))}}(ms(n)):null}function au(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function uu(n){return n?Array.isArray(n)?n:[n]:[]}function Qs(n,e){return Array.isArray(n)?n.includes(e):n===e}function bc(n,e){const t=uu(e);return uu(n).forEach(o=>{Qs(t,o)||t.push(o)}),t}function op(n,e){return uu(e).filter(t=>!Qs(n,t))}class ih{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_s(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class lr extends ih{get formDirective(){return null}get path(){return null}}class ys extends ih{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sp{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xs=(()=>{class n extends sp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ys,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})();const Be="VALID",it="INVALID",Dt="PENDING",Ct="DISABLED";function ci(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class cu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Be}get invalid(){return this.status===it}get pending(){return this.status==Dt}get disabled(){return this.status===Ct}get enabled(){return this.status!==Ct}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(bc(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(bc(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(op(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(op(e,this._rawAsyncValidators))}hasValidator(e){return Qs(this._rawValidators,e)}hasAsyncValidator(e){return Qs(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Dt,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ct,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Be,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Be||this.status===Dt)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ct:Be}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Dt,this._hasOwnPendingAsyncValidator=!0;const t=rl(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?Ct:this.errors?it:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dt)?Dt:this._anyControlsHaveStatus(it)?it:Be}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ci(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function ir(n){return Array.isArray(n)?_s(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Ac(n){return Array.isArray(n)?Zi(n):n||null}(this._rawAsyncValidators)}}const Gi=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Mc}),Mc="always";function ul(n,e,t=Mc){(function dp(n,e){const t=function il(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(au(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function ol(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(au(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();cp(e._rawValidators,o),cp(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function uh(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ta(n,e)})}(n,e),function Sm(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function _v(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ta(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function mv(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function cp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ta(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ll(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function mp(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _p=class extends cu{constructor(e=null,t,r){super(function wr(n){return(ci(n)?n.validators:n)||null}(t),function qi(n,e){return(ci(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ci(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=mp(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ll(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ll(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){mp(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},km={provide:ys,useExisting:(0,a.Gpc)(()=>Ip)},ch=(()=>Promise.resolve())();let Ip=(()=>{class n extends ys{constructor(t,r,o,l,d,m){super(),this._changeDetectorRef=d,this.callSetDisabledState=m,this.control=new _p,this._registered=!1,this.name="",this.update=new a.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Rm(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(l=>{l.constructor===$o?t=l:function pp(n){return Object.getPrototypeOf(n.constructor)===Er}(l)?r=l:o=l}),o||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Nm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ul(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){ch.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=0!==r&&(0,a.D6c)(r);ch.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function sh(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(lr,9),a.Y36(Or,10),a.Y36(Bi,10),a.Y36(bi,10),a.Y36(a.sBO,8),a.Y36(Gi,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([km]),a.qOj,a.TTD]}),n})(),di=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const mh={provide:bi,useExisting:(0,a.Gpc)(()=>Rc),multi:!0};function Pm(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Rc=(()=>{class n extends Er{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=Pm(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function co(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([mh]),a.qOj]}),n})(),Fm=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Pm(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Rc,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const xp={provide:bi,useExisting:(0,a.Gpc)(()=>oa),multi:!0};function _h(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let oa=(()=>{class n extends Er{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(l=>this._getOptionId(l));r=(l,d)=>{l._setSelected(o.indexOf(d.toString())>-1)}}else r=(o,l)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],l=r.selectedOptions;if(void 0!==l){const d=l;for(let m=0;m<d.length;m++){const C=this._getOptionValue(d[m].value);o.push(C)}}else{const d=r.options;for(let m=0;m<d.length;m++){const w=d[m];if(w.selected){const C=this._getOptionValue(w.value);o.push(C)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function Np(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([xp]),a.qOj]}),n})(),kc=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(_h(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(_h(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(oa,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Co=(()=>{class n{constructor(){this._validator=su}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):su,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const Tv={provide:Or,useExisting:(0,a.Gpc)(()=>dl),multi:!0};let dl=(()=>{class n extends Co{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=t=>lo}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Tv]),a.qOj]}),n})(),rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[di]}),n})(),Ih=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gi,useValue:t.callSetDisabledState??Mc}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rt]}),n})();var Si=k(2011),Dh=k(4986),wt=k(9646),Tr=k(4976),hl=k(8189);function Dv(...n){return function ob(){return(0,hl.J)(1)}()((0,fn.D)(n,(0,Ws.yG)(n)))}var Ao=k(4482);function Fp(...n){const e=(0,Ws.yG)(n);return(0,Ao.e)((t,r)=>{(e?Dv(n,t,e):Dv(n,t)).subscribe(r)})}function Bm(){return(0,Ao.e)((n,e)=>{let t,r=!1;n.subscribe((0,qn.x)(e,o=>{const l=t;t=o,r&&e.next([l,o]),r=!0}))})}function Ch(n,e){return(0,Ao.e)(function Zm(n,e,t,r,o){return(l,d)=>{let m=t,w=e,C=0;l.subscribe((0,qn.x)(d,M=>{const R=C++;w=m?n(w,M,R):(m=!0,M),r&&d.next(w)},o&&(()=>{m&&d.next(w),d.complete()})))}}(n,e,arguments.length>=2,!0))}var bh=k(1884);function Es(n,e){return(0,Ao.e)((t,r)=>{let o=0;t.subscribe((0,qn.x)(r,l=>n.call(e,l,o++)&&r.next(l)))})}k(2644);var Qe,DM=k(3942),ge=k(5861),hu=k(6881),Hm=k(4859),Wo=k(1877),rn=k(2090),Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yo={},qm=qm||{},Vt=Cv||self;function jm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Vp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var bv="closure_uid_"+(1e9*Math.random()>>>0),ab=0;function fl(n,e,t){return n.call.apply(n.bind,arguments)}function Up(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function xi(n,e,t){return(xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fl:Up).apply(null,arguments)}function Av(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function hi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,o,l){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[o].apply(r,d)}}function Lc(){this.s=this.s,this.o=this.o}Lc.prototype.s=!1,Lc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function sb(n){Object.prototype.hasOwnProperty.call(n,bv)&&n[bv]||(n[bv]=++ab)}(this)},Lc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ub=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Gm(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function tI(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(jm(r)){const o=n.length||0,l=r.length||0;n.length=o+l;for(let d=0;d<l;d++)n[o+d]=r[d]}else n.push(r)}}function Ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ni.prototype.h=function(){this.defaultPrevented=!0};var lb=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",()=>{},e),Vt.removeEventListener("test",()=>{},e)}catch{}return n}();function Bp(n){return/^[\s\xa0]*$/.test(n)}function Ah(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function Jr(n){return-1!=Ah().indexOf(n)}function Pc(n){return Pc[" "](n),n}Pc[" "]=function(){};var oI,n,rI=Jr("Opera"),Fc=Jr("Trident")||Jr("MSIE"),cb=Jr("Edge"),iI=cb||Fc,db=Jr("Gecko")&&!(-1!=Ah().toLowerCase().indexOf("webkit")&&!Jr("Edge"))&&!(Jr("Trident")||Jr("MSIE"))&&!Jr("Edge"),Mv=-1!=Ah().toLowerCase().indexOf("webkit")&&!Jr("Edge");function $m(){var n=Vt.document;return n?n.documentMode:void 0}e:{var sI="",zm=(n=Ah(),db?/rv:([^\);]+)(\)|;)/.exec(n):cb?/Edge\/([\d\.]+)/.exec(n):Fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Mv?/WebKit\/(\S+)/.exec(n):rI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zm&&(sI=zm?zm[1]:""),Fc){var Sv=$m();if(null!=Sv&&Sv>parseFloat(sI)){oI=String(Sv);break e}}oI=sI}var hb=Vt.document&&Fc&&($m()||parseInt(oI,10))||void 0;function Mh(n,e){if(Ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(db){e:{try{Pc(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Km[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mh.$.h.call(this)}}hi(Mh,Ni);var Km={2:"touch",3:"pen",4:"mouse"};Mh.prototype.h=function(){Mh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zp="closure_listenable_"+(1e6*Math.random()|0),Nv=0;function fb(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=o,this.key=++Nv,this.fa=this.ia=!1}function or(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Rv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kv(n){const e={};for(const t in n)e[t]=n[t];return e}const Ov="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uI(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let l=0;l<Ov.length;l++)t=Ov[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Wm(n){this.src=n,this.g={},this.h=0}function Lv(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],o=ub(r,e);(l=0<=o)&&Array.prototype.splice.call(r,o,1),l&&(or(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Pv(n,e,t,r){for(var o=0;o<n.length;++o){var l=n[o];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==r)return o}return-1}Wm.prototype.add=function(n,e,t,r,o){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=Pv(n,e,r,o);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new fb(e,this.src,l,!!r,o)).ia=t,n.push(e)),e};var Ym="closure_lm_"+(1e6*Math.random()|0),lI={};function gb(n,e,t,r,o){if(r&&r.once)return xh(n,e,t,r,o);if(Array.isArray(e)){for(var l=0;l<e.length;l++)gb(n,e[l],t,r,o);return null}return t=Xm(t),n&&n[Zp]?n.O(e,t,Vp(r)?!!r.capture:!!r,o):Sh(n,e,t,!1,r,o)}function Sh(n,e,t,r,o,l){if(!e)throw Error("Invalid event type");var d=Vp(o)?!!o.capture:!!o,m=Uv(n);if(m||(n[Ym]=m=new Wm(n)),(t=m.add(e,t,r,d,l)).proxy)return t;if(r=function pn(){const e=cI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lb||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Vv(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xh(n,e,t,r,o){if(Array.isArray(e)){for(var l=0;l<e.length;l++)xh(n,e[l],t,r,o);return null}return t=Xm(t),n&&n[Zp]?n.P(e,t,Vp(r)?!!r.capture:!!r,o):Sh(n,e,t,!0,r,o)}function Fv(n,e,t,r,o){if(Array.isArray(e))for(var l=0;l<e.length;l++)Fv(n,e[l],t,r,o);else r=Vp(r)?!!r.capture:!!r,t=Xm(t),n&&n[Zp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Pv(l=n.g[e],t,r,o))&&(or(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Uv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Pv(e,t,r,o)),(t=-1<n?e[n]:null)&&Jm(t))}function Jm(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Zp])Lv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Vv(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Uv(e))?(Lv(t,n),0==t.h&&(t.src=null,e[Ym]=null)):or(n)}}}function Vv(n){return n in lI?lI[n]:lI[n]="on"+n}function cI(n,e){if(n.fa)n=!0;else{e=new Mh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Jm(n),n=t.call(r,e)}return n}function Uv(n){return(n=n[Ym])instanceof Wm?n:null}var Qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xm(n){return"function"==typeof n?n:(n[Qm]||(n[Qm]=function(e){return n.handleEvent(e)}),n[Qm])}function Pr(){Lc.call(this),this.i=new Wm(this),this.S=this,this.J=null}function Ri(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ni(e,n);else if(e instanceof Ni)e.target=e.target||n;else{var o=e;uI(e=new Ni(r,n),o)}if(o=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];o=Nh(d,r,!0,e)&&o}if(o=Nh(d=e.g=n,r,!0,e)&&o,o=Nh(d,r,!1,e)&&o,t)for(l=0;l<t.length;l++)o=Nh(d=e.g=t[l],r,!1,e)&&o}function Nh(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.fa&&d.capture==t){var m=d.listener,w=d.la||d.src;d.ia&&Lv(n.i,d),o=!1!==m.call(w,r)&&o}}return o&&!r.defaultPrevented}hi(Pr,Lc),Pr.prototype[Zp]=!0,Pr.prototype.removeEventListener=function(n,e,t,r){Fv(this,n,e,t,r)},Pr.prototype.N=function(){if(Pr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)or(t[r]);delete n.g[e],n.h--}}this.J=null},Pr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Bv=Vt.JSON.stringify;function dI(){var n=Rh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var pl=new class Zv{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new mb,n=>n.reset());class mb{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Hv(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function e_(n){Vt.setTimeout(()=>{throw n},0)}let Hp,Vc=!1,Rh=new class hI{constructor(){this.h=this.g=null}add(e,t){const r=pl.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},gl=()=>{const n=Vt.Promise.resolve(void 0);Hp=()=>{n.then(qv)}};var qv=()=>{for(var n;n=dI();){try{n.h.call(n.g)}catch(t){e_(t)}var e=pl;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Vc=!1};function kh(n,e){Pr.call(this),this.h=n||1,this.g=e||Vt,this.j=xi(this.qb,this),this.l=Date.now()}function jv(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Gv(n,e,t){if("function"==typeof n)t&&(n=xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Vt.setTimeout(n,e||0)}function $v(n){n.g=Gv(()=>{n.g=null,n.i&&(n.i=!1,$v(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}hi(kh,Pr),(Qe=kh.prototype).ga=!1,Qe.T=null,Qe.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ri(this,"tick"),this.ga&&(jv(this),this.start()))}},Qe.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.N=function(){kh.$.N.call(this),jv(this),delete this.g};class Oh extends Lc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$v(this)}N(){super.N(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qp(n){Lc.call(this),this.h=n,this.g={}}hi(qp,Lc);var fI=[];function pI(n,e,t,r){Array.isArray(t)||(t&&(fI[0]=t.toString()),t=fI);for(var o=0;o<t.length;o++){var l=gb(e,t[o],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function t_(n){Rv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Jm(e)},n),n.g={}}function jp(){this.g=!0}function ml(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function AM(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var l=o[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<o.length;d++)o[d]=""}}}return Bv(t)}catch{return e}}(n,t)+(r?" "+r:"")})}qp.prototype.N=function(){qp.$.N.call(this),t_(this)},qp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jp.prototype.Ea=function(){this.g=!1},jp.prototype.info=function(){};var Uc={},mI=null;function zv(){return mI=mI||new Pr}function yb(n){Ni.call(this,Uc.Ta,n)}function _l(n){const e=zv();Ri(e,new yb(e))}function _I(n,e){Ni.call(this,Uc.STAT_EVENT,n),this.stat=e}function fi(n){const e=zv();Ri(e,new _I(e,n))}function n_(n,e){Ni.call(this,Uc.Ua,n),this.size=e}function fu(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},e)}Uc.Ta="serverreachability",hi(yb,Ni),Uc.STAT_EVENT="statevent",hi(_I,Ni),Uc.Ua="timingevent",hi(n_,Ni);var Lh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},r_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bc(){}function Ph(){}Bc.prototype.h=null;var yI,Fh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function $p(){Ni.call(this,"d")}function Vh(){Ni.call(this,"c")}function Uh(){}function Zc(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new qp(this),this.P=vb,this.V=new kh(n=iI?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Kv}function Kv(){this.i=null,this.g="",this.h=!1}hi($p,Ni),hi(Vh,Ni),hi(Uh,Bc),Uh.prototype.g=function(){return new XMLHttpRequest},Uh.prototype.i=function(){return{}},yI=new Uh;var vb=45e3,Wv={},zp={};function i_(n,e,t){n.L=1,n.v=Kp(Jo(e)),n.s=t,n.S=!0,vI(n,null)}function vI(n,e){n.G=Date.now(),Hc(n),n.A=Jo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Xv(t.i,"t",r),n.C=0,t=n.l.J,n.h=new Kv,n.g=VI(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Oh(xi(n.Pa,n,n.g),n.O)),pI(n.U,n.g,"readystatechange",n.nb),e=n.I?kv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),_l(),function _b(n,e,t,r,o,l){n.info(function(){if(n.g)if(l)for(var d="",m=l.split("&"),w=0;w<m.length;w++){var C=m[w].split("=");if(1<C.length){var M=C[0];C=C[1];var R=M.split("_");d=2<=R.length&&"type"==R[1]?d+(M+"=")+C+"&":d+(M+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function EI(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Eb(n,e,t){let o,r=!0;for(;!n.J&&n.C<t.length;){if(o=wb(n,t),o==zp){4==e&&(n.o=4,fi(14),r=!1),ml(n.j,n.m,null,"[Incomplete Response]");break}if(o==Wv){n.o=4,fi(15),ml(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ml(n.j,n.m,o,null),Zh(n,o)}EI(n)&&o!=zp&&o!=Wv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,fi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),ig(e),e.M=!0,fi(11))):(ml(n.j,n.m,t,"[Invalid Chunked Response]"),pu(n),Bh(n))}function wb(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?zp:(t=Number(e.substring(t,r)),isNaN(t)?Wv:(r+=1)+t>e.length?zp:(e=e.slice(r,r+t),n.C=r+t,e))}function Hc(n){n.Y=Date.now()+n.P,o_(n,n.P)}function o_(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fu(xi(n.lb,n),e)}function s_(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Bh(n){0==n.l.H||n.J||LI(n.l,n)}function pu(n){s_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,jv(n.V),t_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Zh(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||l_(t.i,n)))if(!n.K&&l_(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Kh(t),ng(t)}rg(t),fi(18)}}else t.Fa=o[1],0<t.Fa-t.V&&37500>o[2]&&t.G&&0==t.A&&!t.v&&(t.v=fu(xi(t.ib,t),6e3));if(1>=AI(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else zc(t,11)}else if((n.K||t.g==n)&&Kh(t),!Bp(e))for(o=t.Ja.g.parse(e),e=0;e<o.length;e++){let C=o[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const M=C[3];null!=M&&(t.ra=M,t.l.info("VER="+t.ra));const R=C[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const q=C[5];null!=q&&"number"==typeof q&&0<q&&(t.L=r=1.5*q,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const Q=n.g;if(Q){const me=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(me){var l=r.i;l.g||-1==me.indexOf("spdy")&&-1==me.indexOf("quic")&&-1==me.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(yl(l,l.h),l.h=null))}if(r.F){const Le=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;Le&&(r.Da=Le,jn(r.I,r.F,Le))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=FI(r,r.J?r.pa:null,r.Y),d.K){aa(r.i,d);var m=d,w=r.L;w&&m.setTimeout(w),m.B&&(s_(m),Hc(m)),r.g=d}else f_(r);0<t.j.length&&$c(t)}else"stop"!=C[0]&&"close"!=C[0]||zc(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?zc(t,7):vl(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}_l()}catch{}}function II(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function wI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(jm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Ib(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(jm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length,l=0;l<o;l++)e.call(void 0,r[l],t&&t[l],n)}(Qe=Zc.prototype).setTimeout=function(n){this.P=n},Qe.nb=function(n){n=n.target;const e=this.M;e&&3==ws(n)?e.l():this.Pa(n)},Qe.Pa=function(n){try{if(n==this.g)e:{const M=ws(this.g);var e=this.g.Ia();if(this.g.da(),!(3>M)&&(3!=M||iI||this.g&&(this.h.h||this.g.ja()||kI(this.g)))){this.J||4!=M||7==e||_l(),s_(this);var t=this.g.da();this.ca=t;t:if(EI(this)){var r=kI(this.g);n="";var o=r.length,l=4==ws(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pu(this),Bh(this);var d="";break t}this.h.i=new Vt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function gI(n,e,t,r,o,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.W,M,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bp(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,fi(12),pu(this),Bh(this);break e}ml(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zh(this,t)}this.S?(Eb(this,M,d),iI&&this.i&&3==M&&(pI(this.U,this.V,"tick",this.mb),this.V.start())):(ml(this.j,this.m,d,null),Zh(this,d)),4==M&&pu(this),this.i&&!this.J&&(4==M?LI(this.l,this):(this.i=!1,Hc(this)))}else(function Sb(n){const e={};n=(n.g&&2<=ws(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Bp(n[r]))continue;var t=Hv(n[r]);const o=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[o]||[];e[o]=l,l.push(t)}!function pb(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.o=3,fi(12)):(this.o=0,fi(13)),pu(this),Bh(this)}}}catch{}},Qe.mb=function(){if(this.g){var n=ws(this.g),e=this.g.ja();this.C<e.length&&(s_(this),Eb(this,n,e),this.i&&4!=n&&Hc(this))}},Qe.cancel=function(){this.J=!0,pu(this)},Qe.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function bM(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(_l(),fi(17)),pu(this),this.o=2,Bh(this)):o_(this,this.Y-n)};var Yv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qc){this.h=n.h,a_(this,n.j),this.s=n.s,this.g=n.g,gu(this,n.m),this.l=n.l;var e=n.i,t=new u_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Hh(this,t),this.o=n.o}else n&&(e=String(n).match(Yv))?(this.h=!1,a_(this,e[1]||"",!0),this.s=Wp(e[2]||""),this.g=Wp(e[3]||"",!0),gu(this,e[4]),this.l=Wp(e[5]||"",!0),Hh(this,e[6]||"",!0),this.o=Wp(e[7]||"")):(this.h=!1,this.i=new u_(null,this.h))}function Jo(n){return new qc(n)}function a_(n,e,t){n.j=t?Wp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function gu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Hh(n,e,t){e instanceof u_?(n.i=e,function Db(n,e){e&&!n.j&&(sa(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(jc(this,r),Xv(this,o,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Yp(e,Jp)),n.i=new u_(e,n.h))}function jn(n,e,t){n.i.set(e,t)}function Kp(n){return jn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Wp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Tb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Tb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yp(e,Jv,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yp(e,Jv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yp(t,"/"==t.charAt(0)?Qv:TI,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yp(t,DI)),n.join("")};var Jv=/[#\/\?@]/g,TI=/[#\?:]/g,Qv=/[#\?]/g,Jp=/[#\?@]/g,DI=/#/g;function u_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function sa(n){n.g||(n.g=new Map,n.h=0,n.i&&function MM(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var l=n[t].substring(0,r);o=n[t].substring(r+1)}else l=n[t];e(l,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jc(n,e){sa(n),e=Gc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Qp(n,e){return sa(n),e=Gc(n,e),n.g.has(e)}function Xv(n,e,t){jc(n,e),0<t.length&&(n.i=null,n.g.set(Gc(n,e),Gm(t)),n.h+=t.length)}function Gc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function CI(n){this.l=n||bb,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ka&&Vt.g.Ka()&&Vt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=u_.prototype).add=function(n,e){sa(this),this.i=null,n=Gc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qe.forEach=function(n,e){sa(this),this.g.forEach(function(t,r){t.forEach(function(o){n.call(e,o,r,this)},this)},this)},Qe.ta=function(){sa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const o=n[r];for(let l=0;l<o.length;l++)t.push(e[r])}return t},Qe.Z=function(n){sa(this);let e=[];if("string"==typeof n)Qp(this,n)&&(e=e.concat(this.g.get(Gc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Qe.set=function(n,e){return sa(this),this.i=null,Qp(this,n=Gc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qe.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var o=l;""!==d[r]&&(o+="="+encodeURIComponent(String(d[r]))),n.push(o)}}return this.i=n.join("&")};var bb=10;function bI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function AI(n){return n.h?1:n.g?n.g.size:0}function l_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function yl(n,e){n.g?n.g.add(e):n.h=e}function aa(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function e0(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Gm(n.i)}CI.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var SM=class{stringify(n){return Vt.JSON.stringify(n,void 0)}parse(n){return Vt.JSON.parse(n,void 0)}};function Ab(){this.g=new SM}function xM(n,e,t){const r=t||"";try{II(n,function(o,l){let d=o;Vp(o)&&(d=Bv(o)),e.push(r+l+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Xp(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function qh(n){this.l=n.fc||null,this.j=n.ob||!1}function t0(n,e){Pr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=c_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hi(qh,Bc),qh.prototype.g=function(){return new t0(this.l,this.j)},qh.prototype.i=function(n){return function(){return n}}({}),hi(t0,Pr);var c_=0;function eg(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function jh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Gh(n)}function Gh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=t0.prototype).open=function(n,e){if(this.readyState!=c_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Gh(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Vt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jh(this)),this.readyState=c_},Qe.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gh(this)),this.g&&(this.readyState=3,Gh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eg(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Qe.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jh(this):Gh(this),3==this.readyState&&eg(this)}},Qe.Za=function(n){this.g&&(this.response=this.responseText=n,jh(this))},Qe.Ya=function(n){this.g&&(this.response=n,jh(this))},Qe.ka=function(){this.g&&jh(this)},Qe.setRequestHeader=function(n,e){this.v.append(n,e)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(t0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MI=Vt.JSON.parse;function at(n){Pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=n0,this.L=this.M=!1}hi(at,Pr);var n0="",SI=/^https?$/i,RM=["POST","PUT"];function r0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,xI(n),tg(n)}function xI(n){n.F||(n.F=!0,Ri(n,"complete"),Ri(n,"error"))}function NI(n){if(n.h&&typeof qm<"u"&&(!n.C[1]||4!=ws(n)||2!=n.da()))if(n.v&&4==ws(n))Gv(n.La,0,n);else if(Ri(n,"readystatechange"),4==ws(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var o=String(n.I).match(Yv)[1]||null;!o&&Vt.self&&Vt.self.location&&(o=Vt.self.location.protocol.slice(0,-1)),r=!SI.test(o?o.toLowerCase():"")}t=r}if(t)Ri(n,"complete"),Ri(n,"success");else{n.m=6;try{var l=2<ws(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",xI(n)}}finally{tg(n)}}}function tg(n,e){if(n.g){RI(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ri(n,"ready");try{t.onreadystatechange=r}catch{}}}function RI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function ws(n){return n.g?n.g.readyState:0}function kI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case n0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function xb(n){let e="";return Rv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function d_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=xb(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):jn(n,e,t))}function $h(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function mu(n){this.Ga=0,this.j=[],this.l=new jp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=$h("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=$h("baseRetryDelayMs",5e3,n),this.hb=$h("retryDelaySeedMs",1e4,n),this.eb=$h("forwardChannelMaxRetries",2,n),this.xa=$h("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new CI(n&&n.concurrentRequestLimit),this.Ja=new Ab,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function vl(n){if(OI(n),3==n.H){var e=n.W++,t=Jo(n.I);if(jn(t,"SID",n.K),jn(t,"RID",e),jn(t,"TYPE","terminate"),_u(n,t),(e=new Zc(n,n.l,e)).L=2,e.v=Kp(Jo(t)),t=!1,Vt.navigator&&Vt.navigator.sendBeacon)try{t=Vt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=VI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Hc(e)}a0(n)}function ng(n){n.g&&(ig(n),n.g.cancel(),n.g=null)}function OI(n){ng(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),Kh(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function $c(n){if(!bI(n.i)&&!n.m){n.m=!0;var e=n.Na;Hp||gl(),Vc||(Hp(),Vc=!0),Rh.add(e,n),n.C=0}}function h_(n,e){var t;t=e?e.m:n.W++;const r=Jo(n.I);jn(r,"SID",n.K),jn(r,"RID",t),jn(r,"AID",n.V),_u(n,r),n.o&&n.s&&d_(r,n.o,n.s),t=new Zc(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=o0(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),yl(n.i,t),i_(t,r,e)}function _u(n,e){n.na&&Rv(n.na,function(t,r){jn(e,r,t)}),n.h&&II({},function(t,r){jn(e,r,t)})}function o0(n,e,t){t=Math.min(n.j.length,t);var r=n.h?xi(n.h.Va,n.h,n):null;e:{var o=n.j;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=o[0].g,d.push("ofs="+l)):l=0:d.push("ofs="+l);let m=!0;for(let w=0;w<t;w++){let C=o[w].g;const M=o[w].map;if(C-=l,0>C)l=Math.max(0,o[w].g-100),m=!1;else try{xM(M,d,"req"+C+"_")}catch{r&&r(M)}}if(m){r=d.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function f_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Hp||gl(),Vc||(Hp(),Vc=!0),Rh.add(e,n),n.A=0}}function rg(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=fu(xi(n.Ma,n),PI(n,n.A)),n.A++,0))}function ig(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function s0(n){n.g=new Zc(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Jo(n.wa);jn(e,"RID","rpc"),jn(e,"SID",n.K),jn(e,"AID",n.V),jn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&jn(e,"TO",n.qa),jn(e,"TYPE","xmlhttp"),_u(n,e),n.o&&n.s&&d_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Kp(Jo(e)),t.s=null,t.S=!0,vI(t,n)}function Kh(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function LI(n,e){var t=null;if(n.g==e){Kh(n),ig(n),n.g=null;var r=2}else{if(!l_(n.i,e))return;t=e.F,aa(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var o=n.C;Ri(r=zv(),new n_(r,t)),$c(n)}else f_(n);else if(3==(o=e.o)||0==o&&0<e.ca||!(1==r&&function zh(n,e){return!(AI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=fu(xi(n.Na,n,e),PI(n,n.C)),n.C++,0)))}(n,e)||2==r&&rg(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:zc(n,5);break;case 4:zc(n,10);break;case 3:zc(n,6);break;default:zc(n,2)}}function PI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function zc(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=xi(n.pb,n);t||(t=new qc("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||a_(t,"https"),Kp(t)),function NM(n,e){const t=new jp;if(Vt.Image){const r=new Image;r.onload=Av(Xp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Av(Xp,t,r,"TestLoadImage: error",!1,e),r.onabort=Av(Xp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Av(Xp,t,r,"TestLoadImage: timeout",!1,e),Vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else fi(2);n.H=0,n.h&&n.h.za(e),a0(n),OI(n)}function a0(n){if(n.H=0,n.ma=[],n.h){const e=e0(n.i);(0!=e.length||0!=n.j.length)&&(tI(n.ma,e),tI(n.ma,n.j),n.i.i.length=0,Gm(n.j),n.j.length=0),n.h.ya()}}function FI(n,e,t){var r=t instanceof qc?Jo(t):new qc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),gu(r,r.m);else{var o=Vt.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var l=new qc(null);r&&a_(l,r),e&&(l.g=e),o&&gu(l,o),t&&(l.l=t),r=l}return e=n.Da,(t=n.F)&&e&&jn(r,t,e),jn(r,"VER",n.ra),_u(n,r),r}function VI(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(t&&n.Ha&&!n.va?new qh({ob:!0}):n.va)).Oa(n.J),e}function UI(){}function p_(){if(Fc&&!(10<=Number(hb)))throw Error("Environmental error: no available transport.")}function ho(n,e){Pr.call(this),this.g=new mu(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Bp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wh(this)}function u0(n){$p.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function BI(){Vh.call(this),this.status=1}function Wh(n){this.g=n}function Is(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function l0(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var o=0;16>o;++o)r[o]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(o=0;16>o;++o)r[o]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=n.g[3],d=(e=n.g[0])+(l^(t=n.g[1])&((o=n.g[2])^l))+r[0]+3614090360&4294967295;d=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=(t=(o=(l=(e=t+(d<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(o^l))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(o^l))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(l^t&(o^l))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=l+(o^e&(t^o))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=o+(t^l&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^o&(l^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(o^l&(t^o))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^l&(t^o))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^l&(t^o))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(o^l&(t^o))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=l+(t^o&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=o+(e^t&(l^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(l^e&(o^l))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^o^l)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^l)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^l)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^o^l)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=l+(e^t^o)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=o+(l^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(o^l^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(o^(t|~l))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(l|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(o|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~l))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(l|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(o|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(o^(t|~l))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=o+(e^(l|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(l^(o|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((l=(e=t+((d=e+(o^(t|~l))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=l+(t^(e|~o))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((o=l+((d=o+(e^(l|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(o+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+o&4294967295,n.g[3]=n.g[3]+l&4294967295}function Cn(n,e){this.h=e;for(var t=[],r=!0,o=n.length-1;0<=o;o--){var l=0|n[o];r&&l==e||(t[o]=l,r=!1)}this.g=t}(Qe=at.prototype).Oa=function(n){this.M=n},Qe.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():yI.g(),this.C=function Gp(n){return n.h||(n.h=n.i())}(this.u?this.u:yI),this.g.onreadystatechange=xi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(l){return void r0(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)t.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),o=Vt.FormData&&n instanceof Vt.FormData,!(0<=ub(RM,e))||r||o||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,d]of t)this.g.setRequestHeader(l,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{RI(this),0<this.B&&((this.L=function Mb(n){return Fc&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xi(this.ua,this)):this.A=Gv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){r0(this,l)}},Qe.ua=function(){typeof qm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ri(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ri(this,"complete"),Ri(this,"abort"),tg(this))},Qe.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),tg(this,!0)),at.$.N.call(this)},Qe.La=function(){this.s||(this.G||this.v||this.l?NI(this):this.kb())},Qe.kb=function(){NI(this)},Qe.isActive=function(){return!!this.g},Qe.da=function(){try{return 2<ws(this)?this.g.status:-1}catch{return-1}},Qe.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Qe.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MI(e)}},Qe.Ia=function(){return this.m},Qe.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=mu.prototype).ra=8,Qe.H=1,Qe.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const o=new Zc(this,this.l,n);let l=this.s;if(this.U&&(l?(l=kv(l),uI(l,this.U)):l=this.U),null!==this.o||this.O||(o.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=o0(this,o,e),jn(t=Jo(this.I),"RID",n),jn(t,"CVER",22),this.F&&jn(t,"X-HTTP-Session-Id",this.F),_u(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(xb(l)))+"&"+e:this.o&&d_(t,this.o,l)),yl(this.i,o),this.bb&&jn(t,"TYPE","init"),this.P?(jn(t,"$req",e),jn(t,"SID","null"),o.aa=!0,i_(o,t,null)):i_(o,t,e),this.H=2}}else 3==this.H&&(n?h_(this,n):0==this.j.length||bI(this.i)||h_(this))},Qe.Ma=function(){if(this.u=null,s0(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=fu(xi(this.jb,this),n)}},Qe.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fi(10),ng(this),s0(this))},Qe.ib=function(){null!=this.v&&(this.v=null,ng(this),rg(this),fi(19))},Qe.pb=function(n){n?(this.l.info("Successfully pinged google.com"),fi(2)):(this.l.info("Failed to ping google.com"),fi(1))},Qe.isActive=function(){return!!this.h&&this.h.isActive(this)},(Qe=UI.prototype).Ba=function(){},Qe.Aa=function(){},Qe.za=function(){},Qe.ya=function(){},Qe.isActive=function(){return!0},Qe.Va=function(){},p_.prototype.g=function(n,e){return new ho(n,e)},hi(ho,Pr),ho.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;fi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=FI(n,null,n.Y),$c(n)},ho.prototype.close=function(){vl(this.g)},ho.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Bv(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&$c(e)},ho.prototype.N=function(){this.g.h=null,delete this.j,vl(this.g),delete this.g,ho.$.N.call(this)},hi(u0,$p),hi(BI,Vh),hi(Wh,UI),Wh.prototype.Ba=function(){Ri(this.g,"a")},Wh.prototype.Aa=function(n){Ri(this.g,new u0(n))},Wh.prototype.za=function(n){Ri(this.g,new BI)},Wh.prototype.ya=function(){Ri(this.g,"b")},hi(Is,function Mo(){this.blockSize=-1}),Is.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Is.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,o=this.h,l=0;l<e;){if(0==o)for(;l<=t;)l0(this,n,l),l+=this.blockSize;if("string"==typeof n){for(;l<e;)if(r[o++]=n.charCodeAt(l++),o==this.blockSize){l0(this,r),o=0;break}}else for(;l<e;)if(r[o++]=n[l++],o==this.blockSize){l0(this,r),o=0;break}}this.h=o,this.i+=e},Is.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var c0={};function g_(n){return-128<=n&&128>n?function nI(n,e){var t=c0;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Cn([0|e],0>e?-1:0)}):new Cn([0|n],0>n?-1:0)}function ua(n){if(isNaN(n)||!isFinite(n))return Kc;if(0>n)return pi(ua(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=d0;return new Cn(e,0)}var d0=4294967296,Kc=g_(0),h0=g_(1),HI=g_(16777216);function Ts(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Qo(n){return-1==n.h}function pi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Cn(t,~n.h).add(h0)}function m_(n,e){return n.add(pi(e))}function __(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function og(n,e){this.g=n,this.h=e}function So(n,e){if(Ts(e))throw Error("division by zero");if(Ts(n))return new og(Kc,Kc);if(Qo(n))return e=So(pi(n),e),new og(pi(e.g),pi(e.h));if(Qo(e))return e=So(n,pi(e)),new og(pi(e.g),e.h);if(30<n.g.length){if(Qo(n)||Qo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=h0,r=e;0>=r.X(n);)t=y_(t),r=y_(r);var o=Yh(t,1),l=Yh(r,1);for(r=Yh(r,2),t=Yh(t,2);!Ts(r);){var d=l.add(r);0>=d.X(n)&&(o=o.add(t),l=d),r=Yh(r,1),t=Yh(t,1)}return e=m_(n,o.R(e)),new og(o,e)}for(o=Kc;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(l=ua(t)).R(e);Qo(d)||0<d.X(n);)d=(l=ua(t-=r)).R(e);Ts(l)&&(l=h0),o=o.add(l),n=m_(n,d)}return new og(o,n)}function y_(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Cn(t,n.h)}function Yh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,o=[],l=0;l<r;l++)o[l]=0<e?n.D(l+t)>>>e|n.D(l+t+1)<<32-e:n.D(l+t);return new Cn(o,n.h)}(Qe=Cn.prototype).ea=function(){if(Qo(this))return-pi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:d0+r)*e,e*=d0}return n},Qe.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ts(this))return"0";if(Qo(this))return"-"+pi(this).toString(n);for(var e=ua(Math.pow(n,6)),t=this,r="";;){var o=So(t,e).g,l=((0<(t=m_(t,o.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ts(t=o))return l+r;for(;6>l.length;)l="0"+l;r=l+r}},Qe.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Qe.X=function(n){return Qo(n=m_(this,n))?-1:Ts(n)?0:1},Qe.abs=function(){return Qo(this)?pi(this):this},Qe.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,o=0;o<=e;o++){var l=r+(65535&this.D(o))+(65535&n.D(o)),d=(l>>>16)+(this.D(o)>>>16)+(n.D(o)>>>16);r=d>>>16,t[o]=(d&=65535)<<16|(l&=65535)}return new Cn(t,-2147483648&t[t.length-1]?-1:0)},Qe.R=function(n){if(Ts(this)||Ts(n))return Kc;if(Qo(this))return Qo(n)?pi(this).R(pi(n)):pi(pi(this).R(n));if(Qo(n))return pi(this.R(pi(n)));if(0>this.X(HI)&&0>n.X(HI))return ua(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<n.g.length;o++){var l=this.D(r)>>>16,d=65535&this.D(r),m=n.D(o)>>>16,w=65535&n.D(o);t[2*r+2*o]+=d*w,__(t,2*r+2*o),t[2*r+2*o+1]+=l*w,__(t,2*r+2*o+1),t[2*r+2*o+1]+=d*m,__(t,2*r+2*o+1),t[2*r+2*o+2]+=l*m,__(t,2*r+2*o+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Cn(t,0)},Qe.gb=function(n){return So(this,n).h},Qe.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Cn(t,this.h&n.h)},Qe.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Cn(t,this.h|n.h)},Qe.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Cn(t,this.h^n.h)},p_.prototype.createWebChannel=p_.prototype.g,ho.prototype.send=ho.prototype.u,ho.prototype.open=ho.prototype.m,ho.prototype.close=ho.prototype.close,Lh.NO_ERROR=0,Lh.TIMEOUT=8,Lh.HTTP_ERROR=6,r_.COMPLETE="complete",Ph.EventType=Fh,Fh.OPEN="a",Fh.CLOSE="b",Fh.ERROR="c",Fh.MESSAGE="d",Pr.prototype.listen=Pr.prototype.O,at.prototype.listenOnce=at.prototype.P,at.prototype.getLastError=at.prototype.Sa,at.prototype.getLastErrorCode=at.prototype.Ia,at.prototype.getStatus=at.prototype.da,at.prototype.getResponseJson=at.prototype.Wa,at.prototype.getResponseText=at.prototype.ja,at.prototype.send=at.prototype.ha,at.prototype.setWithCredentials=at.prototype.Oa,Is.prototype.digest=Is.prototype.l,Is.prototype.reset=Is.prototype.reset,Is.prototype.update=Is.prototype.j,Cn.prototype.add=Cn.prototype.add,Cn.prototype.multiply=Cn.prototype.R,Cn.prototype.modulo=Cn.prototype.gb,Cn.prototype.compare=Cn.prototype.X,Cn.prototype.toNumber=Cn.prototype.ea,Cn.prototype.toString=Cn.prototype.toString,Cn.prototype.getBits=Cn.prototype.D,Cn.fromNumber=ua,Cn.fromString=function ZI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return pi(ZI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=ua(Math.pow(e,8)),r=Kc,o=0;o<n.length;o+=8){var l=Math.min(8,n.length-o),d=parseInt(n.substring(o,o+l),e);8>l?(l=ua(Math.pow(e,l)),r=r.R(l).add(ua(d))):r=(r=r.R(t)).add(ua(d))}return r};var qI=Yo.createWebChannelTransport=function(){return new p_},Nb=Yo.getStatEventTarget=function(){return zv()},v_=Yo.ErrorCode=Lh,jI=Yo.EventType=r_,E_=Yo.Event=Uc,w_=Yo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kM=Yo.FetchXmlHttpFactory=qh,sg=Yo.WebChannel=Ph,GI=Yo.XhrIo=at,$I=Yo.Md5=Is,Wc=Yo.Integer=Cn;const I_="@firebase/firestore";class Ln{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");let Jh="9.23.0";const El=new Wo.Yd("@firebase/firestore");function ag(){return El.logLevel}function Oe(n,...e){if(El.logLevel<=Wo.in.DEBUG){const t=e.map(T_);El.debug(`Firestore (${Jh}): ${n}`,...t)}}function Dr(n,...e){if(El.logLevel<=Wo.in.ERROR){const t=e.map(T_);El.error(`Firestore (${Jh}): ${n}`,...t)}}function Ds(n,...e){if(El.logLevel<=Wo.in.WARN){const t=e.map(T_);El.warn(`Firestore (${Jh}): ${n}`,...t)}}function T_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${Jh}) INTERNAL ASSERTION FAILED: `+n;throw Dr(e),new Error(e)}function lt(n,e){n||ot()}function We(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends rn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class zI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ln.UNAUTHENTICATED))}shutdown(){}}class Ob{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class f0{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const l=C=>this.i!==o?(o=this.i,t(C)):Promise.resolve();let d=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new cr,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=d;e.enqueueRetryable((0,ge.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},w=C=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>w(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?w(C):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new cr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(lt("string"==typeof r.accessToken),new zI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return lt(null===e||"string"==typeof e),new Ln(e)}}class Lb{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class lg{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Lb(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WI{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=l=>{null!=l.error&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.T;return this.T=l.token,Oe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const o=l=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?o(l):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(lt("string"==typeof t.token),this.T=t.token,new KI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class YI{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=Fb(40);for(let l=0;l<o.length;++l)r.length<20&&o[l]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[l]%62))}return r}}function Rt(n,e){return n<e?-1:n>e?1:0}function Qh(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Vb(n){return n+"\0"}class Xn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xn.fromMillis(Date.now())}static fromDate(e){return Xn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Xn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Xn(0,0))}static max(){return new vt(new Xn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cg{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===cg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const l=e.get(o),d=t.get(o);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sn extends cg{construct(e,t,r){return new sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new sn(t)}static emptyPath(){return new sn([])}}const Ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends cg{construct(e,t,r){return new dr(e,t,r)}static isValidIdentifier(e){return Ub.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const l=()=>{if(0===r.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Te(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Te(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===m?(d=!d,o++):"."!==m||d?(r+=m,o++):(l(),o++)}if(l(),d)throw new Te(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(t)}static emptyPath(){return new dr([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(sn.fromString(e))}static fromName(e){return new Je(sn.fromString(e).popFirst(5))}static empty(){return new Je(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new sn(e.slice()))}}class dg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function hg(n){return n.fields.find(e=>2===e.kind)}function Yc(n){return n.fields.filter(e=>2!==e.kind)}dg.UNKNOWN_ID=-1;class D_{constructor(e,t){this.fieldPath=e,this.kind=t}}class fg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new fg(0,xo.min())}}function JI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(1e9===r?new Xn(t+1,0):new Xn(t,r));return new xo(o,Je.empty(),e)}function QI(n){return new xo(n.readTime,n.key,-1)}class xo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xo(vt.min(),Je.empty(),-1)}static max(){return new xo(vt.max(),Je.empty(),-1)}}function g0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:Rt(n.largestBatchId,e.largestBatchId))}const m0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wl(n){return XI.apply(this,arguments)}function XI(){return XI=(0,ge.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==m0)throw n;Oe("LocalStore","Unexpectedly lost primary lease")}),XI.apply(this,arguments)}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((r,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,r)=>{t(e)})}static reject(e){return new re((t,r)=>{r(e)})}static waitFor(e){return new re((t,r)=>{let o=0,l=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++l,d&&l===o&&t()},w=>r(w))}),d=!0,l===o&&t()})}static or(e){let t=re.resolve(!1);for(const r of e)t=t.next(o=>o?re.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,l)=>{r.push(t.call(this,o,l))}),this.waitFor(r)}static mapArray(e,t){return new re((r,o)=>{const l=e.length,d=new Array(l);let m=0;for(let w=0;w<l;w++){const C=w;t(e[C]).next(M=>{d[C]=M,++m,m===l&&r(d)},M=>o(M))}})}static doWhile(e,t){return new re((r,o)=>{const l=()=>{!0===e()?t().next(()=>{l()},o):r()};l()})}}class y0{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new cr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new pg(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const o=Qr(r.target.error);this.v.reject(new pg(e,o))}}static open(e,t,r,o){try{return new y0(t,e.transaction(o,r))}catch(l){throw new pg(t,l)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Oe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Hb(t)}}class fo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===fo.S((0,rn.z$)())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Oe("SimpleDb","Removing database:",e),ki(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,rn.hl)())return!1;if(fo.C())return!0;const e=(0,rn.z$)(),t=fo.S(e),r=0<t&&t<10,o=fo.N(e),l=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,ge.Z)(function*(){return t.db||(Oe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{o(new pg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const m=d.target.error;o("VersionError"===m.name?new Te(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Te(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new pg(e,m))},l.onupgradeneeded=d=>{Oe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.O(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var l=this;return(0,ge.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.$(e);const w=y0.open(l.db,e,d?"readonly":"readwrite",r),C=o(w).next(M=>(w.P(),M)).catch(M=>(w.abort(M),re.reject(M))).toPromise();return C.catch(()=>{}),yield w.R,C}catch(w){const C=w,M="FirebaseError"!==C.name&&m<3;if(Oe("SimpleDb","Transaction failed with error:",C.message,"Retrying:",M),l.close(),!M)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Zb{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ki(this.L.delete())}}class pg extends Te{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function la(n){return"IndexedDbTransactionError"===n.name}class Hb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Oe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ki(r)}add(e){return Oe("SimpleDb","ADD",this.store.name,e,e),ki(this.store.add(e))}get(e){return ki(this.store.get(e)).next(t=>(void 0===t&&(t=null),Oe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Oe("SimpleDb","DELETE",this.store.name,e),ki(this.store.delete(e))}count(){return Oe("SimpleDb","COUNT",this.store.name),ki(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),l=[];return this.W(o,(d,m)=>{l.push(m)}).next(()=>l)}{const o=this.store.getAll(r.range);return new re((l,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{l(m.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new re((o,l)=>{r.onerror=d=>{l(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}J(e,t){Oe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const o=this.cursor(r);return this.W(o,(l,d,m)=>m.delete())}X(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.W(o,t)}Z(e){const t=this.cursor({});return new re((r,o)=>{t.onerror=l=>{const d=Qr(l.target.error);o(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}W(e,t){const r=[];return new re((o,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void o();const w=new Zb(m),C=t(m.primaryKey,m.value,w);if(C instanceof re){const M=C.catch(R=>(w.done(),re.reject(R)));r.push(M)}w.isDone?o():null===w.K?m.continue():m.continue(w.K)}}).next(()=>re.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ki(n){return new re((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=Qr(r.target.error);t(o)}})}let Xh=!1;function Qr(n){const e=fo.S((0,rn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xh||(Xh=!0,setTimeout(()=>{throw r},0)),r}}return n}class Jc{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Oe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ge.Z)(function*(){t.task=null;try{Oe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){la(r)?Oe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield wl(r)}yield t.et(6e4)}))}}class C_{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ge.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let o=t,l=!0;return re.doWhile(()=>!0===l&&o>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Oe("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,o).next(m=>{o-=m,r.add(d)});l=!1})).next(()=>t-o)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(o=>this.localStore.localDocuments.getNextDocuments(e,t,o,r).next(l=>{const d=l.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(o,l)).next(m=>(Oe("IndexBackiller",`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((o,l)=>{const d=QI(l);g0(d,r)>0&&(r=d)}),new xo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let er=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ot(o),this.ut=o=>r.writeSequenceNumber(o))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Qc(n){return null==n}function ca(n){return 0===n&&1/n==-1/0}function Xc(n){return"number"==typeof n&&Number.isInteger(n)&&!ca(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Cr(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ed(e)),e=ef(n.get(t),e);return ed(e)}function ef(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const l=n.charAt(o);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function ed(n){return n+"\x01\x01"}function Ki(n){const e=n.length;if(lt(e>=2),2===e)return lt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sn.emptyPath();const t=e-2,r=[];let o="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&ot(),n.charAt(d+1)){case"\x01":const m=n.substring(l,d);let w;0===o.length?w=m:(o+=m,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(l,d),o+="\0";break;case"\x11":o+=n.substring(l,d+1);break;default:ot()}l=d+2}return new sn(r)}const td=["userId","batchId"];function yu(n,e){return[n,Cr(e)]}function nd(n,e,t){return[n,Cr(e),t]}const eT={},tT=["prefixPath","collectionGroup","readTime","documentId"],nT=["prefixPath","collectionGroup","documentId"],rT=["collectionGroup","readTime","prefixPath","documentId"],iT=["canonicalId","targetId"],oT=["targetId","path"],sT=["path","targetId"],aT=["collectionId","parent"],uT=["indexId","uid"],v0=["uid","sequenceNumber"],qb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OM=["indexId","uid","orderedDocumentKey"],LM=["userId","collectionPath","documentId"],jb=["userId","collectionPath","largestBatchId"],Gb=["userId","collectionGroup","largestBatchId"],$b=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zb=[...$b,"documentOverlays"],Kb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lT=Kb,Wb=[...lT,"indexConfiguration","indexState","indexEntries"];class E0 extends _0{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=We(n);return fo.M(t.ht,e)}function tf(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function da(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gg(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Mn{constructor(e,t){this.comparator=e,this.root=t||Xr.EMPTY}insert(e,t){return new Mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xr.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Il(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Il(this.root,e,this.comparator,!1)}getReverseIterator(){return new Il(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Il(this.root,e,this.comparator,!0)}}class Il{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xr{constructor(e,t,r,o,l){this.key=e,this.value=t,this.color=r??Xr.RED,this.left=o??Xr.EMPTY,this.right=l??Xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,l){return new Xr(e??this.key,t??this.value,r??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===l?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Xr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Xr.EMPTY=null,Xr.RED=!0,Xr.BLACK=!1,Xr.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Xr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gn{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nf(this.data.getIterator())}getIteratorFrom(e){return new nf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(o,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gn(this.comparator);return t.data=e,t}}class nf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function rf(n){return n.hasNext()?n.getNext():void 0}class po{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new po([])}unionWith(e){let t=new Gn(dr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new po(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cT("Invalid base64 string: "+o):o}}(e);return new br(t)}static fromUint8Array(e){const t=function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o}(e);return new br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const b_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(lt(!!n),"string"==typeof n){let e=0;const t=b_.exec(n);if(lt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ar(n.seconds),nanos:Ar(n.nanos)}}function Ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vu(n){return"string"==typeof n?br.fromBase64String(n):br.fromUint8Array(n)}function A_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sf(n){const e=n.mapValue.fields.__previous_value__;return A_(e)?sf(e):e}function mg(n){const e=Cs(n.mapValue.fields.__local_write_time__.timestampValue);return new Xn(e.seconds,e.nanos)}class dT{constructor(e,t,r,o,l,d,m,w,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=w,this.useFetchStreams=C}}class Tl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Tl("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}const Dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_g={nullValue:"NULL_VALUE"};function Eu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?A_(n)?4:fT(n)?9007199254740991:10:ot()}function bs(n,e){if(n===e)return!0;const t=Eu(n);if(t!==Eu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mg(n).isEqual(mg(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Cs(r.timestampValue),d=Cs(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,vu(n.bytesValue).isEqual(vu(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Ar(r.geoPointValue.latitude)===Ar(o.geoPointValue.latitude)&&Ar(r.geoPointValue.longitude)===Ar(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ar(r.integerValue)===Ar(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Ar(r.doubleValue),d=Ar(o.doubleValue);return l===d?ca(l)===ca(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return Qh(n.arrayValue.values||[],e.arrayValue.values||[],bs);case 10:return function(r,o){const l=r.mapValue.fields||{},d=o.mapValue.fields||{};if(tf(l)!==tf(d))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===d[m]||!bs(l[m],d[m])))return!1;return!0}(n,e);default:return ot()}var o}function yg(n,e){return void 0!==(n.values||[]).find(t=>bs(t,e))}function Cl(n,e){if(n===e)return 0;const t=Eu(n),r=Eu(e);if(t!==r)return Rt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Rt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const d=Ar(o.integerValue||o.doubleValue),m=Ar(l.integerValue||l.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return hT(n.timestampValue,e.timestampValue);case 4:return hT(mg(n),mg(e));case 5:return Rt(n.stringValue,e.stringValue);case 6:return function(o,l){const d=vu(o),m=vu(l);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const d=o.split("/"),m=l.split("/");for(let w=0;w<d.length&&w<m.length;w++){const C=Rt(d[w],m[w]);if(0!==C)return C}return Rt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const d=Rt(Ar(o.latitude),Ar(l.latitude));return 0!==d?d:Rt(Ar(o.longitude),Ar(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,l){const d=o.values||[],m=l.values||[];for(let w=0;w<d.length&&w<m.length;++w){const C=Cl(d[w],m[w]);if(C)return C}return Rt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,l){if(o===Dl.mapValue&&l===Dl.mapValue)return 0;if(o===Dl.mapValue)return 1;if(l===Dl.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),w=l.fields||{},C=Object.keys(w);m.sort(),C.sort();for(let M=0;M<m.length&&M<C.length;++M){const R=Rt(m[M],C[M]);if(0!==R)return R;const q=Cl(d[m[M]],w[C[M]]);if(0!==q)return q}return Rt(m.length,C.length)}(n.mapValue,e.mapValue);default:throw ot()}}function hT(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Rt(n,e);const t=Cs(n),r=Cs(e),o=Rt(t.seconds,r.seconds);return 0!==o?o:Rt(t.nanos,r.nanos)}function af(n){return vg(n)}function vg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Cs(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vu(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",l=!0;for(const d of r.values||[])l?l=!1:o+=",",o+=vg(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const m of o)d?d=!1:l+=",",l+=`${m}:${vg(r.fields[m])}`;return l+"}"}(n.mapValue):ot();var e}function rd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lf(n){return!!n&&"integerValue"in n}function bl(n){return!!n&&"arrayValue"in n}function M_(n){return!!n&&"nullValue"in n}function w0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function S_(n){return!!n&&"mapValue"in n}function Eg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return da(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Eg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Eg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fT(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function I0(n){return"nullValue"in n?_g:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?rd(Tl.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ot()}function T0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?rd(Tl.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Dl:ot()}function D0(n,e){const t=Cl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function C0(n,e){const t=Cl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!S_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eg(t)}setAll(e){let t=dr.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=Eg(d):o.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,o)}delete(e){const t=this.field(e.popLast());S_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];S_(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){da(t,(o,l)=>e[o]=l);for(const o of r)delete e[o]}clone(){return new gi(Eg(this.value))}}function pT(n){const e=[];return da(n.fields,(t,r)=>{const o=new dr([t]);if(S_(r)){const l=pT(r.mapValue).fields;if(0===l.length)e.push(o);else for(const d of l)e.push(o.child(d))}else e.push(o)}),new po(e)}class Pn{constructor(e,t,r,o,l,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=l,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Pn(e,0,vt.min(),vt.min(),vt.min(),gi.empty(),0)}static newFoundDocument(e,t,r,o){return new Pn(e,1,t,vt.min(),r,o,0)}static newNoDocument(e,t){return new Pn(e,2,t,vt.min(),vt.min(),gi.empty(),0)}static newUnknownDocument(e,t){return new Pn(e,3,t,vt.min(),vt.min(),gi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ha{constructor(e,t){this.position=e,this.inclusive=t}}function b0(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const l=e[o],d=n.position[o];if(r=l.field.isKeyField()?Je.comparator(Je.fromName(d.referenceValue),t.key):Cl(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function x_(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bs(n.position[t],e.position[t]))return!1;return!0}class id{constructor(e,t="asc"){this.field=e,this.dir=t}}function Jb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class A0{}class Xt extends A0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new mT(e,t,r):"array-contains"===t?new vT(e,r):"in"===t?new k0(e,r):"not-in"===t?new k_(e,r):"array-contains-any"===t?new Al(e,r):new Xt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new _T(e,r):new yT(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Cl(t,this.value)):null!==t&&Eu(this.value)===Eu(t)&&this.matchesComparison(Cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class yn extends A0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new yn(e,t)}matches(e){return od(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function od(n){return"and"===n.op}function M0(n){return"or"===n.op}function S0(n){return gT(n)&&od(n)}function gT(n){for(const e of n.filters)if(e instanceof yn)return!1;return!0}function N_(n){if(n instanceof Xt)return n.field.canonicalString()+n.op.toString()+af(n.value);if(S0(n))return n.filters.map(e=>N_(e)).join(",");{const e=n.filters.map(t=>N_(t)).join(",");return`${n.op}(${e})`}}function R_(n,e){return n instanceof Xt?(t=n,(r=e)instanceof Xt&&t.op===r.op&&t.field.isEqual(r.field)&&bs(t.value,r.value)):n instanceof yn?function(t,r){return r instanceof yn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((o,l,d)=>o&&R_(l,r.filters[d]),!0)}(n,e):void ot();var t,r}function x0(n,e){const t=n.filters.concat(e);return yn.create(t,n.op)}function N0(n){return n instanceof Xt?`${(e=n).field.canonicalString()} ${e.op} ${af(e.value)}`:n instanceof yn?function(e){return e.op.toString()+" {"+e.getFilters().map(N0).join(" ,")+"}"}(n):"Filter";var e}class mT extends Xt{constructor(e,t,r){super(e,t,r),this.key=Je.fromName(r.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class _T extends Xt{constructor(e,t){super(e,"in",t),this.keys=R0(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yT extends Xt{constructor(e,t){super(e,"not-in",t),this.keys=R0(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function R0(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Je.fromName(r.referenceValue))}class vT extends Xt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bl(t)&&yg(t.arrayValue,this.value)}}class k0 extends Xt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&yg(this.value.arrayValue,t)}}class k_ extends Xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!yg(this.value.arrayValue,t)}}class Al extends Xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>yg(this.value.arrayValue,r))}}class Qb{constructor(e,t=null,r=[],o=[],l=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=l,this.startAt=d,this.endAt=m,this.dt=null}}function O0(n,e=null,t=[],r=[],o=null,l=null,d=null){return new Qb(n,e,t,r,o,l,d)}function wu(n){const e=We(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>N_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Qc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>af(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>af(r)).join(",")),e.dt=t}return e.dt}function As(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Jb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!R_(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!x_(n.startAt,e.startAt)&&x_(n.endAt,e.endAt)}function cf(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function O_(n,e){return n.filters.filter(t=>t instanceof Xt&&t.field.isEqual(e))}function L_(n,e,t){let r=_g,o=!0;for(const l of O_(n,e)){let d=_g,m=!0;switch(l.op){case"<":case"<=":d=I0(l.value);break;case"==":case"in":case">=":d=l.value;break;case">":d=l.value,m=!1;break;case"!=":case"not-in":d=_g}D0({value:r,inclusive:o},{value:d,inclusive:m})<0&&(r=d,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];D0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function Xb(n,e,t){let r=Dl,o=!0;for(const l of O_(n,e)){let d=Dl,m=!0;switch(l.op){case">=":case">":d=T0(l.value),m=!1;break;case"==":case"in":case"<=":d=l.value;break;case"<":d=l.value,m=!1;break;case"!=":case"not-in":d=Dl}C0({value:r,inclusive:o},{value:d,inclusive:m})>0&&(r=d,o=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const d=t.position[l];C0({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Ml{constructor(e,t=null,r=[],o=[],l=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=l,this.limitType=d,this.startAt=m,this.endAt=w,this.wt=null,this._t=null}}function ET(n,e,t,r,o,l,d,m){return new Ml(n,e,t,r,o,l,d,m)}function df(n){return new Ml(n)}function L0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function P0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function hr(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function P_(n){return null!==n.collectionGroup}function sd(n){const e=We(n);if(null===e.wt){e.wt=[];const t=hr(e),r=P0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new id(t)),e.wt.push(new id(dr.keyField(),"asc"));else{let o=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(o=!0);if(!o){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new id(dr.keyField(),l))}}}return e.wt}function Wi(n){const e=We(n);if(!e._t)if("F"===e.limitType)e._t=O0(e.path,e.collectionGroup,sd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of sd(e))t.push(new id(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new ha(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new ha(e.startAt.position,e.startAt.inclusive):null;e._t=O0(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e._t}function F_(n,e){e.getFirstInequalityField(),hr(n);const t=n.filters.concat([e]);return new Ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function V_(n,e,t){return new Ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hf(n,e){return As(Wi(n),Wi(e))&&n.limitType===e.limitType}function F0(n){return`${wu(Wi(n))}|lt:${n.limitType}`}function Sl(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>N0(r)).join(", ")}]`),Qc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(o=r).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>af(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>af(r)).join(",")),`Target(${t})`}(Wi(n))}; limitType=${n.limitType})`}function wg(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Je.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of sd(t))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,l,d){const m=b0(o,l,d);return o.inclusive?m<=0:m<0}(t.startAt,sd(t),r)||t.endAt&&!function(o,l,d){const m=b0(o,l,d);return o.inclusive?m>=0:m>0}(t.endAt,sd(t),r)));var t,r}function wT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function V0(n){return(e,t)=>{let r=!1;for(const o of sd(n)){const l=e1(o,e,t);if(0!==l)return l;r=r||o.field.isKeyField()}return 0}}function e1(n,e,t){const r=n.field.isKeyField()?Je.comparator(e.key,t.key):function(o,l,d){const m=l.data.field(o),w=d.data.field(o);return null!==m&&null!==w?Cl(m,w):ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ot()}}class fa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,l]of r)if(this.equalsFn(o,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(t,r)=>{for(const[o,l]of r)e(o,l)})}isEmpty(){return gg(this.inner)}size(){return this.innerSize}}const PM=new Mn(Je.comparator);function Yi(){return PM}const U_=new Mn(Je.comparator);function go(...n){let e=U_;for(const t of n)e=e.insert(t.key,t);return e}function IT(n){let e=U_;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function pa(){return Ji()}function Ms(){return Ji()}function Ji(){return new fa(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ss=new Mn(Je.comparator),TT=new Gn(Je.comparator);function qt(...n){let e=TT;for(const t of n)e=e.add(t);return e}const t1=new Gn(Rt);function U0(){return t1}function DT(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ca(e)?"-0":e}}function CT(n){return{integerValue:""+n}}function B_(n,e){return Xc(e)?CT(e):DT(n,e)}class xl{constructor(){this._=void 0}}function n1(n,e,t){return n instanceof ff?function(r,o){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&A_(o)&&(o=sf(o)),o&&(l.fields.__previous_value__=o),{mapValue:l}}(t,e):n instanceof Nl?B0(n,e):n instanceof ga?MT(n,e):function(r,o){const l=AT(r,o),d=Z0(l)+Z0(r.gt);return lf(l)&&lf(r.gt)?CT(d):DT(r.serializer,d)}(n,e)}function bT(n,e,t){return n instanceof Nl?B0(n,e):n instanceof ga?MT(n,e):t}function AT(n,e){return n instanceof ad?lf(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ff extends xl{}class Nl extends xl{constructor(e){super(),this.elements=e}}function B0(n,e){const t=H0(e);for(const r of n.elements)t.some(o=>bs(o,r))||t.push(r);return{arrayValue:{values:t}}}class ga extends xl{constructor(e){super(),this.elements=e}}function MT(n,e){let t=H0(e);for(const r of n.elements)t=t.filter(o=>!bs(o,r));return{arrayValue:{values:t}}}class ad extends xl{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Z0(n){return Ar(n.integerValue||n.doubleValue)}function H0(n){return bl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ig{constructor(e,t){this.field=e,this.transform=t}}class q0{constructor(e,t){this.version=e,this.transformResults=t}}class Sn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sn}static exists(e){return new Sn(void 0,e)}static updateTime(e){return new Sn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class pf{}function Z_(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new mf(n.key,Sn.none()):new ud(n.key,n.data,Sn.none());{const t=n.data,r=gi.empty();let o=new Gn(dr.comparator);for(let l of e.fields)if(!o.has(l)){let d=t.field(l);null===d&&l.length>1&&(l=l.popLast(),d=t.field(l)),null===d?r.delete(l):r.set(l,d),o=o.add(l)}return new Iu(n.key,r,new po(o.toArray()),Sn.none())}}function ST(n,e,t){n instanceof ud?function(r,o,l){const d=r.value.clone(),m=RT(r.fieldTransforms,o,l.transformResults);d.setAll(m),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Iu?function(r,o,l){if(!Tg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const d=RT(r.fieldTransforms,o,l.transformResults),m=o.data;m.setAll(NT(r)),m.setAll(d),o.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gf(n,e,t,r){return n instanceof ud?function(o,l,d,m){if(!Tg(o.precondition,l))return d;const w=o.value.clone(),C=kT(o.fieldTransforms,m,l);return w.setAll(C),l.convertToFoundDocument(l.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof Iu?function(o,l,d,m){if(!Tg(o.precondition,l))return d;const w=kT(o.fieldTransforms,m,l),C=l.data;return C.setAll(NT(o)),C.setAll(w),l.convertToFoundDocument(l.version,C).setHasLocalMutations(),null===d?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(M=>M.field))}(n,e,t,r):(d=t,Tg(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d);var l,d}function xT(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),l=AT(r.transform,o||null);null!=l&&(null===t&&(t=gi.empty()),t.set(r.field,l))}return t||null}function j0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Qh(t,r,(o,l)=>function r1(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Nl&&r instanceof Nl||t instanceof ga&&r instanceof ga?Qh(t.elements,r.elements,bs):t instanceof ad&&r instanceof ad?bs(t.gt,r.gt):t instanceof ff&&r instanceof ff);var t,r}(o,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ud extends pf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Iu extends pf{constructor(e,t,r,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function NT(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function RT(n,e,t){const r=new Map;lt(n.length===t.length);for(let o=0;o<t.length;o++){const l=n[o],d=l.transform,m=e.data.field(l.field);r.set(l.field,bT(d,m,t[o]))}return r}function kT(n,e,t){const r=new Map;for(const o of n){const l=o.transform,d=t.data.field(o.field);r.set(o.field,n1(l,d,e))}return r}class mf extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G0 extends pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $0{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&ST(l,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=gf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=gf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Ms();return this.mutations.forEach(o=>{const l=e.get(o.key),d=l.overlayedDocument;let m=this.applyToLocalView(d,l.mutatedFields);m=t.has(o.key)?null:m;const w=Z_(d,m);null!==w&&r.set(o.key,w),d.isValidDocument()||d.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qt())}isEqual(e){return this.batchId===e.batchId&&Qh(this.mutations,e.mutations,(t,r)=>j0(t,r))&&Qh(this.baseMutations,e.baseMutations,(t,r)=>j0(t,r))}}class z0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){lt(e.mutations.length===r.length);let o=Ss;const l=e.mutations;for(let d=0;d<l.length;d++)o=o.insert(l[d].key,r[d].version);return new z0(e,t,r,o)}}class K0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class o1{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vr,an;function OT(n){switch(n){default:return ot();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function LT(n){if(void 0===n)return Dr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Vr.OK:return ae.OK;case Vr.CANCELLED:return ae.CANCELLED;case Vr.UNKNOWN:return ae.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return ae.INTERNAL;case Vr.UNAVAILABLE:return ae.UNAVAILABLE;case Vr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Vr.NOT_FOUND:return ae.NOT_FOUND;case Vr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Vr.ABORTED:return ae.ABORTED;case Vr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Vr.DATA_LOSS:return ae.DATA_LOSS;default:return ot()}}(an=Vr||(Vr={}))[an.OK=0]="OK",an[an.CANCELLED=1]="CANCELLED",an[an.UNKNOWN=2]="UNKNOWN",an[an.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",an[an.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",an[an.NOT_FOUND=5]="NOT_FOUND",an[an.ALREADY_EXISTS=6]="ALREADY_EXISTS",an[an.PERMISSION_DENIED=7]="PERMISSION_DENIED",an[an.UNAUTHENTICATED=16]="UNAUTHENTICATED",an[an.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",an[an.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",an[an.ABORTED=10]="ABORTED",an[an.OUT_OF_RANGE=11]="OUT_OF_RANGE",an[an.UNIMPLEMENTED=12]="UNIMPLEMENTED",an[an.INTERNAL=13]="INTERNAL",an[an.UNAVAILABLE=14]="UNAVAILABLE",an[an.DATA_LOSS=15]="DATA_LOSS";class W0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return H_}static getOrCreateInstance(){return null===H_&&(H_=new W0),H_}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let H_=null;function PT(){return new TextEncoder}const FT=new Wc([4294967295,4294967295],0);function Y0(n){const e=PT().encode(n),t=new $I;return t.update(e),new Uint8Array(t.digest())}function J0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Wc([t,r],0),new Wc([o,l],0)]}class q_{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _f(`Invalid padding: ${t}`);if(r<0)throw new _f(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new _f(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new _f(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Wc.fromNumber(this.It)}Et(e,t,r){let o=e.add(t.multiply(Wc.fromNumber(r)));return 1===o.compare(FT)&&(o=new Wc([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=Y0(e),[r,o]=J0(t);for(let l=0;l<this.hashCount;l++){const d=this.Et(r,o,l);if(!this.At(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),d=new q_(l,o,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(0===this.It)return;const t=Y0(e),[r,o]=J0(t);for(let l=0;l<this.hashCount;l++){const d=this.Et(r,o,l);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class _f extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yf{constructor(e,t,r,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,vf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new yf(vt.min(),o,new Mn(Rt),Yi(),qt())}}class vf{constructor(e,t,r,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vf(r,t,qt(),qt(),qt())}}class Dg{constructor(e,t,r,o){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=o}}class Q0{constructor(e,t){this.targetId=e,this.Vt=t}}class X0{constructor(e,t,r=br.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class eE{constructor(){this.St=0,this.Dt=UT(),this.Ct=br.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=qt(),t=qt(),r=qt();return this.Dt.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ot()}}),new vf(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=UT()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ld{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Yi(),this.zt=VT(),this.Wt=new Mn(Rt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,o)=>{this.te(o)&&t(o)})}ne(e){var t;const r=e.targetId,o=e.Vt.count,l=this.se(r);if(l){const d=l.target;if(cf(d))if(0===o){const m=new Je(d.path);this.Yt(r,m,Pn.newNoDocument(m,vt.min()))}else lt(1===o);else{const m=this.ie(r);if(m!==o){const w=this.re(e,m);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=W0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,M,R){var q,Q,me,Le,Fe,dt;const xt={localCacheCount:M,existenceFilterCount:R.count},It=R.unchangedNames;return It&&(xt.bloomFilter={applied:0===C,hashCount:null!==(q=It?.hashCount)&&void 0!==q?q:0,bitmapLength:null!==(Le=null===(me=null===(Q=It?.bits)||void 0===Q?void 0:Q.bitmap)||void 0===me?void 0:me.length)&&void 0!==Le?Le:0,padding:null!==(dt=null===(Fe=It?.bits)||void 0===Fe?void 0:Fe.padding)&&void 0!==dt?dt:0}),xt}(w,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:o}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:l="",padding:d=0},hashCount:m=0}=r;let w,C;try{w=vu(l).toUint8Array()}catch(M){if(M instanceof cT)return Ds("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw M}try{C=new q_(w,d,m)}catch(M){return Ds(M instanceof _f?"BloomFilter error: ":"Applying bloom filter failed: ",M),1}return 0===C.It?1:o!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let o=0;return r.forEach(l=>{const d=this.Gt.ue(),m=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;t.vt(m)||(this.Yt(e,l,null),o++)}),o}ce(e){const t=new Map;this.Qt.forEach((l,d)=>{const m=this.se(d);if(m){if(l.current&&cf(m.target)){const w=new Je(m.target.path);null!==this.jt.get(w)||this.ae(d,w)||this.Yt(d,w,Pn.newNoDocument(w,e))}l.Mt&&(t.set(d,l.Ot()),l.Ft())}});let r=qt();this.zt.forEach((l,d)=>{let m=!0;d.forEachWhile(w=>{const C=this.se(w);return!C||"TargetPurposeLimboResolution"===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.jt.forEach((l,d)=>d.setReadTime(e));const o=new yf(e,t,this.Wt,this.jt,r);return this.jt=Yi(),this.zt=VT(),this.Wt=new Mn(Rt),o}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const o=this.Zt(e);this.ae(e,t)?o.Bt(t,1):o.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new eE,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Gn(Rt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Oe("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new eE),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function VT(){return new Mn(Je.comparator)}function UT(){return new Mn(Je.comparator)}const Ef={asc:"ASCENDING",desc:"DESCENDING"},FM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tE={and:"AND",or:"OR"};class VM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function j_(n,e){return n.useProto3Json||Qc(e)?e:{value:e}}function cd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function St(n,e){return cd(n,e.toTimestamp())}function Mr(n){return lt(!!n),vt.fromTimestamp(function(e){const t=Cs(e);return new Xn(t.seconds,t.nanos)}(n))}function nE(n,e){return(t=n,new sn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BT(n){const e=sn.fromString(n);return lt(Tf(e)),e}function ma(n,e){return nE(n.databaseId,e.path)}function _a(n,e){const t=BT(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(a1(t))}function wf(n,e){return nE(n.databaseId,e)}function Cg(n){const e=BT(n);return 4===e.length?sn.emptyPath():a1(e)}function Fn(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function a1(n){return lt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function rE(n,e,t){return{name:ma(n,e),fields:t.value.mapValue.fields}}function iE(n,e,t){const r=_a(n,e.name),o=Mr(e.updateTime),l=e.createTime?Mr(e.createTime):vt.min(),d=new gi({mapValue:{fields:e.fields}}),m=Pn.newFoundDocument(r,o,l,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function If(n,e){let t;if(e instanceof ud)t={update:rE(n,e.key,e.value)};else if(e instanceof mf)t={delete:ma(n,e.key)};else if(e instanceof Iu)t={update:rE(n,e.key,e.data),updateMask:d1(e.fieldMask)};else{if(!(e instanceof G0))return ot();t={verify:ma(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const d=l.transform;if(d instanceof ff)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Nl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ga)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ad)return{fieldPath:l.field.canonicalString(),increment:d.gt};throw ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:St(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:ot()),t;var o}function G_(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Sn.updateTime(Mr(o.updateTime)):void 0!==o.exists?Sn.exists(o.exists):Sn.none():Sn.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(l,d){let m=null;"setToServerValue"in d?(lt("REQUEST_TIME"===d.setToServerValue),m=new ff):"appendMissingElements"in d?m=new Nl(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new ga(d.removeAllFromArray.values||[]):"increment"in d?m=new ad(l,d.increment):ot();const w=dr.fromServerFormat(d.fieldPath);return new Ig(w,m)}(n,o)):[];var o;if(e.update){const o=_a(n,e.update.name),l=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new po((e.updateMask.fieldPaths||[]).map(C=>dr.fromServerFormat(C)));return new Iu(o,l,d,t,r)}return new ud(o,l,t,r)}if(e.delete){const o=_a(n,e.delete);return new mf(o,t)}if(e.verify){const o=_a(n,e.verify);return new G0(o,t)}return ot()}function qT(n,e){return{documents:[wf(n,e.path)]}}function oE(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wf(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wf(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0!==w.length)return sE(yn.create(w,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(w){if(0!==w.length)return w.map(C=>{return{field:Tu((M=C).field),direction:l1(M.dir)};var M})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=j_(n,e.limit);var m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function jT(n){let e=Cg(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){lt(1===r);const M=t.from[0];M.allDescendants?o=M.collectionId:e=e.child(M.collectionId)}let l=[];t.where&&(l=function(M){const R=GT(M);return R instanceof yn&&S0(R)?R.getFilters():[R]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(M=>{return new id(dd((R=M).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(M){let R;return R="object"==typeof M?M.value:M,Qc(R)?null:R}(t.limit));let w=null;var M;t.startAt&&(w=new ha((M=t.startAt).values||[],!!M.before));let C=null;return t.endAt&&(C=function(M){return new ha(M.values||[],!M.before)}(t.endAt)),ET(e,o,d,l,m,"F",w,C)}function GT(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=dd(e.unaryFilter.field);return Xt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=dd(e.unaryFilter.field);return Xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=dd(e.unaryFilter.field);return Xt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=dd(e.unaryFilter.field);return Xt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(n):void 0!==n.fieldFilter?Xt.create(dd((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return yn.create(e.compositeFilter.filters.map(t=>GT(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ot()}}(e.compositeFilter.op))}(n):ot();var e}function l1(n){return Ef[n]}function c1(n){return FM[n]}function $_(n){return tE[n]}function Tu(n){return{fieldPath:n.canonicalString()}}function dd(n){return dr.fromServerFormat(n.fieldPath)}function sE(n){return n instanceof Xt?function(e){if("=="===e.op){if(w0(e.value))return{unaryFilter:{field:Tu(e.field),op:"IS_NAN"}};if(M_(e.value))return{unaryFilter:{field:Tu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(w0(e.value))return{unaryFilter:{field:Tu(e.field),op:"IS_NOT_NAN"}};if(M_(e.value))return{unaryFilter:{field:Tu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tu(e.field),op:c1(e.op),value:e.value}}}(n):n instanceof yn?function(e){const t=e.getFilters().map(r=>sE(r));return 1===t.length?t[0]:{compositeFilter:{op:$_(e.op),filters:t}}}(n):ot()}function d1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tf(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class No{constructor(e,t,r,o,l=vt.min(),d=vt.min(),m=br.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $T{constructor(e){this.fe=e}}function zT(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Ag(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ma(o=n.fe,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:cd(o,l.version.toTimestamp()),createTime:cd(o,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Rl(e.version)};else{if(!e.isUnknownDocument())return ot();r.unknownDocument={path:t.path.toArray(),version:Rl(e.version)}}var o,l;return r}function Ag(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function kl(n){const e=new Xn(n.seconds,n.nanoseconds);return vt.fromTimestamp(e)}function hd(n,e){const t=(e.baseMutations||[]).map(l=>G_(n.fe,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const r=e.mutations.map(l=>G_(n.fe,l)),o=Xn.fromMillis(e.localWriteTimeMs);return new $0(e.batchId,o,t,r)}function Df(n){const e=kl(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?kl(n.lastLimboFreeSnapshotVersion):vt.min();let r;var o;return void 0!==n.query.documents?(lt(1===(o=n.query).documents.length),r=Wi(df(Cg(o.documents[0])))):r=Wi(jT(n.query)),new No(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,br.fromBase64String(n.resumeToken))}function KT(n,e){const t=Rl(e.snapshotVersion),r=Rl(e.lastLimboFreeSnapshotVersion);let o;o=cf(e.target)?qT(n.fe,e.target):oE(n.fe,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:wu(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function aE(n){const e=jT({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?V_(e,e.limit,"L"):e}function WT(n,e){return new K0(e.largestBatchId,G_(n.fe,e.overlayMutation))}function f1(n,e){const t=e.path.lastSegment();return[n,Cr(e.path.popLast()),t]}function p1(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Rl(r.readTime),documentKey:Cr(r.documentKey.path),largestBatchId:r.largestBatchId}}class UM{getBundleMetadata(e,t){return uE(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:kl(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return uE(e).put({bundleId:(r=t).id,createTime:Rl(Mr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Mg(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:aE(o.bundledQuery),readTime:kl(o.readTime)};var o})}saveNamedQuery(e,t){return Mg(e).put({name:(r=t).name,readTime:Rl(Mr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function uE(n){return Fr(n,"bundles")}function Mg(n){return Fr(n,"namedQueries")}class z_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new z_(e,t.uid||"")}getOverlay(e,t){return Sg(e).get(f1(this.userId,t)).next(r=>r?WT(this.serializer,r):null)}getOverlays(e,t){const r=pa();return re.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){const o=[];return r.forEach((l,d)=>{const m=new K0(t,d);o.push(this.we(e,m))}),re.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Cr(d.getCollectionPath())));const l=[];return o.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);l.push(Sg(e).J("collectionPathOverlayIndex",m))}),re.waitFor(l)}getOverlaysForCollection(e,t,r){const o=pa(),l=Cr(t),d=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Sg(e).j("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const C=WT(this.serializer,w);o.set(C.getKey(),C)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const l=pa();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Sg(e).X({index:"collectionGroupOverlayIndex",range:m},(w,C,M)=>{const R=WT(this.serializer,C);l.size()<o||R.largestBatchId===d?(l.set(R.getKey(),R),d=R.largestBatchId):M.done()}).next(()=>l)}we(e,t){return Sg(e).put(function(r,o,l){const[d,m,w]=f1(o,l.mutation.key);return{userId:o,collectionPath:m,documentId:w,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:If(r.fe,l.mutation)}}(this.serializer,this.userId,t))}}function Sg(n){return Fr(n,"documentOverlays")}class Ol{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ar(e.integerValue));else if("doubleValue"in e){const r=Ar(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),ca(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(vu(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?fT(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ot()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const o of Object.keys(r))this.Te(o,t),this.me(r[o],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const o of r)this.me(o,t)}ve(e,t){this.ye(t,37),Je.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function xg(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function YT(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const l=xg(255&t[o]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Ol.Ve=new Ol;class g1{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const o=t.codePointAt(0);this.De(240|o>>>18),this.De(128|63&o>>>12),this.De(128|63&o>>>6),this.De(128|63&o)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const o=t.codePointAt(0);this.Ne(240|o>>>18),this.Ne(128|63&o>>>12),this.Ne(128|63&o>>>6),this.Ne(128|63&o)}}this.ke()}Oe(e){const t=this.Fe(e),r=YT(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Le(e){const t=this.Fe(e),r=YT(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class m1{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class _1{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class K_{constructor(){this.je=new g1,this.ze=new m1(this.je),this.We=new _1(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class fd{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fd(this.indexId,this.documentKey,this.arrayValue,r)}}function Du(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=JT(n.arrayValue,e.arrayValue),0!==t?t:(t=JT(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function JT(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class y1{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){lt(e.collectionGroup===this.collectionId);const t=hg(e);if(void 0!==t&&!this.en(t))return!1;const r=Yc(e);let o=new Set,l=0,d=0;for(;l<r.length&&this.en(r[l]);++l)o=o.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(void 0!==this.Ze){if(!o.has(this.Ze.field.canonicalString())){const m=r[l];if(!this.nn(this.Ze,m)||!this.sn(this.Ye[d++],m))return!1}++l}for(;l<r.length;++l)if(d>=this.Ye.length||!this.sn(this.Ye[d++],r[l]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Cf(n){var e,t;if(lt(n instanceof Xt||n instanceof yn),n instanceof Xt){if(n instanceof k0){const o=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>Xt.create(n.field,"==",l)))||[];return yn.create(o,"or")}return n}const r=n.filters.map(o=>Cf(o));return yn.create(r,n.op)}function v1(n){if(0===n.getFilters().length)return[];const e=dE(Cf(n));return lt(cE(e)),W_(e)||lE(e)?[e]:e.getFilters()}function W_(n){return n instanceof Xt}function lE(n){return n instanceof yn&&S0(n)}function cE(n){return W_(n)||lE(n)||function(e){if(e instanceof yn&&M0(e)){for(const t of e.getFilters())if(!W_(t)&&!lE(t))return!1;return!0}return!1}(n)}function dE(n){if(lt(n instanceof Xt||n instanceof yn),n instanceof Xt)return n;if(1===n.filters.length)return dE(n.filters[0]);const e=n.filters.map(r=>dE(r));let t=yn.create(e,n.op);return t=bf(t),cE(t)?t:(lt(t instanceof yn),lt(od(t)),lt(t.filters.length>1),t.filters.reduce((r,o)=>Y_(r,o)))}function Y_(n,e){let t;return lt(n instanceof Xt||n instanceof yn),lt(e instanceof Xt||e instanceof yn),t=n instanceof Xt?e instanceof Xt?yn.create([n,e],"and"):QT(n,e):e instanceof Xt?QT(e,n):function(r,o){if(lt(r.filters.length>0&&o.filters.length>0),od(r)&&od(o))return x0(r,o.getFilters());const l=M0(r)?r:o,d=M0(r)?o:r,m=l.filters.map(w=>Y_(w,d));return yn.create(m,"or")}(n,e),bf(t)}function QT(n,e){if(od(e))return x0(e,n.getFilters());{const t=e.filters.map(r=>Y_(n,r));return yn.create(t,"or")}}function bf(n){if(lt(n instanceof Xt||n instanceof yn),n instanceof Xt)return n;const e=n.getFilters();if(1===e.length)return bf(e[0]);if(gT(n))return n;const t=e.map(o=>bf(o)),r=[];return t.forEach(o=>{o instanceof Xt?r.push(o):o instanceof yn&&(o.op===n.op?r.push(...o.filters):r.push(o))}),1===r.length?r[0]:yn.create(r,n.op)}class E1{constructor(){this.rn=new J_}addToCollectionParentIndex(e,t){return this.rn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(xo.min())}updateCollectionGroup(e,t,r){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class J_{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Gn(sn.comparator),l=!o.has(r);return this.index[t]=o.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Gn(sn.comparator)).toArray()}}const Ng=new Uint8Array(0);class w1{constructor(e,t){this.user=e,this.databaseId=t,this.on=new J_,this.un=new fa(r=>wu(r),(r,o)=>As(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const l={collectionId:r,parent:Cr(o)};return XT(e).put(l)}return re.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Vb(t),""],!1,!0);return XT(e).j(o).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push(Ki(d.parent))}return r})}addFieldIndex(e,t){const r=Af(e),o={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(m=>[m.fieldPath.canonicalString(),m.kind])};var d;delete o.indexId;const l=r.add(o);if(t.indexState){const d=kg(e);return l.next(m=>{d.put(p1(m,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=Af(e),o=kg(e),l=Rg(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Rg(e);let o=!0;const l=new Map;return re.forEach(this.cn(t),d=>this.an(e,d).next(m=>{o&&(o=!!m),l.set(d,m)})).next(()=>{if(o){let d=qt();const m=[];return re.forEach(l,(w,C)=>{var M;Oe("IndexedDbIndexManager",`Using index ${M=w,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(It=>`${It.fieldPath}:${It.kind}`).join(",")}`} to execute ${wu(t)}`);const R=function(It,Nt){const Zt=hg(Nt);if(void 0===Zt)return null;for(const nn of O_(It,Zt.fieldPath))switch(nn.op){case"array-contains-any":return nn.value.arrayValue.values||[];case"array-contains":return[nn.value]}return null}(C,w),q=function(It,Nt){const Zt=new Map;for(const nn of Yc(Nt))for(const yi of O_(It,nn.fieldPath))switch(yi.op){case"==":case"in":Zt.set(nn.fieldPath.canonicalString(),yi.value);break;case"not-in":case"!=":return Zt.set(nn.fieldPath.canonicalString(),yi.value),Array.from(Zt.values())}return null}(C,w),Q=function(It,Nt){const Zt=[];let nn=!0;for(const yi of Yc(Nt)){const Hl=0===yi.kind?L_(It,yi.fieldPath,It.startAt):Xb(It,yi.fieldPath,It.startAt);Zt.push(Hl.value),nn&&(nn=Hl.inclusive)}return new ha(Zt,nn)}(C,w),me=function(It,Nt){const Zt=[];let nn=!0;for(const yi of Yc(Nt)){const Hl=0===yi.kind?Xb(It,yi.fieldPath,It.endAt):L_(It,yi.fieldPath,It.endAt);Zt.push(Hl.value),nn&&(nn=Hl.inclusive)}return new ha(Zt,nn)}(C,w),Le=this.hn(w,C,Q),Fe=this.hn(w,C,me),dt=this.ln(w,C,q),xt=this.fn(w.indexId,R,Le,Q.inclusive,Fe,me.inclusive,dt);return re.forEach(xt,It=>r.H(It,t.limit).next(Nt=>{Nt.forEach(Zt=>{const nn=Je.fromSegments(Zt.documentKey);d.has(nn)||(d=d.add(nn),m.push(nn))})}))}).next(()=>m)}return re.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:v1(yn.create(e.filters,"and")).map(r=>O0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,o,l,d,m){const w=(null!=t?t.length:1)*Math.max(r.length,l.length),C=w/(null!=t?t.length:1),M=[];for(let R=0;R<w;++R){const q=t?this.dn(t[R/C]):Ng,Q=this.wn(e,q,r[R%C],o),me=this._n(e,q,l[R%C],d),Le=m.map(Fe=>this.wn(e,q,Fe,!0));M.push(...this.createRange(Q,me,Le))}return M}wn(e,t,r,o){const l=new fd(e,Je.empty(),t,r);return o?l:l.Je()}_n(e,t,r,o){const l=new fd(e,Je.empty(),t,r);return o?l.Je():l}an(e,t){const r=new y1(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(l=>{let d=null;for(const m of l)r.tn(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;const o=this.cn(t);return re.forEach(o,l=>this.an(e,l).next(d=>{d?0!==r&&d.fields.length<function(m){let w=new Gn(dr.comparator),C=!1;for(const M of m.filters)for(const R of M.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?C=!0:w=w.add(R.field));for(const M of m.orderBy)M.field.isKeyField()||(w=w.add(M.field));return w.size+(C?1:0)}(l)&&(r=1):r=0})).next(()=>null!==t.limit&&o.length>1&&2===r?1:r)}mn(e,t){const r=new K_;for(const o of Yc(e)){const l=t.data.field(o.fieldPath);if(null==l)return null;const d=r.He(o.kind);Ol.Ve._e(l,d)}return r.Qe()}dn(e){const t=new K_;return Ol.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new K_;return Ol.Ve._e(rd(this.databaseId,t),r.He(function(o){const l=Yc(o);return 0===l.length?0:l[l.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let o=[];o.push(new K_);let l=0;for(const d of Yc(e)){const m=r[l++];for(const w of o)if(this.yn(t,d.fieldPath)&&bl(m))o=this.pn(o,d,m);else{const C=w.He(d.kind);Ol.Ve._e(m,C)}}return this.In(o)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const o=[...e],l=[];for(const d of r.arrayValue.values||[])for(const m of o){const w=new K_;w.seed(m.Qe()),Ol.Ve._e(d,w.He(t.kind)),l.push(w)}return l}yn(e,t){return!!e.filters.find(r=>r instanceof Xt&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Af(e),o=kg(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(l=>{const d=[];return re.forEach(l,m=>o.get([m.indexId,this.uid]).next(w=>{d.push(function(C,M){const R=M?new fg(M.sequenceNumber,new xo(kl(M.readTime),new Je(Ki(M.documentKey)),M.largestBatchId)):fg.empty(),q=C.fields.map(([Q,me])=>new D_(dr.fromServerFormat(Q),me));return new dg(C.indexId,C.collectionGroup,q,R)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const l=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==l?l:Rt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Af(e),l=kg(e);return this.Tn(e).next(d=>o.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>re.forEach(m,w=>l.put(p1(w.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return re.forEach(t,(o,l)=>{const d=r.get(o.collectionGroup);return(d?re.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),re.forEach(m,w=>this.En(e,o,w).next(C=>{const M=this.An(l,w);return C.isEqual(M)?re.resolve():this.vn(e,l,w,C,M)}))))})}Rn(e,t,r,o){return Rg(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,o){return Rg(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const o=Rg(e);let l=new Gn(Du);return o.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(d,m)=>{l=l.add(new fd(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}An(e,t){let r=new Gn(Du);const o=this.mn(t,e);if(null==o)return r;const l=hg(t);if(null!=l){const d=e.data.field(l.fieldPath);if(bl(d))for(const m of d.arrayValue.values||[])r=r.add(new fd(t.indexId,e.key,this.dn(m),o))}else r=r.add(new fd(t.indexId,e.key,Ng,o));return r}vn(e,t,r,o,l){Oe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,w,C,M,R){const q=m.getIterator(),Q=w.getIterator();let me=rf(q),Le=rf(Q);for(;me||Le;){let Fe=!1,dt=!1;if(me&&Le){const xt=C(me,Le);xt<0?dt=!0:xt>0&&(Fe=!0)}else null!=me?dt=!0:Fe=!0;Fe?(M(Le),Le=rf(Q)):dt?(R(me),me=rf(q)):(me=rf(q),Le=rf(Q))}}(o,l,Du,m=>{d.push(this.Rn(e,t,r,m))},m=>{d.push(this.Pn(e,t,r,m))}),re.waitFor(d)}Tn(e){let t=1;return kg(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,l)=>{l.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Du(d,m)).filter((d,m,w)=>!m||0!==Du(d,w[m-1]));const o=[];o.push(e);for(const d of r){const m=Du(d,e),w=Du(d,t);if(0===m)o[0]=e.Je();else if(m>0&&w<0)o.push(d),o.push(d.Je());else if(w>0)break}o.push(t);const l=[];for(let d=0;d<o.length;d+=2){if(this.bn(o[d],o[d+1]))return[];l.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,Ng,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,Ng,[]]))}return l}bn(e,t){return Du(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(hE)}getMinOffset(e,t){return re.mapArray(this.cn(t),r=>this.an(e,r).next(o=>o||ot())).next(hE)}}function XT(n){return Fr(n,"collectionParents")}function Rg(n){return Fr(n,"indexEntries")}function Af(n){return Fr(n,"indexConfiguration")}function kg(n){return Fr(n,"indexState")}function hE(n){lt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const o=n[r].indexState.offset;g0(o,e)<0&&(e=o),t<o.largestBatchId&&(t=o.largestBatchId)}return new xo(e.readTime,e.documentKey,t)}const eD={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Oi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Oi(e,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function tD(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),l=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.X({range:d},(M,R,q)=>(m++,q.delete()));l.push(w.next(()=>{lt(1===m)}));const C=[];for(const M of t.mutations){const R=nd(e,M.key.path,t.batchId);l.push(o.delete(R)),C.push(M.key)}return re.waitFor(l).next(()=>C)}function Q_(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ot();e=n.noDocument}return JSON.stringify(e).length}Oi.DEFAULT_COLLECTION_PERCENTILE=10,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oi.DEFAULT=new Oi(41943040,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oi.DISABLED=new Oi(-1,0,0);class X_{constructor(e,t,r,o){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=o,this.Vn={}}static de(e,t,r,o){lt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new X_(l,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ll(e).X({index:"userMutationsIndex",range:r},(o,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const l=Mf(e),d=Ll(e);return d.add({}).next(m=>{lt("number"==typeof m);const w=new $0(m,t,r,o),C=function(q,Q,me){const Le=me.baseMutations.map(dt=>If(q.fe,dt)),Fe=me.mutations.map(dt=>If(q.fe,dt));return{userId:Q,batchId:me.batchId,localWriteTimeMs:me.localWriteTime.toMillis(),baseMutations:Le,mutations:Fe}}(this.serializer,this.userId,w),M=[];let R=new Gn((q,Q)=>Rt(q.canonicalString(),Q.canonicalString()));for(const q of o){const Q=nd(this.userId,q.key.path,m);R=R.add(q.key.path.popLast()),M.push(d.put(C)),M.push(l.put(Q,eT))}return R.forEach(q=>{M.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.Vn[m]=w.keys()}),re.waitFor(M).next(()=>w)})}lookupMutationBatch(e,t){return Ll(e).get(t).next(r=>r?(lt(r.userId===this.userId),hd(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?re.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Vn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ll(e).X({index:"userMutationsIndex",range:o},(d,m,w)=>{m.userId===this.userId&&(lt(m.batchId>=r),l=hd(this.serializer,m)),w.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ll(e).X({index:"userMutationsIndex",range:t,reverse:!0},(o,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ll(e).j("userMutationsIndex",t).next(r=>r.map(o=>hd(this.serializer,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=yu(this.userId,t.path),o=IDBKeyRange.lowerBound(r),l=[];return Mf(e).X({range:o},(d,m,w)=>{const[C,M,R]=d,q=Ki(M);if(C===this.userId&&t.path.isEqual(q))return Ll(e).get(R).next(Q=>{if(!Q)throw ot();lt(Q.userId===this.userId),l.push(hd(this.serializer,Q))});w.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(Rt);const o=[];return t.forEach(l=>{const d=yu(this.userId,l.path),m=IDBKeyRange.lowerBound(d),w=Mf(e).X({range:m},(C,M,R)=>{const[q,Q,me]=C,Le=Ki(Q);q===this.userId&&l.path.isEqual(Le)?r=r.add(me):R.done()});o.push(w)}),re.waitFor(o).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,l=yu(this.userId,r),d=IDBKeyRange.lowerBound(l);let m=new Gn(Rt);return Mf(e).X({range:d},(w,C,M)=>{const[R,q,Q]=w,me=Ki(q);R===this.userId&&r.isPrefixOf(me)?me.length===o&&(m=m.add(Q)):M.done()}).next(()=>this.Dn(e,m))}Dn(e,t){const r=[],o=[];return t.forEach(l=>{o.push(Ll(e).get(l).next(d=>{if(null===d)throw ot();lt(d.userId===this.userId),r.push(hd(this.serializer,d))}))}),re.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return tD(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),re.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return re.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Mf(e).X({range:r},(l,d,m)=>{if(l[0]===this.userId){const w=Ki(l[1]);o.push(w)}else m.done()}).next(()=>{lt(0===o.length)})})}containsKey(e,t){return nD(e,this.userId,t)}xn(e){return fE(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nD(n,e,t){const r=yu(e,t.path),o=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return Mf(n).X({range:l,Y:!0},(m,w,C)=>{const[M,R,q]=m;M===e&&R===o&&(d=!0),C.done()}).next(()=>d)}function Ll(n){return Fr(n,"mutations")}function Mf(n){return Fr(n,"documentMutations")}function fE(n){return Fr(n,"mutationQueues")}class Pl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Pl(0)}static Mn(){return new Pl(-1)}}class I1{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new Pl(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>vt.fromTimestamp(new Xn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.On(e,o)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(lt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let o=0;const l=[];return Sf(e).X((d,m)=>{const w=Df(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,l.push(this.removeTargetData(e,w)))}).next(()=>re.waitFor(l)).next(()=>o)}forEachTarget(e,t){return Sf(e).X((r,o)=>{const l=Df(o);t(l)})}$n(e){return pE(e).get("targetGlobalKey").next(t=>(lt(null!==t),t))}On(e,t){return pE(e).put("targetGlobalKey",t)}Fn(e,t){return Sf(e).put(KT(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=wu(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Sf(e).X({range:o,index:"queryTargetsIndex"},(d,m,w)=>{const C=Df(m);As(t,C.target)&&(l=C,w.done())}).next(()=>l)}addMatchingKeys(e,t,r){const o=[],l=Fl(e);return t.forEach(d=>{const m=Cr(d.path);o.push(l.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,d))}),re.waitFor(o)}removeMatchingKeys(e,t,r){const o=Fl(e);return re.forEach(t,l=>{const d=Cr(l.path);return re.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Fl(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Fl(e);let l=qt();return o.X({range:r,Y:!0},(d,m,w)=>{const C=Ki(d[1]),M=new Je(C);l=l.add(M)}).next(()=>l)}containsKey(e,t){const r=Cr(t.path),o=IDBKeyRange.bound([r],[Vb(r)],!1,!0);let l=0;return Fl(e).X({index:"documentTargetsIndex",Y:!0,range:o},([d,m],w,C)=>{0!==d&&(l++,C.done())}).next(()=>l>0)}le(e,t){return Sf(e).get(t).next(r=>r?Df(r):null)}}function Sf(n){return Fr(n,"targets")}function pE(n){return Fr(n,"targetGlobal")}function Fl(n){return Fr(n,"targetDocuments")}function rD([n,e],[t,r]){const o=Rt(n,t);return 0===o?Rt(e,r):o}class T1{constructor(e){this.Ln=e,this.buffer=new Gn(rD),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();rD(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ey{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Oe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ge.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){la(r)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield wl(r)}yield t.Qn(3e5)}))}}class gE{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return re.resolve(er.ct);const r=new T1(t);return this.jn.forEachTarget(e,o=>r.Kn(o.sequenceNumber)).next(()=>this.jn.Wn(e,o=>r.Kn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(eD)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eD):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,o,l,d,m,w,C;const M=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,m=Date.now(),this.removeTargets(e,r,t))).next(R=>(l=R,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(C=Date.now(),ag()<=Wo.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-M}ms\n\tDetermined least recently used ${o} in `+(m-d)+`ms\n\tRemoved ${l} targets in `+(w-m)+`ms\n\tRemoved ${R} documents in `+(C-w)+`ms\nTotal Duration: ${C-M}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:R})))}}class _E{constructor(e,t){this.db=e,this.garbageCollector=function mE(n,e){return new gE(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,o)=>t(o))}addReference(e,t,r){return ty(e,r)}removeReference(e,t,r){return ty(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return ty(e,t)}Xn(e,t){return function(r,o){let l=!1;return fE(r).Z(d=>nD(r,d,o).next(m=>(m&&(l=!0),re.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let l=0;return this.Yn(e,(d,m)=>{if(m<=t){const w=this.Xn(e,d).next(C=>{if(!C)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d,vt.min()),Fl(e).delete([0,Cr(d.path)])))});o.push(w)}}).next(()=>re.waitFor(o)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return ty(e,t)}Yn(e,t){const r=Fl(e);let o,l=er.ct;return r.X({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:C})=>{0===d?(l!==er.ct&&t(new Je(Ki(o)),l),l=C,o=w):l=er.ct}).next(()=>{l!==er.ct&&t(new Je(Ki(o)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ty(n,e){return Fl(n).put((r=n.currentSequenceNumber,{targetId:0,path:Cr(e.path),sequenceNumber:r}));var r}class iD{constructor(){this.changes=new fa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?re.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yE{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Vl(e).put(r)}removeEntry(e,t,r){return Vl(e).delete(function(o,l){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],Ag(l),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Pn.newInvalidDocument(t);return Vl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Og(t))},(o,l)=>{r=this.ts(t,l)}).next(()=>r)}es(e,t){let r={size:0,document:Pn.newInvalidDocument(t)};return Vl(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Og(t))},(o,l)=>{r={document:this.ts(t,l),size:Q_(l)}}).next(()=>r)}getEntries(e,t){let r=Yi();return this.ns(e,t,(o,l)=>{const d=this.ts(o,l);r=r.insert(o,d)}).next(()=>r)}ss(e,t){let r=Yi(),o=new Mn(Je.comparator);return this.ns(e,t,(l,d)=>{const m=this.ts(l,d);r=r.insert(l,m),o=o.insert(l,Q_(d))}).next(()=>({documents:r,rs:o}))}ns(e,t,r){if(t.isEmpty())return re.resolve();let o=new Gn(ny);t.forEach(w=>o=o.add(w));const l=IDBKeyRange.bound(Og(o.first()),Og(o.last())),d=o.getIterator();let m=d.getNext();return Vl(e).X({index:"documentKeyIndex",range:l},(w,C,M)=>{const R=Je.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&ny(m,R)<0;)r(m,null),m=d.getNext();m&&m.isEqual(R)&&(r(m,C),m=d.hasNext()?d.getNext():null),m?M.G(Og(m)):M.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,o){const l=t.path,d=[l.popLast().toArray(),l.lastSegment(),Ag(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],m=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vl(e).j(IDBKeyRange.bound(d,m,!0)).next(w=>{let C=Yi();for(const M of w){const R=this.ts(Je.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);R.isFoundDocument()&&(wg(t,R)||o.has(R.key))&&(C=C.insert(R.key,R))}return C})}getAllFromCollectionGroup(e,t,r,o){let l=Yi();const d=D1(t,r),m=D1(t,xo.max());return Vl(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,C,M)=>{const R=this.ts(Je.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);l=l.insert(R.key,R),l.size===o&&M.done()}).next(()=>l)}newChangeBuffer(e){return new sD(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pd(e).get("remoteDocumentGlobalKey").next(t=>(lt(!!t),t))}Zn(e,t){return pd(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function h1(n,e){let t;if(e.document)t=iE(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Je.fromSegments(e.noDocument.path),o=kl(e.noDocument.readTime);t=Pn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot();{const r=Je.fromSegments(e.unknownDocument.path),o=kl(e.unknownDocument.version);t=Pn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Xn(r[0],r[1]);return vt.fromTimestamp(o)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(vt.min()))return r}return Pn.newInvalidDocument(e)}}function oD(n){return new yE(n)}class sD extends iD{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new fa(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Gn((l,d)=>Rt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const m=this.us.get(l);if(t.push(this.os.removeEntry(e,l,m.readTime)),d.isValidDocument()){const w=zT(this.os.serializer,d);o=o.add(l.path.popLast());const C=Q_(w);r+=C-m.size,t.push(this.os.addEntry(e,l,w))}else if(r-=m.size,this.trackRemovals){const w=zT(this.os.serializer,d.convertToNoDocument(vt.min()));t.push(this.os.addEntry(e,l,w))}}),o.forEach(l=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.os.updateMetadata(e,r)),re.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:o})=>(o.forEach((l,d)=>{this.us.set(l,{size:d,readTime:r.get(l).readTime})}),r))}}function pd(n){return Fr(n,"remoteDocumentGlobal")}function Vl(n){return Fr(n,"remoteDocumentsV14")}function Og(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function D1(n,e){const t=e.documentKey.path.toArray();return[n,Ag(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ny(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(o=Rt(t[l],r[l]),o)return o;return o=Rt(t.length,r.length),o||(o=Rt(t[t.length-2],r[r.length-2]),o||Rt(t[t.length-1],r[r.length-1]))}class vE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class aD{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(null!==r&&gf(r.mutation,o,po.empty(),Xn.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,qt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=qt()){const o=pa();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(l=>{let d=go();return l.forEach((m,w)=>{d=d.insert(m,w.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,qt()))}populateOverlays(e,t,r){const o=[];return r.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let l=Yi();const d=Ji(),m=Ji();return t.forEach((w,C)=>{const M=r.get(C.key);o.has(C.key)&&(void 0===M||M.mutation instanceof Iu)?l=l.insert(C.key,C):void 0!==M?(d.set(C.key,M.mutation.getFieldMask()),gf(M.mutation,C,M.mutation.getFieldMask(),Xn.now())):d.set(C.key,po.empty())}),this.recalculateAndSaveOverlays(e,l).next(w=>(w.forEach((C,M)=>d.set(C,M)),t.forEach((C,M)=>{var R;return m.set(C,new vE(M,null!==(R=d.get(C))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=Ji();let o=new Mn((d,m)=>d-m),l=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(w=>{const C=t.get(w);if(null===C)return;let M=r.get(w)||po.empty();M=m.applyToLocalView(C,M),r.set(w,M);const R=(o.get(m.batchId)||qt()).add(w);o=o.insert(m.batchId,R)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),C=w.key,M=w.value,R=Ms();M.forEach(q=>{if(!l.has(q)){const Q=Z_(t.get(q),r.get(q));null!==Q&&R.set(q,Q),l=l.add(q)}}),d.push(this.documentOverlayCache.saveOverlays(e,C,R))}return re.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Je.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):P_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var o}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(l=>{const d=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-l.size):re.resolve(pa());let m=-1,w=l;return d.next(C=>re.forEach(C,(M,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),l.get(M)?re.resolve():this.remoteDocumentCache.getEntry(e,M).next(q=>{w=w.insert(M,q)}))).next(()=>this.populateOverlays(e,C,l)).next(()=>this.computeViews(e,w,C,qt())).next(M=>({batchId:m,changes:IT(M)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(r=>{let o=go();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const o=t.collectionGroup;let l=go();return this.indexManager.getCollectionParents(e,o).next(d=>re.forEach(d,m=>{const w=(C=t,M=m.child(o),new Ml(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(C=>{C.forEach((M,R)=>{l=l.insert(M,R)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o))).next(l=>{o.forEach((m,w)=>{const C=w.getKey();null===l.get(C)&&(l=l.insert(C,Pn.newInvalidDocument(C)))});let d=go();return l.forEach((m,w)=>{const C=o.get(m);void 0!==C&&gf(C.mutation,w,po.empty(),Xn.now()),wg(t,w)&&(d=d.insert(m,w))}),d})}}class uD{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return re.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Mr(r.createTime)}),re.resolve()}getNamedQuery(e,t){return re.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:aE(r.bundledQuery),readTime:Mr(r.readTime)}),re.resolve();var r}}class lD{constructor(){this.overlays=new Mn(Je.comparator),this.ls=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const r=pa();return re.forEach(t,o=>this.getOverlay(e,o).next(l=>{null!==l&&r.set(o,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,l)=>{this.we(e,t,l)}),re.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.ls.get(r);return void 0!==o&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(r)),re.resolve()}getOverlaysForCollection(e,t,r){const o=pa(),l=t.length+1,d=new Je(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,C=w.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===l&&w.largestBatchId>r&&o.set(w.getKey(),w)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let l=new Mn((C,M)=>C-M);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let M=l.get(C.largestBatchId);null===M&&(M=pa(),l=l.insert(C.largestBatchId,M)),M.set(C.getKey(),C)}}const m=pa(),w=l.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((C,M)=>m.set(C,M)),!(m.size()>=o)););return re.resolve(m)}we(e,t,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.ls.get(o.largestBatchId).delete(r.key);this.ls.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new K0(t,r));let l=this.ls.get(t);void 0===l&&(l=qt(),this.ls.set(t,l)),this.ls.set(t,l.add(r.key))}}class EE{constructor(){this.fs=new Gn(jr.ds),this.ws=new Gn(jr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new jr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new jr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Je(new sn([])),r=new jr(t,e),o=new jr(t,e+1),l=[];return this.ws.forEachInRange([r,o],d=>{this.ys(d),l.push(d.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Je(new sn([])),r=new jr(t,e),o=new jr(t,e+1);let l=qt();return this.ws.forEachInRange([r,o],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new jr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class jr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Je.comparator(e.key,t.key)||Rt(e.As,t.As)}static _s(e,t){return Rt(e.As,t.As)||Je.comparator(e.key,t.key)}}class wE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Gn(jr.ds)}checkEmpty(e){return re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,o){const l=this.vs;this.vs++;const d=new $0(l,t,r,o);this.mutationQueue.push(d);for(const m of o)this.Rs=this.Rs.add(new jr(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,t){return re.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.bs(t+1),l=o<0?0:o;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jr(t,0),o=new jr(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([r,o],d=>{const m=this.Ps(d.As);l.push(m)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Gn(Rt);return t.forEach(o=>{const l=new jr(o,0),d=new jr(o,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,d],m=>{r=r.add(m.As)})}),re.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let l=r;Je.isDocumentKey(l)||(l=l.child(""));const d=new jr(new Je(l),0);let m=new Gn(Rt);return this.Rs.forEachWhile(w=>{const C=w.key.path;return!!r.isPrefixOf(C)&&(C.length===o&&(m=m.add(w.As)),!0)},d),re.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const o=this.Ps(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){lt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return re.forEach(t.mutations,o=>{const l=new jr(o.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new jr(t,0),o=this.Rs.firstAfterOrEqual(r);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return re.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class cD{constructor(e){this.Ds=e,this.docs=new Mn(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),l=o?o.size:0,d=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return re.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let r=Yi();return t.forEach(o=>{const l=this.docs.get(o);r=r.insert(o,l?l.document.mutableCopy():Pn.newInvalidDocument(o))}),re.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let l=Yi();const d=t.path,m=new Je(d.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:C,value:{document:M}}=w.getNext();if(!d.isPrefixOf(C.path))break;C.path.length>d.length+1||g0(QI(M),r)<=0||(o.has(M.key)||wg(t,M))&&(l=l.insert(M.key,M.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,r,o){ot()}Cs(e,t){return re.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dD(this)}getSize(e){return re.resolve(this.size)}}class dD extends iD{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.os.addEntry(e,o)):this.os.removeEntry(r)}),re.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class hD{constructor(e){this.persistence=e,this.xs=new fa(t=>wu(t),As),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new EE,this.targetCount=0,this.Ms=Pl.kn()}forEachTarget(e,t){return this.xs.forEach((r,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),re.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pl(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Fn(t),re.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,r){let o=0;const l=[];return this.xs.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(d),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(l).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return re.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),re.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(d=>{l.push(o.markPotentiallyOrphaned(e,d))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),re.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return re.resolve(r)}containsKey(e,t){return re.resolve(this.ks.containsKey(t))}}class ry{constructor(e,t){this.$s={},this.overlays={},this.Os=new er(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hD(this),this.indexManager=new E1,this.remoteDocumentCache=new cD(r=>this.referenceDelegate.Ls(r)),this.serializer=new $T(t),this.qs=new uD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new wE(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Oe("MemoryPersistence","Starting transaction:",e);const o=new C1(this.Os.next());return this.referenceDelegate.Us(),r(o).next(l=>this.referenceDelegate.Ks(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Gs(e,t){return re.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class C1 extends _0{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.Qs=new EE,this.js=null}static zs(e){return new iy(e)}get Ws(){if(this.js)return this.js;throw ot()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),re.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),re.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(o=>this.Ws.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.Ws.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.Ws,r=>{const o=Je.fromPath(r);return this.Hs(e,o).next(l=>{l||t.removeEntry(o,vt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return re.or([()=>re.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class b1{constructor(e){this.serializer=e}O(e,t,r,o){const l=new y0("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",td,{unique:!0}),m.createObjectStore("documentMutations"),IE(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=re.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),IE(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",C)}(l))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").j().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",td,{unique:!0});const M=w.store("mutations"),R=C.map(q=>M.put(q));return re.waitFor(R)})}(e,l))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Ys(l))),r<6&&o>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(l)))),r<7&&o>=7&&(d=d.next(()=>this.Zs(l))),r<8&&o>=8&&(d=d.next(()=>this.ti(e,l))),r<9&&o>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.ei(l))),r<11&&o>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:LM});w.createIndex("collectionPathOverlayIndex",jb,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",Gb,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:tT});w.createIndex("documentKeyIndex",nT),w.createIndex("collectionGroupIndex",rT)}(e)).next(()=>this.ni(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>this.si(e,l))),r<15&&o>=15&&(d=d.next(()=>function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:uT}).createIndex("sequenceNumberIndex",v0,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:qb}).createIndex("documentKeyIndex",OM,{unique:!1})}(e))),d}Xs(e){let t=0;return e.store("remoteDocuments").X((r,o)=>{t+=Q_(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(o=>re.forEach(o,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(m=>re.forEach(m,w=>{lt(w.userId===l.userId);const C=hd(this.serializer,w);return tD(e,l.userId,C).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const l=[];return r.X((d,m)=>{const w=new sn(d),C=[0,Cr(w)];l.push(t.get(C).next(M=>M?re.resolve():t.put({targetId:0,path:Cr(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>re.waitFor(l))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:aT});const r=t.store("collectionParents"),o=new J_,l=d=>{if(o.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:Cr(w)})}};return t.store("remoteDocuments").X({Y:!0},(d,m)=>{const w=new sn(d);return l(w.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,m,w],C)=>{const M=Ki(m);return l(M.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,o)=>{const l=Df(o),d=KT(this.serializer,l);return t.put(d)})}ni(e,t){const r=t.store("remoteDocuments"),o=[];return r.X((l,d)=>{const m=t.store("remoteDocumentsV14"),w=(C=d,C.document?new Je(sn.fromString(C.document.name).popFirst(5)):C.noDocument?Je.fromSegments(C.noDocument.path):C.unknownDocument?Je.fromSegments(C.unknownDocument.path):ot()).path.toArray();var C;const M={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(m.put(M))}).next(()=>re.waitFor(o))}si(e,t){const r=t.store("mutations"),o=oD(this.serializer),l=new ry(iy.zs,this.serializer.fe);return r.j().next(d=>{const m=new Map;return d.forEach(w=>{var C;let M=null!==(C=m.get(w.userId))&&void 0!==C?C:qt();hd(this.serializer,w).keys().forEach(R=>M=M.add(R)),m.set(w.userId,M)}),re.forEach(m,(w,C)=>{const M=new Ln(C),R=z_.de(this.serializer,M),q=l.getIndexManager(M),Q=X_.de(M,this.serializer,q,l.referenceDelegate);return new aD(o,Q,R,q).recalculateAndSaveOverlaysForDocumentKeys(new E0(t,er.ct),w).next()})})}}function IE(n){n.createObjectStore("targetDocuments",{keyPath:oT}).createIndex("documentTargetsIndex",sT,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",iT,{unique:!0}),n.createObjectStore("targetGlobal")}const fD="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sy{constructor(e,t,r,o,l,d,m,w,C,M,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=l,this.window=d,this.document=m,this.ri=C,this.oi=M,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=q=>Promise.resolve(),!sy.D())throw new Te(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _E(this,o),this.di=t+"main",this.serializer=new $T(w),this.wi=new fo(this.di,this.ui,new b1(this.serializer)),this.Bs=new I1(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oD(this.serializer),this.qs=new UM,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===M&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,fD);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new er(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,ge.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ge.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ge.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ay(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(la(e))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Lg(e).get("owner").next(t=>re.resolve(this.Ri(t)))}Pi(e){return ay(e).delete(this.clientId)}bi(){var e=this;return(0,ge.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=Fr(r,"clientMetadata");return o.j().next(l=>{const d=e.Si(l,18e5),m=l.filter(w=>-1===d.indexOf(w));return re.forEach(m,w=>o.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?re.resolve(!0):Lg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,fD);return!1}}return!(!this.networkEnabled||!this.inForeground)||ay(e).j().next(r=>void 0===this.Si(r,5e3).find(o=>!(this.clientId===o.clientId||!(!this.networkEnabled&&o.networkEnabled||!this.inForeground&&o.inForeground&&this.networkEnabled===o.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Oe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ge.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new E0(t,er.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>ay(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return X_.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new w1(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return z_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Oe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",l=15===(d=this.ui)?Wb:14===d?lT:13===d?Kb:12===d?zb:11===d?$b:void ot();var d;let m;return this.wi.runTransaction(e,o,l,w=>(m=new E0(w,this.Os?this.Os.next():er.ct),"readwrite-primary"===t?this.Ti(m).next(C=>!!C||this.Ei(m)).next(C=>{if(!C)throw Dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Te(ae.FAILED_PRECONDITION,m0);return r(m)}).next(C=>this.vi(m).next(()=>C)):this.Oi(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Oi(e){return Lg(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Te(ae.FAILED_PRECONDITION,fD)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lg(e).put("owner",t)}static D(){return fo.D()}Ai(e){const t=Lg(e);return t.get("owner").next(r=>this.Ri(r)?(Oe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):re.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Dr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,rn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Oe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Dr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lg(n){return Fr(n,"owner")}function ay(n){return Fr(n,"clientMetadata")}function pD(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class TE{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=o}static Li(e,t){let r=qt(),o=qt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new TE(e,t.fromCache,r,o)}}class gD{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,o){return this.Ki(e,t).next(l=>l||this.Gi(e,t,o,r)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(L0(t))return re.resolve(null);let r=Wi(t);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==t.limit&&1===o&&(t=V_(t,null,"F"),r=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const d=qt(...l);return this.Ui.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const C=this.ji(t,m);return this.zi(t,C,d,w.readTime)?this.Ki(e,V_(t,null,"F")):this.Wi(e,C,t,w)}))})))}Gi(e,t,r,o){return L0(t)||o.isEqual(vt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(l=>{const d=this.ji(t,l);return this.zi(t,d,r,o)?this.Qi(e,t):(ag()<=Wo.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Sl(t)),this.Wi(e,d,t,JI(o,-1)))})}ji(e,t){let r=new Gn(V0(e));return t.forEach((o,l)=>{wg(e,l)&&(r=r.add(l))}),r}zi(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Qi(e,t){return ag()<=Wo.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",Sl(t)),this.Ui.getDocumentsMatchingQuery(e,t,xo.min())}Wi(e,t,r,o){return this.Ui.getDocumentsMatchingQuery(e,r,o).next(l=>(t.forEach(d=>{l=l.insert(d.key,d)}),l))}}class A1{constructor(e,t,r,o){this.persistence=e,this.Hi=t,this.serializer=o,this.Ji=new Mn(Rt),this.Yi=new fa(l=>wu(l),As),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aD(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function mD(n,e,t,r){return new A1(n,e,t,r)}function _D(n,e){return DE.apply(this,arguments)}function DE(){return DE=(0,ge.Z)(function*(n,e){const t=We(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(l=>(o=l,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const d=[],m=[];let w=qt();for(const C of o){d.push(C.batchId);for(const M of C.mutations)w=w.add(M.key)}for(const C of l){m.push(C.batchId);for(const M of C.mutations)w=w.add(M.key)}return t.localDocuments.getDocuments(r,w).next(C=>({er:C,removedBatchIds:d,addedBatchIds:m}))})})}),DE.apply(this,arguments)}function yD(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function vD(n,e,t){let r=qt(),o=qt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let d=Yi();return t.forEach((m,w)=>{const C=l.get(m);w.isFoundDocument()!==C.isFoundDocument()&&(o=o.add(m)),w.isNoDocument()&&w.version.isEqual(vt.min())?(e.removeEntry(m,w.readTime),d=d.insert(m,w)):!C.isValidDocument()||w.version.compareTo(C.version)>0||0===w.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(w),d=d.insert(m,w)):Oe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",C.version," Watch version:",w.version)}),{nr:d,sr:o}})}function x1(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xf(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Bs.getTargetData(r,e).next(l=>l?(o=l,re.resolve(o)):t.Bs.allocateTargetId(r).next(d=>(o=new No(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ji.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function ya(n,e,t){return uy.apply(this,arguments)}function uy(){return uy=(0,ge.Z)(function*(n,e,t){const r=We(n),o=r.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!la(d))throw d;Oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(o.target)}),uy.apply(this,arguments)}function Pg(n,e,t){const r=We(n);let o=vt.min(),l=qt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,C){const M=We(m),R=M.Yi.get(C);return void 0!==R?re.resolve(M.Ji.get(R)):M.Bs.getTargetData(w,C)}(r,d,Wi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(d,m.targetId).next(w=>{l=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(d,e,t?o:vt.min(),t?l:qt())).next(m=>(AE(r,wT(e),m),{documents:m,ir:l})))}function CE(n,e){const t=We(n),r=We(t.Bs),o=t.Ji.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",l=>r.le(l,e).next(d=>d?d.target:null))}function bE(n,e){const t=We(n),r=t.Xi.get(e)||vt.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.Zi.getAllFromCollectionGroup(o,e,JI(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(AE(t,e,o),o))}function AE(n,e,t){let r=n.Xi.get(e)||vt.min();t.forEach((o,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Xi.set(e,r)}function ME(){return ME=(0,ge.Z)(function*(n,e,t,r){const o=We(n);let l=qt(),d=Yi();for(const C of t){const M=e.rr(C.metadata.name);C.document&&(l=l.add(M));const R=e.ur(C);R.setReadTime(e.cr(C.metadata.readTime)),d=d.insert(M,R)}const m=o.Zi.newChangeBuffer({trackRemovals:!0}),w=yield xf(o,(C=r,Wi(df(sn.fromString(`__bundle__/docs/${C}`)))));var C;return o.persistence.runTransaction("Apply bundle documents","readwrite",C=>vD(C,m,d).next(M=>(m.apply(C),M)).next(M=>o.Bs.removeMatchingKeysForTargetId(C,w.targetId).next(()=>o.Bs.addMatchingKeys(C,l,w.targetId)).next(()=>o.localDocuments.getLocalViewOfDocuments(C,M.nr,M.sr)).next(()=>M.nr)))}),ME.apply(this,arguments)}function BM(n,e){return SE.apply(this,arguments)}function SE(){return SE=(0,ge.Z)(function*(n,e,t=qt()){const r=yield xf(n,Wi(aE(e.bundledQuery))),o=We(n);return o.persistence.runTransaction("Save named query","readwrite",l=>{const d=Mr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o.qs.saveNamedQuery(l,e);const m=r.withResumeToken(br.EMPTY_BYTE_STRING,d);return o.Ji=o.Ji.insert(m.targetId,m),o.Bs.updateTargetData(l,m).next(()=>o.Bs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>o.Bs.addMatchingKeys(l,t,r.targetId)).next(()=>o.qs.saveNamedQuery(l,e))})}),SE.apply(this,arguments)}function ED(n,e){return`firestore_clients_${n}_${e}`}function wD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function xE(n,e){return`firestore_targets_${n}_${e}`}class ly{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static ar(e,t,r){const o=JSON.parse(r);let l,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(l=new Te(o.error.code,o.error.message))),d?new ly(e,t,o.state,l):(Dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cu{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let o,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Te(r.error.code,r.error.message))),l?new Cu(e,r.state,o):(Dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cy{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,l=U0();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=Xc(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return o?new cy(e,l):(Dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Fg{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Fg(t.clientId,t.onlineState):(Dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Xo{constructor(){this.activeTargetIds=U0()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NE{constructor(e,t,r,o,l){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Mn(Rt),this.started=!1,this.yr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.pr=ED(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new Xo),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ge.Z)(function*(){const t=yield e.syncEngine.$i();for(const o of t){if(o===e.wr)continue;const l=e.getItem(ED(e.persistenceKey,o));if(l){const d=cy.ar(o,l);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const o=e.br(r);o&&e.Vr(o)}for(const o of e.yr)e.mr(o);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(xE(this.persistenceKey,e));if(r){const o=Cu.ar(e,r);o&&(t=o.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(xE(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Cr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Oe("SharedClientState","READ",e,t),t}setItem(e,t){Oe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Oe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Oe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ge.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const o=t.Or(r.key);return t.Fr(o,null)}{const o=t.Br(r.key,r.newValue);if(o)return t.Fr(o.clientId,o)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const o=t.Lr(r.key,r.newValue);if(o)return t.qr(o)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const o=t.Ur(r.key,r.newValue);if(o)return t.Kr(o)}}else if(r.key===t.vr){if(null!==r.newValue){const o=t.br(r.newValue);if(o)return t.Vr(o)}}else if(r.key===t.Ir){const o=function(l){let d=er.ct;if(null!=l)try{const m=JSON.parse(l);lt("number"==typeof m),d=m}catch(m){Dr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);o!==er.ct&&t.sequenceNumberHandler(o)}else if(r.key===t.Rr){const o=t.Gr(r.newValue);yield Promise.all(o.map(l=>t.syncEngine.Qr(l)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const o=new ly(this.currentUser,e,t,r),l=wD(this.persistenceKey,this.currentUser,e);this.setItem(l,o.hr())}Cr(e){const t=wD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const o=xE(this.persistenceKey,e),l=new Cu(e,t,r);this.setItem(o,l.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return cy.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),o=Number(r[1]);return ly.ar(new Ln(void 0!==r[2]?r[2]:null),o,t)}Ur(e,t){const r=this.Ar.exec(e),o=Number(r[1]);return Cu.ar(o,t)}br(e){return Fg.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ge.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),o=this.Sr(this.gr),l=this.Sr(r),d=[],m=[];return l.forEach(w=>{o.has(w)||d.push(w)}),o.forEach(w=>{l.has(w)||m.push(w)}),this.syncEngine.Wr(d,m).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=U0();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class dy{constructor(){this.Hr=new Xo,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Xo,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vg{Yr(e){}shutdown(){}}class ID{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hy=null;function RE(){return null===hy?hy=268435456+Math.round(2147483648*Math.random()):hy++,"0x"+hy.toString(16)}const fy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TD{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Li="WebChannelConnection";class R1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,o,l){const d=RE(),m=this.To(e,t);Oe("RestConnection",`Sending RPC '${e}' ${d}:`,m,r);const w={};return this.Eo(w,o,l),this.Ao(e,m,w,r).then(C=>(Oe("RestConnection",`Received RPC '${e}' ${d}: `,C),C),C=>{throw Ds("RestConnection",`RPC '${e}' ${d} failed with error: `,C,"url: ",m,"request:",r),C})}vo(e,t,r,o,l,d){return this.Io(e,t,r,o,l)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),r&&r.headers.forEach((o,l)=>e[l]=o)}To(e,t){return`${this.mo}/v1/${t}:${fy[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,o){const l=RE();return new Promise((d,m)=>{const w=new GI;w.setWithCredentials(!0),w.listenOnce(jI.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case v_.NO_ERROR:const M=w.getResponseJson();Oe(Li,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(M)),d(M);break;case v_.TIMEOUT:Oe(Li,`RPC '${e}' ${l} timed out`),m(new Te(ae.DEADLINE_EXCEEDED,"Request time out"));break;case v_.HTTP_ERROR:const R=w.getStatus();if(Oe(Li,`RPC '${e}' ${l} failed with status:`,R,"response text:",w.getResponseText()),R>0){let q=w.getResponseJson();Array.isArray(q)&&(q=q[0]);const Q=q?.error;if(Q&&Q.status&&Q.message){const me=function(Le){const Fe=Le.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(Fe)>=0?Fe:ae.UNKNOWN}(Q.status);m(new Te(me,Q.message))}else m(new Te(ae.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Te(ae.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Oe(Li,`RPC '${e}' ${l} completed.`)}});const C=JSON.stringify(o);Oe(Li,`RPC '${e}' ${l} sending request:`,o),w.send(t,"POST",C,r,15)})}Ro(e,t,r){const o=RE(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=qI(),m=Nb(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(w.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(w.xmlHttpFactory=new kM({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const M=l.join("");Oe(Li,`Creating RPC '${e}' stream ${o}: ${M}`,w);const R=d.createWebChannel(M,w);let q=!1,Q=!1;const me=new TD({ro:Fe=>{Q?Oe(Li,`Not sending because RPC '${e}' stream ${o} is closed:`,Fe):(q||(Oe(Li,`Opening RPC '${e}' stream ${o} transport.`),R.open(),q=!0),Oe(Li,`RPC '${e}' stream ${o} sending:`,Fe),R.send(Fe))},oo:()=>R.close()}),Le=(Fe,dt,xt)=>{Fe.listen(dt,It=>{try{xt(It)}catch(Nt){setTimeout(()=>{throw Nt},0)}})};return Le(R,sg.EventType.OPEN,()=>{Q||Oe(Li,`RPC '${e}' stream ${o} transport opened.`)}),Le(R,sg.EventType.CLOSE,()=>{Q||(Q=!0,Oe(Li,`RPC '${e}' stream ${o} transport closed`),me.wo())}),Le(R,sg.EventType.ERROR,Fe=>{Q||(Q=!0,Ds(Li,`RPC '${e}' stream ${o} transport errored:`,Fe),me.wo(new Te(ae.UNAVAILABLE,"The operation could not be completed")))}),Le(R,sg.EventType.MESSAGE,Fe=>{var dt;if(!Q){const xt=Fe.data[0];lt(!!xt);const Nt=xt.error||(null===(dt=xt[0])||void 0===dt?void 0:dt.error);if(Nt){Oe(Li,`RPC '${e}' stream ${o} received error:`,Nt);const Zt=Nt.status;let nn=function(Hl){const Kw=Vr[Hl];if(void 0!==Kw)return LT(Kw)}(Zt),yi=Nt.message;void 0===nn&&(nn=ae.INTERNAL,yi="Unknown error status: "+Zt+" with message "+Nt.message),Q=!0,me.wo(new Te(nn,yi)),R.close()}else Oe(Li,`RPC '${e}' stream ${o} received:`,xt),me._o(xt)}}),Le(m,E_.STAT_EVENT,Fe=>{Fe.stat===w_.PROXY?Oe(Li,`RPC '${e}' stream ${o} detected buffering proxy`):Fe.stat===w_.NOPROXY&&Oe(Li,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{me.fo()},0),me}}function py(){return typeof window<"u"?window:null}function gy(){return typeof document<"u"?document:null}function Ug(n){return new VM(n,!0)}class my{constructor(e,t,r=1e3,o=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=o,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),o=Math.max(0,t-r);o>0&&Oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,o,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class DD{constructor(e,t,r,o,l,d,m,w){this.ii=e,this.$o=r,this.Oo=o,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new my(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ge.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ge.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,ge.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Fo===t&&this.Zo(r,o)},r=>{e(()=>{const o=new Te(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(o)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(o=>{r(()=>this.tu(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Go(){var e=this;this.state=5,this.qo.No((0,ge.Z)(function*(){e.state=0,e.start()}))}tu(e){return Oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k1 extends DD{constructor(e,t,r,o,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function ZT(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:ot(),o=e.targetChange.targetIds||[],l=function(w,C){return w.useProto3Json?(lt(void 0===C||"string"==typeof C),br.fromBase64String(C||"")):(lt(void 0===C||C instanceof Uint8Array),br.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const C=void 0===w.code?ae.UNKNOWN:LT(w.code);return new Te(C,w.message||"")}(d);t=new X0(r,o,l,m||null)}else if("documentChange"in e){const r=e.documentChange,o=_a(n,r.document.name),l=Mr(r.document.updateTime),d=r.document.createTime?Mr(r.document.createTime):vt.min(),m=new gi({mapValue:{fields:r.document.fields}}),w=Pn.newFoundDocument(o,l,d,m);t=new Dg(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,o=_a(n,r.document),l=r.readTime?Mr(r.readTime):vt.min(),d=Pn.newNoDocument(o,l);t=new Dg([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=_a(n,r.document);t=new Dg([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return ot();{const r=e.filter,{count:o=0,unchangedNames:l}=r,d=new o1(o,l);t=new Q0(r.targetId,d)}}var w;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return vt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?vt.min():l.readTime?Mr(l.readTime):vt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Fn(this.serializer),t.addTarget=function(o,l){let d;const m=l.target;if(d=cf(m)?{documents:qT(o,m)}:{query:oE(o,m)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=s1(o,l.resumeToken);const w=j_(o,l.expectedCount);null!==w&&(d.expectedCount=w)}else if(l.snapshotVersion.compareTo(vt.min())>0){d.readTime=cd(o,l.snapshotVersion.toTimestamp());const w=j_(o,l.expectedCount);null!==w&&(d.expectedCount=w)}return d}(this.serializer,e);const r=function bg(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Fn(this.serializer),t.removeTarget=e,this.Wo(t)}}class CD extends DD{constructor(e,t,r,o,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function HT(n,e){return n&&n.length>0?(lt(void 0!==e),n.map(t=>function(r,o){let l=Mr(r.updateTime?r.updateTime:o);return l.isEqual(vt.min())&&(l=Mr(o)),new q0(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.cu(r,t)}return lt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fn(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>If(this.serializer,r))};this.Wo(t)}}class _y extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.lu=!1}fu(){if(this.lu)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Io(e,t,r,o,l)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ae.UNKNOWN,o.toString())})}vo(e,t,r,o){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.vo(e,t,r,l,d,o)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(ae.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class bD{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Dr(t),this.mu=!1):Oe("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class AD{constructor(e,t,r,o,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(m=>{r.enqueueAndForget((0,ge.Z)(function*(){var w;va(d)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,ge.Z)(function*(C){const M=We(C);M.vu.add(4),yield Nf(M),M.bu.set("Unknown"),M.vu.delete(4),yield gd(M)}),function(C){return w.apply(this,arguments)})(d))}))}),this.bu=new bD(r,o)}}function gd(n){return yy.apply(this,arguments)}function yy(){return yy=(0,ge.Z)(function*(n){if(va(n))for(const e of n.Ru)yield e(!0)}),yy.apply(this,arguments)}function Nf(n){return vy.apply(this,arguments)}function vy(){return vy=(0,ge.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),vy.apply(this,arguments)}function Bg(n,e){const t=We(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),wy(t)?Hg(t):kf(t).Ko()&&OE(t,e))}function Zg(n,e){const t=We(n),r=kf(t);t.Au.delete(e),r.Ko()&&Ey(t,e),0===t.Au.size&&(r.Ko()?r.jo():va(t)&&t.bu.set("Unknown"))}function OE(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}kf(n).su(e)}function Ey(n,e){n.Vu.qt(e),kf(n).iu(e)}function Hg(n){n.Vu=new ld({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),kf(n).start(),n.bu.gu()}function wy(n){return va(n)&&!kf(n).Uo()&&n.Au.size>0}function va(n){return 0===We(n).vu.size}function Iy(n){n.Vu=void 0}function L1(n){return LE.apply(this,arguments)}function LE(){return LE=(0,ge.Z)(function*(n){n.Au.forEach((e,t)=>{OE(n,e)})}),LE.apply(this,arguments)}function P1(n,e){return PE.apply(this,arguments)}function PE(){return PE=(0,ge.Z)(function*(n,e){Iy(n),wy(n)?(n.bu.Iu(e),Hg(n)):n.bu.set("Unknown")}),PE.apply(this,arguments)}function MD(n,e,t){return qg.apply(this,arguments)}function qg(){return qg=(0,ge.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof X0&&2===e.state&&e.cause)try{yield(r=(0,ge.Z)(function*(o,l){const d=l.cause;for(const m of l.targetIds)o.Au.has(m)&&(yield o.remoteSyncer.rejectListen(m,d),o.Au.delete(m),o.Vu.removeTarget(m))}),function(o,l){return r.apply(this,arguments)})(n,e)}catch(r){Oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jg(n,r)}else if(e instanceof Dg?n.Vu.Ht(e):e instanceof Q0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(vt.min()))try{const r=yield yD(n.localStore);t.compareTo(r)>=0&&(yield function(o,l){const d=o.Vu.ce(l);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const C=o.Au.get(w);C&&o.Au.set(w,C.withResumeToken(m.resumeToken,l))}}),d.targetMismatches.forEach((m,w)=>{const C=o.Au.get(m);if(!C)return;o.Au.set(m,C.withResumeToken(br.EMPTY_BYTE_STRING,C.snapshotVersion)),Ey(o,m);const M=new No(C.target,m,w,C.sequenceNumber);OE(o,M)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Oe("RemoteStore","Failed to raise snapshot:",r),yield jg(n,r)}var r}),qg.apply(this,arguments)}function jg(n,e,t){return FE.apply(this,arguments)}function FE(){return FE=(0,ge.Z)(function*(n,e,t){if(!la(e))throw e;n.vu.add(1),yield Nf(n),n.bu.set("Offline"),t||(t=()=>yD(n.localStore)),n.asyncQueue.enqueueRetryable((0,ge.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield gd(n)}))}),FE.apply(this,arguments)}function VE(n,e){return e().catch(t=>jg(n,t,e))}function md(n){return UE.apply(this,arguments)}function UE(){return UE=(0,ge.Z)(function*(n){const e=We(n),t=bu(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;SD(e);)try{const o=yield x1(e.localStore,r);if(null===o){0===e.Eu.length&&t.jo();break}r=o.batchId,xD(e,o)}catch(o){yield jg(e,o)}ND(e)&&BE(e)}),UE.apply(this,arguments)}function SD(n){return va(n)&&n.Eu.length<10}function xD(n,e){n.Eu.push(e);const t=bu(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function ND(n){return va(n)&&!bu(n).Uo()&&n.Eu.length>0}function BE(n){bu(n).start()}function F1(n){return mi.apply(this,arguments)}function mi(){return mi=(0,ge.Z)(function*(n){bu(n).hu()}),mi.apply(this,arguments)}function Rf(n){return ZE.apply(this,arguments)}function ZE(){return ZE=(0,ge.Z)(function*(n){const e=bu(n);for(const t of n.Eu)e.uu(t.mutations)}),ZE.apply(this,arguments)}function V1(n,e,t){return RD.apply(this,arguments)}function RD(){return RD=(0,ge.Z)(function*(n,e,t){const r=n.Eu.shift(),o=z0.from(r,e,t);yield VE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield md(n)}),RD.apply(this,arguments)}function ZM(n,e){return Ty.apply(this,arguments)}function Ty(){return Ty=(0,ge.Z)(function*(n,e){var t;e&&bu(n).ou&&(yield(t=(0,ge.Z)(function*(r,o){if(OT(l=o.code)&&l!==ae.ABORTED){const d=r.Eu.shift();bu(r).Qo(),yield VE(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield md(r)}var l}),function(r,o){return t.apply(this,arguments)})(n,e)),ND(n)&&BE(n)}),Ty.apply(this,arguments)}function Dy(n,e){return _d.apply(this,arguments)}function _d(){return _d=(0,ge.Z)(function*(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const r=va(t);t.vu.add(3),yield Nf(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield gd(t)}),_d.apply(this,arguments)}function HE(n,e){return Gg.apply(this,arguments)}function Gg(){return Gg=(0,ge.Z)(function*(n,e){const t=We(n);e?(t.vu.delete(2),yield gd(t)):e||(t.vu.add(2),yield Nf(t),t.bu.set("Unknown"))}),Gg.apply(this,arguments)}function kf(n){return n.Su||(n.Su=function(e,t,r){const o=We(e);return o.fu(),new k1(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:L1.bind(null,n),ao:P1.bind(null,n),nu:MD.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Su.Qo(),wy(n)?Hg(n):n.bu.set("Unknown")):(yield n.Su.stop(),Iy(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function bu(n){return n.Du||(n.Du=function(e,t,r){const o=We(e);return o.fu(),new CD(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{uo:F1.bind(null,n),ao:ZM.bind(null,n),au:Rf.bind(null,n),cu:V1.bind(null,n)}),n.Ru.push(function(){var e=(0,ge.Z)(function*(t){t?(n.Du.Qo(),yield md(n)):(yield n.Du.stop(),n.Eu.length>0&&(Oe("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class qE{constructor(e,t,r,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=l,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,l){const d=Date.now()+r,m=new qE(e,t,d,o,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Of(n,e){if(Dr("AsyncQueue",`${e}: ${n}`),la(n))return new Te(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Lf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Je.comparator(t.key,r.key):(t,r)=>Je.comparator(t.key,r.key),this.keyedMap=go(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new Lf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=r.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Cy{constructor(){this.Cu=new Mn(Je.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ot():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class yd{constructor(e,t,r,o,l,d,m,w,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,o,l){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new yd(e,t,Lf.emptySet(t),d,r,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class U1{constructor(){this.Nu=void 0,this.listeners=[]}}class by{constructor(){this.queries=new fa(e=>F0(e),hf),this.onlineState="Unknown",this.ku=new Set}}function $g(n,e){return kD.apply(this,arguments)}function kD(){return kD=(0,ge.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1,l=t.queries.get(r);if(l||(o=!0,l=new U1),o)try{l.Nu=yield t.onListen(r)}catch(d){const m=Of(d,`Initialization of query '${Sl(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&GE(t)}),kD.apply(this,arguments)}function Ay(n,e){return jE.apply(this,arguments)}function jE(){return jE=(0,ge.Z)(function*(n,e){const t=We(n),r=e.query;let o=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),o=0===l.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),jE.apply(this,arguments)}function OD(n,e){const t=We(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const m of d.listeners)m.$u(o)&&(r=!0);d.Nu=o}}r&&GE(t)}function Pf(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const l of o.listeners)l.onError(t);r.queries.delete(e)}function GE(n){n.ku.forEach(e=>{e.next()})}class My{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new yd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=yd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class $E{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class B1{constructor(e){this.serializer=e}rr(e){return _a(this.serializer,e)}ur(e){return e.metadata.exists?iE(this.serializer,e.document,!1):Pn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Mr(e)}}class Z1{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=H1(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=sn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new B1(this.serializer);for(const o of e)if(o.metadata.queries){const l=r.rr(o.metadata.name);for(const d of o.metadata.queries){const m=(t.get(d)||qt()).add(l);t.set(d,m)}}return t}complete(){var e=this;return(0,ge.Z)(function*(){const t=yield function N1(n,e,t,r){return ME.apply(this,arguments)}(e.localStore,new B1(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const o of e.queries)yield BM(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function H1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class LD{constructor(e){this.key=e}}class PD{constructor(e){this.key=e}}class FD{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=qt(),this.mutatedKeys=qt(),this.tc=V0(e),this.ec=new Lf(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new Cy,o=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,C="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((M,R)=>{const q=o.get(M),Q=wg(this.query,R)?R:null,me=!!q&&this.mutatedKeys.has(q.key),Le=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let Fe=!1;q&&Q?q.data.isEqual(Q.data)?me!==Le&&(r.track({type:3,doc:Q}),Fe=!0):this.rc(q,Q)||(r.track({type:2,doc:Q}),Fe=!0,(w&&this.tc(Q,w)>0||C&&this.tc(Q,C)<0)&&(m=!0)):!q&&Q?(r.track({type:0,doc:Q}),Fe=!0):q&&!Q&&(r.track({type:1,doc:q}),Fe=!0,(w||C)&&(m=!0)),Fe&&(Q?(d=d.add(Q),l=Le?l.add(M):l.delete(M)):(d=d.delete(M),l=l.delete(M)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const M="F"===this.query.limitType?d.last():d.first();d=d.delete(M.key),l=l.delete(M.key),r.track({type:1,doc:M})}return{ec:d,ic:r,zi:m,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((C,M)=>function(R,q){const Q=me=>{switch(me){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return Q(R)-Q(q)}(C.type,M.type)||this.tc(C.doc,M.doc)),this.oc(r);const d=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,w=m!==this.Xu;return this.Xu=m,0!==l.length||w?{snapshot:new yd(this.query,e.ec,o,l,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Cy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=qt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new PD(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new LD(r))}),t}hc(e){this.Yu=e.ir,this.Zu=qt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return yd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class VD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class UD{constructor(e){this.key=e,this.fc=!1}}class q1{constructor(e,t,r,o,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new fa(m=>F0(m),hf),this._c=new Map,this.mc=new Set,this.gc=new Mn(Je.comparator),this.yc=new Map,this.Ic=new EE,this.Tc={},this.Ec=new Map,this.Ac=Pl.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function BD(n,e){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,ge.Z)(function*(n,e){const t=_i(n);let r,o;const l=t.wc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),o=l.view.lc();else{const d=yield xf(t.localStore,Wi(e)),m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield zE(t,e,r,"current"===m,d.resumeToken),t.isPrimaryClient&&Bg(t.remoteStore,d)}return o}),Sy.apply(this,arguments)}function zE(n,e,t,r,o){return KE.apply(this,arguments)}function KE(){return KE=(0,ge.Z)(function*(n,e,t,r,o){n.Rc=(R,q,Q)=>{return(me=(0,ge.Z)(function*(Le,Fe,dt,xt){let It=Fe.view.sc(dt);It.zi&&(It=yield Pg(Le.localStore,Fe.query,!1).then(({documents:nn})=>Fe.view.sc(nn,It)));const Nt=xt&&xt.targetChanges.get(Fe.targetId),Zt=Fe.view.applyChanges(It,Le.isPrimaryClient,Nt);return Ry(Le,Fe.targetId,Zt.cc),Zt.snapshot}),function(Le,Fe,dt,xt){return me.apply(this,arguments)})(n,R,q,Q);var me};const l=yield Pg(n.localStore,e,!0),d=new FD(e,l.ir),m=d.sc(l.documents),w=vf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,o),C=d.applyChanges(m,n.isPrimaryClient,w);Ry(n,t,C.cc);const M=new VD(e,t,d);return n.wc.set(e,M),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),KE.apply(this,arguments)}function ZD(n,e){return WE.apply(this,arguments)}function WE(){return WE=(0,ge.Z)(function*(n,e){const t=We(n),r=t.wc.get(e),o=t._c.get(r.targetId);if(o.length>1)return t._c.set(r.targetId,o.filter(l=>!hf(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ya(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Zg(t.remoteStore,r.targetId),zg(t,r.targetId)}).catch(wl))):(zg(t,r.targetId),yield ya(t.localStore,r.targetId,!0))}),WE.apply(this,arguments)}function xy(){return xy=(0,ge.Z)(function*(n,e,t){const r=tw(n);try{const o=yield function(l,d){const m=We(l),w=Xn.now(),C=d.reduce((q,Q)=>q.add(Q.key),qt());let M,R;return m.persistence.runTransaction("Locally write mutations","readwrite",q=>{let Q=Yi(),me=qt();return m.Zi.getEntries(q,C).next(Le=>{Q=Le,Q.forEach((Fe,dt)=>{dt.isValidDocument()||(me=me.add(Fe))})}).next(()=>m.localDocuments.getOverlayedDocuments(q,Q)).next(Le=>{M=Le;const Fe=[];for(const dt of d){const xt=xT(dt,M.get(dt.key).overlayedDocument);null!=xt&&Fe.push(new Iu(dt.key,xt,pT(xt.value.mapValue),Sn.exists(!0)))}return m.mutationQueue.addMutationBatch(q,w,Fe,d)}).next(Le=>{R=Le;const Fe=Le.applyToLocalDocumentSet(M,me);return m.documentOverlayCache.saveOverlays(q,Le.batchId,Fe)})}).then(()=>({batchId:R.batchId,changes:IT(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(l,d,m){let w=l.Tc[l.currentUser.toKey()];w||(w=new Mn(Rt)),w=w.insert(d,m),l.Tc[l.currentUser.toKey()]=w}(r,o.batchId,t),yield Au(r,o.changes),yield md(r.remoteStore)}catch(o){const l=Of(o,"Failed to persist write");t.reject(l)}}),xy.apply(this,arguments)}function YE(n,e){return Ny.apply(this,arguments)}function Ny(){return Ny=(0,ge.Z)(function*(n,e){const t=We(n);try{const r=yield function S1(n,e){const t=We(n),r=e.snapshotVersion;let o=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Zi.newChangeBuffer({trackRemovals:!0});o=t.Ji;const m=[];e.targetChanges.forEach((M,R)=>{const q=o.get(R);if(!q)return;m.push(t.Bs.removeMatchingKeys(l,M.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(l,M.addedDocuments,R)));let Q=q.withSequenceNumber(l.currentSequenceNumber);var me,Le,Fe;null!==e.targetMismatches.get(R)?Q=Q.withResumeToken(br.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):M.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(M.resumeToken,r)),o=o.insert(R,Q),Le=Q,Fe=M,(0===(me=q).resumeToken.approximateByteSize()||Le.snapshotVersion.toMicroseconds()-me.snapshotVersion.toMicroseconds()>=3e8||Fe.addedDocuments.size+Fe.modifiedDocuments.size+Fe.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(l,Q))});let w=Yi(),C=qt();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,M))}),m.push(vD(l,d,e.documentUpdates).next(M=>{w=M.nr,C=M.sr})),!r.isEqual(vt.min())){const M=t.Bs.getLastRemoteSnapshotVersion(l).next(R=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(M)}return re.waitFor(m).next(()=>d.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,w,C)).next(()=>w)}).then(l=>(t.Ji=o,l))}(t.localStore,e);e.targetChanges.forEach((o,l)=>{const d=t.yc.get(l);d&&(lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.fc=!0:o.modifiedDocuments.size>0?lt(d.fc):o.removedDocuments.size>0&&(lt(d.fc),d.fc=!1))}),yield Au(t,r,e)}catch(r){yield wl(r)}}),Ny.apply(this,arguments)}function qD(n,e,t){const r=We(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.wc.forEach((l,d)=>{const m=d.view.Mu(e);m.snapshot&&o.push(m.snapshot)}),function(l,d){const m=We(l);m.onlineState=d;let w=!1;m.queries.forEach((C,M)=>{for(const R of M.listeners)R.Mu(d)&&(w=!0)}),w&&GE(m)}(r.eventManager,e),o.length&&r.dc.nu(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function j1(n,e,t){return jD.apply(this,arguments)}function jD(){return jD=(0,ge.Z)(function*(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.yc.get(e),l=o&&o.key;if(l){let d=new Mn(Je.comparator);d=d.insert(l,Pn.newNoDocument(l,vt.min()));const m=qt().add(l),w=new yf(vt.min(),new Map,new Mn(Rt),d,m);yield YE(r,w),r.gc=r.gc.remove(l),r.yc.delete(e),ky(r)}else yield ya(r.localStore,e,!1).then(()=>zg(r,e,t)).catch(wl)}),jD.apply(this,arguments)}function GD(n,e){return $D.apply(this,arguments)}function $D(){return $D=(0,ge.Z)(function*(n,e){const t=We(n),r=e.batch.batchId;try{const o=yield function M1(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,C){const M=w.batch,R=M.keys();let q=re.resolve();return R.forEach(Q=>{q=q.next(()=>C.getEntry(m,Q)).next(me=>{const Le=w.docVersions.get(Q);lt(null!==Le),me.version.compareTo(Le)<0&&(M.applyToRemoteDocument(me,w),me.isValidDocument()&&(me.setReadTime(w.commitVersion),C.addEntry(me)))})}),q.next(()=>d.mutationQueue.removeMutationBatch(m,M))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=qt();for(let w=0;w<d.mutationResults.length;++w)d.mutationResults[w].transformResults.length>0&&(m=m.add(d.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}(t.localStore,e);YD(t,r,null),WD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Au(t,o)}catch(o){yield wl(o)}}),$D.apply(this,arguments)}function HM(n,e,t){return zD.apply(this,arguments)}function zD(){return zD=(0,ge.Z)(function*(n,e,t){const r=We(n);try{const o=yield function(l,d){const m=We(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let C;return m.mutationQueue.lookupMutationBatch(w,d).next(M=>(lt(null!==M),C=M.keys(),m.mutationQueue.removeMutationBatch(w,M))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,C,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,C)).next(()=>m.localDocuments.getDocuments(w,C))})}(r.localStore,e);YD(r,e,t),WD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Au(r,o)}catch(o){yield wl(o)}}),zD.apply(this,arguments)}function KD(){return KD=(0,ge.Z)(function*(n,e){const t=We(n);va(t.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=We(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.mutationQueue.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ec.get(r)||[];o.push(e),t.Ec.set(r,o)}catch(r){const o=Of(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),KD.apply(this,arguments)}function WD(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function YD(n,e,t){const r=We(n);let o=r.Tc[r.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),r.Tc[r.currentUser.toKey()]=o}}function zg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||G1(n,r)})}function G1(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Zg(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ky(n))}function Ry(n,e,t){for(const r of t)r instanceof LD?(n.Ic.addReference(r.key,e),JE(n,r)):r instanceof PD?(Oe("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||G1(n,r.key)):ot()}function JE(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Oe("SyncEngine","New document in limbo: "+t),n.mc.add(r),ky(n))}function ky(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Je(sn.fromString(e)),r=n.Ac.next();n.yc.set(r,new UD(t)),n.gc=n.gc.insert(t,r),Bg(n.remoteStore,new No(Wi(df(t.path)),r,"TargetPurposeLimboResolution",er.ct))}}function Au(n,e,t){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,ge.Z)(function*(n,e,t){const r=We(n),o=[],l=[],d=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,w)=>{d.push(r.Rc(w,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,C?.fromCache?"not-current":"current"),C){o.push(C);const M=TE.Li(w.targetId,C);l.push(M)}}))}),yield Promise.all(d),r.dc.nu(o),yield(m=(0,ge.Z)(function*(w,C){const M=We(w);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>re.forEach(C,q=>re.forEach(q.Fi,Q=>M.persistence.referenceDelegate.addReference(R,q.targetId,Q)).next(()=>re.forEach(q.Bi,Q=>M.persistence.referenceDelegate.removeReference(R,q.targetId,Q)))))}catch(R){if(!la(R))throw R;Oe("LocalStore","Failed to update sequence numbers: "+R)}for(const R of C){const q=R.targetId;if(!R.fromCache){const Q=M.Ji.get(q),Le=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);M.Ji=M.Ji.insert(q,Le)}}}),function(w,C){return m.apply(this,arguments)})(r.localStore,l))}),Ff.apply(this,arguments)}function $1(n,e){return JD.apply(this,arguments)}function JD(){return JD=(0,ge.Z)(function*(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Oe("SyncEngine","User change. New user:",e.toKey());const r=yield _D(t.localStore,e);t.currentUser=e,(o=t).Ec.forEach(d=>{d.forEach(m=>{m.reject(new Te(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Au(t,r.er)}var o}),JD.apply(this,arguments)}function jM(n,e){const t=We(n),r=t.yc.get(e);if(r&&r.fc)return qt().add(r.key);{let o=qt();const l=t._c.get(e);if(!l)return o;for(const d of l){const m=t.wc.get(d);o=o.unionWith(m.view.nc)}return o}}function GM(n,e){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,ge.Z)(function*(n,e){const t=We(n),r=yield Pg(t.localStore,e.query,!0),o=e.view.hc(r);return t.isPrimaryClient&&Ry(t,e.targetId,o.cc),o}),Oy.apply(this,arguments)}function z1(n,e){return QE.apply(this,arguments)}function QE(){return QE=(0,ge.Z)(function*(n,e){const t=We(n);return bE(t.localStore,e).then(r=>Au(t,r))}),QE.apply(this,arguments)}function K1(n,e,t,r){return QD.apply(this,arguments)}function QD(){return QD=(0,ge.Z)(function*(n,e,t,r){const o=We(n),l=yield function(d,m){const w=We(d),C=We(w.mutationQueue);return w.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Sn(M,m).next(R=>R?w.localDocuments.getDocuments(M,R):re.resolve(null)))}(o.localStore,e);var m;null!==l?("pending"===t?yield md(o.remoteStore):"acknowledged"===t||"rejected"===t?(YD(o,e,r||null),WD(o,e),m=e,We(We(o.localStore).mutationQueue).Cn(m)):ot(),yield Au(o,l)):Oe("SyncEngine","Cannot apply mutation batch with id: "+e)}),QD.apply(this,arguments)}function Ly(){return Ly=(0,ge.Z)(function*(n,e){const t=We(n);if(_i(t),tw(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield XE(t,r.toArray());t.vc=!0,yield HE(t.remoteStore,!0);for(const l of o)Bg(t.remoteStore,l)}else if(!1===e&&!1!==t.vc){const r=[];let o=Promise.resolve();t._c.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(zg(t,d),ya(t.localStore,d,!0))),Zg(t.remoteStore,d)}),yield o,yield XE(t,r),function(l){const d=We(l);d.yc.forEach((m,w)=>{Zg(d.remoteStore,w)}),d.Ic.Ts(),d.yc=new Map,d.gc=new Mn(Je.comparator)}(t),t.vc=!1,yield HE(t.remoteStore,!1)}}),Ly.apply(this,arguments)}function XE(n,e,t){return XD.apply(this,arguments)}function XD(){return XD=(0,ge.Z)(function*(n,e,t){const r=We(n),o=[],l=[];for(const d of e){let m;const w=r._c.get(d);if(w&&0!==w.length){m=yield xf(r.localStore,Wi(w[0]));for(const C of w){const M=r.wc.get(C),R=yield GM(r,M);R.snapshot&&l.push(R.snapshot)}}else{const C=yield CE(r.localStore,d);m=yield xf(r.localStore,C),yield zE(r,es(C),d,!1,m.resumeToken)}o.push(m)}return r.dc.nu(l),o}),XD.apply(this,arguments)}function es(n){return ET(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Y1(n){const e=We(n);return We(We(e.localStore).persistence).$i()}function ew(n,e,t,r){return Py.apply(this,arguments)}function Py(){return Py=(0,ge.Z)(function*(n,e,t,r){const o=We(n);if(o.vc)return void Oe("SyncEngine","Ignoring unexpected query state notification.");const l=o._c.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const d=yield bE(o.localStore,wT(l[0])),m=yf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,br.EMPTY_BYTE_STRING);yield Au(o,d,m);break}case"rejected":yield ya(o.localStore,e,!0),zg(o,e,r);break;default:ot()}}),Py.apply(this,arguments)}function J1(n,e,t){return eC.apply(this,arguments)}function eC(){return eC=(0,ge.Z)(function*(n,e,t){const r=_i(n);if(r.vc){for(const o of e){if(r._c.has(o)){Oe("SyncEngine","Adding an already active target "+o);continue}const l=yield CE(r.localStore,o),d=yield xf(r.localStore,l);yield zE(r,es(l),d.targetId,!1,d.resumeToken),Bg(r.remoteStore,d)}for(const o of t)r._c.has(o)&&(yield ya(r.localStore,o,!1).then(()=>{Zg(r.remoteStore,o),zg(r,o)}).catch(wl))}}),eC.apply(this,arguments)}function _i(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j1.bind(null,e),e.dc.nu=OD.bind(null,e.eventManager),e.dc.Pc=Pf.bind(null,e.eventManager),e}function tw(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HM.bind(null,e),e}class Kg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ge.Z)(function*(){t.serializer=Ug(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return mD(this.persistence,new gD,e.initialUser,this.serializer)}createPersistence(e){return new ry(iy.zs,this.serializer)}createSharedClientState(e){return new dy}terminate(){var e=this;return(0,ge.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wg extends Kg{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield tw(r.Vc.syncEngine),yield md(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return mD(this.persistence,new gD,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new ey(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new C_(t,this.persistence);return new Jc(e.asyncQueue,r)}createPersistence(e){const t=pD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Oi.withCacheSize(this.cacheSizeBytes):Oi.DEFAULT;return new sy(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,py(),gy(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dy}}class rw extends Wg{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ge.Z)(function*(){yield t().call(r,e);const o=r.Vc.syncEngine;r.sharedClientState instanceof NE&&(r.sharedClientState.syncEngine={jr:K1.bind(null,o),zr:ew.bind(null,o),Wr:J1.bind(null,o),$i:Y1.bind(null,o),Qr:z1.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var l=(0,ge.Z)(function*(d){yield function W1(n,e){return Ly.apply(this,arguments)}(r.Vc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const t=py();if(!NE.D(t))throw new Te(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=pD(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new NE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class vd{initialize(e,t){var r=this;return(0,ge.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>qD(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=$1.bind(null,r.syncEngine),yield HE(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new by}createDatastore(e){const t=Ug(e.databaseInfo.databaseId),r=new R1(e.databaseInfo);return new _y(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,l=m=>qD(this.syncEngine,m,0),d=ID.D()?new ID:new Vg,new AD(t,r,o,l,d);var t,r,o,l,d}createSyncEngine(e,t){return function(r,o,l,d,m,w,C){const M=new q1(r,o,l,d,m,w);return C&&(M.vc=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ge.Z)(function*(t){const r=We(t);Oe("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Nf(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function tC(n,e=10240){let t=0;return{read:()=>(0,ge.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ge.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Dr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class nC{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new cr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ge.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ge.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),o=Number(r);isNaN(o)&&e.Mc(`length string (${r}) is not valid number`);const l=yield e.$c(o);return new $E(JSON.parse(l),t.length+o)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ge.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,ge.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ge.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rC{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ge.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Te(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ge.Z)(function*(l,d){const m=We(l),w=Fn(m.serializer)+"/documents",C={documents:d.map(Q=>ma(m.serializer,Q))},M=yield m.vo("BatchGetDocuments",w,C,d.length),R=new Map;M.forEach(Q=>{const me=function u1(n,e){return"found"in e?function(t,r){lt(!!r.found);const o=_a(t,r.found.name),l=Mr(r.found.updateTime),d=r.found.createTime?Mr(r.found.createTime):vt.min(),m=new gi({mapValue:{fields:r.found.fields}});return Pn.newFoundDocument(o,l,d,m)}(n,e):"missing"in e?function(t,r){lt(!!r.missing),lt(!!r.readTime);const o=_a(t,r.missing),l=Mr(r.readTime);return Pn.newNoDocument(o,l)}(n,e):ot()}(m.serializer,Q);R.set(me.key.toString(),me)});const q=[];return d.forEach(Q=>{const me=R.get(Q.toString());lt(!!me),q.push(me)}),q}),function(l,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ge.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const l=Je.fromPath(o);e.mutations.push(new G0(l,e.precondition(l)))}),yield(r=(0,ge.Z)(function*(o,l){const d=We(o),m=Fn(d.serializer)+"/documents",w={writes:l.map(C=>If(d.serializer,C))};yield d.Io("Commit",m,w)}),function(o,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ot();t=vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Te(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(vt.min())?Sn.exists(!1):Sn.updateTime(t):Sn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new Te(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Sn.updateTime(t)}return Sn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class iC{constructor(e,t,r,o,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=l,this.Bc=r.maxAttempts,this.qo=new my(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ge.Z)(function*(){const t=new rC(e.datastore),r=e.qc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(l=>{e.Uc(l)}))}).catch(o=>{e.Uc(o)})}))}qc(e){try{const t=this.updateFunction(e);return!Qc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!OT(t)}return!1}}class X1{constructor(e,t,r,o){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ln.UNAUTHENTICATED,this.clientId=YI.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,ge.Z)(function*(m){Oe("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Oe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,ge.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Of(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Jg(n,e){return iw.apply(this,arguments)}function iw(){return iw=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ge.Z)(function*(l){r.isEqual(l)||(yield _D(e.localStore,l),r=l)});return function(l){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),iw.apply(this,arguments)}function Qg(n,e){return Ea.apply(this,arguments)}function Ea(){return Ea=(0,ge.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Xg(n);Oe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>Dy(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,l)=>Dy(e.remoteStore,l)),n._onlineComponents=e}),Ea.apply(this,arguments)}function ow(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function Xg(n){return em.apply(this,arguments)}function em(){return em=(0,ge.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Oe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Jg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ow(t))throw t;Ds("Error using user provided cache. Falling back to memory cache: "+t),yield Jg(n,new Kg)}}else Oe("FirestoreClient","Using default OfflineComponentProvider"),yield Jg(n,new Kg);return n._offlineComponents}),em.apply(this,arguments)}function Fy(n){return oC.apply(this,arguments)}function oC(){return oC=(0,ge.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Oe("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qg(n,n._uninitializedComponentsProvider._online)):(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield Qg(n,new vd))),n._onlineComponents}),oC.apply(this,arguments)}function sw(n){return Xg(n).then(e=>e.persistence)}function Vy(n){return Xg(n).then(e=>e.localStore)}function sC(n){return Fy(n).then(e=>e.remoteStore)}function aw(n){return Fy(n).then(e=>e.syncEngine)}function Ed(n){return uC.apply(this,arguments)}function uC(){return uC=(0,ge.Z)(function*(n){const e=yield Fy(n),t=e.eventManager;return t.onListen=BD.bind(null,e.syncEngine),t.onUnlisten=ZD.bind(null,e.syncEngine),t}),uC.apply(this,arguments)}function tA(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(o,l,d,m,w){const C=new Yg({next:R=>{l.enqueueAndForget(()=>Ay(o,M));const q=R.docs.has(d);!q&&R.fromCache?w.reject(new Te(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&R.fromCache&&m&&"server"===m.source?w.reject(new Te(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(R)},error:R=>w.reject(R)}),M=new My(df(d.path),C,{includeMetadataChanges:!0,Ku:!0});return $g(o,M)}(yield Ed(n),n.asyncQueue,e,t,r)})),r.promise}function lw(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function(o,l,d,m,w){const C=new Yg({next:R=>{l.enqueueAndForget(()=>Ay(o,M)),R.fromCache&&"server"===m.source?w.reject(new Te(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(R)},error:R=>w.reject(R)}),M=new My(d,C,{includeMetadataChanges:!0,Ku:!0});return $g(o,M)}(yield Ed(n),n.asyncQueue,e,t,r)})),r.promise}function wd(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const tm=new Map;function Uy(n,e,t){if(!t)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function cw(n,e,t,r){if(!0===e&&!0===r)throw new Te(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pC(n){if(!Je.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function gC(n){if(Je.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dw(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}function en(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dw(n);throw new Te(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function mC(n,e){if(e<=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class _C{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=wd(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class By{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _C({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _C(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new kb;switch(t.type){case"firstParty":return new lg(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Te(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tm.get(e);t&&(Oe("ComponentProvider","Removing Datastore"),tm.delete(e),t.terminate())}(this),Promise.resolve()}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class ei{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ei(this.firestore,e,this._query)}}class wa extends ei{constructor(e,t,r){super(e,t,df(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Je(e))}withConverter(e){return new wa(this.firestore,e,this._path)}}function yC(n,e,...t){if(n=(0,rn.m9)(n),Uy("collection","path",e),n instanceof By){const r=sn.fromString(e,...t);return gC(r),new wa(n,null,r)}{if(!(n instanceof tr||n instanceof wa))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return gC(r),new wa(n.firestore,null,r)}}function hw(n,e,...t){if(n=(0,rn.m9)(n),1===arguments.length&&(e=YI.A()),Uy("doc","path",e),n instanceof By){const r=sn.fromString(e,...t);return pC(r),new tr(n,null,new Je(r))}{if(!(n instanceof tr||n instanceof wa))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return pC(r),new tr(n.firestore,n instanceof wa?n.converter:null,new Je(r))}}function oA(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),(n instanceof tr||n instanceof wa)&&(e instanceof tr||e instanceof wa)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vC(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),n instanceof ei&&e instanceof ei&&n.firestore===e.firestore&&hf(n._query,e._query)&&n.converter===e.converter}class $M{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new my(this,"async_queue_retry"),this.Xc=()=>{const t=gy();t&&Oe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=gy();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=gy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new cr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ge.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!la(t))throw t;Oe("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Dr("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const o=qE.createAndSchedule(this,e,t,r,l=>this.na(l));return this.zc.push(o),o}Zc(){this.Wc&&ot()}verifyOperationInProgress(){}sa(){var e=this;return(0,ge.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function EC(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class sA{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $n extends By{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new $M,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fw(this),this._firestoreClient.terminate()}}function xn(n){return n._firestoreClient||fw(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fw(n){var e,t,r;const o=n._freezeSettings(),l=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new dT(n._databaseId,m,n._persistenceKey,(C=o).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,wd(C.experimentalLongPollingOptions),C.useFetchStreams));var m,C;n._firestoreClient=new X1(n._authCredentials,n._appCheckCredentials,n._queue,l),null!==(t=o.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=o.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.cache.kind,_offline:o.cache._offlineComponentProvider,_online:o.cache._onlineComponentProvider})}function wC(n,e,t){const r=new cr;return n.asyncQueue.enqueue((0,ge.Z)(function*(){try{yield Jg(n,t),yield Qg(n,e),r.resolve()}catch(o){const l=o;if(!ow(l))throw l;Ds("Error enabling indexeddb cache. Falling back to memory cache: "+l),r.reject(l)}})).then(()=>r.promise)}function TC(n){if(n._initialized||n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ia(br.fromBase64String(e))}catch(t){throw new Te(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ia(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ta{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ul{constructor(e){this._methodName=e}}class qy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}const cA=/^__.*__$/;class DC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Iu(e,this.data,this.fieldMask,t,this.fieldTransforms):new ud(e,this.data,t,this.fieldTransforms)}}class jy{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Iu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class rm{constructor(e,t,r,o,l,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new rm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.fa(e),o}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.aa({path:r,la:!1});return o.ua(),o}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Qy(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(dA(this.ca)&&cA.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class yw{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Ug(e)}ya(e,t,r,o=!1){return new rm({ca:e,methodName:t,ga:r,path:dr.emptyPath(),la:!1,ma:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Id(n){const e=n._freezeSettings(),t=Ug(n._databaseId);return new yw(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Gy(n,e,t,r,o,l={}){const d=n.ya(l.merge||l.mergeFields?2:0,e,t,o);Yy("Data must be an object, but it was:",d,r);const m=Wy(r,d);let w,C;if(l.merge)w=new po(d.fieldMask),C=d.fieldTransforms;else if(l.mergeFields){const M=[];for(const R of l.mergeFields){const q=im(e,R,t);if(!d.contains(q))throw new Te(ae.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);Iw(M,q)||M.push(q)}w=new po(M),C=d.fieldTransforms.filter(R=>w.covers(R.field))}else w=null,C=d.fieldTransforms;return new DC(new gi(m),w,C)}class $y extends Ul{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $y}}function hA(n,e,t){return new rm({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vw extends Ul{_toFieldTransform(e){return new Ig(e.path,new ff)}isEqual(e){return e instanceof vw}}class fA extends Ul{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=hA(this,e,!0),r=this.pa.map(l=>Td(l,t)),o=new Nl(r);return new Ig(e.path,o)}isEqual(e){return this===e}}class pA extends Ul{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=hA(this,e,!0),r=this.pa.map(l=>Td(l,t)),o=new ga(r);return new Ig(e.path,o)}isEqual(e){return this===e}}class gA extends Ul{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new ad(e.serializer,B_(e.serializer,this.Ia));return new Ig(e.path,t)}isEqual(e){return this===e}}function zy(n,e,t,r){const o=n.ya(1,e,t);Yy("Data must be an object, but it was:",o,r);const l=[],d=gi.empty();da(r,(w,C)=>{const M=Jy(e,w,t);C=(0,rn.m9)(C);const R=o.da(M);if(C instanceof $y)l.push(M);else{const q=Td(C,R);null!=q&&(l.push(M),d.set(M,q))}});const m=new po(l);return new jy(d,m,o.fieldTransforms)}function Ky(n,e,t,r,o,l){const d=n.ya(1,e,t),m=[im(e,r,t)],w=[o];if(l.length%2!=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<l.length;q+=2)m.push(im(e,l[q])),w.push(l[q+1]);const C=[],M=gi.empty();for(let q=m.length-1;q>=0;--q)if(!Iw(C,m[q])){const Q=m[q];let me=w[q];me=(0,rn.m9)(me);const Le=d.da(Q);if(me instanceof $y)C.push(Q);else{const Fe=Td(me,Le);null!=Fe&&(C.push(Q),M.set(Q,Fe))}}const R=new po(C);return new jy(M,R,d.fieldTransforms)}function mA(n,e,t,r=!1){return Td(t,n.ya(r?4:3,e))}function Td(n,e){if(Ew(n=(0,rn.m9)(n)))return Yy("Unsupported field value:",e,n),Wy(n,e);if(n instanceof Ul)return function(t,r){if(!dA(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const o=[];let l=0;for(const d of t){let m=Td(d,r.wa(l));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),l++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,rn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return B_(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Xn.fromDate(t);return{timestampValue:cd(r.serializer,o)}}if(t instanceof Xn){const o=new Xn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cd(r.serializer,o)}}if(t instanceof qy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ia)return{bytesValue:s1(r.serializer,t._byteString)};if(t instanceof tr){const o=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(o))throw r._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nE(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${dw(t)}`)}(n,e)}function Wy(n,e){const t={};return gg(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(n,(r,o)=>{const l=Td(o,e.ha(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function Ew(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Xn||n instanceof qy||n instanceof Ia||n instanceof tr||n instanceof Ul)}function Yy(n,e,t){if(!Ew(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dw(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function im(n,e,t){if((e=(0,rn.m9)(e))instanceof Ta)return e._internalPath;if("string"==typeof e)return Jy(n,e);throw Qy("Field path arguments must be of type string or ",n,!1,void 0,t)}const ww=new RegExp("[~\\*/\\[\\]]");function Jy(n,e,t){if(e.search(ww)>=0)throw Qy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ta(...e.split("."))._internalPath}catch{throw Qy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qy(n,e,t,r,o){const l=r&&!r.isEmpty(),d=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(l||d)&&(w+=" (found",l&&(w+=` in field ${r}`),d&&(w+=` in document ${o}`),w+=")"),new Te(ae.INVALID_ARGUMENT,m+n+w)}function Iw(n,e){return n.some(t=>t.isEqual(e))}class Vf{constructor(e,t,r,o,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new YM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class YM extends Vf{data(){return super.data()}}function Xy(n,e){return"string"==typeof e?Jy(n,e):e instanceof Ta?e._internalPath:e._delegate._internalPath}function om(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Te(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CC{}class sm extends CC{}function Dd(n,e,...t){let r=[];e instanceof CC&&r.push(e),r=r.concat(t),function(o){const l=o.filter(m=>m instanceof am).length,d=o.filter(m=>m instanceof ev).length;if(l>1||l>0&&d>0)throw new Te(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class ev extends sm{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ev(e,t,r)}_apply(e){const t=this._parse(e);return p(e._query,t),new ei(e.firestore,e.converter,F_(e._query,t))}_parse(e){const t=Id(e.firestore);return function(o,l,d,m,w,C,M){let R;if(w.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){h(M,C);const q=[];for(const Q of M)q.push(c(m,o,Q));R={arrayValue:{values:q}}}else R=c(m,o,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||h(M,C),R=mA(d,"where",M,"in"===C||"not-in"===C);return Xt.create(w,C,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class am extends CC{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new am(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,o){let l=r;const d=o.getFlattenedFilters();for(const m of d)p(l,m),l=F_(l,m)}(e._query,t),new ei(e.firestore,e.converter,F_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bC extends sm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bC(e,t)}_apply(e){const t=function(r,o,l){if(null!==r.startAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new id(o,l);return function(m,w){if(null===P0(m)){const C=hr(m);null!==C&&_(0,C,w.field)}}(r,d),d}(e._query,this._field,this._direction);return new ei(e.firestore,e.converter,function(r,o){const l=r.explicitOrderBy.concat([o]);return new Ml(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Tw extends sm{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Tw(e,t,r)}_apply(e){return new ei(e.firestore,e.converter,V_(e._query,this._limit,this._limitType))}}class Dw extends sm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Dw(e,t,r)}_apply(e){const t=u(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(o=t,new Ml((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class Cw extends sm{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Cw(e,t,r)}_apply(e){const t=u(e,this.type,this._docOrFields,this._inclusive);return new ei(e.firestore,e.converter,(o=t,new Ml((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function u(n,e,t,r){if(t[0]=(0,rn.m9)(t[0]),t[0]instanceof Vf)return function(o,l,d,m,w){if(!m)throw new Te(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const M of sd(o))if(M.field.isKeyField())C.push(rd(l,m.key));else{const R=m.data.field(M.field);if(A_(R))throw new Te(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const q=M.field.canonicalString();throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}C.push(R)}return new ha(C,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Id(n.firestore);return function(l,d,m,w,C,M){const R=l.explicitOrderBy;if(C.length>R.length)throw new Te(ae.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let Q=0;Q<C.length;Q++){const me=C[Q];if(R[Q].field.isKeyField()){if("string"!=typeof me)throw new Te(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof me}`);if(!P_(l)&&-1!==me.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${me}' contains a slash.`);const Le=l.path.child(sn.fromString(me));if(!Je.isDocumentKey(Le))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Le}' is not because it contains an odd number of segments.`);const Fe=new Je(Le);q.push(rd(d,Fe))}else{const Le=mA(m,w,me);q.push(Le)}}return new ha(q,M)}(n._query,n.firestore._databaseId,o,e,t,r)}}function c(n,e,t){if("string"==typeof(t=(0,rn.m9)(t))){if(""===t)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P_(e)&&-1!==t.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(sn.fromString(t));if(!Je.isDocumentKey(r))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rd(n,new Je(r))}if(t instanceof tr)return rd(n,t._key);throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dw(t)}.`)}function h(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p(n,e){if(e.isInequality()){const r=hr(n),o=e.field;if(null!==r&&!r.isEqual(o))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${o.toString()}'`);const l=P0(n);null!==l&&_(0,o,l)}const t=function(r,o){for(const l of r)for(const d of l.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Te(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function _(n,e,t){if(!t.isEqual(e))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class T{convertValue(e,t="none"){switch(Eu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ot()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return da(e,(o,l)=>{r[o]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new qy(Ar(e.latitude),Ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sf(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(mg(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new Xn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sn.fromString(e);lt(Tf(r));const o=new Tl(r.get(1),r.get(3)),l=new Je(r.popFirst(5));return o.isEqual(t)||Dr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function A(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class N extends T{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}class Ze{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class st extends Vf{constructor(e,t,r,o,l,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ee(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xy("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ee extends st{data(e={}){return super.data(e)}}class Et{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Ze(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ee(this._firestore,this._userDataWriter,r.key,r,new Ze(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Ee(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ze(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const m=new Ee(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Ze(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,C=-1;return 0!==d.type&&(w=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),C=l.indexOf(d.doc.key)),{type:Jt(d.type),doc:m,oldIndex:w,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jt(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function gn(n,e){return n instanceof st&&e instanceof st?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Et&&e instanceof Et&&n._firestore===e._firestore&&vC(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Mu extends T{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ia(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function eS(n,e,t){n=en(n,tr);const r=en(n.firestore,$n),o=A(n.converter,e,t);return tv(r,[Gy(Id(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Sn.none())])}function tS(n,e,t,...r){n=en(n,tr);const o=en(n.firestore,$n),l=Id(o);let d;return d="string"==typeof(e=(0,rn.m9)(e))||e instanceof Ta?Ky(l,"updateDoc",n._key,e,t,r):zy(l,"updateDoc",n._key,e),tv(o,[d.toMutation(n._key,Sn.exists(!0))])}function nS(n,...e){var t,r,o;n=(0,rn.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||EC(e[d])||(l=e[d],d++);const m={includeMetadataChanges:l.includeMetadataChanges};if(EC(e[d])){const R=e[d];e[d]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[d+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let w,C,M;if(n instanceof tr)C=en(n.firestore,$n),M=df(n._key.path),w={next:R=>{e[d]&&e[d](EA(C,n,R))},error:e[d+1],complete:e[d+2]};else{const R=en(n,ei);C=en(R.firestore,$n),M=R._query;const q=new Mu(C);w={next:Q=>{e[d]&&e[d](new Et(C,q,R,Q))},error:e[d+1],complete:e[d+2]},om(n._query)}return function(R,q,Q,me){const Le=new Yg(me),Fe=new My(q,Le,Q);return R.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return $g(yield Ed(R),Fe)})),()=>{Le.Dc(),R.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return Ay(yield Ed(R),Fe)}))}}(xn(C),M,m,w)}function tv(n,e){return function(t,r){const o=new cr;return t.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function HD(n,e,t){return xy.apply(this,arguments)}(yield aw(t),r,o)})),o.promise}(xn(n),e)}function EA(n,e,t){const r=t.docs.get(e._key),o=new Mu(n);return new st(n,o,e._key,r,new Ze(t.hasPendingWrites,t.fromCache),e.converter)}const kN={maxAttempts:5};class rS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Id(e)}set(e,t,r){this._verifyNotCommitted();const o=Uf(e,this._firestore),l=A(o.converter,t,r),d=Gy(this._dataReader,"WriteBatch.set",o._key,l,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,Sn.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const l=Uf(e,this._firestore);let d;return d="string"==typeof(t=(0,rn.m9)(t))||t instanceof Ta?Ky(this._dataReader,"WriteBatch.update",l._key,t,r,o):zy(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,Sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Uf(e,this._firestore);return this._mutations=this._mutations.concat(new mf(t._key,Sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Uf(n,e){if((n=(0,rn.m9)(n)).firestore!==e)throw new Te(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ON extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Id(e)}get(e){const t=Uf(e,this._firestore),r=new N(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return ot();const l=o[0];if(l.isFoundDocument())return new Vf(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new Vf(this._firestore,r,t._key,null,t.converter);throw ot()})}set(e,t,r){const o=Uf(e,this._firestore),l=A(o.converter,t,r),d=Gy(this._dataReader,"Transaction.set",o._key,l,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const l=Uf(e,this._firestore);let d;return d="string"==typeof(t=(0,rn.m9)(t))||t instanceof Ta?Ky(this._dataReader,"Transaction.update",l._key,t,r,o):zy(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Uf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Uf(e,this._firestore),r=new Mu(this._firestore);return super.get(e).then(o=>new st(this._firestore,r,t._key,o._document,new Ze(!1,!1),t.converter))}}function wA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function oS(){if(typeof Uint8Array>"u")throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function sS(){if(!function Yb(){return typeof atob<"u"}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Jh=hu.SDK_VERSION,(0,hu._registerComponent)(new Hm.wA("firestore",(t,{instanceIdentifier:r,options:o})=>{const l=t.getProvider("app").getImmediate(),d=new $n(new f0(t.getProvider("auth-internal")),new WI(t.getProvider("app-check-internal")),function(m,w){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Te(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(m.options.projectId,w)}(l,r),l);return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),(0,hu.registerVersion)(I_,"3.13.0",n),(0,hu.registerVersion)(I_,"3.13.0","esm2017")}();class bw{constructor(e){this._delegate=e}static fromBase64String(e){return sS(),new bw(Ia.fromBase64String(e))}static fromUint8Array(e){return oS(),new bw(Ia.fromUint8Array(e))}toBase64(){return sS(),this._delegate.toBase64()}toUint8Array(){return oS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function IA(n){return function qN(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class jN{enableIndexedDbPersistence(e,t){return function pw(n,e){TC(n=en(n,$n));const t=xn(n);if(t._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Ds("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),o=new vd;return wC(t,o,new Wg(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function gw(n){TC(n=en(n,$n));const e=xn(n);if(e._uninitializedComponentsProvider)throw new Te(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Ds("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new vd;return wC(e,r,new rw(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function mw(n){if(n._initialized&&!n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ge.Z)(function*(){try{yield(t=(0,ge.Z)(function*(r){if(!fo.D())return Promise.resolve();const o=r+"main";yield fo.delete(o)}),function(r){return t.apply(this,arguments)})(pD(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class aS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Tl||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ds("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function rA(n,e,t,r={}){var o;const l=(n=en(n,By))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==l.host&&l.host!==d&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),r.mockUserToken){let m,w;if("string"==typeof r.mockUserToken)m=r.mockUserToken,w=Ln.MOCK_USER;else{m=(0,rn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Te(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ln(C)}n._authCredentials=new Ob(new zI(m,w))}}(this._delegate,e,t,r)}enableNetwork(){return function Hy(n){return function lC(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield sw(n),t=yield sC(n);return e.setNetworkEnabled(!0),function(r){const o=We(r);return o.vu.delete(0),gd(o)}(t)}))}(xn(n=en(n,$n)))}(this._delegate)}disableNetwork(){return function KM(n){return function eA(n){return n.asyncQueue.enqueue((0,ge.Z)(function*(){const e=yield sw(n),t=yield sC(n);return e.setNetworkEnabled(!1),(r=(0,ge.Z)(function*(o){const l=We(o);l.vu.add(0),yield Nf(l),l.bu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(xn(n=en(n,$n)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,cw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function _w(n){return function(e){const t=new cr;return e.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return function qM(n,e){return KD.apply(this,arguments)}(yield aw(e),t)})),t.promise}(xn(n=en(n,$n)))}(this._delegate)}onSnapshotsInSync(e){return function DN(n,e){return function dC(n,e){const t=new Yg(e);return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Ed(n),o=t,We(r).ku.add(o),void o.next();var r,o})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return r=yield Ed(n),o=t,void We(r).ku.delete(o);var r,o}))}}(xn(n=en(n,$n)),EC(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new nv(this,yC(this._delegate,e))}catch(t){throw Ro(t,"collection()","Firestore.collection()")}}doc(e){try{return new Da(this,hw(this._delegate,e))}catch(t){throw Ro(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ko(this,function iA(n,e){if(n=en(n,By),Uy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ei(n,null,(t=e,new Ml(sn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ro(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function LN(n,e,t){n=en(n,$n);const r=Object.assign(Object.assign({},kN),t);return function(o){if(o.maxAttempts<1)throw new Te(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,l,d){const m=new cr;return o.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){const w=yield function aC(n){return Fy(n).then(e=>e.datastore)}(o);new iC(o.asyncQueue,w,d,l,m).run()})),m.promise}(xn(n),o=>e(new ON(n,o)),r)}(this._delegate,t=>e(new uS(this,t)))}batch(){return xn(this._delegate),new lS(new rS(this._delegate,e=>tv(this._delegate,e)))}loadBundle(e){return function WM(n,e){const t=xn(n=en(n,$n)),r=new sA;return function nA(n,e,t,r){const o=function(l,d){let m;return m="string"==typeof l?PT().encode(l):l,w=function(w,C){if(w instanceof Uint8Array)return tC(w,C);if(w instanceof ArrayBuffer)return tC(new Uint8Array(w),C);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new nC(w,d);var w}(t,Ug(e));n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){!function nw(n,e,t){const r=We(n);var o;(o=(0,ge.Z)(function*(l,d,m){try{const w=yield d.getMetadata();if(yield function(q,Q){const me=We(q),Le=Mr(Q.createTime);return me.persistence.runTransaction("hasNewerBundle","readonly",Fe=>me.qs.getBundleMetadata(Fe,Q.id)).then(Fe=>!!Fe&&Fe.createTime.compareTo(Le)>=0)}(l.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=w).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(H1(w));const C=new Z1(w,l.localStore,d.serializer);let M=yield d.bc();for(;M;){const q=yield C.zu(M);q&&m._updateProgress(q),M=yield d.bc()}const R=yield C.complete();return yield Au(l,R.Ju,void 0),yield function(q,Q){const me=We(q);return me.persistence.runTransaction("Save bundle","readwrite",Le=>me.qs.saveBundleMetadata(Le,Q))}(l.localStore,w),m._completeWith(R.progress),Promise.resolve(R.Hu)}catch(w){return Ds("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var q}),function(l,d,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield aw(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function IC(n,e){return function hC(n,e){return n.asyncQueue.enqueue((0,ge.Z)(function*(){return function(t,r){const o=We(t);return o.persistence.runTransaction("Get named query","readonly",l=>o.qs.getNamedQuery(l,r))}(yield Vy(n),e)}))}(xn(n=en(n,$n)),e).then(t=>t?new ei(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ko(this,t):null)}}class AC extends T{constructor(e){super(),this.firestore=e}convertBytes(e){return new bw(new Ia(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Da.forKey(t,this.firestore,null)}}class uS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AC(e)}get(e){const t=lm(e);return this._delegate.get(t).then(r=>new Aw(this._firestore,new st(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=lm(e);return r?(wA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=lm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=lm(e);return this._delegate.delete(t),this}}class lS{constructor(e){this._delegate=e}set(e,t,r){const o=lm(e);return r?(wA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const l=lm(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...o),this}delete(e){const t=lm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class um{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ee(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Mw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=um.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let l=o.get(t);return l||(l=new um(e,new AC(e),t),o.set(t,l)),l}}um.INSTANCES=new WeakMap;class Da{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Da(t,new tr(t._delegate,r,new Je(e)))}static forKey(e,t,r){return new Da(t,new tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new nv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new nv(this.firestore,yC(this._delegate,e))}catch(t){throw Ro(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rn.m9)(e))instanceof tr&&oA(this._delegate,e)}set(e,t){t=wA("DocumentReference.set",t);try{return t?eS(this._delegate,e,t):eS(this._delegate,e)}catch(r){throw Ro(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?tS(this._delegate,e):tS(this._delegate,e,t,...r)}catch(o){throw Ro(o,"updateDoc()","DocumentReference.update()")}}delete(){return function IN(n){return tv(en(n.firestore,$n),[new mf(n._key,Sn.none())])}(this._delegate)}onSnapshot(...e){const t=cS(e),r=dS(e,o=>new Aw(this.firestore,new st(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return nS(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function _N(n){n=en(n,tr);const e=en(n.firestore,$n),t=xn(e),r=new Mu(e);return function cC(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(o,l,d){try{const m=yield function(w,C){const M=We(w);return M.persistence.runTransaction("read document","readonly",R=>M.localDocuments.getDocument(R,C))}(o,l);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new Te(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=Of(m,`Failed to get document '${l} from cache`);d.reject(w)}}),function(o,l,d){return r.apply(this,arguments)})(yield Vy(n),e,t);var r})),t.promise}(t,n._key).then(o=>new st(e,r,n._key,o,new Ze(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function yN(n){n=en(n,tr);const e=en(n.firestore,$n);return tA(xn(e),n._key,{source:"server"}).then(t=>EA(e,n,t))}(this._delegate):function xs(n){n=en(n,tr);const e=en(n.firestore,$n);return tA(xn(e),n._key).then(t=>EA(e,n,t))}(this._delegate),t.then(r=>new Aw(this.firestore,new st(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Da(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function Ro(n,e,t){return n.message=n.message.replace(e,t),n}function cS(n){for(const e of n)if("object"==typeof e&&!IA(e))return e;return{}}function dS(n,e){var t,r;let o;return o=IA(n[0])?n[0]:IA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{o.next&&o.next(e(l))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class Aw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gn(this._delegate,e._delegate)}}class Mw extends Aw{data(e){const t=this._delegate.data(e);return function ug(n,e){n||ot()}(void 0!==t),t}}class ko{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AC(e)}where(e,t,r){try{return new ko(this.firestore,Dd(this._delegate,function _A(n,e,t){const r=e,o=Xy("where",n);return ev._create(o,r,t)}(e,t,r)))}catch(o){throw Ro(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ko(this.firestore,Dd(this._delegate,function yA(n,e="asc"){const t=e,r=Xy("orderBy",n);return bC._create(r,t)}(e,t)))}catch(r){throw Ro(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ko(this.firestore,Dd(this._delegate,function JM(n){return mC("limit",n),Tw._create("limit",n,"F")}(e)))}catch(t){throw Ro(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ko(this.firestore,Dd(this._delegate,function QM(n){return mC("limitToLast",n),Tw._create("limitToLast",n,"L")}(e)))}catch(t){throw Ro(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ko(this.firestore,Dd(this._delegate,function XM(...n){return Dw._create("startAt",n,!0)}(...e)))}catch(t){throw Ro(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ko(this.firestore,Dd(this._delegate,function vA(...n){return Dw._create("startAfter",n,!1)}(...e)))}catch(t){throw Ro(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ko(this.firestore,Dd(this._delegate,function i(...n){return Cw._create("endBefore",n,!1)}(...e)))}catch(t){throw Ro(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ko(this.firestore,Dd(this._delegate,function s(...n){return Cw._create("endAt",n,!0)}(...e)))}catch(t){throw Ro(t,"endAt()","Query.endAt()")}}isEqual(e){return vC(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function EN(n){n=en(n,ei);const e=en(n.firestore,$n),t=xn(e),r=new Mu(e);return function uw(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,ge.Z)(function*(){return(r=(0,ge.Z)(function*(o,l,d){try{const m=yield Pg(o,l,!0),w=new FD(l,m.ir),C=w.sc(m.documents),M=w.applyChanges(C,!1);d.resolve(M.snapshot)}catch(m){const w=Of(m,`Failed to execute query '${l} against cache`);d.reject(w)}}),function(o,l,d){return r.apply(this,arguments)})(yield Vy(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Et(e,r,n,o))}(this._delegate):"server"===e?.source?function wN(n){n=en(n,ei);const e=en(n.firestore,$n),t=xn(e),r=new Mu(e);return lw(t,n._query,{source:"server"}).then(o=>new Et(e,r,n,o))}(this._delegate):function vN(n){n=en(n,ei);const e=en(n.firestore,$n),t=xn(e),r=new Mu(e);return om(n._query),lw(t,n._query).then(o=>new Et(e,r,n,o))}(this._delegate),t.then(r=>new TA(this.firestore,new Et(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=cS(e),r=dS(e,o=>new TA(this.firestore,new Et(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return nS(this._delegate,t,r)}withConverter(e){return new ko(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}class $N{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Mw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ko(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Mw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $N(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Mw(this._firestore,r))})}isEqual(e){return gn(this._delegate,e._delegate)}}class nv extends ko{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Da(this.firestore,e):null}doc(e){try{return new Da(this.firestore,void 0===e?hw(this._delegate):hw(this._delegate,e))}catch(t){throw Ro(t,"doc()","CollectionReference.doc()")}}add(e){return function TN(n,e){const t=en(n.firestore,$n),r=hw(n),o=A(n.converter,e);return tv(t,[Gy(Id(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Sn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Da(this.firestore,t))}isEqual(e){return oA(this._delegate,e._delegate)}withConverter(e){return new nv(this.firestore,this._delegate.withConverter(e?um.getInstance(this.firestore,e):null))}}function lm(n){return en(n,tr)}class DA{constructor(...e){this._delegate=new Ta(...e)}static documentId(){return new DA(dr.keyField().canonicalString())}isEqual(e){return(e=(0,rn.m9)(e))instanceof Ta&&this._delegate._internalPath.isEqual(e._internalPath)}}class cm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function FN(){return new vw("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new cm(e)}static delete(){const e=function PN(){return new $y("deleteField")}();return e._methodName="FieldValue.delete",new cm(e)}static arrayUnion(...e){const t=function VN(...n){return new fA("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new cm(t)}static arrayRemove(...e){const t=function UN(...n){return new pA("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new cm(t)}static increment(e){const t=function BN(n){return new gA("increment",n)}(e);return t._methodName="FieldValue.increment",new cm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zN={Firestore:aS,GeoPoint:qy,Timestamp:Xn,Blob:bw,Transaction:uS,WriteBatch:lS,DocumentReference:Da,DocumentSnapshot:Aw,Query:ko,QueryDocumentSnapshot:Mw,QuerySnapshot:TA,CollectionReference:nv,FieldPath:DA,FieldValue:cm,setLogLevel:function GN(n){!function Rb(n){El.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function WN(n){(function KN(n,e){n.INTERNAL.registerComponent(new Hm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},zN)))})(n,(e,t)=>new aS(e,t,new jN)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(DM.Z);var dm=k(7579),YN=k(6451),MC=k(5363);function Qi(n,e){return(0,Ao.e)((t,r)=>{let o=null,l=0,d=!1;const m=()=>d&&!o&&r.complete();t.subscribe((0,qn.x)(r,w=>{o?.unsubscribe();let C=0;const M=l++;(0,eu.Xf)(n(w,M)).subscribe(o=(0,qn.x)(r,R=>r.next(e?e(w,R,M,C++):R),()=>{o=null,m()}))},()=>{d=!0,m()}))})}var JN=k(6063);class QN extends dm.x{constructor(e=1/0,t=1/0,r=JN.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!o&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,l=o.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,l=(o?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!o){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var XN=k(3099);function hS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,XN.B)({connector:()=>new QN(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const SC=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Bf=k(515);function rv(n){return n<=0?()=>Bf.E:(0,Ao.e)((e,t)=>{let r=0;e.subscribe((0,qn.x)(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function xC(n){return(0,Ao.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function fS(n=tR){return(0,Ao.e)((e,t)=>{let r=!1;e.subscribe((0,qn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function tR(){return new SC}var NC=k(4671);function Zf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Es((o,l)=>n(o,l,r)):NC.y,rv(1),t?xC(e):fS(()=>new SC))}var Sw=k(576);function pS(n,e){return(0,Sw.m)(e)?Qi(()=>n,e):Qi(()=>n)}var CA=k(9468);k(259);const AA=new Map,mS={activated:!1,tokenObservers:[]},sR={initialized:!1,enabled:!1};function Ur(n){return AA.get(n)||Object.assign({},mS)}function kC(){return sR}const MA="https://content-firebaseappcheck.googleapis.com/v1",cR="exchangeDebugToken",_S={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class hR{constructor(e,t,r,o,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=o,o>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ge.Z)(function*(){t.stop();try{t.pending=new rn.BH,yield function fR(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new rn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Xi=new rn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SA(n){if(!Ur(n).activated)throw Xi.create("use-before-activation",{appName:n.name})}function PC(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,ge.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const R=yield o.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const l={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,l)}catch(R){throw Xi.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==d.status)throw Xi.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(R){throw Xi.create("fetch-parse-error",{originalErrorMessage:R?.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Xi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(w[1]),M=Date.now();return{token:m.token,expireTimeMillis:M+C,issuedAtTimeMillis:M}}),NA.apply(this,arguments)}function yS(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${MA}/projects/${t}/apps/${r}:${cR}?key=${o}`,body:{debug_token:e}}}const _R="firebase-app-check-database",yR=1,xw="firebase-app-check-store";let FC=null;function RA(){return RA=(0,ge.Z)(function*(n,e){const r=(yield function ES(){return FC||(FC=new Promise((n,e)=>{try{const t=indexedDB.open(_R,yR);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Xi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(xw,{keyPath:"compositeKey"})}}catch(t){e(Xi.create("storage-open",{originalErrorMessage:t?.message}))}}),FC)}()).transaction(xw,"readwrite"),l=r.objectStore(xw).put({compositeKey:n,value:e});return new Promise((d,m)=>{l.onsuccess=w=>{d()},r.onerror=w=>{var C;m(Xi.create("storage-set",{originalErrorMessage:null===(C=w.target.error)||void 0===C?void 0:C.message}))}})}),RA.apply(this,arguments)}const Nw=new Wo.Yd("@firebase/app-check");function LA(n,e){return(0,rn.hl)()?function ER(n,e){return function wS(n,e){return RA.apply(this,arguments)}(function TS(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Nw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function FA(){return kC().enabled}function VA(){return UA.apply(this,arguments)}function UA(){return UA=(0,ge.Z)(function*(){const n=kC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),UA.apply(this,arguments)}const bR={error:"UNKNOWN_ERROR"};function AR(n){return rn.US.encodeString(JSON.stringify(n),!1)}function VC(n){return BA.apply(this,arguments)}function BA(){return BA=(0,ge.Z)(function*(n,e=!1){const t=n.app;SA(t);const r=Ur(t);let l,o=r.token;if(o&&!iv(o)&&(r.token=void 0,o=void 0),!o){const w=yield r.cachedTokenPromise;w&&(iv(w)?o=w:yield LA(t,void 0))}if(!e&&o&&iv(o))return{token:o.token};let m,d=!1;if(FA()){r.exchangeTokenPromise||(r.exchangeTokenPromise=PC(yS(t,yield VA()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const w=yield r.exchangeTokenPromise;return yield LA(t,w),r.token=w,{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),o=yield Ur(t).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Nw.warn(w.message):Nw.error(w),l=w}return o?l?m=iv(o)?{token:o.token,internalError:l}:AS(l):(m={token:o.token},r.token=o,yield LA(t,o)):m=AS(l),d&&function bS(n,e){const t=Ur(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,m),m}),BA.apply(this,arguments)}function ZA(){return ZA=(0,ge.Z)(function*(n){const e=n.app;SA(e);const{provider:t}=Ur(e);if(FA()){const r=yield VA(),{token:o}=yield PC(yS(e,r),n.heartbeatServiceProvider);return{token:o}}{const{token:r}=yield t.getToken();return{token:r}}}),ZA.apply(this,arguments)}function qA(n,e){const t=Ur(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function CS(n){const{app:e}=n,t=Ur(e);let r=t.tokenRefresher;r||(r=function MR(n){const{app:e}=n;return new hR((0,ge.Z)(function*(){let r;if(r=Ur(e).token?yield VC(n,!0):yield VC(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Ur(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},_S.RETRIAL_MIN_WAIT,_S.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function iv(n){return n.expireTimeMillis-Date.now()>0}function AS(n){return{token:AR(bR),error:n}}class SR{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ur(this.app);for(const t of e)qA(this.app,t.next);return Promise.resolve()}}const LS="app-check-internal";!function qR(){(0,hu._registerComponent)(new Hm.wA("app-check",n=>function xR(n,e){return new SR(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(LS).initialize()})),(0,hu._registerComponent)(new Hm.wA(LS,n=>function NR(n){return{getToken:e=>VC(n,e),getLimitedUseToken:()=>function DS(n){return ZA.apply(this,arguments)}(n),addTokenListener:e=>function HA(n,e,t,r){const{app:o}=n,l=Ur(o);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&iv(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),CS(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>CS(n))}(n,"INTERNAL",e),removeTokenListener:e=>qA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hu.registerVersion)("@firebase/app-check","0.8.0")}();class zA{constructor(){return(0,Tr.vb)("app-check")}}typeof window<"u"&&window;var KR=k(9260);const FS=new a.OlP("angularfire2.auth.use-emulator"),VS=new a.OlP("angularfire2.auth.settings"),US=new a.OlP("angularfire2.auth.tenant-id"),BS=new a.OlP("angularfire2.auth.langugage-code"),ZS=new a.OlP("angularfire2.auth.use-device-language"),HS=new a.OlP("angularfire.auth.persistence"),qS=(n,e,t,r,o,l,d,m)=>(0,Si.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,l&&w.useDeviceLanguage(),d)for(const[C,M]of Object.entries(d))w.settings[C]=M;return m&&w.setPersistence(m),w},[t,r,o,l,d,m]);let jS=(()=>{class n{constructor(t,r,o,l,d,m,w,C,M,R,q,Q){const me=new dm.x,Le=(0,wt.of)(void 0).pipe((0,MC.Q)(d.outsideAngular),Qi(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2644)))),(0,Mt.U)(()=>(0,Si.on)(t,l,r)),(0,Mt.U)(Fe=>qS(Fe,l,m,C,M,R,w,q)),hS({bufferSize:1,refCount:!1}));if(as(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,wt.of)(null);else{Le.pipe(Zf()).subscribe();const dt=Le.pipe(Qi(Nt=>Nt.getRedirectResult().then(Zt=>Zt,()=>null)),Tr.iC,hS({bufferSize:1,refCount:!1})),xt=Le.pipe(Qi(Nt=>new vr.y(Zt=>({unsubscribe:l.runOutsideAngular(()=>Nt.onAuthStateChanged(nn=>Zt.next(nn),nn=>Zt.error(nn),()=>Zt.complete()))})))),It=Le.pipe(Qi(Nt=>new vr.y(Zt=>({unsubscribe:l.runOutsideAngular(()=>Nt.onIdTokenChanged(nn=>Zt.next(nn),nn=>Zt.error(nn),()=>Zt.complete()))}))));this.authState=dt.pipe(pS(xt),(0,CA.R)(d.outsideAngular),(0,MC.Q)(d.insideAngular)),this.user=dt.pipe(pS(It),(0,CA.R)(d.outsideAngular),(0,MC.Q)(d.insideAngular)),this.idToken=this.user.pipe(Qi(Nt=>Nt?(0,fn.D)(Nt.getIdToken()):(0,wt.of)(null))),this.idTokenResult=this.user.pipe(Qi(Nt=>Nt?(0,fn.D)(Nt.getIdTokenResult()):(0,wt.of)(null))),this.credential=(0,YN.T)(dt,me,this.authState.pipe(Es(Nt=>!Nt))).pipe((0,Mt.U)(Nt=>Nt?.user?Nt:null),(0,CA.R)(d.outsideAngular),(0,MC.Q)(d.insideAngular))}return(0,Si.pX)(this,Le,l,{spy:{apply:(Fe,dt,xt)=>{(Fe.startsWith("signIn")||Fe.startsWith("createUser"))&&xt.then(It=>me.next(It))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Si.Dh),a.LFG(Si.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tr.HU),a.LFG(FS,8),a.LFG(VS,8),a.LFG(US,8),a.LFG(BS,8),a.LFG(ZS,8),a.LFG(HS,8),a.LFG(zA,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function GS(n,e){return function YR(n,e=Dh.z){return new vr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function WA(n,e){return GS(n,e).pipe((0,Mt.U)(t=>({payload:t,type:"query"})))}function BC(n,e){return WA(n,e).pipe(Fp(void 0),Bm(),(0,Mt.U)(([t,r])=>{const o=r.payload.docChanges(),l=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=o.find(M=>M.doc.ref.isEqual(d.ref)),C=t?.payload.docs.find(M=>M.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),l}))}function $S(n,e,t){return BC(n,t).pipe(Ch((r,o)=>function QR(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function XR(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return YA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return YA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return YA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(l=>l.payload),e),[]),(0,bh.x)(),(0,Mt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function YA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function zS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class KS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=BC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Mt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Fp(void 0),Bm(),Es(([r,o])=>o.length>0||!r),(0,Mt.U)(([r,o])=>o),Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ch((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zS(e);return $S(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return WA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Tr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Tr.iC)}add(e){return this.ref.add(e)}doc(e){return new WS(this.ref.doc(e),this.afs)}}class WS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:l}=QS(r,t);return new KS(o,l,this.afs)}snapshotChanges(){return function JR(n,e){return GS(n,e).pipe(Fp(void 0),Bm(),(0,Mt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Mt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,fn.D)(this.ref.get(e)).pipe(Tr.iC)}}class ek{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?BC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Es(t=>t.length>0),Tr.iC):BC(this.query,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ch((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zS(e);return $S(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return WA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Mt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Tr.iC)}get(e){return(0,fn.D)(this.query.get(e)).pipe(Tr.iC)}}const YS=new a.OlP("angularfire2.enableFirestorePersistence"),JS=new a.OlP("angularfire2.firestore.persistenceSettings"),tk=new a.OlP("angularfire2.firestore.settings"),nk=new a.OlP("angularfire2.firestore.use-emulator");function QS(n,e=(t=>t)){return{query:e(n),ref:n}}let XS=(()=>{class n{constructor(t,r,o,l,d,m,w,C,M,R,q,Q,me,Le,Fe,dt,xt){this.schedulers=w;const It=(0,Si.on)(t,m,r),Nt=M;R&&qS(It,m,q,me,Le,Fe,Q,dt),[this.firestore,this.persistenceEnabled$]=(0,Si.cc)(`${It.name}.firestore`,"AngularFirestore",It.name,()=>{const Zt=m.runOutsideAngular(()=>It.firestore());if(l&&Zt.settings(l),Nt&&Zt.useEmulator(...Nt),o&&!as(d)){const nn=()=>{try{return(0,fn.D)(Zt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(yi){return typeof console<"u"&&console.warn(yi),(0,wt.of)(!1)}};return[Zt,m.runOutsideAngular(nn)]}return[Zt,(0,wt.of)(!1)]},[l,Nt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=QS(o,r),m=this.schedulers.ngZone.run(()=>l);return new KS(m,d,this)}collectionGroup(t,r){const o=r||(d=>d),l=this.firestore.collectionGroup(t);return new ek(o(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new WS(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Si.Dh),a.LFG(Si.xv,8),a.LFG(YS,8),a.LFG(tk,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tr.HU),a.LFG(JS,8),a.LFG(nk,8),a.LFG(jS,8),a.LFG(FS,8),a.LFG(VS,8),a.LFG(US,8),a.LFG(BS,8),a.LFG(ZS,8),a.LFG(HS,8),a.LFG(zA,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),rk=(()=>{class n{constructor(){KR.Z.registerVersion("angularfire",Tr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:YS,useValue:!0},{provide:JS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[XS]}),n})();const ik_firebase={apiKey:"AIzaSyBE-Xqz8366R9ZGFi9PS53BIGMEzFnjnSE",authDomain:"test-cleaver.firebaseapp.com",projectId:"test-cleaver",storageBucket:"test-cleaver.appspot.com",messagingSenderId:"1089347099344",appId:"1:1089347099344:web:f30bfb900a0b0312585cd5"};var Su=k(1135),sk=k(9672);function JA(...n){const e=(0,Ws.yG)(n),t=(0,Ws.jO)(n),{args:r,keys:o}=Ks(n);if(0===r.length)return(0,fn.D)([],e);const l=new vr.y(function ak(n,e,t=NC.y){return r=>{ex(e,()=>{const{length:o}=n,l=new Array(o);let d=o,m=o;for(let w=0;w<o;w++)ex(e,()=>{const C=(0,fn.D)(n[w],e);let M=!1;C.subscribe((0,qn.x)(r,R=>{l[w]=R,M||(M=!0,m--),m||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>Go(o,d):NC.y));return t?l.pipe(nu(t)):l}function ex(n,e,t){n?(0,sk.f)(t,n,e):e()}function tx(n){return new vr.y(e=>{(0,eu.Xf)(n()).subscribe(e)})}var uk=k(9635);function Rw(n,e){const t=(0,Sw.m)(n)?n:()=>n,r=o=>o.error(t());return new vr.y(e?o=>e.schedule(r,0,o):r)}var nx=k(727);function QA(){return(0,Ao.e)((n,e)=>{let t=null;n._refCount++;const r=(0,qn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,l=t;t=null,o&&(!l||o===l)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class rx extends vr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ao.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new nx.w0;const t=this.getSubject();e.add(this.source.subscribe((0,qn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=nx.w0.EMPTY)}return e}refCount(){return QA()(this)}}var Oo=k(5577);function kw(n,e){return(0,Sw.m)(e)?(0,Oo.z)(n,e,1):(0,Oo.z)(n,1)}var Lo=k(8505);function hm(n){return(0,Ao.e)((e,t)=>{let l,r=null,o=!1;r=e.subscribe((0,qn.x)(t,void 0,void 0,d=>{l=(0,eu.Xf)(n(d,hm(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,l.subscribe(t))})}function XA(n){return n<=0?()=>Bf.E:(0,Ao.e)((e,t)=>{let r=[];e.subscribe((0,qn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function eM(n){return(0,Ao.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Kt="primary",Ow=Symbol("RouteTitle");class dk{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ov(n){return new dk(n)}function hk(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let l=0;l<r.length;l++){const d=r[l],m=n[l];if(d.startsWith(":"))o[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function Bl(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let l=0;l<t.length;l++)if(o=t[l],!ix(n[o],e[o]))return!1;return!0}function ix(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,l)=>r[l]===o)}return n===e}function ox(n){return n.length>0?n[n.length-1]:null}function Hf(n){return function ok(n){return!!n&&(n instanceof vr.y||(0,Sw.m)(n.lift)&&(0,Sw.m)(n.subscribe))}(n)?n:(0,a.QGY)(n)?(0,fn.D)(Promise.resolve(n)):(0,wt.of)(n)}const pk={exact:function ux(n,e,t){if(!fm(n.segments,e.segments)||!ZC(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ux(n.children[r],e.children[r],t))return!1;return!0},subset:lx},sx={exact:function gk(n,e){return Bl(n,e)},subset:function mk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ix(n[t],e[t]))},ignored:()=>!0};function ax(n,e,t){return pk[t.paths](n.root,e.root,t.matrixParams)&&sx[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function lx(n,e,t){return cx(n,e,e.segments,t)}function cx(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!fm(o,t)||e.hasChildren()||!ZC(o,t,r))}if(n.segments.length===t.length){if(!fm(n.segments,t)||!ZC(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!lx(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(fm(n.segments,o)&&ZC(n.segments,o,r)&&n.children[Kt])&&cx(n.children[Kt],e,l,r)}}function ZC(n,e,t){return e.every((r,o)=>sx[t](n[o].parameters,r.parameters))}class sv{constructor(e=new Nn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ov(this.queryParams)),this._queryParamMap}toString(){return vk.serialize(this)}}class Nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return HC(this)}}class Lw{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ov(this.parameters)),this._parameterMap}toString(){return fx(this)}}function fm(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Pw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new tM},providedIn:"root"}),n})();class tM{parse(e){const t=new xk(e);return new sv(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fw(e.root,!0)}`,r=function Ik(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${qC(t)}=${qC(o)}`).join("&"):`${qC(t)}=${qC(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),o="string"==typeof e.fragment?`#${function Ek(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${r}${o}`}}const vk=new tM;function HC(n){return n.segments.map(e=>fx(e)).join("/")}function Fw(n,e){if(!n.hasChildren())return HC(n);if(e){const t=n.children[Kt]?Fw(n.children[Kt],!1):"",r=[];return Object.entries(n.children).forEach(([o,l])=>{o!==Kt&&r.push(`${o}:${Fw(l,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function yk(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===Kt&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==Kt&&(t=t.concat(e(o,r)))}),t}(n,(r,o)=>o===Kt?[Fw(n.children[Kt],!1)]:[`${o}:${Fw(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kt]?`${HC(n)}/${t[0]}`:`${HC(n)}/(${t.join("//")})`}}function dx(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qC(n){return dx(n).replace(/%3B/gi,";")}function nM(n){return dx(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jC(n){return decodeURIComponent(n)}function hx(n){return jC(n.replace(/\+/g,"%20"))}function fx(n){return`${nM(n.path)}${function wk(n){return Object.keys(n).map(e=>`;${nM(e)}=${nM(n[e])}`).join("")}(n.parameters)}`}const Tk=/^[^\/()?;#]+/;function rM(n){const e=n.match(Tk);return e?e[0]:""}const Dk=/^[^\/()?;=#]+/,bk=/^[^=?&#]+/,Mk=/^[^&#]+/;class xk{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Kt]=new Nn(e,t)),r}parseSegment(){const e=rM(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(e),new Lw(jC(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Ck(n){const e=n.match(Dk);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=rM(this.remaining);o&&(r=o,this.capture(r))}e[jC(t)]=jC(r)}parseQueryParam(e){const t=function Ak(n){const e=n.match(bk);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Sk(n){const e=n.match(Mk);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=hx(t),l=hx(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(l)}else e[o]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rM(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new a.vHH(4010,!1);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Kt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Kt]:new Nn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,!1)}}function px(n){return n.segments.length>0?new Nn([],{[Kt]:n}):n}function gx(n){const e={};for(const r of Object.keys(n.children)){const l=gx(n.children[r]);if(r===Kt&&0===l.segments.length&&l.hasChildren())for(const[d,m]of Object.entries(l.children))e[d]=m;else(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Nk(n){if(1===n.numberOfChildren&&n.children[Kt]){const e=n.children[Kt];return new Nn(n.segments.concat(e.segments),e.children)}return n}(new Nn(n.segments,e))}function pm(n){return n instanceof sv}function mx(n){let e;const o=px(function t(l){const d={};for(const w of l.children){const C=t(w);d[w.outlet]=C}const m=new Nn(l.url,d);return l===n&&(e=m),m}(n.root));return e??o}function _x(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(0===e.length)return iM(o,o,o,t,r);const l=function kk(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new vx(!0,0,n);let e=0,t=!1;const r=n.reduce((o,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Object.entries(l.outlets).forEach(([w,C])=>{m[w]="string"==typeof C?C.split("/"):C}),[...o,{outlets:m}]}if(l.segmentPath)return[...o,l.segmentPath]}return"string"!=typeof l?[...o,l]:0===d?(l.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,l]},[]);return new vx(t,e,r)}(e);if(l.toRoot())return iM(o,o,new Nn([],{}),t,r);const d=function Ok(n,e,t){if(n.isAbsolute)return new $C(e,!0,0);if(!t)return new $C(e,!1,NaN);if(null===t.parent)return new $C(t,!0,0);const r=GC(n.commands[0])?0:1;return function Lk(n,e,t){let r=n,o=e,l=t;for(;l>o;){if(l-=o,r=r.parent,!r)throw new a.vHH(4005,!1);o=r.segments.length}return new $C(r,!1,o-l)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(l,o,n),m=d.processChildren?Uw(d.segmentGroup,d.index,l.commands):Ex(d.segmentGroup,d.index,l.commands);return iM(o,d.segmentGroup,m,t,r)}function GC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vw(n){return"object"==typeof n&&null!=n&&n.outlets}function iM(n,e,t,r,o){let d,l={};r&&Object.entries(r).forEach(([w,C])=>{l[w]=Array.isArray(C)?C.map(M=>`${M}`):`${C}`}),d=n===e?t:yx(n,e,t);const m=px(gx(d));return new sv(m,l,o)}function yx(n,e,t){const r={};return Object.entries(n.children).forEach(([o,l])=>{r[o]=l===e?t:yx(l,e,t)}),new Nn(n.segments,r)}class vx{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&GC(r[0]))throw new a.vHH(4003,!1);const o=r.find(Vw);if(o&&o!==ox(r))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $C{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ex(n,e,t){if(n||(n=new Nn([],{})),0===n.segments.length&&n.hasChildren())return Uw(n,e,t);const r=function Fk(n,e,t){let r=0,o=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return l;const d=n.segments[o],m=t[r];if(Vw(m))break;const w=`${m}`,C=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&C&&"object"==typeof C&&void 0===C.outlets){if(!Ix(w,C,d))return l;r+=2}else{if(!Ix(w,{},d))return l;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Nn(n.segments.slice(0,r.pathIndex),{});return l.children[Kt]=new Nn(n.segments.slice(r.pathIndex),n.children),Uw(l,0,o)}return r.match&&0===o.length?new Nn(n.segments,{}):r.match&&!n.hasChildren()?oM(n,e,t):r.match?Uw(n,0,o):oM(n,e,t)}function Uw(n,e,t){if(0===t.length)return new Nn(n.segments,{});{const r=function Pk(n){return Vw(n[0])?n[0].outlets:{[Kt]:n}}(t),o={};if(!r[Kt]&&n.children[Kt]&&1===n.numberOfChildren&&0===n.children[Kt].segments.length){const l=Uw(n.children[Kt],e,t);return new Nn(n.segments,l.children)}return Object.entries(r).forEach(([l,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[l]=Ex(n.children[l],e,d))}),Object.entries(n.children).forEach(([l,d])=>{void 0===r[l]&&(o[l]=d)}),new Nn(n.segments,o)}}function oM(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const l=t[o];if(Vw(l)){const w=Vk(l.outlets);return new Nn(r,w)}if(0===o&&GC(t[0])){r.push(new Lw(n.segments[e].path,wx(t[0]))),o++;continue}const d=Vw(l)?l.outlets[Kt]:`${l}`,m=o<t.length-1?t[o+1]:null;d&&m&&GC(m)?(r.push(new Lw(d,wx(m))),o+=2):(r.push(new Lw(d,{})),o++)}return new Nn(r,{})}function Vk(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=oM(new Nn([],{}),0,r))}),e}function wx(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ix(n,e,t){return n==t.path&&Bl(e,t.parameters)}const Bw="imperative";class Zl{constructor(e,t){this.id=e,this.url=t}}class sM extends Zl{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gm extends Zl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zC extends Zl{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zw extends Zl{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=16}}class aM extends Zl{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Uk extends Zl{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bk extends Zl{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zk extends Zl{constructor(e,t,r,o,l){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Hk extends Zl{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qk extends Zl{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jk{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gk{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $k{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zk{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kk{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wk{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tx{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Yk{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hw,this.attachRef=null}}let Hw=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Yk,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Dx{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uM(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=uM(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lM(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return lM(e,this._root).map(t=>t.value)}}function uM(n,e){if(n===e.value)return e;for(const t of e.children){const r=uM(n,t);if(r)return r}return null}function lM(n,e){if(n===e.value)return[e];for(const t of e.children){const r=lM(n,t);if(r.length)return r.unshift(e),r}return[]}class Cd{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function av(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Cx extends Dx{constructor(e,t){super(e),this.snapshot=t,cM(this,e)}toString(){return this.snapshot.toString()}}function bx(n,e){const t=function Jk(n,e){const d=new KC([],{},{},"",{},Kt,e,null,{});return new Mx("",new Cd(d,[]))}(0,e),r=new Su.X([new Lw("",{})]),o=new Su.X({}),l=new Su.X({}),d=new Su.X({}),m=new Su.X(""),w=new uv(r,o,d,m,l,Kt,e,t.root);return w.snapshot=t.root,new Cx(new Cd(w,[]),t)}class uv{constructor(e,t,r,o,l,d,m,w){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=l,this.outlet=d,this.component=m,this._futureSnapshot=w,this.title=this.dataSubject?.pipe((0,Mt.U)(C=>C[Ow]))??(0,wt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(e=>ov(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(e=>ov(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ax(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],l=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(l.component)break;r--}}return function Qk(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class KC{get title(){return this.data?.[Ow]}constructor(e,t,r,o,l,d,m,w,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=l,this.outlet=d,this.component=m,this.routeConfig=w,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ov(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ov(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mx extends Dx{constructor(e,t){super(t),this.url=e,cM(this,t)}toString(){return Sx(this._root)}}function cM(n,e){e.value._routerState=n,e.children.forEach(t=>cM(n,t))}function Sx(n){const e=n.children.length>0?` { ${n.children.map(Sx).join(", ")} } `:"";return`${n.value}${e}`}function dM(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bl(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Bl(e.params,t.params)||n.paramsSubject.next(t.params),function fk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bl(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Bl(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hM(n,e){const t=Bl(n.params,e.params)&&function _k(n,e){return fm(n,e)&&n.every((t,r)=>Bl(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hM(n.parent,e.parent))}let fM=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(Hw),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb),this.inputBinder=(0,a.f3M)(WC,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,!1);this._activatedRoute=t;const o=this.location,d=t.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new Xk(t,m,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class Xk{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===uv?this.route:e===Hw?this.childContexts:this.parent.get(e,t)}}const WC=new a.OlP("");let xx=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=JA([r.queryParams,r.params,r.data]).pipe(Qi(([l,d,m],w)=>(m={...l,...d,...m},0===w?(0,wt.of)(m):Promise.resolve(m)))).subscribe(l=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const d=(0,a.qFp)(r.component);if(d)for(const{templateName:m}of d.inputs)t.activatedComponentRef.setInput(m,l[m]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function qw(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function tO(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return qw(n,r,o);return qw(n,r)})}(n,e,t);return new Cd(r,o)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>qw(n,m)),d}}const r=function nO(n){return new uv(new Su.X(n.url),new Su.X(n.params),new Su.X(n.queryParams),new Su.X(n.fragment),new Su.X(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(l=>qw(n,l));return new Cd(r,o)}}const pM="ngNavigationCancelingError";function Nx(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=pm(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Rx(!1,0,e);return o.url=t,o.navigationBehaviorOptions=r,o}function Rx(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pM]=!0,r.cancellationCode=e,t&&(r.url=t),r}function kx(n){return Ox(n)&&pm(n.url)}function Ox(n){return n&&n[pM]}let Lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[fM],encapsulation:2}),n})();function gM(n){const e=n.children&&n.children.map(gM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kt&&(t.component=Lx),t}function xu(n){return n.outlet||Kt}function jw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lO{constructor(e,t,r,o,l){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=l}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dM(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=av(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,o[d],r),delete o[d]}),Object.values(o).forEach(l=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(o===l)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=av(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,l=av(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const o=av(t);e.children.forEach(l=>{this.activateRoutes(l,o[l.value.outlet],r),this.forwardEvent(new Wk(l.value.snapshot))}),e.children.length&&this.forwardEvent(new zk(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,l=t?t.value:null;if(dM(o),o===l)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),dM(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=jw(o.snapshot);d.attachRef=null,d.route=o,d.injector=m,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class Px{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class YC{constructor(e,t){this.component=e,this.route=t}}function cO(n,e,t){const r=n._root;return Gw(r,e?e._root:null,t,[r.value])}function lv(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function Gw(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=av(e);return n.children.forEach(d=>{(function hO(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const w=function fO(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fm(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fm(n.url,e.url)||!Bl(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hM(n,e)||!Bl(n.queryParams,e.queryParams);default:return!hM(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new Px(r)):(l.data=d.data,l._resolvedData=d._resolvedData),Gw(n,e,l.component?m?m.children:null:t,r,o),w&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new YC(m.outlet.component,d))}else d&&$w(e,m,o),o.canActivateChecks.push(new Px(r)),Gw(n,null,l.component?m?m.children:null:t,r,o)})(d,l[d.value.outlet],t,r.concat([d.value]),o),delete l[d.value.outlet]}),Object.entries(l).forEach(([d,m])=>$w(m,t.getContext(d),o)),o}function $w(n,e,t){const r=av(n),o=n.value;Object.entries(r).forEach(([l,d])=>{$w(d,o.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new YC(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function zw(n){return"function"==typeof n}function Fx(n){return n instanceof SC||"EmptyError"===n?.name}const JC=Symbol("INITIAL_VALUE");function cv(){return Qi(n=>JA(n.map(e=>e.pipe(rv(1),Fp(JC)))).pipe((0,Mt.U)(e=>{for(const t of e)if(!0!==t){if(t===JC)return JC;if(!1===t||t instanceof sv)return t}return!0}),Es(e=>e!==JC),rv(1)))}function Vx(n){return(0,uk.z)((0,Lo.b)(e=>{if(pm(e))throw Nx(0,e)}),(0,Mt.U)(e=>!0===e))}class QC{constructor(e){this.segmentGroup=e||null}}class Ux{constructor(e){this.urlTree=e}}function dv(n){return Rw(new QC(n))}function Bx(n){return Rw(new Ux(n))}class kO{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new a.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,wt.of)(r);if(o.numberOfChildren>1||!o.children[Kt])return Rw(new a.vHH(4e3,!1));o=o.children[Kt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,o){const l=this.createSegmentGroup(e,t.root,r,o);return new sv(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([o,l])=>{if("string"==typeof l&&l.startsWith(":")){const m=l.substring(1);r[o]=t[m]}else r[o]=l}),r}createSegmentGroup(e,t,r,o){const l=this.createSegments(e,t.segments,r,o);let d={};return Object.entries(t.children).forEach(([m,w])=>{d[m]=this.createSegmentGroup(e,w,r,o)}),new Nn(l,d)}createSegments(e,t,r,o){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,o):this.findOrReturn(l,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new a.vHH(4001,!1);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}const mM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OO(n,e,t,r,o){const l=_M(n,e,t);return l.matched?(r=function rO(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function xO(n,e,t,r){const o=e.canMatch;if(!o||0===o.length)return(0,wt.of)(!0);const l=o.map(d=>{const m=lv(d,n);return Hf(function vO(n){return n&&zw(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))});return(0,wt.of)(l).pipe(cv(),Vx())}(r,e,t).pipe((0,Mt.U)(d=>!0===d?l:{...mM}))):(0,wt.of)(l)}function _M(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||hk)(t,n,e);if(!o)return{...mM};const l={};Object.entries(o.posParams??{}).forEach(([m,w])=>{l[m]=w.path});const d=o.consumed.length>0?{...l,...o.consumed[o.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function Zx(n,e,t,r){return t.length>0&&function FO(n,e,t){return t.some(r=>XC(n,e,r)&&xu(r)!==Kt)}(n,t,r)?{segmentGroup:new Nn(e,PO(r,new Nn(t,n.children))),slicedSegments:[]}:0===t.length&&function VO(n,e,t){return t.some(r=>XC(n,e,r))}(n,t,r)?{segmentGroup:new Nn(n.segments,LO(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Nn(n.segments,n.children),slicedSegments:t}}function LO(n,e,t,r,o){const l={};for(const d of r)if(XC(n,t,d)&&!o[xu(d)]){const m=new Nn([],{});l[xu(d)]=m}return{...o,...l}}function PO(n,e){const t={};t[Kt]=e;for(const r of n)if(""===r.path&&xu(r)!==Kt){const o=new Nn([],{});t[xu(r)]=o}return t}function XC(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class HO{constructor(e,t,r,o,l,d,m){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=l,this.paramsInheritanceStrategy=d,this.urlSerializer=m,this.allowRedirects=!0,this.applyRedirects=new kO(this.urlSerializer,this.urlTree)}noMatchError(e){return new a.vHH(4002,!1)}recognize(){const e=Zx(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Kt).pipe(hm(t=>{if(t instanceof Ux)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof QC?this.noMatchError(t):t}),(0,Mt.U)(t=>{const r=new KC([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Kt,this.rootComponentType,null,{}),o=new Cd(r,t),l=new Mx("",o),d=function Rk(n,e,t=null,r=null){return _x(mx(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(l._root),{state:l,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Kt).pipe(hm(r=>{throw r instanceof QC?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=Ax(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,o,!0)}processChildren(e,t,r){const o=[];for(const l of Object.keys(r.children))"primary"===l?o.unshift(l):o.push(l);return(0,fn.D)(o).pipe(kw(l=>{const d=r.children[l],m=function aO(n,e){const t=n.filter(r=>xu(r)===e);return t.push(...n.filter(r=>xu(r)!==e)),t}(t,l);return this.processSegmentGroup(e,m,d,l)}),Ch((l,d)=>(l.push(...d),l)),xC(null),function lk(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Es((o,l)=>n(o,l,r)):NC.y,XA(1),t?xC(e):fS(()=>new SC))}(),(0,Oo.z)(l=>{if(null===l)return dv(r);const d=Hx(l);return function qO(n){n.sort((e,t)=>e.value.outlet===Kt?-1:t.value.outlet===Kt?1:e.value.outlet.localeCompare(t.value.outlet))}(d),(0,wt.of)(d)}))}processSegment(e,t,r,o,l,d){return(0,fn.D)(t).pipe(kw(m=>this.processSegmentAgainstRoute(m._injector??e,t,m,r,o,l,d).pipe(hm(w=>{if(w instanceof QC)return(0,wt.of)(null);throw w}))),Zf(m=>!!m),hm(m=>{if(Fx(m))return function BO(n,e,t){return 0===e.length&&!n.children[t]}(r,o,l)?(0,wt.of)([]):dv(r);throw m}))}processSegmentAgainstRoute(e,t,r,o,l,d,m){return function UO(n,e,t,r){return!!(xu(n)===r||r!==Kt&&XC(e,t,n))&&("**"===n.path||_M(e,n,t).matched)}(r,o,l,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,l,d,m):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,l,d):dv(o):dv(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const l=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Bx(l):this.applyRedirects.lineralizeSegments(r,l).pipe((0,Oo.z)(d=>{const m=new Nn(d,{});return this.processSegment(e,t,m,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,l,d){const{matched:m,consumedSegments:w,remainingSegments:C,positionalParamSegments:M}=_M(t,o,l);if(!m)return dv(t);const R=this.applyRedirects.applyRedirectCommands(w,o.redirectTo,M);return o.redirectTo.startsWith("/")?Bx(R):this.applyRedirects.lineralizeSegments(o,R).pipe((0,Oo.z)(q=>this.processSegment(e,r,t,q.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,l,d){let m;if("**"===r.path){const w=o.length>0?ox(o).parameters:{},C=new KC(o,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qx(r),xu(r),r.component??r._loadedComponent??null,r,jx(r));m=(0,wt.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),t.children={}}else m=OO(t,r,o,e).pipe((0,Mt.U)(({matched:w,consumedSegments:C,remainingSegments:M,parameters:R})=>w?{snapshot:new KC(C,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qx(r),xu(r),r.component??r._loadedComponent??null,r,jx(r)),consumedSegments:C,remainingSegments:M}:null));return m.pipe(Qi(w=>null===w?dv(t):this.getChildConfig(e=r._injector??e,r,o).pipe(Qi(({routes:C})=>{const M=r._loadedInjector??e,{snapshot:R,consumedSegments:q,remainingSegments:Q}=w,{segmentGroup:me,slicedSegments:Le}=Zx(t,q,Q,C);if(0===Le.length&&me.hasChildren())return this.processChildren(M,C,me).pipe((0,Mt.U)(dt=>null===dt?null:[new Cd(R,dt)]));if(0===C.length&&0===Le.length)return(0,wt.of)([new Cd(R,[])]);const Fe=xu(r)===l;return this.processSegment(M,C,me,Le,Fe?Kt:l,!0).pipe((0,Mt.U)(dt=>[new Cd(R,dt)]))}))))}getChildConfig(e,t,r){return t.children?(0,wt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,wt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function SO(n,e,t,r){const o=e.canLoad;if(void 0===o||0===o.length)return(0,wt.of)(!0);const l=o.map(d=>{const m=lv(d,n);return Hf(function gO(n){return n&&zw(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))});return(0,wt.of)(l).pipe(cv(),Vx())}(e,t,r).pipe((0,Oo.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,Lo.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function RO(n){return Rw(Rx(!1,3))}())):(0,wt.of)({routes:[],injector:e})}}function jO(n){const e=n.value.routeConfig;return e&&""===e.path}function Hx(n){const e=[],t=new Set;for(const r of n){if(!jO(r)){e.push(r);continue}const o=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Hx(r.children);e.push(new Cd(r.value,o))}return e.filter(r=>!t.has(r))}function qx(n){return n.data||{}}function jx(n){return n.resolve||{}}function Gx(n){return"string"==typeof n.title||null===n.title}function yM(n){return Qi(e=>{const t=n(e);return t?(0,fn.D)(t).pipe((0,Mt.U)(()=>e)):(0,wt.of)(e)})}const hv=new a.OlP("ROUTES");let vM=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,wt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Hf(t.loadComponent()).pipe((0,Mt.U)($x),(0,Lo.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),eM(()=>{this.componentLoaders.delete(t)})),o=new rx(r,()=>new dm.x).pipe(QA());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,wt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Mt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,C;return Array.isArray(m)?C=m:(w=m.create(t).injector,C=w.get(hv,[],a.XFs.Self|a.XFs.Optional).flat()),{routes:C.map(gM),injector:w}}),eM(()=>{this.childrenLoaders.delete(r)})),d=new rx(l,()=>new dm.x).pipe(QA());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Hf(t()).pipe((0,Mt.U)($x),(0,Oo.z)(r=>r instanceof a.YKP||Array.isArray(r)?(0,wt.of)(r):(0,fn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $x(n){return function JO(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let eb=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new dm.x,this.configLoader=(0,a.f3M)(vM),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(Pw),this.rootContexts=(0,a.f3M)(Hw),this.inputBindingEnabled=null!==(0,a.f3M)(WC,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,wt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new Gk(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new jk(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Su.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bw,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Es(r=>0!==r.id),(0,Mt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Qi(r=>{let o=!1,l=!1;return(0,wt.of)(r).pipe((0,Lo.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Qi(d=>{const m=t.browserUrlTree.toString(),w=!t.navigated||d.extractedUrl.toString()!==m||m!==t.currentUrlTree.toString();if(!w&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const M="";return this.events.next(new Zw(d.id,t.serializeUrl(r.rawUrl),M,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),Bf.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return zx(d.source)&&(t.browserUrlTree=d.extractedUrl),(0,wt.of)(d).pipe(Qi(M=>{const R=this.transitions?.getValue();return this.events.next(new sM(M.id,this.urlSerializer.serialize(M.extractedUrl),M.source,M.restoredState)),R!==this.transitions?.getValue()?Bf.E:Promise.resolve(M)}),function GO(n,e,t,r,o,l){return(0,Oo.z)(d=>function ZO(n,e,t,r,o,l,d="emptyOnly"){return new HO(n,e,t,r,o,d,l).recognize()}(n,e,t,r,d.extractedUrl,o,l).pipe((0,Mt.U)(({state:m,tree:w})=>({...d,targetSnapshot:m,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Lo.b)(M=>{if(r.targetSnapshot=M.targetSnapshot,r.urlAfterRedirects=M.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:M.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!M.extras.skipLocationChange){const q=t.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);t.setBrowserUrl(q,M)}t.browserUrlTree=M.urlAfterRedirects}const R=new Uk(M.id,this.urlSerializer.serialize(M.extractedUrl),this.urlSerializer.serialize(M.urlAfterRedirects),M.targetSnapshot);this.events.next(R)}));if(w&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:M,extractedUrl:R,source:q,restoredState:Q,extras:me}=d,Le=new sM(M,this.urlSerializer.serialize(R),q,Q);this.events.next(Le);const Fe=bx(0,this.rootComponentType).snapshot;return r={...d,targetSnapshot:Fe,urlAfterRedirects:R,extras:{...me,skipLocationChange:!1,replaceUrl:!1}},(0,wt.of)(r)}{const M="";return this.events.next(new Zw(d.id,t.serializeUrl(r.extractedUrl),M,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),Bf.E}}),(0,Lo.b)(d=>{const m=new Bk(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}),(0,Mt.U)(d=>r={...d,guards:cO(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function wO(n,e){return(0,Oo.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?(0,wt.of)({...t,guardsResult:!0}):function IO(n,e,t,r){return(0,fn.D)(n).pipe((0,Oo.z)(o=>function MO(n,e,t,r,o){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,wt.of)(!0);const d=l.map(m=>{const w=jw(e)??o,C=lv(m,w);return Hf(function yO(n){return n&&zw(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):w.runInContext(()=>C(n,e,t,r))).pipe(Zf())});return(0,wt.of)(d).pipe(cv())}(o.component,o.route,t,e,r)),Zf(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Oo.z)(m=>m&&function pO(n){return"boolean"==typeof n}(m)?function TO(n,e,t,r){return(0,fn.D)(e).pipe(kw(o=>Dv(function CO(n,e){return null!==n&&e&&e(new $k(n)),(0,wt.of)(!0)}(o.route.parent,r),function DO(n,e){return null!==n&&e&&e(new Kk(n)),(0,wt.of)(!0)}(o.route,r),function AO(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function dO(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>tx(()=>{const m=d.guards.map(w=>{const C=jw(d.node)??t,M=lv(w,C);return Hf(function _O(n){return n&&zw(n.canActivateChild)}(M)?M.canActivateChild(r,n):C.runInContext(()=>M(r,n))).pipe(Zf())});return(0,wt.of)(m).pipe(cv())}));return(0,wt.of)(l).pipe(cv())}(n,o.path,t),function bO(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,wt.of)(!0);const o=r.map(l=>tx(()=>{const d=jw(e)??t,m=lv(l,d);return Hf(function mO(n){return n&&zw(n.canActivate)}(m)?m.canActivate(e,n):d.runInContext(()=>m(e,n))).pipe(Zf())}));return(0,wt.of)(o).pipe(cv())}(n,o.route,t))),Zf(o=>!0!==o,!0))}(r,l,n,e):(0,wt.of)(m)),(0,Mt.U)(m=>({...t,guardsResult:m})))})}(this.environmentInjector,d=>this.events.next(d)),(0,Lo.b)(d=>{if(r.guardsResult=d.guardsResult,pm(d.guardsResult))throw Nx(0,d.guardsResult);const m=new Zk(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(m)}),Es(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),yM(d=>{if(d.guards.canActivateChecks.length)return(0,wt.of)(d).pipe((0,Lo.b)(m=>{const w=new Hk(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),Qi(m=>{let w=!1;return(0,wt.of)(m).pipe(function $O(n,e){return(0,Oo.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,wt.of)(t);let l=0;return(0,fn.D)(o).pipe(kw(d=>function zO(n,e,t,r){const o=n.routeConfig,l=n._resolve;return void 0!==o?.title&&!Gx(o)&&(l[Ow]=o.title),function KO(n,e,t,r){const o=function WO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return(0,wt.of)({});const l={};return(0,fn.D)(o).pipe((0,Oo.z)(d=>function YO(n,e,t,r){const o=jw(e)??r,l=lv(n,o);return Hf(l.resolve?l.resolve(e,t):o.runInContext(()=>l(e,t)))}(n[d],e,t,r).pipe(Zf(),(0,Lo.b)(m=>{l[d]=m}))),XA(1),function ck(n){return(0,Mt.U)(()=>n)}(l),hm(d=>Fx(d)?Bf.E:Rw(d)))}(l,n,e,r).pipe((0,Mt.U)(d=>(n._resolvedData=d,n.data=Ax(n,t).resolve,o&&Gx(o)&&(n.data[Ow]=o.title),null)))}(d.route,r,n,e)),(0,Lo.b)(()=>l++),XA(1),(0,Oo.z)(d=>l===o.length?(0,wt.of)(t):Bf.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Lo.b)({next:()=>w=!0,complete:()=>{w||(t.restoreHistory(m),this.cancelNavigationTransition(m,"",2))}}))}),(0,Lo.b)(m=>{const w=new qk(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}))}),yM(d=>{const m=w=>{const C=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,Lo.b)(M=>{w.component=M}),(0,Mt.U)(()=>{})));for(const M of w.children)C.push(...m(M));return C};return JA(m(d.targetSnapshot.root)).pipe(xC(),rv(1))}),yM(()=>this.afterPreactivation()),(0,Mt.U)(d=>{const m=function eO(n,e,t){const r=qw(n,e._root,t?t._root:void 0);return new Cx(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:m}}),(0,Lo.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t,r)=>(0,Mt.U)(o=>(new lO(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),rv(1),(0,Lo.b)({next:d=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new gm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{o=!0}}),eM(()=>{o||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),hm(d=>{if(l=!0,Ox(d)){kx(d)||(t.navigated=!0,t.restoreHistory(r,!0));const m=new zC(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(m),kx(d)){const w=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||zx(r.source)};t.scheduleNavigation(w,Bw,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const m=new aM(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(m);try{r.resolve(t.errorHandler(d))}catch(w){r.reject(w)}}return Bf.E}))}))}cancelNavigationTransition(t,r,o){const l=new zC(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zx(n){return n!==Bw}let Kx=(()=>{class n{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(l=>l.outlet===Kt);return r}getResolvedTitleForRoute(t){return t.data[Ow]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(QO)},providedIn:"root"}),n})(),QO=(()=>{class n extends Kx{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Wa))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(tL)},providedIn:"root"}),n})();class eL{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let tL=(()=>{class n extends eL{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tb=new a.OlP("",{providedIn:"root",factory:()=>({})});let nL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(rL)},providedIn:"root"}),n})(),rL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ns=(()=>((Ns=Ns||{})[Ns.COMPLETE=0]="COMPLETE",Ns[Ns.FAILED=1]="FAILED",Ns[Ns.REDIRECTING=2]="REDIRECTING",Ns))();function Wx(n,e){n.events.pipe(Es(t=>t instanceof gm||t instanceof zC||t instanceof aM||t instanceof Zw),(0,Mt.U)(t=>t instanceof gm||t instanceof Zw?Ns.COMPLETE:t instanceof zC&&(0===t.code||1===t.code)?Ns.REDIRECTING:Ns.FAILED),Es(t=>t!==Ns.REDIRECTING),rv(1)).subscribe(()=>{e()})}function iL(n){throw n}function oL(n,e,t){return e.parse("/")}const sL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ca=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(tb,{optional:!0})||{},this.pendingTasks=(0,a.f3M)(a.HDt),this.errorHandler=this.options.errorHandler||iL,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||oL,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)(nL),this.routeReuseStrategy=(0,a.f3M)(XO),this.titleStrategy=(0,a.f3M)(Kx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,a.f3M)(hv,{optional:!0})?.flat()??[],this.navigationTransitions=(0,a.f3M)(eb),this.urlSerializer=(0,a.f3M)(Pw),this.location=(0,a.f3M)(Ge),this.componentInputBindingEnabled=!!(0,a.f3M)(WC,{optional:!0}),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new sv,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=bx(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bw,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,o){const l={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const w={...o};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(l.state=w)}const m=this.parseUrl(t);this.scheduleNavigation(m,r,d,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:l,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,C=w?this.currentUrlTree.fragment:d;let R,M=null;switch(m){case"merge":M={...this.currentUrlTree.queryParams,...l};break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}null!==M&&(M=this.removeEmptyProps(M));try{R=mx(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),R=this.currentUrlTree.root}return _x(R,t,M,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=pm(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(l,Bw,null,r)}navigate(t,r={skipLocationChange:!1}){return function uL(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new a.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...sL}:!1===r?{...aL}:r,pm(t))return ax(this.currentUrlTree,t,o);const l=this.parseUrl(t);return ax(this.currentUrlTree,l,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const l=t[o];return null!=l&&(r[o]=l),r},{})}scheduleNavigation(t,r,o,l,d){if(this.disposed)return Promise.resolve(!1);let m,w,C;d?(m=d.resolve,w=d.reject,C=d.promise):C=new Promise((R,q)=>{m=R,w=q});const M=this.pendingTasks.add();return Wx(this,()=>{Promise.resolve().then(()=>this.pendingTasks.remove(M))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:m,reject:w,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const l={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(o,"",l)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-(this.browserPageId??this.currentPageId);0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Yx{}let dL=(()=>{class n{constructor(t,r,o,l,d){this.router=t,this.injector=o,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Es(t=>t instanceof gm),kw(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,a.MMx)(l.providers,t,`Route: ${l.path}`));const d=l._injector??t,m=l._loadedInjector??d;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(d,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(m,l.children??l._loadedRoutes))}return(0,fn.D)(o).pipe((0,hl.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,wt.of)(null);const l=o.pipe((0,Oo.z)(d=>null===d?(0,wt.of)(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,fn.D)([l,d]).pipe((0,hl.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ca),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(Yx),a.LFG(vM))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wM=new a.OlP("");let Jx=(()=>{class n{constructor(t,r,o,l,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=l,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gm?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Zw&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Tx&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Tx(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function bd(n,e){return{\u0275kind:n,\u0275providers:e}}function Xx(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const r=n.get(Ca),o=n.get(eN);1===n.get(IM)&&r.initialNavigation(),n.get(tN,null,a.XFs.Optional)?.setUpPreloading(),n.get(wM,null,a.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const eN=new a.OlP("",{factory:()=>new dm.x}),IM=new a.OlP("",{providedIn:"root",factory:()=>1}),tN=new a.OlP("");function gL(n){return bd(0,[{provide:tN,useExisting:dL},{provide:Yx,useExisting:n}])}const nN=new a.OlP("ROUTER_FORROOT_GUARD"),_L=[Ge,{provide:Pw,useClass:tM},Ca,Hw,{provide:uv,useFactory:function Qx(n){return n.routerState.root},deps:[Ca]},vM,[]];function yL(){return new a.PXZ("Router",Ca)}let rN=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[_L,[],{provide:hv,multi:!0,useValue:t},{provide:nN,useFactory:IL,deps:[[Ca,new a.FiY,new a.tp0]]},{provide:tb,useValue:r||{}},r?.useHash?{provide:Pe,useClass:Se}:{provide:Pe,useClass:Ye},{provide:wM,useFactory:()=>{const n=(0,a.f3M)(so),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(tb),r=(0,a.f3M)(eb),o=(0,a.f3M)(Pw);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Jx(o,r,n,e,t)}},r?.preloadingStrategy?gL(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:yL},r?.initialNavigation?TL(r):[],r?.bindToComponentInputs?bd(8,[xx,{provide:WC,useExisting:xx}]).\u0275providers:[],[{provide:iN,useFactory:Xx},{provide:a.tb,multi:!0,useExisting:iN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:hv,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(nN,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function IL(n){return"guarded"}function TL(n){return["disabled"===n.initialNavigation?bd(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Ca);return()=>{e.setUpLocationChangeListener()}}},{provide:IM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?bd(2,[{provide:IM,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(ke,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(Ca),l=e.get(eN);Wx(o,()=>{r(!0)}),e.get(eb).afterPreactivation=()=>(r(!0),l.closed?(0,wt.of)(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const iN=new a.OlP("");class oN{constructor(){this.persuasivoM=0,this.persuasivoL=0,this.gentilM=0,this.gentilL=0,this.humildeM=0,this.humildeL=0,this.originalM=0,this.originalL=0,this.fuerzavoluntadM=0,this.fuerzavoluntadL=0,this.menteabiertaM=0,this.menteabiertaL=0,this.complacienteM=0,this.complacienteL=0,this.animosoM=0,this.animosoL=0,this.obedienteM=0,this.obedienteL=0,this.quisquillosoM=0,this.quisquillosoL=0,this.inconquistableM=0,this.inconquistableL=0,this.juguetonM=0,this.juguetonL=0,this.aventureroM=0,this.aventureroL=0,this.receptivoM=0,this.receptivoL=0,this.cordialM=0,this.cordialL=0,this.moderadoM=0,this.moderadoL=0,this.agresivoM=0,this.agresivoL=0,this.almafiestaM=0,this.almafiestaL=0,this.comodinoM=0,this.comodinoL=0,this.temerosoM=0,this.temerosoL=0,this.confiadoM=0,this.confiadoL=0,this.simpatizadorM=0,this.simpatizadorL=0,this.toleranteM=0,this.toleranteL=0,this.afirmativoM=0,this.afirmativoL=0,this.respetuosoM=0,this.respetuosoL=0,this.emprendedorM=0,this.emprendedorL=0,this.optimistaM=0,this.optimistaL=0,this.servicialM=0,this.servicialL=0,this.indulgenteM=0,this.indulgenteL=0,this.estetaM=0,this.estetaL=0,this.vigorosoM=0,this.vigorosoL=0,this.sociableM=0,this.sociableL=0,this.agradableM=0,this.agradableL=0,this.temerosodiosM=0,this.temerosodiosL=0,this.tenazM=0,this.tenazL=0,this.atractivoM=0,this.atractivoL=0,this.ecuanimeM=0,this.ecuanimeL=0,this.precisoM=0,this.precisoL=0,this.nerviosoM=0,this.nerviosoL=0,this.jovialM=0,this.jovialL=0,this.valienteM=0,this.valienteL=0,this.inspiradorM=0,this.inspiradorL=0,this.sumisoM=0,this.sumisoL=0,this.timidoM=0,this.timidoL=0,this.parlanchinM=0,this.parlanchinL=0,this.controladoM=0,this.controladoL=0,this.convencionalM=0,this.convencionalL=0,this.decisivoM=0,this.decisivoL=0,this.cautelosoM=0,this.cautelosoL=0,this.determinadoM=0,this.determinadoL=0,this.convincenteM=0,this.convincenteL=0,this.bonachonM=0,this.bonachonL=0,this.disciplinadoM=0,this.disciplinadoL=0,this.generosoM=0,this.generosoL=0,this.ani_mosoM=0,this.ani_mosoL=0,this.persistenteM=0,this.persistenteL=0,this.adaptableM=0,this.adaptableL=0,this.disputadorM=0,this.disputadorL=0,this.indiferenteM=0,this.indiferenteL=0,this.sangrelivianaM=0,this.sangrelivianaL=0,this.cohibidoM=0,this.cohibidoL=0,this.exactoM=0,this.exactoL=0,this.francoM=0,this.francoL=0,this.buencompaneroM=0,this.buencompaneroL=0,this.docilM=0,this.docilL=0,this.atrevidoM=0,this.atrevidoL=0,this.lealM=0,this.lealL=0,this.encantadorM=0,this.encantadorL=0,this.competitivoM=0,this.competitivoL=0,this.alegreM=0,this.alegreL=0,this.consideradoM=0,this.consideradoL=0,this.armoniosoM=0,this.armoniosoL=0,this.amigueroM=0,this.amigueroL=0,this.pacienteM=0,this.pacienteL=0,this.confianzamismoM=0,this.confianzamismoL=0,this.mesuradohablarM=0,this.mesuradohablarL=0,this.diplomaticoM=0,this.diplomaticoL=0,this.audazM=0,this.audazL=0,this.refinadoM=0,this.refinadoL=0,this.satisfechoM=0,this.satisfechoL=0,this.dispuestoM=0,this.dispuestoL=0,this.deseosoM=0,this.deseosoL=0,this.consecuenteM=0,this.consecuenteL=0,this.entusiastaM=0,this.entusiastaL=0,this.admirableM=0,this.admirableL=0,this.bondadosoM=0,this.bondadosoL=0,this.resignadoM=0,this.resignadoL=0,this.caracterfirmeM=0,this.caracterfirmeL=0,this.conformeM=0,this.conformeL=0,this.confiableM=0,this.confiableL=0,this.pacificoM=0,this.pacificoL=0,this.positivoM=0,this.positivoL=0,this.inquietoM=0,this.inquietoL=0,this.popularM=0,this.popularL=0,this.buenvecinoM=0,this.buenvecinoL=0,this.devotoM=0,this.devotoL=0,this.facultad="fnt",this.periodo="2025",this.FinalT=0,this.FinalM=0,this.FinalL=0,this.FinalResult=0,this.Result=0,this.message=""}}let CL=(()=>{class n{constructor(t){this.db=t,this.dbPath="/tutorials",this.tutorialsRef=t.collection(this.dbPath)}getAll(){return this.tutorialsRef}getByProgram(t){return this.db.collection(this.dbPath,r=>r.where("programaInteres","==",t))}create(t){return this.tutorialsRef.add({...t})}update(t,r){return this.tutorialsRef.doc(t).update(r)}delete(t){return this.tutorialsRef.doc(t).delete()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(XS))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bL(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div")(1,"h5"),a._uU(2,"Ingresar apellido paterno, materno, nombre, el numero de folio y puesto "),a.qZA(),a.TgZ(3,"div",2)(4,"label",3),a._uU(5,"Apellido Paterno"),a.qZA(),a.TgZ(6,"input",4),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.appPaterno=o)}),a.qZA(),a.TgZ(7,"span",5)(8,"b"),a._uU(9),a.qZA()()(),a.TgZ(10,"div",2)(11,"label",3),a._uU(12,"Apellido Materno"),a.qZA(),a.TgZ(13,"input",4),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.appMaterno=o)}),a.qZA(),a.TgZ(14,"span",5)(15,"b"),a._uU(16),a.qZA()()(),a.TgZ(17,"div",2)(18,"label",3),a._uU(19,"Nombre"),a.qZA(),a.TgZ(20,"input",4),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.nombre=o)}),a.qZA(),a.TgZ(21,"span",5)(22,"b"),a._uU(23),a.qZA()()(),a.TgZ(24,"div",2)(25,"label",3),a._uU(26,"Matricula"),a.qZA(),a.TgZ(27,"input",6),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.facebook=o)}),a.qZA(),a.TgZ(28,"span",5)(29,"b"),a._uU(30),a.qZA()()(),a.TgZ(31,"div",2)(32,"label",3),a._uU(33,"Facultad "),a.qZA(),a.TgZ(34,"select",7),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.facultad=o)}),a.TgZ(35,"option",8),a._uU(36,"Facultad de Negocios y Teconologias, USBI Ixtac"),a.qZA(),a.TgZ(37,"option",9),a._uU(38,"Facultad de Ingenieria, USBI Ixtac"),a.qZA()(),a.TgZ(39,"span",5)(40,"b"),a._uU(41),a.qZA()()(),a.TgZ(42,"div",2)(43,"label",3),a._uU(44,"Carrera "),a.qZA(),a.TgZ(45,"select",10),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.programaInteres=o)}),a.TgZ(46,"option",11),a._uU(47,"LIC ING DE SOFTWARE"),a.qZA(),a.TgZ(48,"option",12),a._uU(49,"LIC CONTADURIA"),a.qZA(),a.TgZ(50,"option",13),a._uU(51,"LIC ADMINISTRACION"),a.qZA(),a.TgZ(52,"option",14),a._uU(53,"LIC GESTION Y DIRECCION DE NEGOCIOS"),a.qZA(),a.TgZ(54,"option",15),a._uU(55,"LIC TEC DE INFORMACION ORG"),a.qZA(),a.TgZ(56,"option",16),a._uU(57,"LIC CIENCIAS POLITICAS Y GESTION PUB."),a.qZA(),a.TgZ(58,"option",17),a._uU(59,"INGRESO A MDEIT "),a.qZA()(),a.TgZ(60,"span",5)(61,"b"),a._uU(62),a.qZA()()(),a.TgZ(63,"div",2)(64,"label",3),a._uU(65,"Periodo "),a.qZA(),a.TgZ(66,"select",18),a.NdJ("ngModelChange",function(o){a.CHM(t);const l=a.oxw();return a.KtG(l.tutorial.periodo=o)}),a.TgZ(67,"option",19),a._uU(68,"2024"),a.qZA(),a.TgZ(69,"option",20),a._uU(70,"2025"),a.qZA(),a.TgZ(71,"option",21),a._uU(72,"2026"),a.qZA(),a.TgZ(73,"option",22),a._uU(74,"2027"),a.qZA()(),a.TgZ(75,"span",5)(76,"b"),a._uU(77),a.qZA()()(),a.TgZ(78,"h5"),a._uU(79,' Encontraran cuatro palabras agrupadas, seleccionar de esas 4, \xfanicamente 2, la que "Mas" se parezca a uds. y la que "Menos" se parezca. '),a.qZA(),a._uU(80," Continuar con los grupos de 4 palabras hasta terminar el test. No dejar ninguna en blanco. "),a._UZ(81,"br")(82,"br"),a.TgZ(83,"div",2)(84,"label",23)(85,"h4"),a._uU(86,"GRUPO 1"),a.qZA()(),a.TgZ(87,"table")(88,"tr"),a._UZ(89,"td"),a.TgZ(90,"td")(91,"b"),a._uU(92,"M"),a.qZA(),a._uU(93,"ore"),a.qZA(),a.TgZ(94,"td")(95,"b"),a._uU(96,"L"),a.qZA(),a._uU(97,"ess"),a.qZA()(),a.TgZ(98,"tr")(99,"td"),a._uU(100,"PERSUASIVO"),a.qZA(),a.TgZ(101,"td")(102,"input",24),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(0))}),a.qZA()(),a.TgZ(103,"td")(104,"input",25),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(0))}),a.qZA()()(),a.TgZ(105,"tr")(106,"td"),a._uU(107,"GENTIL"),a.qZA(),a.TgZ(108,"td")(109,"input",26),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(1))}),a.qZA()(),a.TgZ(110,"td")(111,"input",27),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(1))}),a.qZA()()(),a.TgZ(112,"tr")(113,"td"),a._uU(114,"HUMILDE"),a.qZA(),a.TgZ(115,"td")(116,"input",28),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(2))}),a.qZA()(),a.TgZ(117,"td")(118,"input",29),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(2))}),a.qZA()()(),a.TgZ(119,"tr")(120,"td"),a._uU(121,"ORIGINAL"),a.qZA(),a.TgZ(122,"td")(123,"input",30),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM1(3))}),a.qZA()(),a.TgZ(124,"td")(125,"input",31),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL1(3))}),a.qZA()(),a.TgZ(126,"span",5)(127,"b"),a._uU(128),a.qZA()()()()(),a.TgZ(129,"div",2)(130,"label",23)(131,"h4"),a._uU(132,"GRUPO 2"),a.qZA()(),a.TgZ(133,"table")(134,"tr"),a._UZ(135,"td"),a.TgZ(136,"td")(137,"b"),a._uU(138,"M"),a.qZA(),a._uU(139,"ore"),a.qZA(),a.TgZ(140,"td")(141,"b"),a._uU(142,"L"),a.qZA(),a._uU(143,"ess"),a.qZA()(),a.TgZ(144,"tr")(145,"td"),a._uU(146,"FUERZA DE VOLUNTAD"),a.qZA(),a.TgZ(147,"td")(148,"input",32),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(0))}),a.qZA()(),a.TgZ(149,"td")(150,"input",33),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(0))}),a.qZA()()(),a.TgZ(151,"tr")(152,"td"),a._uU(153,"MENTE ABIERTA"),a.qZA(),a.TgZ(154,"td")(155,"input",34),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(1))}),a.qZA()(),a.TgZ(156,"td")(157,"input",35),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(1))}),a.qZA()()(),a.TgZ(158,"tr")(159,"td"),a._uU(160,"COMPLACIENTE"),a.qZA(),a.TgZ(161,"td")(162,"input",36),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(2))}),a.qZA()(),a.TgZ(163,"td")(164,"input",37),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(2))}),a.qZA()()(),a.TgZ(165,"tr")(166,"td"),a._uU(167,"ANIMOSO"),a.qZA(),a.TgZ(168,"td")(169,"input",38),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM2(3))}),a.qZA()(),a.TgZ(170,"td")(171,"input",39),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL2(3))}),a.qZA()(),a.TgZ(172,"span",5)(173,"b"),a._uU(174),a.qZA()()()()(),a.TgZ(175,"div",2)(176,"label",23)(177,"h4"),a._uU(178,"GRUPO 3"),a.qZA()(),a.TgZ(179,"table")(180,"tr"),a._UZ(181,"td"),a.TgZ(182,"td")(183,"b"),a._uU(184,"M"),a.qZA(),a._uU(185,"ore"),a.qZA(),a.TgZ(186,"td")(187,"b"),a._uU(188,"L"),a.qZA(),a._uU(189,"ess"),a.qZA()(),a.TgZ(190,"tr")(191,"td"),a._uU(192,"OBEDIENTE"),a.qZA(),a.TgZ(193,"td")(194,"input",40),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(0))}),a.qZA()(),a.TgZ(195,"td")(196,"input",41),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(0))}),a.qZA()()(),a.TgZ(197,"tr")(198,"td"),a._uU(199,"QUISQUILLOSO"),a.qZA(),a.TgZ(200,"td")(201,"input",42),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(1))}),a.qZA()(),a.TgZ(202,"td")(203,"input",43),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(1))}),a.qZA()()(),a.TgZ(204,"tr")(205,"td"),a._uU(206,"INCONQUISTABLE"),a.qZA(),a.TgZ(207,"td")(208,"input",44),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(2))}),a.qZA()(),a.TgZ(209,"td")(210,"input",45),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(2))}),a.qZA()()(),a.TgZ(211,"tr")(212,"td"),a._uU(213,"JUGUETON"),a.qZA(),a.TgZ(214,"td")(215,"input",46),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM3(3))}),a.qZA()(),a.TgZ(216,"td")(217,"input",47),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL3(3))}),a.qZA()(),a.TgZ(218,"span",5)(219,"b"),a._uU(220),a.qZA()()()()(),a.TgZ(221,"div",2)(222,"label",23)(223,"h4"),a._uU(224,"GRUPO 4"),a.qZA()(),a.TgZ(225,"table")(226,"tr"),a._UZ(227,"td"),a.TgZ(228,"td")(229,"b"),a._uU(230,"M"),a.qZA(),a._uU(231,"ore"),a.qZA(),a.TgZ(232,"td")(233,"b"),a._uU(234,"L"),a.qZA(),a._uU(235,"ess"),a.qZA()(),a.TgZ(236,"tr")(237,"td"),a._uU(238,"AVENTURERO"),a.qZA(),a.TgZ(239,"td")(240,"input",48),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(0))}),a.qZA()(),a.TgZ(241,"td")(242,"input",49),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(0))}),a.qZA()()(),a.TgZ(243,"tr")(244,"td"),a._uU(245,"RECEPTIVO"),a.qZA(),a.TgZ(246,"td")(247,"input",50),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(1))}),a.qZA()(),a.TgZ(248,"td")(249,"input",51),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(1))}),a.qZA()()(),a.TgZ(250,"tr")(251,"td"),a._uU(252,"CORDIAL"),a.qZA(),a.TgZ(253,"td")(254,"input",52),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(2))}),a.qZA()(),a.TgZ(255,"td")(256,"input",53),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(2))}),a.qZA()()(),a.TgZ(257,"tr")(258,"td"),a._uU(259,"MODERADO"),a.qZA(),a.TgZ(260,"td")(261,"input",54),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM4(3))}),a.qZA()(),a.TgZ(262,"td")(263,"input",55),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL4(3))}),a.qZA()(),a.TgZ(264,"span",5)(265,"b"),a._uU(266),a.qZA()()()()(),a.TgZ(267,"div",2)(268,"label",23)(269,"h4"),a._uU(270,"Grupo 5"),a.qZA()(),a.TgZ(271,"table")(272,"tr"),a._UZ(273,"td"),a.TgZ(274,"td")(275,"b"),a._uU(276,"M"),a.qZA(),a._uU(277,"ore"),a.qZA(),a.TgZ(278,"td")(279,"b"),a._uU(280,"L"),a.qZA(),a._uU(281,"ess"),a.qZA()(),a.TgZ(282,"tr")(283,"td"),a._uU(284,"AGRESIVO"),a.qZA(),a.TgZ(285,"td")(286,"input",56),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(0))}),a.qZA()(),a.TgZ(287,"td")(288,"input",57),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(0))}),a.qZA()()(),a.TgZ(289,"tr")(290,"td"),a._uU(291,"ALMA DE LA FIESTA"),a.qZA(),a.TgZ(292,"td")(293,"input",58),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(1))}),a.qZA()(),a.TgZ(294,"td")(295,"input",59),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(1))}),a.qZA()()(),a.TgZ(296,"tr")(297,"td"),a._uU(298,"COMODINO"),a.qZA(),a.TgZ(299,"td")(300,"input",60),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(2))}),a.qZA()(),a.TgZ(301,"td")(302,"input",61),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(2))}),a.qZA()()(),a.TgZ(303,"tr")(304,"td"),a._uU(305,"TEMEROSO"),a.qZA(),a.TgZ(306,"td")(307,"input",62),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM5(3))}),a.qZA()(),a.TgZ(308,"td")(309,"input",63),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL5(3))}),a.qZA()(),a.TgZ(310,"span",5)(311,"b"),a._uU(312),a.qZA()()()()(),a.TgZ(313,"div",2)(314,"label",23)(315,"h4"),a._uU(316,"Grupo 6"),a.qZA()(),a.TgZ(317,"table")(318,"tr"),a._UZ(319,"td"),a.TgZ(320,"td")(321,"b"),a._uU(322,"M"),a.qZA(),a._uU(323,"ore"),a.qZA(),a.TgZ(324,"td")(325,"b"),a._uU(326,"L"),a.qZA(),a._uU(327,"ess"),a.qZA()(),a.TgZ(328,"tr")(329,"td"),a._uU(330,"CONFIADO"),a.qZA(),a.TgZ(331,"td")(332,"input",64),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(0))}),a.qZA()(),a.TgZ(333,"td")(334,"input",65),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(0))}),a.qZA()()(),a.TgZ(335,"tr")(336,"td"),a._uU(337,"SIMPATIZADOR"),a.qZA(),a.TgZ(338,"td")(339,"input",66),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(1))}),a.qZA()(),a.TgZ(340,"td")(341,"input",67),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(1))}),a.qZA()()(),a.TgZ(342,"tr")(343,"td"),a._uU(344,"TOLERANTE"),a.qZA(),a.TgZ(345,"td")(346,"input",68),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(2))}),a.qZA()(),a.TgZ(347,"td")(348,"input",69),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(2))}),a.qZA()()(),a.TgZ(349,"tr")(350,"td"),a._uU(351,"AFIRMATIVO"),a.qZA(),a.TgZ(352,"td")(353,"input",70),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM6(3))}),a.qZA()(),a.TgZ(354,"td")(355,"input",71),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL6(3))}),a.qZA()(),a.TgZ(356,"span",5)(357,"b"),a._uU(358),a.qZA()()()()(),a.TgZ(359,"div",2)(360,"label",23)(361,"h4"),a._uU(362,"Grupo 7"),a.qZA()(),a.TgZ(363,"table")(364,"tr"),a._UZ(365,"td"),a.TgZ(366,"td")(367,"b"),a._uU(368,"M"),a.qZA(),a._uU(369,"ore"),a.qZA(),a.TgZ(370,"td")(371,"b"),a._uU(372,"L"),a.qZA(),a._uU(373,"ess"),a.qZA()(),a.TgZ(374,"tr")(375,"td"),a._uU(376,"RESPETUOSO"),a.qZA(),a.TgZ(377,"td")(378,"input",72),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(0))}),a.qZA()(),a.TgZ(379,"td")(380,"input",73),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(0))}),a.qZA()()(),a.TgZ(381,"tr")(382,"td"),a._uU(383,"EMPRENDEDOR"),a.qZA(),a.TgZ(384,"td")(385,"input",74),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(1))}),a.qZA()(),a.TgZ(386,"td")(387,"input",75),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(1))}),a.qZA()()(),a.TgZ(388,"tr")(389,"td"),a._uU(390,"OPTIMISTA"),a.qZA(),a.TgZ(391,"td")(392,"input",76),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(2))}),a.qZA()(),a.TgZ(393,"td")(394,"input",77),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(2))}),a.qZA()()(),a.TgZ(395,"tr")(396,"td"),a._uU(397,"SERVICIAL"),a.qZA(),a.TgZ(398,"td")(399,"input",78),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM7(3))}),a.qZA()(),a.TgZ(400,"td")(401,"input",79),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL7(3))}),a.qZA()(),a.TgZ(402,"span",5)(403,"b"),a._uU(404),a.qZA()()()()(),a.TgZ(405,"div",2)(406,"label",23)(407,"h4"),a._uU(408,"Grupo 8"),a.qZA()(),a.TgZ(409,"table")(410,"tr"),a._UZ(411,"td"),a.TgZ(412,"td")(413,"b"),a._uU(414,"M"),a.qZA(),a._uU(415,"ore"),a.qZA(),a.TgZ(416,"td")(417,"b"),a._uU(418,"L"),a.qZA(),a._uU(419,"ess"),a.qZA()(),a.TgZ(420,"tr")(421,"td"),a._uU(422,"INDULGENTE"),a.qZA(),a.TgZ(423,"td")(424,"input",80),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(0))}),a.qZA()(),a.TgZ(425,"td")(426,"input",81),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(0))}),a.qZA()()(),a.TgZ(427,"tr")(428,"td"),a._uU(429,"ESTETA"),a.qZA(),a.TgZ(430,"td")(431,"input",82),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(1))}),a.qZA()(),a.TgZ(432,"td")(433,"input",83),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(1))}),a.qZA()()(),a.TgZ(434,"tr")(435,"td"),a._uU(436,"VIGOROSO"),a.qZA(),a.TgZ(437,"td")(438,"input",84),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(2))}),a.qZA()(),a.TgZ(439,"td")(440,"input",85),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(2))}),a.qZA()()(),a.TgZ(441,"tr")(442,"td"),a._uU(443,"SOCIABLE"),a.qZA(),a.TgZ(444,"td")(445,"input",86),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM8(3))}),a.qZA()(),a.TgZ(446,"td")(447,"input",87),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL8(3))}),a.qZA()(),a.TgZ(448,"span",5)(449,"b"),a._uU(450),a.qZA()()()()(),a.TgZ(451,"div",2)(452,"label",23)(453,"h4"),a._uU(454,"Grupo 9"),a.qZA()(),a.TgZ(455,"table")(456,"tr"),a._UZ(457,"td"),a.TgZ(458,"td")(459,"b"),a._uU(460,"M"),a.qZA(),a._uU(461,"ore"),a.qZA(),a.TgZ(462,"td")(463,"b"),a._uU(464,"L"),a.qZA(),a._uU(465,"ess"),a.qZA()(),a.TgZ(466,"tr")(467,"td"),a._uU(468,"AGRADABLE"),a.qZA(),a.TgZ(469,"td")(470,"input",88),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(0))}),a.qZA()(),a.TgZ(471,"td")(472,"input",89),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(0))}),a.qZA()()(),a.TgZ(473,"tr")(474,"td"),a._uU(475,"TEMEROSO DE DIOS"),a.qZA(),a.TgZ(476,"td")(477,"input",90),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(1))}),a.qZA()(),a.TgZ(478,"td")(479,"input",91),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(1))}),a.qZA()()(),a.TgZ(480,"tr")(481,"td"),a._uU(482,"TENAZ"),a.qZA(),a.TgZ(483,"td")(484,"input",92),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(2))}),a.qZA()(),a.TgZ(485,"td")(486,"input",93),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(2))}),a.qZA()()(),a.TgZ(487,"tr")(488,"td"),a._uU(489,"ATRACTIVO"),a.qZA(),a.TgZ(490,"td")(491,"input",94),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM9(3))}),a.qZA()(),a.TgZ(492,"td")(493,"input",95),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL9(3))}),a.qZA()(),a.TgZ(494,"span",5)(495,"b"),a._uU(496),a.qZA()()()()(),a.TgZ(497,"div",2)(498,"label",23)(499,"h4"),a._uU(500,"Grupo 10"),a.qZA()(),a.TgZ(501,"table")(502,"tr"),a._UZ(503,"td"),a.TgZ(504,"td")(505,"b"),a._uU(506,"M"),a.qZA(),a._uU(507,"ore"),a.qZA(),a.TgZ(508,"td")(509,"b"),a._uU(510,"L"),a.qZA(),a._uU(511,"ess"),a.qZA()(),a.TgZ(512,"tr")(513,"td"),a._uU(514,"ECUANIME"),a.qZA(),a.TgZ(515,"td")(516,"input",96),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(0))}),a.qZA()(),a.TgZ(517,"td")(518,"input",97),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(0))}),a.qZA()()(),a.TgZ(519,"tr")(520,"td"),a._uU(521,"PRECISO"),a.qZA(),a.TgZ(522,"td")(523,"input",98),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(1))}),a.qZA()(),a.TgZ(524,"td")(525,"input",99),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(1))}),a.qZA()()(),a.TgZ(526,"tr")(527,"td"),a._uU(528,"NERVIOSO"),a.qZA(),a.TgZ(529,"td")(530,"input",100),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(2))}),a.qZA()(),a.TgZ(531,"td")(532,"input",101),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(2))}),a.qZA()()(),a.TgZ(533,"tr")(534,"td"),a._uU(535,"JOVIAL"),a.qZA(),a.TgZ(536,"td")(537,"input",102),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM10(3))}),a.qZA()(),a.TgZ(538,"td")(539,"input",103),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL10(3))}),a.qZA()(),a.TgZ(540,"span",5)(541,"b"),a._uU(542),a.qZA()()()()(),a.TgZ(543,"div",2)(544,"label",23)(545,"h4"),a._uU(546,"Grupo 11"),a.qZA()(),a.TgZ(547,"table")(548,"tr"),a._UZ(549,"td"),a.TgZ(550,"td")(551,"b"),a._uU(552,"M"),a.qZA(),a._uU(553,"ore"),a.qZA(),a.TgZ(554,"td")(555,"b"),a._uU(556,"L"),a.qZA(),a._uU(557,"ess"),a.qZA()(),a.TgZ(558,"tr")(559,"td"),a._uU(560,"VALIENTE"),a.qZA(),a.TgZ(561,"td")(562,"input",104),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(0))}),a.qZA()(),a.TgZ(563,"td")(564,"input",105),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(0))}),a.qZA()()(),a.TgZ(565,"tr")(566,"td"),a._uU(567,"INSPIRADOR"),a.qZA(),a.TgZ(568,"td")(569,"input",106),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(1))}),a.qZA()(),a.TgZ(570,"td")(571,"input",107),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(1))}),a.qZA()()(),a.TgZ(572,"tr")(573,"td"),a._uU(574,"SUMISO"),a.qZA(),a.TgZ(575,"td")(576,"input",108),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(2))}),a.qZA()(),a.TgZ(577,"td")(578,"input",109),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(2))}),a.qZA()()(),a.TgZ(579,"tr")(580,"td"),a._uU(581,"TIMIDO"),a.qZA(),a.TgZ(582,"td")(583,"input",110),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM11(3))}),a.qZA()(),a.TgZ(584,"td")(585,"input",111),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL11(3))}),a.qZA()(),a.TgZ(586,"span",5)(587,"b"),a._uU(588),a.qZA()()()()(),a.TgZ(589,"div",2)(590,"label",23)(591,"h4"),a._uU(592,"Grupo 12"),a.qZA()(),a.TgZ(593,"table")(594,"tr"),a._UZ(595,"td"),a.TgZ(596,"td")(597,"b"),a._uU(598,"M"),a.qZA(),a._uU(599,"ore"),a.qZA(),a.TgZ(600,"td")(601,"b"),a._uU(602,"L"),a.qZA(),a._uU(603,"ess"),a.qZA()(),a.TgZ(604,"tr")(605,"td"),a._uU(606,"PARLANCHIN"),a.qZA(),a.TgZ(607,"td")(608,"input",112),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(0))}),a.qZA()(),a.TgZ(609,"td")(610,"input",113),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(0))}),a.qZA()()(),a.TgZ(611,"tr")(612,"td"),a._uU(613,"CONTROLADO"),a.qZA(),a.TgZ(614,"td")(615,"input",114),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(1))}),a.qZA()(),a.TgZ(616,"td")(617,"input",115),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(1))}),a.qZA()()(),a.TgZ(618,"tr")(619,"td"),a._uU(620,"CONVENCIONAL"),a.qZA(),a.TgZ(621,"td")(622,"input",116),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(2))}),a.qZA()(),a.TgZ(623,"td")(624,"input",117),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(2))}),a.qZA()()(),a.TgZ(625,"tr")(626,"td"),a._uU(627,"DECISIVO"),a.qZA(),a.TgZ(628,"td")(629,"input",118),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM12(3))}),a.qZA()(),a.TgZ(630,"td")(631,"input",119),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL12(3))}),a.qZA()(),a.TgZ(632,"span",5)(633,"b"),a._uU(634),a.qZA()()()()(),a.TgZ(635,"div",2)(636,"label",23)(637,"h4"),a._uU(638,"Grupo 13"),a.qZA()(),a.TgZ(639,"table")(640,"tr"),a._UZ(641,"td"),a.TgZ(642,"td")(643,"b"),a._uU(644,"M"),a.qZA(),a._uU(645,"ore"),a.qZA(),a.TgZ(646,"td")(647,"b"),a._uU(648,"L"),a.qZA(),a._uU(649,"ess"),a.qZA()(),a.TgZ(650,"tr")(651,"td"),a._uU(652,"CAUTELOSO"),a.qZA(),a.TgZ(653,"td")(654,"input",120),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(0))}),a.qZA()(),a.TgZ(655,"td")(656,"input",121),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(0))}),a.qZA()()(),a.TgZ(657,"tr")(658,"td"),a._uU(659,"DETERMINADO"),a.qZA(),a.TgZ(660,"td")(661,"input",122),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(1))}),a.qZA()(),a.TgZ(662,"td")(663,"input",123),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(1))}),a.qZA()()(),a.TgZ(664,"tr")(665,"td"),a._uU(666,"CONVINCENTE"),a.qZA(),a.TgZ(667,"td")(668,"input",124),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(2))}),a.qZA()(),a.TgZ(669,"td")(670,"input",125),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(2))}),a.qZA()()(),a.TgZ(671,"tr")(672,"td"),a._uU(673,"BONACHON"),a.qZA(),a.TgZ(674,"td")(675,"input",126),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM13(3))}),a.qZA()(),a.TgZ(676,"td")(677,"input",127),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL13(3))}),a.qZA()(),a.TgZ(678,"span",5)(679,"b"),a._uU(680),a.qZA()()()()(),a.TgZ(681,"div",2)(682,"label",23)(683,"h4"),a._uU(684,"Grupo 14"),a.qZA()(),a.TgZ(685,"table")(686,"tr"),a._UZ(687,"td"),a.TgZ(688,"td")(689,"b"),a._uU(690,"M"),a.qZA(),a._uU(691,"ore"),a.qZA(),a.TgZ(692,"td")(693,"b"),a._uU(694,"L"),a.qZA(),a._uU(695,"ess"),a.qZA()(),a.TgZ(696,"tr")(697,"td"),a._uU(698,"DISCIPLINADO"),a.qZA(),a.TgZ(699,"td")(700,"input",128),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(0))}),a.qZA()(),a.TgZ(701,"td")(702,"input",129),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(0))}),a.qZA()()(),a.TgZ(703,"tr")(704,"td"),a._uU(705,"GENEROSO"),a.qZA(),a.TgZ(706,"td")(707,"input",130),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(1))}),a.qZA()(),a.TgZ(708,"td")(709,"input",131),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(1))}),a.qZA()()(),a.TgZ(710,"tr")(711,"td"),a._uU(712,"ANIMOSO"),a.qZA(),a.TgZ(713,"td")(714,"input",132),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(2))}),a.qZA()(),a.TgZ(715,"td")(716,"input",133),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(2))}),a.qZA()()(),a.TgZ(717,"tr")(718,"td"),a._uU(719,"PERSISTENTE"),a.qZA(),a.TgZ(720,"td")(721,"input",134),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM14(3))}),a.qZA()(),a.TgZ(722,"td")(723,"input",135),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL14(3))}),a.qZA()(),a.TgZ(724,"span",5)(725,"b"),a._uU(726),a.qZA()()()()(),a.TgZ(727,"div",2)(728,"label",23)(729,"h4"),a._uU(730,"Grupo 15"),a.qZA()(),a.TgZ(731,"table")(732,"tr"),a._UZ(733,"td"),a.TgZ(734,"td")(735,"b"),a._uU(736,"M"),a.qZA(),a._uU(737,"ore"),a.qZA(),a.TgZ(738,"td")(739,"b"),a._uU(740,"L"),a.qZA(),a._uU(741,"ess"),a.qZA()(),a.TgZ(742,"tr")(743,"td"),a._uU(744,"ADAPTABLE"),a.qZA(),a.TgZ(745,"td")(746,"input",136),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(0))}),a.qZA()(),a.TgZ(747,"td")(748,"input",137),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(0))}),a.qZA()()(),a.TgZ(749,"tr")(750,"td"),a._uU(751,"DISPUTADOR"),a.qZA(),a.TgZ(752,"td")(753,"input",138),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(1))}),a.qZA()(),a.TgZ(754,"td")(755,"input",139),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(1))}),a.qZA()()(),a.TgZ(756,"tr")(757,"td"),a._uU(758,"INDIFERENTE"),a.qZA(),a.TgZ(759,"td")(760,"input",140),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(2))}),a.qZA()(),a.TgZ(761,"td")(762,"input",141),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(2))}),a.qZA()()(),a.TgZ(763,"tr")(764,"td"),a._uU(765,"SANGRE LIVIANA"),a.qZA(),a.TgZ(766,"td")(767,"input",142),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM15(3))}),a.qZA()(),a.TgZ(768,"td")(769,"input",143),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL15(3))}),a.qZA()(),a.TgZ(770,"span",5)(771,"b"),a._uU(772),a.qZA()()()()(),a.TgZ(773,"div",2)(774,"label",23)(775,"h4"),a._uU(776,"Grupo 16"),a.qZA()(),a.TgZ(777,"table")(778,"tr"),a._UZ(779,"td"),a.TgZ(780,"td")(781,"b"),a._uU(782,"M"),a.qZA(),a._uU(783,"ore"),a.qZA(),a.TgZ(784,"td")(785,"b"),a._uU(786,"L"),a.qZA(),a._uU(787,"ess"),a.qZA()(),a.TgZ(788,"tr")(789,"td"),a._uU(790,"COHIBIDO"),a.qZA(),a.TgZ(791,"td")(792,"input",144),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(0))}),a.qZA()(),a.TgZ(793,"td")(794,"input",145),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(0))}),a.qZA()()(),a.TgZ(795,"tr")(796,"td"),a._uU(797,"EXACTO"),a.qZA(),a.TgZ(798,"td")(799,"input",146),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(1))}),a.qZA()(),a.TgZ(800,"td")(801,"input",147),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(1))}),a.qZA()()(),a.TgZ(802,"tr")(803,"td"),a._uU(804,"FRANCO"),a.qZA(),a.TgZ(805,"td")(806,"input",148),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(2))}),a.qZA()(),a.TgZ(807,"td")(808,"input",149),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(2))}),a.qZA()()(),a.TgZ(809,"tr")(810,"td"),a._uU(811,"BUEN COMPANERO"),a.qZA(),a.TgZ(812,"td")(813,"input",150),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM16(3))}),a.qZA()(),a.TgZ(814,"td")(815,"input",151),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL16(3))}),a.qZA()(),a.TgZ(816,"span",5)(817,"b"),a._uU(818),a.qZA()()()()(),a.TgZ(819,"div",2)(820,"label",23)(821,"h4"),a._uU(822,"Grupo 17"),a.qZA()(),a.TgZ(823,"table")(824,"tr"),a._UZ(825,"td"),a.TgZ(826,"td")(827,"b"),a._uU(828,"M"),a.qZA(),a._uU(829,"ore"),a.qZA(),a.TgZ(830,"td")(831,"b"),a._uU(832,"L"),a.qZA(),a._uU(833,"ess"),a.qZA()(),a.TgZ(834,"tr")(835,"td"),a._uU(836,"DOCIL"),a.qZA(),a.TgZ(837,"td")(838,"input",152),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(0))}),a.qZA()(),a.TgZ(839,"td")(840,"input",153),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(0))}),a.qZA()()(),a.TgZ(841,"tr")(842,"td"),a._uU(843,"ATREVIDO"),a.qZA(),a.TgZ(844,"td")(845,"input",154),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(1))}),a.qZA()(),a.TgZ(846,"td")(847,"input",155),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(1))}),a.qZA()()(),a.TgZ(848,"tr")(849,"td"),a._uU(850,"LEAL"),a.qZA(),a.TgZ(851,"td")(852,"input",156),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(2))}),a.qZA()(),a.TgZ(853,"td")(854,"input",157),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(2))}),a.qZA()()(),a.TgZ(855,"tr")(856,"td"),a._uU(857,"ENCANTADOR"),a.qZA(),a.TgZ(858,"td")(859,"input",158),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM17(3))}),a.qZA()(),a.TgZ(860,"td")(861,"input",159),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL17(3))}),a.qZA()(),a.TgZ(862,"span",5)(863,"b"),a._uU(864),a.qZA()()()()(),a.TgZ(865,"div",2)(866,"label",23)(867,"h4"),a._uU(868,"Grupo 18"),a.qZA()(),a.TgZ(869,"table")(870,"tr"),a._UZ(871,"td"),a.TgZ(872,"td")(873,"b"),a._uU(874,"M"),a.qZA(),a._uU(875,"ore"),a.qZA(),a.TgZ(876,"td")(877,"b"),a._uU(878,"L"),a.qZA(),a._uU(879,"ess"),a.qZA()(),a.TgZ(880,"tr")(881,"td"),a._uU(882,"COMPETITIVO"),a.qZA(),a.TgZ(883,"td")(884,"input",160),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(0))}),a.qZA()(),a.TgZ(885,"td")(886,"input",161),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(0))}),a.qZA()()(),a.TgZ(887,"tr")(888,"td"),a._uU(889,"ALEGRE"),a.qZA(),a.TgZ(890,"td")(891,"input",162),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(1))}),a.qZA()(),a.TgZ(892,"td")(893,"input",163),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(1))}),a.qZA()()(),a.TgZ(894,"tr")(895,"td"),a._uU(896,"CONSIDERADO"),a.qZA(),a.TgZ(897,"td")(898,"input",164),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(2))}),a.qZA()(),a.TgZ(899,"td")(900,"input",165),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(2))}),a.qZA()()(),a.TgZ(901,"tr")(902,"td"),a._uU(903,"ARMONIOSO"),a.qZA(),a.TgZ(904,"td")(905,"input",166),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM18(3))}),a.qZA()(),a.TgZ(906,"td")(907,"input",167),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL18(3))}),a.qZA()(),a.TgZ(908,"span",5)(909,"b"),a._uU(910),a.qZA()()()()(),a.TgZ(911,"div",2)(912,"label",23)(913,"h4"),a._uU(914,"Grupo 19"),a.qZA()(),a.TgZ(915,"table")(916,"tr"),a._UZ(917,"td"),a.TgZ(918,"td")(919,"b"),a._uU(920,"M"),a.qZA(),a._uU(921,"ore"),a.qZA(),a.TgZ(922,"td")(923,"b"),a._uU(924,"L"),a.qZA(),a._uU(925,"ess"),a.qZA()(),a.TgZ(926,"tr")(927,"td"),a._uU(928,"AMIGUERO"),a.qZA(),a.TgZ(929,"td")(930,"input",168),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(0))}),a.qZA()(),a.TgZ(931,"td")(932,"input",169),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(0))}),a.qZA()()(),a.TgZ(933,"tr")(934,"td"),a._uU(935,"PACIENTE"),a.qZA(),a.TgZ(936,"td")(937,"input",170),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(1))}),a.qZA()(),a.TgZ(938,"td")(939,"input",171),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(1))}),a.qZA()()(),a.TgZ(940,"tr")(941,"td"),a._uU(942,"CONFIANZA EN SI MISMO"),a.qZA(),a.TgZ(943,"td")(944,"input",172),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(2))}),a.qZA()(),a.TgZ(945,"td")(946,"input",173),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(2))}),a.qZA()()(),a.TgZ(947,"tr")(948,"td"),a._uU(949,"MESURADO PARA HABLAR"),a.qZA(),a.TgZ(950,"td")(951,"input",174),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM19(3))}),a.qZA()(),a.TgZ(952,"td")(953,"input",175),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL19(3))}),a.qZA()(),a.TgZ(954,"span",5)(955,"b"),a._uU(956),a.qZA()()()()(),a.TgZ(957,"div",2)(958,"label",23)(959,"h4"),a._uU(960,"Grupo 20"),a.qZA()(),a.TgZ(961,"table")(962,"tr"),a._UZ(963,"td"),a.TgZ(964,"td")(965,"b"),a._uU(966,"M"),a.qZA(),a._uU(967,"ore"),a.qZA(),a.TgZ(968,"td")(969,"b"),a._uU(970,"L"),a.qZA(),a._uU(971,"ess"),a.qZA()(),a.TgZ(972,"tr")(973,"td"),a._uU(974,"DIPLOMATICO"),a.qZA(),a.TgZ(975,"td")(976,"input",176),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(0))}),a.qZA()(),a.TgZ(977,"td")(978,"input",177),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(0))}),a.qZA()()(),a.TgZ(979,"tr")(980,"td"),a._uU(981,"AUDAZ"),a.qZA(),a.TgZ(982,"td")(983,"input",178),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(1))}),a.qZA()(),a.TgZ(984,"td")(985,"input",179),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(1))}),a.qZA()()(),a.TgZ(986,"tr")(987,"td"),a._uU(988,"REFINADO"),a.qZA(),a.TgZ(989,"td")(990,"input",180),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(2))}),a.qZA()(),a.TgZ(991,"td")(992,"input",181),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(2))}),a.qZA()()(),a.TgZ(993,"tr")(994,"td"),a._uU(995,"SATISFECHO"),a.qZA(),a.TgZ(996,"td")(997,"input",182),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM20(3))}),a.qZA()(),a.TgZ(998,"td")(999,"input",183),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL20(3))}),a.qZA()(),a.TgZ(1e3,"span",5)(1001,"b"),a._uU(1002),a.qZA()()()()(),a.TgZ(1003,"div",2)(1004,"label",23)(1005,"h4"),a._uU(1006,"Grupo 21"),a.qZA()(),a.TgZ(1007,"table")(1008,"tr"),a._UZ(1009,"td"),a.TgZ(1010,"td")(1011,"b"),a._uU(1012,"M"),a.qZA(),a._uU(1013,"ore"),a.qZA(),a.TgZ(1014,"td")(1015,"b"),a._uU(1016,"L"),a.qZA(),a._uU(1017,"ess"),a.qZA()(),a.TgZ(1018,"tr")(1019,"td"),a._uU(1020,"DISPUESTO"),a.qZA(),a.TgZ(1021,"td")(1022,"input",184),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(0))}),a.qZA()(),a.TgZ(1023,"td")(1024,"input",185),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(0))}),a.qZA()()(),a.TgZ(1025,"tr")(1026,"td"),a._uU(1027,"DESEOSO"),a.qZA(),a.TgZ(1028,"td")(1029,"input",186),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(1))}),a.qZA()(),a.TgZ(1030,"td")(1031,"input",187),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(1))}),a.qZA()()(),a.TgZ(1032,"tr")(1033,"td"),a._uU(1034,"CONSECUENTE"),a.qZA(),a.TgZ(1035,"td")(1036,"input",188),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(2))}),a.qZA()(),a.TgZ(1037,"td")(1038,"input",189),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(2))}),a.qZA()()(),a.TgZ(1039,"tr")(1040,"td"),a._uU(1041,"ENTUSIASTA"),a.qZA(),a.TgZ(1042,"td")(1043,"input",190),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM21(3))}),a.qZA()(),a.TgZ(1044,"td")(1045,"input",191),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL21(3))}),a.qZA()(),a.TgZ(1046,"span",5)(1047,"b"),a._uU(1048),a.qZA()()()()(),a.TgZ(1049,"div",2)(1050,"label",23)(1051,"h4"),a._uU(1052,"Grupo 22"),a.qZA()(),a.TgZ(1053,"table")(1054,"tr"),a._UZ(1055,"td"),a.TgZ(1056,"td")(1057,"b"),a._uU(1058,"M"),a.qZA(),a._uU(1059,"ore"),a.qZA(),a.TgZ(1060,"td")(1061,"b"),a._uU(1062,"L"),a.qZA(),a._uU(1063,"ess"),a.qZA()(),a.TgZ(1064,"tr")(1065,"td"),a._uU(1066,"ADMIRABLE"),a.qZA(),a.TgZ(1067,"td")(1068,"input",192),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(0))}),a.qZA()(),a.TgZ(1069,"td")(1070,"input",193),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(0))}),a.qZA()()(),a.TgZ(1071,"tr")(1072,"td"),a._uU(1073,"BONDADOSO"),a.qZA(),a.TgZ(1074,"td")(1075,"input",194),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(1))}),a.qZA()(),a.TgZ(1076,"td")(1077,"input",195),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(1))}),a.qZA()()(),a.TgZ(1078,"tr")(1079,"td"),a._uU(1080,"RESIGNADO"),a.qZA(),a.TgZ(1081,"td")(1082,"input",196),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(2))}),a.qZA()(),a.TgZ(1083,"td")(1084,"input",197),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(2))}),a.qZA()()(),a.TgZ(1085,"tr")(1086,"td"),a._uU(1087,"CARACTER FIRME"),a.qZA(),a.TgZ(1088,"td")(1089,"input",198),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM22(3))}),a.qZA()(),a.TgZ(1090,"td")(1091,"input",199),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL22(3))}),a.qZA()(),a.TgZ(1092,"span",5)(1093,"b"),a._uU(1094),a.qZA()()()()(),a.TgZ(1095,"div",2)(1096,"label",23)(1097,"h4"),a._uU(1098,"Grupo 23"),a.qZA()(),a.TgZ(1099,"table")(1100,"tr"),a._UZ(1101,"td"),a.TgZ(1102,"td")(1103,"b"),a._uU(1104,"M"),a.qZA(),a._uU(1105,"ore"),a.qZA(),a.TgZ(1106,"td")(1107,"b"),a._uU(1108,"L"),a.qZA(),a._uU(1109,"ess"),a.qZA()(),a.TgZ(1110,"tr")(1111,"td"),a._uU(1112,"CONFORME"),a.qZA(),a.TgZ(1113,"td")(1114,"input",200),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(0))}),a.qZA()(),a.TgZ(1115,"td")(1116,"input",201),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(0))}),a.qZA()()(),a.TgZ(1117,"tr")(1118,"td"),a._uU(1119,"CONFIABLE"),a.qZA(),a.TgZ(1120,"td")(1121,"input",202),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(1))}),a.qZA()(),a.TgZ(1122,"td")(1123,"input",203),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(1))}),a.qZA()()(),a.TgZ(1124,"tr")(1125,"td"),a._uU(1126,"PACIFICO"),a.qZA(),a.TgZ(1127,"td")(1128,"input",204),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(2))}),a.qZA()(),a.TgZ(1129,"td")(1130,"input",205),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(2))}),a.qZA()()(),a.TgZ(1131,"tr")(1132,"td"),a._uU(1133,"POSITIVO"),a.qZA(),a.TgZ(1134,"td")(1135,"input",206),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM23(3))}),a.qZA()(),a.TgZ(1136,"td")(1137,"input",207),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL23(3))}),a.qZA()(),a.TgZ(1138,"span",5)(1139,"b"),a._uU(1140),a.qZA()()()()(),a.TgZ(1141,"div",2)(1142,"label",23)(1143,"h4"),a._uU(1144,"Grupo 24"),a.qZA()(),a.TgZ(1145,"table")(1146,"tr"),a._UZ(1147,"td"),a.TgZ(1148,"td")(1149,"b"),a._uU(1150,"M"),a.qZA(),a._uU(1151,"ore"),a.qZA(),a.TgZ(1152,"td")(1153,"b"),a._uU(1154,"L"),a.qZA(),a._uU(1155,"ess"),a.qZA()(),a.TgZ(1156,"tr")(1157,"td"),a._uU(1158,"INQUIETO"),a.qZA(),a.TgZ(1159,"td")(1160,"input",208),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(0))}),a.qZA()(),a.TgZ(1161,"td")(1162,"input",209),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(0))}),a.qZA()()(),a.TgZ(1163,"tr")(1164,"td"),a._uU(1165,"POPULAR"),a.qZA(),a.TgZ(1166,"td")(1167,"input",210),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(1))}),a.qZA()(),a.TgZ(1168,"td")(1169,"input",211),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(1))}),a.qZA()()(),a.TgZ(1170,"tr")(1171,"td"),a._uU(1172,"BUEN VECINO"),a.qZA(),a.TgZ(1173,"td")(1174,"input",212),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(2))}),a.qZA()(),a.TgZ(1175,"td")(1176,"input",213),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(2))}),a.qZA()()(),a.TgZ(1177,"tr")(1178,"td"),a._uU(1179,"DEVOTO"),a.qZA(),a.TgZ(1180,"td")(1181,"input",214),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setM24(3))}),a.qZA()(),a.TgZ(1182,"td")(1183,"input",215),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.setL24(3))}),a.qZA()(),a.TgZ(1184,"span",5)(1185,"b"),a._uU(1186),a.qZA()()()()(),a.TgZ(1187,"button",216),a.NdJ("click",function(){a.CHM(t);const o=a.oxw();return a.KtG(o.saveTutorial())}),a._uU(1188,"Guardar Registro"),a.qZA(),a.TgZ(1189,"span",5)(1190,"b"),a._uU(1191),a.qZA()()()}if(2&n){const t=a.oxw();a.xp6(6),a.Q6J("ngModel",t.tutorial.appPaterno),a.xp6(3),a.Oqu(t.itemApPaternoError),a.xp6(4),a.Q6J("ngModel",t.tutorial.appMaterno),a.xp6(3),a.Oqu(t.itemApMaternoError),a.xp6(4),a.Q6J("ngModel",t.tutorial.nombre),a.xp6(3),a.Oqu(t.itemNombreError),a.xp6(4),a.Q6J("ngModel",t.tutorial.facebook),a.xp6(3),a.Oqu(t.itemMatriculaError),a.xp6(4),a.Q6J("ngModel",t.tutorial.facultad),a.xp6(7),a.Oqu(t.itemFacultadError),a.xp6(4),a.Q6J("ngModel",t.tutorial.programaInteres),a.xp6(17),a.Oqu(t.itemCarreraError),a.xp6(4),a.Q6J("ngModel",t.tutorial.periodo),a.xp6(11),a.Oqu(t.itemPeriodoError),a.xp6(51),a.Oqu(t.item1Error),a.xp6(46),a.Oqu(t.item2Error),a.xp6(46),a.Oqu(t.item3Error),a.xp6(46),a.Oqu(t.item4Error),a.xp6(46),a.Oqu(t.item5Error),a.xp6(46),a.Oqu(t.item6Error),a.xp6(46),a.Oqu(t.item7Error),a.xp6(46),a.Oqu(t.item8Error),a.xp6(46),a.Oqu(t.item9Error),a.xp6(46),a.Oqu(t.item10Error),a.xp6(46),a.Oqu(t.item11Error),a.xp6(46),a.Oqu(t.item12Error),a.xp6(46),a.Oqu(t.item13Error),a.xp6(46),a.Oqu(t.item14Error),a.xp6(46),a.Oqu(t.item15Error),a.xp6(46),a.Oqu(t.item16Error),a.xp6(46),a.Oqu(t.item17Error),a.xp6(46),a.Oqu(t.item18Error),a.xp6(46),a.Oqu(t.item19Error),a.xp6(46),a.Oqu(t.item20Error),a.xp6(46),a.Oqu(t.item21Error),a.xp6(46),a.Oqu(t.item22Error),a.xp6(46),a.Oqu(t.item23Error),a.xp6(46),a.Oqu(t.item24Error),a.xp6(5),a.Oqu(t.missingValuesError)}}function AL(n,e){if(1&n&&(a.TgZ(0,"div")(1,"h4"),a._uU(2,"Te has registrado exitosamente!"),a.qZA(),a.TgZ(3,"h3"),a._uU(4),a.qZA(),a._uU(5),a._UZ(6,"br"),a._uU(7),a._UZ(8,"br"),a._uU(9),a._UZ(10,"br")(11,"br")(12,"br"),a._uU(13),a._UZ(14,"br"),a._uU(15),a._UZ(16,"br"),a._uU(17),a._UZ(18,"br")(19,"br")(20,"br"),a._uU(21),a._UZ(22,"br"),a._uU(23),a._UZ(24,"br"),a._uU(25),a._UZ(26,"br"),a._uU(27),a._UZ(28,"br"),a.qZA()),2&n){const t=a.oxw();a.xp6(4),a.hij("Felicidades ",t.tutorial.nombre,"!"),a.xp6(1),a.HOy(" ",t.MD," - ",t.MI," - ",t.MS," - ",t.MC," "),a.xp6(2),a.HOy("\n",t.LD," - ",t.LI," - ",t.LS," - ",t.LC," "),a.xp6(2),a.HOy("\n",t.TotD," , ",t.TotI," , ",t.TotS," , ",t.TotC," "),a.xp6(4),a.HOy("\n",t.ResultMD," - ",t.ResultMI," - ",t.ResultMS," - ",t.ResultMC," "),a.xp6(2),a.HOy("\n",t.ResultLD," - ",t.ResultLI," - ",t.ResultLS," - ",t.ResultLC," "),a.xp6(2),a.HOy("\n",t.ResultTotD," - ",t.ResultTotI," - ",t.ResultTotS," - ",t.ResultTotC," "),a.xp6(4),a.lnq("\n",t.FinalT," - ",t.FinalM," - ",t.FinalL," "),a.xp6(2),a.hij("\n",t.FinalResult," "),a.xp6(2),a.hij("\n",t.Result," "),a.xp6(2),a.hij("\n",t.message," ")}}const ML=[{path:"",redirectTo:"add",pathMatch:"full"},{path:"add",component:(()=>{class n{validateText(t){var r=0;return console.log(t),"-"!=t&&""!=t&&(r=1),r}constructor(t){this.tutorialService=t,this.tutorial=new oN,this.submitted=!1,this.itemApPaternoError="",this.itemApMaternoError="",this.itemNombreError="",this.itemMatriculaError="",this.itemCarreraError="",this.itemPeriodoError="",this.itemFacultadError="",this.item1Error="",this.item2Error="",this.item3Error="",this.item4Error="",this.item5Error="",this.item6Error="",this.item7Error="",this.item8Error="",this.item9Error="",this.item10Error="",this.item11Error="",this.item12Error="",this.item13Error="",this.item14Error="",this.item15Error="",this.item16Error="",this.item17Error="",this.item18Error="",this.item19Error="",this.item20Error="",this.item21Error="",this.item22Error="",this.item23Error="",this.item24Error="",this.missingValuesError="",this.arrMD=[1,5,10,20,30,40,50,60,65,75,84,87,90,93,95,97,97,98,98,98,99],this.arrMI=[4,10,25,40,55,70,82,90,95,96,97,97,97,97,97,97,97,99],this.arrMS=[5,10,16,30,40,55,63,75,84,90,95,96,97,97,97,97,98,98,98,99],this.arrMC=[1,5,16,30,55,70,84,93,95,97,97,97,98,98,98,99],this.arrLD=[99,95,87,80,65,55,50,35,30,20,18,15,10,6,5,4,3,2,2,2,2,1],this.arrLI=[99,95,87,75,55,40,25,16,10,5,4,4,3,3,3,2,2,2,2,1],this.arrLS=[99,97,95,87,80,65,55,35,28,18,10,5,4,3,3,3,2,2,2,1],this.arrLC=[99,97,95,90,84,70,55,40,38,23,10,5,4,3,2,2,1],this.arrtempTC=[[-21,1],[-20,2],[-19,2],[-18,2],[-17,2],[-16,2],[-15,2],[-14,2],[-13,4],[-12,5],[-11,5],[-10,9],[-9,13],[-8,15],[-7,16],[-6,20],[-5,25],[-4,29],[-3,35],[-2,40],[-1,45],[0,50],[1,55],[2,60],[3,65],[4,67],[5,70],[6,75],[7,80],[8,84],[9,85],[10,90],[11,91],[12,94],[13,95],[14,96],[15,97],[16,97],[17,98],[18,98],[19,98],[20,99]],this.arrTD={"-21":1,"-20":2,"-19":2,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":4,"-12":5,"-11":5,"-10":9,"-9":13,"-8":15,"-7":16,"-6":20,"-5":25,"-4":29,"-3":35,"-2":40,"-1":45,0:50,1:55,2:60,3:65,4:67,5:70,6:75,7:80,8:84,9:85,10:90,11:91,12:94,13:95,14:96,15:97,16:97,17:98,18:98,19:98,20:99},this.arrTI={"-19":1,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":2,"-12":2,"-11":2,"-10":3,"-9":4,"-8":5,"-7":6,"-6":10,"-5":16,"-4":20,"-3":29,"-2":35,"-1":45,0:55,1:60,2:70,3:75,4:85,5:90,6:95,7:96,8:97,9:97,10:98,11:98,12:98,13:98,14:98,15:98,16:98,17:99},this.arrTS={"-19":1,"-18":2,"-17":2,"-16":2,"-15":2,"-14":2,"-13":2,"-12":3,"-11":4,"-10":5,"-9":8,"-8":10,"-7":15,"-6":20,"-5":25,"-4":30,"-3":35,"-2":40,"-1":50,0:57,1:60,2:70,3:75,4:80,5:84,6:87,7:91,8:94,9:96,10:97,11:97,12:98,13:98,14:98,15:98,16:98,17:98,18:98,19:99},this.arrTC={"-16":1,"-15":2,"-14":2,"-13":2,"-12":2,"-11":3,"-10":4,"-9":6,"-8":9,"-7":13,"-6":20,"-5":25,"-4":30,"-3":35,"-2":55,"-1":60,0:70,1:75,2:84,3:90,4:95,5:96,6:97,7:97,8:98,9:98,10:98,11:98,12:98,13:98,14:98,15:99},this.arrInter={1:"Persuasivo\tel que tiene fuerza para hacer creer a otros una cosa, convencer de algo.",2:"Gentil\tel que act\xfaa con cortes\xeda y soltura, con urbanidad. El amable, gallardo, con gracia.",3:"Humilde\tsencillo, que no alardea (no interpretar como vida cristiana)",4:"Original\tel que no es imitaci\xf3n de otro, el singular.",5:"Agresivo\tel que demuestra empuje e iniciativa en una forma positiva, no es el propenso a ofender.",6:"Alma de la fiesta\tel m\xe1s popular, el que genera mayor atracci\xf3n en  el grupo.",7:"Comodino\tel amante de la comodidad, que busca caminos f\xe1ciles.",8:"Temeroso\tel t\xedmido, el cobarde, aprensivo.",9:"Agradable\tel que agrada y complace, gusta a los dem\xe1s.",10:"Temeroso de Dios\tel que reconoce el poder de Dios sobre todas las cosas, religioso",11:"Tenaz\tel obstinado y testarudo, con inquebrantable fuerza de voluntad para realizar alg\xfan objetivo.",12:"Atractivo\tcualidad de la persona (encanto) que atrae la voluntad de los dem\xe1s.",13:"Cauteloso\tel reservado que act\xfaa con cuidado, con precauci\xf3n.",14:"Determinado\tel atrevido, que toma resoluciones, preciso y decidido, que define.",15:"Convincente\tel que sabe convencer y obligar a otro con razones a que reconozca una cosa o cambie de opini\xf3n.",25:"Fuerza de voluntad\tdeterminaci\xf3n inquebrantable para lograr algo, firmeza.",26:"Mente abierta\tcualidad para escuchar y recibir otro punto de vista diferente.",27:"Complaciente\tel que procura ser agradable, servicial, sol\xedcito, comedido, conciliador o deferente.",28:"Animoso\tel que demuestra valor, energ\xeda voluntad, intenci\xf3n y esfuerzo para la lucha o el trabajo.",29:"Confiado\tel presumido y vanidoso, cr\xe9dulo y sencillo. No el que conf\xeda en s\xed mismo.",30:"Simpatizador\tel que manifiesta inclinaci\xf3n o afecto natural hacia otras personas.",31:"Tolerante\tel que reconoce y respeta las opiniones, pr\xe1cticas y comportamiento de otros, aunque sean diferentes a las de \xe9l. No el que sufre con paciencia o el que deja pasar cosas que no son l\xedcitas.",32:"Afirmativo\tel que responde en la mayor\xeda de las ocasiones de una manera positiva. No el que se sostiene o ratifica lo dicho.",33:"Ecu\xe1nime\tel calmado, sereno, imparcial, inalterable, paciente, prudente. Que tiene siempre el mismo \xe1nimo.",34:"Preciso\tel puntual y exacto, con claridad y determinado.",35:"Nervioso\tel ansioso, al que le falta sentido de seguridad",36:"Jovial\tel apacible, alegre y festivo.",37:"Disciplinado\tel acostumbrado a la obediencia, a seguir las reglas.",38:"Generoso\tel que obra con magnanimidad y nobleza, liberal dadivoso y franco.",39:"Animoso\tel que demuestra valor, energ\xeda voluntad, intenci\xf3n y esfuerzo para la lucha o el trabajo.",40:"Persistente\tel que supera obst\xe1culos, el que es constante, y perseverante, el que se mantiene en un prop\xf3sito.",41:"Competitivo\tel que contiende o disputa con otros por una causa de superaci\xf3n com\xfan por perfecci\xf3n o por la posesi\xf3n de propiedades.",42:"Alegre\tel  que est\xe1 lleno de alegr\xeda y la ocasiona en otros. Contento de animo, festivo.",43:"Considerado\tel que obra con reflexi\xf3n y que trata con respeto a los dem\xe1s.",44:"Armonioso\tel que tiene amistad y buena correspondencia, el que no tiene fricciones con otros.",45:"Admirable\tque es digno de admiraci\xf3n. Notable.",46:"Bondadoso\tel que es muy bueno, humanitario.",47:"Resignado\tel que se conforma, se sujeta, el condescendiente. El que acepta estar bajo la voluntad de otro.",48:"Car\xe1cter firme\tque no cambia f\xe1cilmente su punto de vista o su estilo de condici\xf3n.",49:"Obediente\tel que sabe seguir indicaciones sin poner su creatividad, cumple voluntad de quien manda, d\xf3cil, subordinado.",50:"Quisquilloso\tel que f\xe1cilmente se agravia u ofende, demasiado delicado en el trato, meticuloso.",51:"Inconquistable\tque no se deja vencer con ruegos, detalles o agasajos, susceptible.",52:"Juguet\xf3n\tel que tiene buen sentido del humor, aficionado a bromas.",53:"Respetuoso\tel que guarda reverencia, consideraci\xf3n y cortes\xeda para los dem\xe1s.",54:"Emprendedor\tque muestra imaginaci\xf3n instintiva y empuje, que se dedica a resolver situaciones dif\xedciles. Atrevido.",55:"Optimista\tel que suele ver y juzgar las cosas bajo su aspecto m\xe1s favorable.",56:"Servicial\tel que sirve con diligencia, siempre dispuesto a complacer a otros, amable y colaborador.",57:"Valiente\tel que manifiesta coraje y decisi\xf3n. El fuerte, en\xe9rgico y animoso.",58:"Inspirador\tel que anima la mente o las emociones de otros; infunde entusiasmo.",59:"Sumiso\tel que permite por s\xed mismo estar sujeto a otro. Obediente y d\xf3cil.",60:"T\xedmido\tcallado, no busca sobresalir.",61:"Adaptable\tel que se ajusta f\xe1cilmente a condiciones nuevas o diferentes.",62:"Disputador\tdado a arg\xfcir o debatir razones para, por o contra algo. Discutidor.",63:"Indiferente\tel que parece en forma sistem\xe1tica no estar involucrado. No presenta motivo de preferencia.",64:'"Sangre liviana"\tel que a todo el mundo le cae bien, persona simp\xe1tica.',65:"Amiguero\tel que busca y goza la compa\xf1\xeda de otros, muy sociable.",66:"Paciente\tel que es capaz de soportar, sabe esperar con calma el momento oportuno.",67:"Confianza en s\xed mismo\tconf\xeda en sus propias capacidades y recursos, autosuficiente.",68:"Mesurado para hablar\tmedido para hablar, habla lo necesario.",69:"Conforme\tel satisfecho con lo que tiene, de acuerdo con el parecer de otros.",70:"Confiable\tpersona con la cual se tiene confianza.",71:"Pac\xedfico\tel que tiene calma y serenidad, amante de la paz.",72:"Positivo\toptimista.",73:"Aventurero\tel que busca aventuras",74:"Receptivo\tpersona con capacidad de recibir, facilidad para captar algo",75:"Cordial\tpersona amable, afectuosa, cari\xf1osa.",76:"Moderado\tguarda medio entre dos extremos, que mantiene un equilibrio en sus acciones.",77:"Indulgente\tel que perdona f\xe1cilmente, tolerante, conciliador.",78:"Esteta\tel que es aficionado, percibe o cultiva la belleza. Busca en todo la elegancia.",79:"Vigoroso\tel robusto y fuerte.",80:"Sociable\tel que busca y necesita del compa\xf1erismo de otros, f\xe1cil de tratar con \xe9l.",81:"Parlanch\xedn\tpersona locuaz, que tiene inclinaci\xf3n por hablar mucho, platicador.",82:"Controlado\tejerce influencia resultante en s\xed mismo y en otros, con dominio de s\xed.",83:"Convencional\tel que se mantiene en una trayectoria de uso general.",84:"Decisivo\tel resuelto, determinado e incuestionable.",85:"Cohibido\tel que se limita, restringe o controla ante los dem\xe1s.",86:"Exacto\tjusto, preciso, matem\xe1tico, calculador.",87:"Franco\tespont\xe1neo, leal, sincero.",88:"Buen compa\xf1ero\tpersona sociable, que mantiene armon\xeda con otros.",89:"Diplom\xe1tico\tel que se caracteriza por el buen tacto en su trato con la gente.",90:"Audaz\tel arrogante e insolente. No el osado ni atrevido.",91:"Refinado\tel elegante y fino en su manera de ser, se distingue.",92:"Satisfecho\tse contenta o conforma con lo que tiene.",93:"Inquieto\tel que gusta de lo nuevo, vers\xe1til y cambiante.",94:"Popular\tel que genera atracci\xf3n en el grupo.",95:"Buen vecino\tel que act\xfaa con soltura y cortes\xeda.",96:"Devoto\tel sumiso y fiel."},this.message="",this.tutorial.appPaterno="",this.tutorial.appMaterno="",this.tutorial.nombre="",this.tutorial.facebook="",this.tutorial.programaInteres="",this.tutorial.periodo="2025",this.tutorial.facultad="fnt"}validateGroups(){var t,r=this.validateText(this.tutorial.appPaterno);this.itemApPaternoError=0==r?"Ap Paterno requerido.":"";var o=this.validateText(this.tutorial.appMaterno);this.itemApMaternoError=0==o?"Ap Materno requerido.":"";var l=this.validateText(this.tutorial.nombre);this.itemNombreError=0==l?"Nombre requerido.":"";var d=this.validateText(this.tutorial.facebook);this.itemMatriculaError=0==d?"Matricula requerida.":"";var m=this.validateText(this.tutorial.programaInteres);this.itemCarreraError=0==m?"Carrera requerida.":"";var w=this.validateText(this.tutorial.periodo);this.itemCarreraError=0==w?"Carrera requerida.":"";var C=this.validateText(this.tutorial.facultad);this.itemCarreraError=0==C?"Carrera requerida.":"";var M=this.validateItem(this.tutorial.persuasivoM,this.tutorial.persuasivoL,this.tutorial.gentilM,this.tutorial.gentilL,this.tutorial.humildeM,this.tutorial.humildeL,this.tutorial.originalM,this.tutorial.originalL);M<2&&(this.item1Error="Grupo 1 requerido ...");var R=this.validateItem(this.tutorial.fuerzavoluntadM,this.tutorial.fuerzavoluntadL,this.tutorial.menteabiertaM,this.tutorial.menteabiertaL,this.tutorial.complacienteM,this.tutorial.complacienteL,this.tutorial.animosoM,this.tutorial.animosoL);R<2&&(this.item2Error="Grupo 2 requerido ...");var q=this.validateItem(this.tutorial.obedienteM,this.tutorial.obedienteL,this.tutorial.quisquillosoM,this.tutorial.quisquillosoL,this.tutorial.inconquistableM,this.tutorial.inconquistableL,this.tutorial.juguetonM,this.tutorial.juguetonL);q<2&&(this.item3Error="Grupo 3 requerido ...");var Q=this.validateItem(this.tutorial.aventureroM,this.tutorial.aventureroL,this.tutorial.receptivoM,this.tutorial.receptivoL,this.tutorial.cordialM,this.tutorial.cordialL,this.tutorial.moderadoM,this.tutorial.moderadoL);Q<2&&(this.item4Error="Grupo 4 requerido ...");var me=this.validateItem(this.tutorial.agresivoM,this.tutorial.agresivoL,this.tutorial.almafiestaM,this.tutorial.almafiestaL,this.tutorial.comodinoM,this.tutorial.comodinoL,this.tutorial.temerosoM,this.tutorial.temerosoL);me<2&&(this.item5Error="Grupo 5 requerido ...");var Le=this.validateItem(this.tutorial.confiadoM,this.tutorial.confiadoL,this.tutorial.simpatizadorM,this.tutorial.simpatizadorL,this.tutorial.toleranteM,this.tutorial.toleranteL,this.tutorial.afirmativoM,this.tutorial.afirmativoL);Le<2&&(this.item6Error="Grupo 6 requerido ...");var Fe=this.validateItem(this.tutorial.respetuosoM,this.tutorial.respetuosoL,this.tutorial.emprendedorM,this.tutorial.emprendedorL,this.tutorial.optimistaM,this.tutorial.optimistaL,this.tutorial.servicialM,this.tutorial.servicialL);Fe<2&&(this.item7Error="Grupo 7 requerido ...");var dt=this.validateItem(this.tutorial.indulgenteM,this.tutorial.indulgenteL,this.tutorial.estetaM,this.tutorial.estetaL,this.tutorial.vigorosoM,this.tutorial.vigorosoL,this.tutorial.sociableM,this.tutorial.sociableL);dt<2&&(this.item8Error="Grupo 8 requerido ...");var xt=this.validateItem(this.tutorial.agradableM,this.tutorial.agradableL,this.tutorial.temerosodiosM,this.tutorial.temerosodiosL,this.tutorial.tenazM,this.tutorial.tenazL,this.tutorial.atractivoM,this.tutorial.atractivoL);xt<2&&(this.item9Error="Grupo 9 requerido ...");var It=this.validateItem(this.tutorial.ecuanimeM,this.tutorial.ecuanimeL,this.tutorial.precisoM,this.tutorial.precisoL,this.tutorial.nerviosoM,this.tutorial.nerviosoL,this.tutorial.jovialM,this.tutorial.jovialL);It<2&&(this.item10Error="Grupo 10 requerido ...");var Nt=this.validateItem(this.tutorial.valienteM,this.tutorial.valienteL,this.tutorial.inspiradorM,this.tutorial.inspiradorL,this.tutorial.sumisoM,this.tutorial.sumisoL,this.tutorial.timidoM,this.tutorial.timidoL);Nt<2&&(this.item11Error="Grupo 11 requerido ...");var Zt=this.validateItem(this.tutorial.parlanchinM,this.tutorial.parlanchinL,this.tutorial.controladoM,this.tutorial.controladoL,this.tutorial.convencionalM,this.tutorial.convencionalL,this.tutorial.decisivoM,this.tutorial.decisivoL);Zt<2&&(this.item12Error="Grupo 12 requerido ...");var nn=this.validateItem(this.tutorial.cautelosoM,this.tutorial.cautelosoL,this.tutorial.determinadoM,this.tutorial.determinadoL,this.tutorial.convincenteM,this.tutorial.convincenteL,this.tutorial.bonachonM,this.tutorial.bonachonL);nn<2&&(this.item13Error="Grupo 13 requerido ...");var yi=this.validateItem(this.tutorial.disciplinadoM,this.tutorial.disciplinadoL,this.tutorial.generosoM,this.tutorial.generosoL,this.tutorial.ani_mosoM,this.tutorial.ani_mosoL,this.tutorial.persistenteM,this.tutorial.persistenteL);yi<2&&(this.item14Error="Grupo 14 requerido ...");var Hl=this.validateItem(this.tutorial.adaptableM,this.tutorial.adaptableL,this.tutorial.disputadorM,this.tutorial.disputadorL,this.tutorial.indiferenteM,this.tutorial.indiferenteL,this.tutorial.sangrelivianaM,this.tutorial.sangrelivianaL);Hl<2&&(this.item15Error="Grupo 15 requerido ...");var Kw=this.validateItem(this.tutorial.cohibidoM,this.tutorial.cohibidoL,this.tutorial.exactoM,this.tutorial.exactoL,this.tutorial.francoM,this.tutorial.francoL,this.tutorial.buencompaneroM,this.tutorial.buencompaneroL);Kw<2&&(this.item16Error="Grupo 16 requerido ...");var sN=this.validateItem(this.tutorial.docilM,this.tutorial.docilL,this.tutorial.atrevidoM,this.tutorial.atrevidoL,this.tutorial.lealM,this.tutorial.lealL,this.tutorial.encantadorM,this.tutorial.encantadorL);sN<2&&(this.item17Error="Grupo 17 requerido ...");var aN=this.validateItem(this.tutorial.competitivoM,this.tutorial.competitivoL,this.tutorial.alegreM,this.tutorial.alegreL,this.tutorial.consideradoM,this.tutorial.consideradoL,this.tutorial.armoniosoM,this.tutorial.armoniosoL);aN<2&&(this.item18Error="Grupo 18 requerido ...");var uN=this.validateItem(this.tutorial.amigueroM,this.tutorial.amigueroL,this.tutorial.pacienteM,this.tutorial.pacienteL,this.tutorial.confianzamismoM,this.tutorial.confianzamismoL,this.tutorial.mesuradohablarM,this.tutorial.mesuradohablarL);uN<2&&(this.item19Error="Grupo 19 requerido ...");var lN=this.validateItem(this.tutorial.diplomaticoM,this.tutorial.diplomaticoL,this.tutorial.audazM,this.tutorial.audazL,this.tutorial.refinadoM,this.tutorial.refinadoL,this.tutorial.satisfechoM,this.tutorial.satisfechoL);lN<2&&(this.item20Error="Grupo 20 requerido ...");var cN=this.validateItem(this.tutorial.dispuestoM,this.tutorial.dispuestoL,this.tutorial.deseosoM,this.tutorial.deseosoL,this.tutorial.consecuenteM,this.tutorial.consecuenteL,this.tutorial.entusiastaM,this.tutorial.entusiastaL);cN<2&&(this.item21Error="Grupo 21 requerido ...");var dN=this.validateItem(this.tutorial.admirableM,this.tutorial.admirableL,this.tutorial.bondadosoM,this.tutorial.bondadosoL,this.tutorial.resignadoM,this.tutorial.resignadoL,this.tutorial.caracterfirmeM,this.tutorial.caracterfirmeL);dN<2&&(this.item22Error="Grupo 22 requerido ...");var hN=this.validateItem(this.tutorial.conformeM,this.tutorial.conformeL,this.tutorial.confiableM,this.tutorial.confiableL,this.tutorial.pacificoM,this.tutorial.pacificoL,this.tutorial.positivoM,this.tutorial.positivoL);hN<2&&(this.item23Error="Grupo 23 requerido ...");var fN=this.validateItem(this.tutorial.inquietoM,this.tutorial.inquietoL,this.tutorial.popularM,this.tutorial.popularL,this.tutorial.buenvecinoM,this.tutorial.buenvecinoL,this.tutorial.devotoM,this.tutorial.devotoL);return fN<2&&(this.item24Error="Grupo 24 requerido ..."),t=r+o+l+d+m+M+R+q+Q+me+Le+Fe+dt+xt+It+Nt+Zt+nn+yi+Hl+Kw+sN+aN+uN+lN+cN+dN+hN+fN,console.log("total "+t),t}saveTutorial(){this.validateGroups()<53?this.missingValuesError="LLenar campos requeridos":(this.calculateTest(),this.missingValuesError="guardando ...",this.tutorialService.create(this.tutorial).then(()=>{console.log("Created new item successfully!"),this.submitted=!0}))}calculateTest(){console.log(this.tutorial),this.message="",this.MD=Number(this.tutorial.agresivoM)+Number(this.tutorial.tenazM)+Number(this.tutorial.determinadoM)+Number(this.tutorial.atrevidoM)+Number(this.tutorial.afirmativoM)+Number(this.tutorial.persistenteM)+Number(this.tutorial.competitivoM)+Number(this.tutorial.caracterfirmeM)+Number(this.tutorial.inconquistableM)+Number(this.tutorial.emprendedorM)+Number(this.tutorial.valienteM)+Number(this.tutorial.disputadorM)+Number(this.tutorial.confianzamismoM)+Number(this.tutorial.positivoM),Number(this.tutorial.aventureroM),Number(this.tutorial.vigorosoM),Number(this.tutorial.decisivoM),Number(this.tutorial.francoM),Number(this.tutorial.audazM),Number(this.tutorial.inquietoM),this.MI=Number(this.tutorial.persuasivoM)+Number(this.tutorial.almafiestaM)+Number(this.tutorial.atractivoM)+Number(this.tutorial.convincenteM)+Number(this.tutorial.encantadorM)+Number(this.tutorial.animosoM)+Number(this.tutorial.confiadoM)+Number(this.tutorial.admirableM)+Number(this.tutorial.juguetonM)+Number(this.tutorial.optimistaM)+Number(this.tutorial.inspiradorM)+Number(this.tutorial.sangrelivianaM)+Number(this.tutorial.amigueroM)+Number(this.tutorial.cordialM)+Number(this.tutorial.sociableM)+Number(this.tutorial.parlanchinM)+Number(this.tutorial.buencompaneroM)+Number(this.tutorial.popularM),this.MS=Number(this.tutorial.gentilM)+Number(this.tutorial.comodinoM)+Number(this.tutorial.bonachonM)+Number(this.tutorial.lealM)+Number(this.tutorial.dispuestoM)+Number(this.tutorial.complacienteM)+Number(this.tutorial.ecuanimeM)+Number(this.tutorial.generosoM)+Number(this.tutorial.consideradoM)+Number(this.tutorial.bondadosoM)+Number(this.tutorial.obedienteM)+Number(this.tutorial.servicialM)+Number(this.tutorial.pacienteM)+Number(this.tutorial.confiableM)+Number(this.tutorial.moderadoM)+Number(this.tutorial.indulgenteM)+Number(this.tutorial.controladoM)+Number(this.tutorial.satisfechoM)+Number(this.tutorial.buenvecinoM),this.MC=Number(this.tutorial.humildeM)+Number(this.tutorial.temerosodiosM)+Number(this.tutorial.cautelosoM)+Number(this.tutorial.consecuenteM)+Number(this.tutorial.menteabiertaM)+Number(this.tutorial.precisoM)+Number(this.tutorial.disciplinadoM)+Number(this.tutorial.respetuosoM)+Number(this.tutorial.adaptableM)+Number(this.tutorial.mesuradohablarM)+Number(this.tutorial.pacificoM)+Number(this.tutorial.receptivoM)+Number(this.tutorial.exactoM)+Number(this.tutorial.diplomaticoM)+Number(this.tutorial.devotoM),this.LD=Number(this.tutorial.originalL)+Number(this.tutorial.tenazL)+Number(this.tutorial.atractivoL)+Number(this.tutorial.entusiastaL)+Number(this.tutorial.fuerzavoluntadL)+Number(this.tutorial.afirmativoL)+Number(this.tutorial.nerviosoL)+Number(this.tutorial.persistenteL)+Number(this.tutorial.competitivoL)+Number(this.tutorial.emprendedorM)+Number(this.tutorial.caracterfirmeL)+Number(this.tutorial.inconquistableL)+Number(this.tutorial.emprendedorL)+Number(this.tutorial.disputadorL),Number(this.tutorial.confianzamismoL),Number(this.tutorial.positivoL),Number(this.tutorial.aventureroL),Number(this.tutorial.vigorosoL),Number(this.tutorial.decisivoL),Number(this.tutorial.francoL),Number(this.tutorial.audazL),Number(this.tutorial.inquietoL),this.LI=Number(this.tutorial.almafiestaL)+Number(this.tutorial.atractivoL)+Number(this.tutorial.convincenteL)+Number(this.tutorial.encantadorL)+Number(this.tutorial.animosoL)+Number(this.tutorial.jovialL)+Number(this.tutorial.ani_mosoL)+Number(this.tutorial.alegreL)+Number(this.tutorial.juguetonL)+Number(this.tutorial.optimistaL)+Number(this.tutorial.sangrelivianaL)+Number(this.tutorial.amigueroL)+Number(this.tutorial.confiableL)+Number(this.tutorial.cordialL)+Number(this.tutorial.sociableL)+Number(this.tutorial.parlanchinL)+Number(this.tutorial.buencompaneroL)+Number(this.tutorial.refinadoL)+Number(this.tutorial.popularL),this.LS=Number(this.tutorial.gentilL)+Number(this.tutorial.comodinoL)+Number(this.tutorial.agradableL)+Number(this.tutorial.complacienteL)+Number(this.tutorial.simpatizadorL)+Number(this.tutorial.ecuanimeL)+Number(this.tutorial.generosoL)+Number(this.tutorial.consideradoL)+Number(this.tutorial.servicialL)+Number(this.tutorial.sumisoL)+Number(this.tutorial.indiferenteL)+Number(this.tutorial.pacienteL)+Number(this.tutorial.conformeL)+Number(this.tutorial.moderadoL)+Number(this.tutorial.indulgenteL)+Number(this.tutorial.controladoL)+Number(this.tutorial.cohibidoL)+Number(this.tutorial.satisfechoL)+Number(this.tutorial.buenvecinoL),this.LC=Number(this.tutorial.humildeL)+Number(this.tutorial.temerosoL)+Number(this.tutorial.temerosodiosL)+Number(this.tutorial.cautelosoL)+Number(this.tutorial.docilL)+Number(this.tutorial.consecuenteL)+Number(this.tutorial.toleranteL)+Number(this.tutorial.precisoL)+Number(this.tutorial.armoniosoL)+Number(this.tutorial.resignadoL)+Number(this.tutorial.quisquillosoL)+Number(this.tutorial.timidoL)+Number(this.tutorial.pacificoL)+Number(this.tutorial.estetaL),Number(this.tutorial.convencionalL),Number(this.tutorial.devotoL),this.TotD=Number(this.MD)-Number(this.LD),this.TotI=Number(this.MI)-Number(this.LI),this.TotS=Number(this.MS)-Number(this.LS),this.TotC=Number(this.MC)-Number(this.LC),this.ResultMD=this.arrMD[this.MD],this.ResultMI=this.arrMI[this.MI],this.ResultMS=this.arrMS[this.MS],this.ResultMC=this.arrMC[this.MC],this.ResultLD=this.arrLD[this.LD],this.ResultLI=this.arrLI[this.LI],this.ResultLS=this.arrLS[this.LS],this.ResultLC=this.arrLC[this.LC],this.ResultTotD=this.arrTD[this.TotD],this.ResultTotI=this.arrTI[this.TotI],this.ResultTotS=this.arrTS[this.TotS],this.ResultTotC=this.arrTC[this.TotC];var r=[this.ResultMD,this.ResultMI,this.ResultMS,this.ResultMC],o=[this.ResultLD,this.ResultLI,this.ResultLS,this.ResultLC],l=Math.max(...[this.ResultTotD,this.ResultTotI,this.ResultTotS,this.ResultTotC].map(w=>w)),d=Math.max(...r.map(w=>w)),m=Math.max(...o.map(w=>w));this.FinalT=l,this.FinalM=d,this.FinalL=m,this.FinalResult=(this.FinalT+this.FinalM+this.FinalL)/3,this.Result=this.FinalResult.toFixed(0),this.message=this.arrInter[this.Result],this.tutorial.FinalT=this.FinalT,this.tutorial.FinalM=this.FinalM,this.tutorial.FinalL=this.FinalL,this.tutorial.FinalResult=this.FinalResult,this.tutorial.Result=this.Result,this.tutorial.message=this.message}newTutorial(){this.submitted=!1,this.tutorial=new oN}setDuplicateError(t){var r="";return 1==t&&(r="ERROR: Seleccione Diferentes categorias"),r}validateItem(t,r,o,l,d,m,w,C){var M=t+r+o+l+d+m+w+C;return 1==t&&1==r&&(M=0),1==o&&1==l&&(M=0),1==d&&1==m&&(M=0),1==w&&1==C&&(M=0),M}setM1(t){return this.tutorial.persuasivoM=0,this.tutorial.gentilM=0,this.tutorial.humildeM=0,this.tutorial.originalM=0,0==t&&(this.tutorial.persuasivoM=1,this.item1Error=this.setDuplicateError(this.tutorial.persuasivoL)),1==t&&(this.tutorial.gentilM=1,this.item1Error=this.setDuplicateError(this.tutorial.gentilL)),2==t&&(this.tutorial.humildeM=1,this.item1Error=this.setDuplicateError(this.tutorial.humildeL)),3==t&&(this.tutorial.originalM=1,this.item1Error=this.setDuplicateError(this.tutorial.originalL)),1}setL1(t){this.tutorial.persuasivoL=0,this.tutorial.gentilL=0,this.tutorial.humildeL=0,this.tutorial.originalL=0,0==t&&(this.tutorial.persuasivoL=1,this.item1Error=this.setDuplicateError(this.tutorial.persuasivoM)),1==t&&(this.tutorial.gentilL=1,this.item1Error=this.setDuplicateError(this.tutorial.gentilM)),2==t&&(this.tutorial.humildeL=1,this.item1Error=this.setDuplicateError(this.tutorial.humildeM)),3==t&&(this.tutorial.originalL=1,this.item1Error=this.setDuplicateError(this.tutorial.originalM))}setM2(t){return this.tutorial.fuerzavoluntadM=0,this.tutorial.menteabiertaM=0,this.tutorial.complacienteM=0,this.tutorial.animosoM=0,0==t&&(this.tutorial.fuerzavoluntadM=1,this.item2Error=this.setDuplicateError(this.tutorial.fuerzavoluntadL)),1==t&&(this.tutorial.menteabiertaM=1,this.item2Error=this.setDuplicateError(this.tutorial.menteabiertaL)),2==t&&(this.tutorial.complacienteM=1,this.item2Error=this.setDuplicateError(this.tutorial.competitivoL)),3==t&&(this.tutorial.animosoM=1,this.item2Error=this.setDuplicateError(this.tutorial.animosoL)),1}setL2(t){return this.tutorial.fuerzavoluntadL=0,this.tutorial.menteabiertaL=0,this.tutorial.complacienteL=0,this.tutorial.animosoL=0,0==t&&(this.tutorial.fuerzavoluntadL=1,this.item2Error=this.setDuplicateError(this.tutorial.fuerzavoluntadM)),1==t&&(this.tutorial.menteabiertaL=1,this.item2Error=this.setDuplicateError(this.tutorial.menteabiertaM)),2==t&&(this.tutorial.complacienteL=1,this.item2Error=this.setDuplicateError(this.tutorial.complacienteM)),3==t&&(this.tutorial.animosoL=1,this.item2Error=this.setDuplicateError(this.tutorial.animosoM)),1}setM3(t){return this.tutorial.obedienteM=0,this.tutorial.quisquillosoM=0,this.tutorial.inconquistableM=0,this.tutorial.juguetonM=0,0==t&&(this.tutorial.obedienteM=1,this.item3Error=this.setDuplicateError(this.tutorial.obedienteL)),1==t&&(this.tutorial.quisquillosoM=1,this.item3Error=this.setDuplicateError(this.tutorial.quisquillosoL)),2==t&&(this.tutorial.inconquistableM=1,this.item3Error=this.setDuplicateError(this.tutorial.inconquistableL)),3==t&&(this.tutorial.juguetonM=1,this.item3Error=this.setDuplicateError(this.tutorial.juguetonL)),1}setL3(t){return this.tutorial.obedienteL=0,this.tutorial.quisquillosoL=0,this.tutorial.inconquistableL=0,this.tutorial.juguetonL=0,0==t&&(this.tutorial.obedienteL=1,this.item3Error=this.setDuplicateError(this.tutorial.obedienteM)),1==t&&(this.tutorial.quisquillosoL=1,this.item3Error=this.setDuplicateError(this.tutorial.quisquillosoM)),2==t&&(this.tutorial.inconquistableL=1,this.item3Error=this.setDuplicateError(this.tutorial.inconquistableM)),3==t&&(this.tutorial.juguetonL=1,this.item3Error=this.setDuplicateError(this.tutorial.juguetonM)),1}setM4(t){return this.tutorial.aventureroM=0,this.tutorial.receptivoM=0,this.tutorial.cordialM=0,this.tutorial.moderadoM=0,0==t&&(this.tutorial.aventureroM=1,this.item4Error=this.setDuplicateError(this.tutorial.aventureroL)),1==t&&(this.tutorial.receptivoM=1,this.item4Error=this.setDuplicateError(this.tutorial.receptivoL)),2==t&&(this.tutorial.cordialM=1,this.item4Error=this.setDuplicateError(this.tutorial.cordialL)),3==t&&(this.tutorial.moderadoM=1,this.item4Error=this.setDuplicateError(this.tutorial.moderadoL)),1}setL4(t){return this.tutorial.aventureroL=0,this.tutorial.receptivoL=0,this.tutorial.cordialL=0,this.tutorial.moderadoL=0,0==t&&(this.tutorial.aventureroL=1,this.item4Error=this.setDuplicateError(this.tutorial.aventureroM)),1==t&&(this.tutorial.receptivoL=1,this.item4Error=this.setDuplicateError(this.tutorial.receptivoM)),2==t&&(this.tutorial.cordialL=1,this.item4Error=this.setDuplicateError(this.tutorial.cordialM)),3==t&&(this.tutorial.moderadoL=1,this.item4Error=this.setDuplicateError(this.tutorial.moderadoM)),1}setM5(t){return this.tutorial.agresivoM=0,this.tutorial.almafiestaM=0,this.tutorial.comodinoM=0,this.tutorial.temerosoM=0,0==t&&(this.tutorial.agresivoM=1,this.item5Error=this.setDuplicateError(this.tutorial.agresivoL)),1==t&&(this.tutorial.almafiestaM=1,this.item5Error=this.setDuplicateError(this.tutorial.almafiestaL)),2==t&&(this.tutorial.comodinoM=1,this.item5Error=this.setDuplicateError(this.tutorial.comodinoL)),3==t&&(this.tutorial.temerosoM=1,this.item5Error=this.setDuplicateError(this.tutorial.temerosoL)),1}setL5(t){return this.tutorial.agresivoL=0,this.tutorial.almafiestaL=0,this.tutorial.comodinoL=0,this.tutorial.temerosoL=0,0==t&&(this.tutorial.agresivoL=1,this.item5Error=this.setDuplicateError(this.tutorial.agresivoM)),1==t&&(this.tutorial.almafiestaL=1,this.item5Error=this.setDuplicateError(this.tutorial.almafiestaM)),2==t&&(this.tutorial.comodinoL=1,this.item5Error=this.setDuplicateError(this.tutorial.comodinoM)),3==t&&(this.tutorial.temerosoL=1,this.item5Error=this.setDuplicateError(this.tutorial.temerosoM)),1}setM6(t){return this.tutorial.confiadoM=0,this.tutorial.simpatizadorM=0,this.tutorial.toleranteM=0,this.tutorial.afirmativoM=0,0==t&&(this.tutorial.confiadoM=1,this.item6Error=this.setDuplicateError(this.tutorial.confiadoL)),1==t&&(this.tutorial.simpatizadorM=1,this.item6Error=this.setDuplicateError(this.tutorial.simpatizadorL)),2==t&&(this.tutorial.toleranteM=1,this.item6Error=this.setDuplicateError(this.tutorial.toleranteL)),3==t&&(this.tutorial.afirmativoM=1,this.item6Error=this.setDuplicateError(this.tutorial.afirmativoL)),1}setL6(t){return this.tutorial.confiadoL=0,this.tutorial.simpatizadorL=0,this.tutorial.toleranteL=0,this.tutorial.afirmativoL=0,0==t&&(this.tutorial.confiadoL=1,this.item6Error=this.setDuplicateError(this.tutorial.confiadoM)),1==t&&(this.tutorial.simpatizadorL=1,this.item6Error=this.setDuplicateError(this.tutorial.simpatizadorM)),2==t&&(this.tutorial.toleranteL=1,this.item6Error=this.setDuplicateError(this.tutorial.toleranteM)),3==t&&(this.tutorial.afirmativoL=1,this.item6Error=this.setDuplicateError(this.tutorial.afirmativoM)),1}setM7(t){return this.tutorial.respetuosoM=0,this.tutorial.emprendedorM=0,this.tutorial.optimistaM=0,this.tutorial.servicialM=0,0==t&&(this.tutorial.respetuosoM=1,this.item7Error=this.setDuplicateError(this.tutorial.respetuosoL)),1==t&&(this.tutorial.emprendedorM=1,this.item7Error=this.setDuplicateError(this.tutorial.emprendedorL)),2==t&&(this.tutorial.optimistaM=1,this.item7Error=this.setDuplicateError(this.tutorial.optimistaL)),3==t&&(this.tutorial.servicialM=1,this.item7Error=this.setDuplicateError(this.tutorial.servicialL)),1}setL7(t){return this.tutorial.respetuosoL=0,this.tutorial.emprendedorL=0,this.tutorial.optimistaL=0,this.tutorial.servicialL=0,0==t&&(this.tutorial.respetuosoL=1,this.item7Error=this.setDuplicateError(this.tutorial.respetuosoM)),1==t&&(this.tutorial.emprendedorL=1,this.item7Error=this.setDuplicateError(this.tutorial.emprendedorM)),2==t&&(this.tutorial.optimistaL=1,this.item7Error=this.setDuplicateError(this.tutorial.optimistaM)),3==t&&(this.tutorial.servicialL=1,this.item7Error=this.setDuplicateError(this.tutorial.servicialM)),1}setM8(t){return this.tutorial.indulgenteM=0,this.tutorial.estetaM=0,this.tutorial.vigorosoM=0,this.tutorial.sociableM=0,0==t&&(this.tutorial.indulgenteM=1,this.item8Error=this.setDuplicateError(this.tutorial.indulgenteL)),1==t&&(this.tutorial.estetaM=1,this.item8Error=this.setDuplicateError(this.tutorial.estetaL)),2==t&&(this.tutorial.vigorosoM=1,this.item8Error=this.setDuplicateError(this.tutorial.vigorosoL)),3==t&&(this.tutorial.sociableM=1,this.item8Error=this.setDuplicateError(this.tutorial.sociableL)),1}setL8(t){return this.tutorial.indulgenteL=0,this.tutorial.estetaL=0,this.tutorial.vigorosoL=0,this.tutorial.sociableL=0,0==t&&(this.tutorial.indulgenteL=1,this.item8Error=this.setDuplicateError(this.tutorial.indulgenteM)),1==t&&(this.tutorial.estetaL=1,this.item8Error=this.setDuplicateError(this.tutorial.estetaM)),2==t&&(this.tutorial.vigorosoL=1,this.item8Error=this.setDuplicateError(this.tutorial.vigorosoM)),3==t&&(this.tutorial.sociableL=1,this.item8Error=this.setDuplicateError(this.tutorial.sociableM)),1}setM9(t){return this.tutorial.agradableM=0,this.tutorial.temerosodiosM=0,this.tutorial.tenazM=0,this.tutorial.atractivoM=0,0==t&&(this.tutorial.agradableM=1,this.item9Error=this.setDuplicateError(this.tutorial.agradableL)),1==t&&(this.tutorial.temerosodiosM=1,this.item9Error=this.setDuplicateError(this.tutorial.temerosodiosL)),2==t&&(this.tutorial.tenazM=1,this.item9Error=this.setDuplicateError(this.tutorial.tenazL)),3==t&&(this.tutorial.atractivoM=1,this.item9Error=this.setDuplicateError(this.tutorial.atractivoL)),1}setL9(t){return this.tutorial.agradableL=0,this.tutorial.temerosodiosL=0,this.tutorial.tenazL=0,this.tutorial.atractivoL=0,0==t&&(this.tutorial.agradableL=1,this.item9Error=this.setDuplicateError(this.tutorial.agradableM)),1==t&&(this.tutorial.temerosodiosL=1,this.item9Error=this.setDuplicateError(this.tutorial.temerosodiosM)),2==t&&(this.tutorial.tenazL=1,this.item9Error=this.setDuplicateError(this.tutorial.tenazM)),3==t&&(this.tutorial.atractivoL=1,this.item9Error=this.setDuplicateError(this.tutorial.atractivoM)),1}setM10(t){return this.tutorial.ecuanimeM=0,this.tutorial.precisoM=0,this.tutorial.nerviosoM=0,this.tutorial.jovialM=0,0==t&&(this.tutorial.ecuanimeM=1,this.item10Error=this.setDuplicateError(this.tutorial.ecuanimeL)),1==t&&(this.tutorial.precisoM=1,this.item10Error=this.setDuplicateError(this.tutorial.precisoL)),2==t&&(this.tutorial.nerviosoM=1,this.item10Error=this.setDuplicateError(this.tutorial.nerviosoL)),3==t&&(this.tutorial.jovialM=1,this.item10Error=this.setDuplicateError(this.tutorial.jovialL)),1}setL10(t){return this.tutorial.ecuanimeL=0,this.tutorial.precisoL=0,this.tutorial.nerviosoL=0,this.tutorial.jovialL=0,0==t&&(this.tutorial.ecuanimeL=1,this.item10Error=this.setDuplicateError(this.tutorial.ecuanimeM)),1==t&&(this.tutorial.precisoL=1,this.item10Error=this.setDuplicateError(this.tutorial.precisoM)),2==t&&(this.tutorial.nerviosoL=1,this.item10Error=this.setDuplicateError(this.tutorial.nerviosoM)),3==t&&(this.tutorial.jovialL=1,this.item10Error=this.setDuplicateError(this.tutorial.jovialM)),1}setM11(t){return this.tutorial.valienteM=0,this.tutorial.inspiradorM=0,this.tutorial.sumisoM=0,this.tutorial.timidoM=0,0==t&&(this.tutorial.valienteM=1,this.item11Error=this.setDuplicateError(this.tutorial.valienteL)),1==t&&(this.tutorial.inspiradorM=1,this.item11Error=this.setDuplicateError(this.tutorial.inspiradorL)),2==t&&(this.tutorial.sumisoM=1,this.item11Error=this.setDuplicateError(this.tutorial.sumisoL)),3==t&&(this.tutorial.timidoM=1,this.item11Error=this.setDuplicateError(this.tutorial.timidoL)),1}setL11(t){return this.tutorial.valienteL=0,this.tutorial.inspiradorL=0,this.tutorial.sumisoL=0,this.tutorial.timidoL=0,0==t&&(this.tutorial.valienteL=1,this.item11Error=this.setDuplicateError(this.tutorial.valienteM)),1==t&&(this.tutorial.inspiradorL=1,this.item11Error=this.setDuplicateError(this.tutorial.inspiradorM)),2==t&&(this.tutorial.sumisoL=1,this.item11Error=this.setDuplicateError(this.tutorial.sumisoM)),3==t&&(this.tutorial.timidoL=1,this.item11Error=this.setDuplicateError(this.tutorial.timidoM)),1}setM12(t){return this.tutorial.parlanchinM=0,this.tutorial.controladoM=0,this.tutorial.convencionalM=0,this.tutorial.decisivoM=0,0==t&&(this.tutorial.parlanchinM=1,this.item12Error=this.setDuplicateError(this.tutorial.parlanchinL)),1==t&&(this.tutorial.controladoM=1,this.item12Error=this.setDuplicateError(this.tutorial.controladoL)),2==t&&(this.tutorial.convencionalM=1,this.item12Error=this.setDuplicateError(this.tutorial.convencionalL)),3==t&&(this.tutorial.decisivoM=1,this.item12Error=this.setDuplicateError(this.tutorial.decisivoL)),1}setL12(t){return this.tutorial.parlanchinL=0,this.tutorial.controladoL=0,this.tutorial.convencionalL=0,this.tutorial.decisivoL=0,0==t&&(this.tutorial.parlanchinL=1,this.item12Error=this.setDuplicateError(this.tutorial.parlanchinM)),1==t&&(this.tutorial.controladoL=1,this.item12Error=this.setDuplicateError(this.tutorial.controladoM)),2==t&&(this.tutorial.convencionalL=1,this.item12Error=this.setDuplicateError(this.tutorial.convencionalM)),3==t&&(this.tutorial.decisivoL=1,this.item12Error=this.setDuplicateError(this.tutorial.decisivoM)),1}setM13(t){return this.tutorial.cautelosoM=0,this.tutorial.determinadoM=0,this.tutorial.convincenteM=0,this.tutorial.bonachonM=0,0==t&&(this.tutorial.cautelosoM=1,this.item13Error=this.setDuplicateError(this.tutorial.cautelosoL)),1==t&&(this.tutorial.determinadoM=1,this.item13Error=this.setDuplicateError(this.tutorial.determinadoL)),2==t&&(this.tutorial.convincenteM=1,this.item13Error=this.setDuplicateError(this.tutorial.convincenteL)),3==t&&(this.tutorial.bonachonM=1,this.item13Error=this.setDuplicateError(this.tutorial.bonachonL)),1}setL13(t){return this.tutorial.cautelosoL=0,this.tutorial.determinadoL=0,this.tutorial.convincenteL=0,this.tutorial.bonachonL=0,0==t&&(this.tutorial.cautelosoL=1,this.item13Error=this.setDuplicateError(this.tutorial.cautelosoM)),1==t&&(this.tutorial.determinadoL=1,this.item13Error=this.setDuplicateError(this.tutorial.determinadoM)),2==t&&(this.tutorial.convincenteL=1,this.item13Error=this.setDuplicateError(this.tutorial.convincenteM)),3==t&&(this.tutorial.bonachonL=1,this.item13Error=this.setDuplicateError(this.tutorial.bonachonM)),1}setM14(t){return this.tutorial.disciplinadoM=0,this.tutorial.generosoM=0,this.tutorial.ani_mosoM=0,this.tutorial.persistenteM=0,0==t&&(this.tutorial.disciplinadoM=1,this.item14Error=this.setDuplicateError(this.tutorial.disciplinadoL)),1==t&&(this.tutorial.generosoM=1,this.item14Error=this.setDuplicateError(this.tutorial.generosoL)),2==t&&(this.tutorial.ani_mosoM=1,this.item14Error=this.setDuplicateError(this.tutorial.ani_mosoL)),3==t&&(this.tutorial.persistenteM=1,this.item14Error=this.setDuplicateError(this.tutorial.persistenteL)),1}setL14(t){return this.tutorial.disciplinadoL=0,this.tutorial.generosoL=0,this.tutorial.ani_mosoL=0,this.tutorial.persistenteL=0,0==t&&(this.tutorial.disciplinadoL=1,this.item14Error=this.setDuplicateError(this.tutorial.disciplinadoM)),1==t&&(this.tutorial.generosoL=1,this.item14Error=this.setDuplicateError(this.tutorial.generosoM)),2==t&&(this.tutorial.ani_mosoL=1,this.item14Error=this.setDuplicateError(this.tutorial.ani_mosoM)),3==t&&(this.tutorial.persistenteL=1,this.item14Error=this.setDuplicateError(this.tutorial.persistenteM)),1}setM15(t){return this.tutorial.adaptableM=0,this.tutorial.disputadorM=0,this.tutorial.indiferenteM=0,this.tutorial.sangrelivianaM=0,0==t&&(this.tutorial.adaptableM=1,this.item15Error=this.setDuplicateError(this.tutorial.adaptableL)),1==t&&(this.tutorial.disputadorM=1,this.item15Error=this.setDuplicateError(this.tutorial.disputadorL)),2==t&&(this.tutorial.indiferenteM=1,this.item15Error=this.setDuplicateError(this.tutorial.indiferenteL)),3==t&&(this.tutorial.sangrelivianaM=1,this.item15Error=this.setDuplicateError(this.tutorial.sangrelivianaL)),1}setL15(t){return this.tutorial.adaptableL=0,this.tutorial.disputadorL=0,this.tutorial.indiferenteL=0,this.tutorial.sangrelivianaL=0,0==t&&(this.tutorial.adaptableL=1,this.item15Error=this.setDuplicateError(this.tutorial.adaptableM)),1==t&&(this.tutorial.disputadorL=1,this.item15Error=this.setDuplicateError(this.tutorial.disputadorM)),2==t&&(this.tutorial.indiferenteL=1,this.item15Error=this.setDuplicateError(this.tutorial.indiferenteM)),3==t&&(this.tutorial.sangrelivianaL=1,this.item15Error=this.setDuplicateError(this.tutorial.sangrelivianaM)),1}setM16(t){return this.tutorial.cohibidoM=0,this.tutorial.exactoM=0,this.tutorial.francoM=0,this.tutorial.buencompaneroM=0,0==t&&(this.tutorial.cohibidoM=1,this.item16Error=this.setDuplicateError(this.tutorial.cohibidoL)),1==t&&(this.tutorial.exactoM=1,this.item16Error=this.setDuplicateError(this.tutorial.exactoL)),2==t&&(this.tutorial.francoM=1,this.item16Error=this.setDuplicateError(this.tutorial.francoL)),3==t&&(this.tutorial.buencompaneroM=1,this.item16Error=this.setDuplicateError(this.tutorial.buencompaneroL)),1}setL16(t){return this.tutorial.cohibidoL=0,this.tutorial.exactoL=0,this.tutorial.francoL=0,this.tutorial.buencompaneroL=0,0==t&&(this.tutorial.cohibidoL=1,this.item16Error=this.setDuplicateError(this.tutorial.cohibidoM)),1==t&&(this.tutorial.exactoL=1,this.item16Error=this.setDuplicateError(this.tutorial.exactoM)),2==t&&(this.tutorial.francoL=1,this.item16Error=this.setDuplicateError(this.tutorial.francoM)),3==t&&(this.tutorial.buencompaneroL=1,this.item16Error=this.setDuplicateError(this.tutorial.buencompaneroM)),1}setM17(t){return this.tutorial.docilM=0,this.tutorial.atrevidoM=0,this.tutorial.lealM=0,this.tutorial.encantadorM=0,0==t&&(this.tutorial.docilM=1,this.item17Error=this.setDuplicateError(this.tutorial.docilL)),1==t&&(this.tutorial.atrevidoM=1,this.item17Error=this.setDuplicateError(this.tutorial.atrevidoL)),2==t&&(this.tutorial.lealM=1,this.item17Error=this.setDuplicateError(this.tutorial.lealL)),3==t&&(this.tutorial.encantadorM=1,this.item17Error=this.setDuplicateError(this.tutorial.encantadorL)),1}setL17(t){return this.tutorial.docilL=0,this.tutorial.atrevidoL=0,this.tutorial.lealL=0,this.tutorial.encantadorL=0,0==t&&(this.tutorial.docilL=1,this.item17Error=this.setDuplicateError(this.tutorial.docilM)),1==t&&(this.tutorial.atrevidoL=1,this.item17Error=this.setDuplicateError(this.tutorial.atrevidoM)),2==t&&(this.tutorial.lealL=1,this.item17Error=this.setDuplicateError(this.tutorial.lealM)),3==t&&(this.tutorial.encantadorL=1,this.item17Error=this.setDuplicateError(this.tutorial.encantadorM)),1}setM18(t){return this.tutorial.competitivoM=0,this.tutorial.alegreM=0,this.tutorial.consideradoM=0,this.tutorial.armoniosoM=0,0==t&&(this.tutorial.competitivoM=1,this.item18Error=this.setDuplicateError(this.tutorial.competitivoL)),1==t&&(this.tutorial.alegreM=1,this.item18Error=this.setDuplicateError(this.tutorial.alegreL)),2==t&&(this.tutorial.consideradoM=1,this.item18Error=this.setDuplicateError(this.tutorial.consideradoL)),3==t&&(this.tutorial.armoniosoM=1,this.item18Error=this.setDuplicateError(this.tutorial.armoniosoL)),1}setL18(t){return this.tutorial.competitivoL=0,this.tutorial.alegreL=0,this.tutorial.consideradoL=0,this.tutorial.armoniosoL=0,0==t&&(this.tutorial.competitivoL=1,this.item18Error=this.setDuplicateError(this.tutorial.competitivoM)),1==t&&(this.tutorial.alegreL=1,this.item18Error=this.setDuplicateError(this.tutorial.alegreM)),2==t&&(this.tutorial.consideradoL=1,this.item18Error=this.setDuplicateError(this.tutorial.consideradoM)),3==t&&(this.tutorial.armoniosoL=1,this.item18Error=this.setDuplicateError(this.tutorial.armoniosoM)),1}setM19(t){return this.tutorial.amigueroM=0,this.tutorial.pacienteM=0,this.tutorial.confianzamismoM=0,this.tutorial.mesuradohablarM=0,0==t&&(this.tutorial.amigueroM=1,this.item19Error=this.setDuplicateError(this.tutorial.amigueroL)),1==t&&(this.tutorial.pacienteM=1,this.item19Error=this.setDuplicateError(this.tutorial.pacienteL)),2==t&&(this.tutorial.confianzamismoM=1,this.item19Error=this.setDuplicateError(this.tutorial.confianzamismoL)),3==t&&(this.tutorial.mesuradohablarM=1,this.item19Error=this.setDuplicateError(this.tutorial.mesuradohablarL)),1}setL19(t){return this.tutorial.amigueroL=0,this.tutorial.pacienteL=0,this.tutorial.confianzamismoL=0,this.tutorial.mesuradohablarL=0,0==t&&(this.tutorial.amigueroL=1,this.item19Error=this.setDuplicateError(this.tutorial.amigueroM)),1==t&&(this.tutorial.pacienteL=1,this.item19Error=this.setDuplicateError(this.tutorial.pacienteM)),2==t&&(this.tutorial.confianzamismoL=1,this.item19Error=this.setDuplicateError(this.tutorial.confianzamismoM)),3==t&&(this.tutorial.mesuradohablarL=1,this.item19Error=this.setDuplicateError(this.tutorial.mesuradohablarM)),1}setM20(t){return this.tutorial.diplomaticoM=0,this.tutorial.audazM=0,this.tutorial.refinadoM=0,this.tutorial.satisfechoM=0,0==t&&(this.tutorial.diplomaticoM=1,this.item20Error=this.setDuplicateError(this.tutorial.diplomaticoL)),1==t&&(this.tutorial.audazM=1,this.item20Error=this.setDuplicateError(this.tutorial.audazL)),2==t&&(this.tutorial.refinadoM=1,this.item20Error=this.setDuplicateError(this.tutorial.refinadoL)),3==t&&(this.tutorial.satisfechoM=1,this.item20Error=this.setDuplicateError(this.tutorial.satisfechoL)),1}setL20(t){return this.tutorial.diplomaticoL=0,this.tutorial.audazL=0,this.tutorial.refinadoL=0,this.tutorial.satisfechoL=0,0==t&&(this.tutorial.diplomaticoL=1,this.item20Error=this.setDuplicateError(this.tutorial.diplomaticoM)),1==t&&(this.tutorial.audazL=1,this.item20Error=this.setDuplicateError(this.tutorial.audazM)),2==t&&(this.tutorial.refinadoL=1,this.item20Error=this.setDuplicateError(this.tutorial.refinadoM)),3==t&&(this.tutorial.satisfechoL=1,this.item20Error=this.setDuplicateError(this.tutorial.satisfechoM)),1}setM21(t){return this.tutorial.dispuestoM=0,this.tutorial.deseosoM=0,this.tutorial.consecuenteM=0,this.tutorial.entusiastaM=0,0==t&&(this.tutorial.dispuestoM=1,this.item21Error=this.setDuplicateError(this.tutorial.dispuestoL)),1==t&&(this.tutorial.deseosoM=1,this.item21Error=this.setDuplicateError(this.tutorial.deseosoL)),2==t&&(this.tutorial.consecuenteM=1,this.item21Error=this.setDuplicateError(this.tutorial.consecuenteL)),3==t&&(this.tutorial.entusiastaM=1,this.item21Error=this.setDuplicateError(this.tutorial.entusiastaL)),1}setL21(t){return this.tutorial.dispuestoL=0,this.tutorial.deseosoL=0,this.tutorial.consecuenteL=0,this.tutorial.entusiastaL=0,0==t&&(this.tutorial.dispuestoL=1,this.item21Error=this.setDuplicateError(this.tutorial.dispuestoM)),1==t&&(this.tutorial.deseosoL=1,this.item21Error=this.setDuplicateError(this.tutorial.deseosoM)),2==t&&(this.tutorial.consecuenteL=1,this.item21Error=this.setDuplicateError(this.tutorial.consecuenteM)),3==t&&(this.tutorial.entusiastaL=1,this.item21Error=this.setDuplicateError(this.tutorial.entusiastaM)),1}setM22(t){return this.tutorial.admirableM=0,this.tutorial.bondadosoM=0,this.tutorial.resignadoM=0,this.tutorial.caracterfirmeM=0,0==t&&(this.tutorial.admirableM=1,this.item22Error=this.setDuplicateError(this.tutorial.admirableL)),1==t&&(this.tutorial.bondadosoM=1,this.item22Error=this.setDuplicateError(this.tutorial.bondadosoL)),2==t&&(this.tutorial.resignadoM=1,this.item22Error=this.setDuplicateError(this.tutorial.resignadoL)),3==t&&(this.tutorial.caracterfirmeM=1,this.item22Error=this.setDuplicateError(this.tutorial.caracterfirmeL)),1}setL22(t){return this.tutorial.admirableL=0,this.tutorial.bondadosoL=0,this.tutorial.resignadoL=0,this.tutorial.caracterfirmeL=0,0==t&&(this.tutorial.admirableL=1,this.item22Error=this.setDuplicateError(this.tutorial.admirableM)),1==t&&(this.tutorial.bondadosoL=1,this.item22Error=this.setDuplicateError(this.tutorial.bondadosoM)),2==t&&(this.tutorial.resignadoL=1,this.item22Error=this.setDuplicateError(this.tutorial.resignadoM)),3==t&&(this.tutorial.caracterfirmeL=1,this.item22Error=this.setDuplicateError(this.tutorial.caracterfirmeM)),1}setM23(t){return this.tutorial.conformeM=0,this.tutorial.confiableM=0,this.tutorial.pacificoM=0,this.tutorial.positivoM=0,0==t&&(this.tutorial.conformeM=1,this.item23Error=this.setDuplicateError(this.tutorial.conformeL)),1==t&&(this.tutorial.confiableM=1,this.item23Error=this.setDuplicateError(this.tutorial.confiableL)),2==t&&(this.tutorial.pacificoM=1,this.item23Error=this.setDuplicateError(this.tutorial.pacificoL)),3==t&&(this.tutorial.positivoM=1,this.item23Error=this.setDuplicateError(this.tutorial.positivoL)),1}setL23(t){return this.tutorial.conformeL=0,this.tutorial.confiableL=0,this.tutorial.pacificoL=0,this.tutorial.positivoL=0,0==t&&(this.tutorial.conformeL=1,this.item23Error=this.setDuplicateError(this.tutorial.conformeM)),1==t&&(this.tutorial.confiableL=1,this.item23Error=this.setDuplicateError(this.tutorial.confiableM)),2==t&&(this.tutorial.pacificoL=1,this.item23Error=this.setDuplicateError(this.tutorial.pacificoM)),3==t&&(this.tutorial.positivoL=1,this.item23Error=this.setDuplicateError(this.tutorial.positivoM)),1}setM24(t){return this.tutorial.inquietoM=0,this.tutorial.popularM=0,this.tutorial.buenvecinoM=0,this.tutorial.devotoM=0,0==t&&(this.tutorial.inquietoM=1,this.item24Error=this.setDuplicateError(this.tutorial.inquietoL)),1==t&&(this.tutorial.popularM=1,this.item24Error=this.setDuplicateError(this.tutorial.popularL)),2==t&&(this.tutorial.buenvecinoM=1,this.item24Error=this.setDuplicateError(this.tutorial.buenvecinoL)),3==t&&(this.tutorial.devotoM=1,this.item24Error=this.setDuplicateError(this.tutorial.devotoL)),1}setL24(t){return this.tutorial.inquietoL=0,this.tutorial.popularL=0,this.tutorial.buenvecinoL=0,this.tutorial.devotoL=0,0==t&&(this.tutorial.inquietoL=1,this.item24Error=this.setDuplicateError(this.tutorial.inquietoM)),1==t&&(this.tutorial.popularL=1,this.item24Error=this.setDuplicateError(this.tutorial.popularM)),2==t&&(this.tutorial.buenvecinoL=1,this.item24Error=this.setDuplicateError(this.tutorial.buenvecinoM)),3==t&&(this.tutorial.devotoL=1,this.item24Error=this.setDuplicateError(this.tutorial.devotoM)),1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(CL))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-add-tutorial"]],decls:3,vars:2,consts:[[1,"submit-form"],[4,"ngIf"],[1,"form-group"],["for","description"],["id","description","required","","name","description",1,"form-control",3,"ngModel","ngModelChange"],[2,"color","red"],["id","facebook","required","","name","facebook",1,"form-control",3,"ngModel","ngModelChange"],["id","facultad","required","","name","facultad",1,"form-control",3,"ngModel","ngModelChange"],["value","fnt"],["value","fi"],["id","programaInteres","required","","name","programaInteres",1,"form-control",3,"ngModel","ngModelChange"],["value","LIS"],["value","LC"],["value","LAE"],["value","LGE"],["value","LTIO"],["value","LPOL"],["value","MDEIT"],["id","periodo","required","","name","periodo",1,"form-control",3,"ngModel","ngModelChange"],["value","2024"],["value","2025"],["value","2026"],["value","2027"],["for","title"],["type","radio","value","0","name","m1",1,"form-control",3,"click"],["type","radio","value","0","name","l1",1,"form-control",3,"click"],["type","radio","value","1","name","m1",1,"form-control",3,"click"],["type","radio","value","1","name","l1",1,"form-control",3,"click"],["type","radio","value","2","name","m1",1,"form-control",3,"click"],["type","radio","value","2","name","l1",1,"form-control",3,"click"],["type","radio","value","3","name","m1",1,"form-control",3,"click"],["type","radio","value","3","name","l1",1,"form-control",3,"click"],["type","radio","value","0","name","m2",1,"form-control",3,"click"],["type","radio","value","0","name","l2",1,"form-control",3,"click"],["type","radio","value","1","name","m2",1,"form-control",3,"click"],["type","radio","value","1","name","l2",1,"form-control",3,"click"],["type","radio","value","2","name","m2",1,"form-control",3,"click"],["type","radio","value","2","name","l2",1,"form-control",3,"click"],["type","radio","value","3","name","m2",1,"form-control",3,"click"],["type","radio","value","3","name","l2",1,"form-control",3,"click"],["type","radio","value","0","name","m3",1,"form-control",3,"click"],["type","radio","value","0","name","l3",1,"form-control",3,"click"],["type","radio","value","1","name","m3",1,"form-control",3,"click"],["type","radio","value","1","name","l3",1,"form-control",3,"click"],["type","radio","value","2","name","m3",1,"form-control",3,"click"],["type","radio","value","2","name","l3",1,"form-control",3,"click"],["type","radio","value","3","name","m3",1,"form-control",3,"click"],["type","radio","value","3","name","l3",1,"form-control",3,"click"],["type","radio","value","0","name","m4",1,"form-control",3,"click"],["type","radio","value","0","name","l4",1,"form-control",3,"click"],["type","radio","value","1","name","m4",1,"form-control",3,"click"],["type","radio","value","1","name","l4",1,"form-control",3,"click"],["type","radio","value","2","name","m4",1,"form-control",3,"click"],["type","radio","value","2","name","l4",1,"form-control",3,"click"],["type","radio","value","3","name","m4",1,"form-control",3,"click"],["type","radio","value","3","name","l4",1,"form-control",3,"click"],["type","radio","value","0","name","m5",1,"form-control",3,"click"],["type","radio","value","0","name","l5",1,"form-control",3,"click"],["type","radio","value","1","name","m5",1,"form-control",3,"click"],["type","radio","value","1","name","l5",1,"form-control",3,"click"],["type","radio","value","2","name","m5",1,"form-control",3,"click"],["type","radio","value","2","name","l5",1,"form-control",3,"click"],["type","radio","value","3","name","m5",1,"form-control",3,"click"],["type","radio","value","3","name","l5",1,"form-control",3,"click"],["type","radio","value","0","name","m6",1,"form-control",3,"click"],["type","radio","value","0","name","l6",1,"form-control",3,"click"],["type","radio","value","1","name","m6",1,"form-control",3,"click"],["type","radio","value","1","name","l6",1,"form-control",3,"click"],["type","radio","value","2","name","m6",1,"form-control",3,"click"],["type","radio","value","2","name","l6",1,"form-control",3,"click"],["type","radio","value","3","name","m6",1,"form-control",3,"click"],["type","radio","value","3","name","l6",1,"form-control",3,"click"],["type","radio","value","0","name","m7",1,"form-control",3,"click"],["type","radio","value","0","name","l7",1,"form-control",3,"click"],["type","radio","value","1","name","m7",1,"form-control",3,"click"],["type","radio","value","1","name","l7",1,"form-control",3,"click"],["type","radio","value","2","name","m7",1,"form-control",3,"click"],["type","radio","value","2","name","l7",1,"form-control",3,"click"],["type","radio","value","3","name","m7",1,"form-control",3,"click"],["type","radio","value","3","name","l7",1,"form-control",3,"click"],["type","radio","value","0","name","m8",1,"form-control",3,"click"],["type","radio","value","0","name","l8",1,"form-control",3,"click"],["type","radio","value","1","name","m8",1,"form-control",3,"click"],["type","radio","value","1","name","l8",1,"form-control",3,"click"],["type","radio","value","2","name","m8",1,"form-control",3,"click"],["type","radio","value","2","name","l8",1,"form-control",3,"click"],["type","radio","value","3","name","m8",1,"form-control",3,"click"],["type","radio","value","3","name","l8",1,"form-control",3,"click"],["type","radio","value","0","name","m9",1,"form-control",3,"click"],["type","radio","value","0","name","l9",1,"form-control",3,"click"],["type","radio","value","1","name","m9",1,"form-control",3,"click"],["type","radio","value","1","name","l9",1,"form-control",3,"click"],["type","radio","value","2","name","m9",1,"form-control",3,"click"],["type","radio","value","2","name","l9",1,"form-control",3,"click"],["type","radio","value","3","name","m9",1,"form-control",3,"click"],["type","radio","value","3","name","l9",1,"form-control",3,"click"],["type","radio","value","0","name","m10",1,"form-control",3,"click"],["type","radio","value","0","name","l10",1,"form-control",3,"click"],["type","radio","value","1","name","m10",1,"form-control",3,"click"],["type","radio","value","1","name","l10",1,"form-control",3,"click"],["type","radio","value","2","name","m10",1,"form-control",3,"click"],["type","radio","value","2","name","l10",1,"form-control",3,"click"],["type","radio","value","3","name","m10",1,"form-control",3,"click"],["type","radio","value","3","name","l10",1,"form-control",3,"click"],["type","radio","value","0","name","m11",1,"form-control",3,"click"],["type","radio","value","0","name","l11",1,"form-control",3,"click"],["type","radio","value","1","name","m11",1,"form-control",3,"click"],["type","radio","value","1","name","l11",1,"form-control",3,"click"],["type","radio","value","2","name","m11",1,"form-control",3,"click"],["type","radio","value","2","name","l11",1,"form-control",3,"click"],["type","radio","value","3","name","m11",1,"form-control",3,"click"],["type","radio","value","3","name","l11",1,"form-control",3,"click"],["type","radio","value","0","name","m12",1,"form-control",3,"click"],["type","radio","value","0","name","l12",1,"form-control",3,"click"],["type","radio","value","1","name","m12",1,"form-control",3,"click"],["type","radio","value","1","name","l12",1,"form-control",3,"click"],["type","radio","value","2","name","m12",1,"form-control",3,"click"],["type","radio","value","2","name","l12",1,"form-control",3,"click"],["type","radio","value","3","name","m12",1,"form-control",3,"click"],["type","radio","value","3","name","l12",1,"form-control",3,"click"],["type","radio","value","0","name","m13",1,"form-control",3,"click"],["type","radio","value","0","name","l13",1,"form-control",3,"click"],["type","radio","value","1","name","m13",1,"form-control",3,"click"],["type","radio","value","1","name","l13",1,"form-control",3,"click"],["type","radio","value","2","name","m13",1,"form-control",3,"click"],["type","radio","value","2","name","l13",1,"form-control",3,"click"],["type","radio","value","3","name","m13",1,"form-control",3,"click"],["type","radio","value","3","name","l13",1,"form-control",3,"click"],["type","radio","value","0","name","m14",1,"form-control",3,"click"],["type","radio","value","0","name","l14",1,"form-control",3,"click"],["type","radio","value","1","name","m14",1,"form-control",3,"click"],["type","radio","value","1","name","l14",1,"form-control",3,"click"],["type","radio","value","2","name","m14",1,"form-control",3,"click"],["type","radio","value","2","name","l14",1,"form-control",3,"click"],["type","radio","value","3","name","m14",1,"form-control",3,"click"],["type","radio","value","3","name","l14",1,"form-control",3,"click"],["type","radio","value","0","name","m15",1,"form-control",3,"click"],["type","radio","value","0","name","l15",1,"form-control",3,"click"],["type","radio","value","1","name","m15",1,"form-control",3,"click"],["type","radio","value","1","name","l15",1,"form-control",3,"click"],["type","radio","value","2","name","m15",1,"form-control",3,"click"],["type","radio","value","2","name","l15",1,"form-control",3,"click"],["type","radio","value","3","name","m15",1,"form-control",3,"click"],["type","radio","value","3","name","l15",1,"form-control",3,"click"],["type","radio","value","0","name","m16",1,"form-control",3,"click"],["type","radio","value","0","name","l16",1,"form-control",3,"click"],["type","radio","value","1","name","m16",1,"form-control",3,"click"],["type","radio","value","1","name","l16",1,"form-control",3,"click"],["type","radio","value","2","name","m16",1,"form-control",3,"click"],["type","radio","value","2","name","l16",1,"form-control",3,"click"],["type","radio","value","3","name","m16",1,"form-control",3,"click"],["type","radio","value","3","name","l16",1,"form-control",3,"click"],["type","radio","value","0","name","m17",1,"form-control",3,"click"],["type","radio","value","0","name","l17",1,"form-control",3,"click"],["type","radio","value","1","name","m17",1,"form-control",3,"click"],["type","radio","value","1","name","l17",1,"form-control",3,"click"],["type","radio","value","2","name","m17",1,"form-control",3,"click"],["type","radio","value","2","name","l17",1,"form-control",3,"click"],["type","radio","value","3","name","m17",1,"form-control",3,"click"],["type","radio","value","3","name","l17",1,"form-control",3,"click"],["type","radio","value","0","name","m18",1,"form-control",3,"click"],["type","radio","value","0","name","l18",1,"form-control",3,"click"],["type","radio","value","1","name","m18",1,"form-control",3,"click"],["type","radio","value","1","name","l18",1,"form-control",3,"click"],["type","radio","value","2","name","m18",1,"form-control",3,"click"],["type","radio","value","2","name","l18",1,"form-control",3,"click"],["type","radio","value","3","name","m18",1,"form-control",3,"click"],["type","radio","value","3","name","l18",1,"form-control",3,"click"],["type","radio","value","0","name","m19",1,"form-control",3,"click"],["type","radio","value","0","name","l19",1,"form-control",3,"click"],["type","radio","value","1","name","m19",1,"form-control",3,"click"],["type","radio","value","1","name","l19",1,"form-control",3,"click"],["type","radio","value","2","name","m19",1,"form-control",3,"click"],["type","radio","value","2","name","l19",1,"form-control",3,"click"],["type","radio","value","3","name","m19",1,"form-control",3,"click"],["type","radio","value","3","name","l19",1,"form-control",3,"click"],["type","radio","value","0","name","m20",1,"form-control",3,"click"],["type","radio","value","0","name","l20",1,"form-control",3,"click"],["type","radio","value","1","name","m20",1,"form-control",3,"click"],["type","radio","value","1","name","l20",1,"form-control",3,"click"],["type","radio","value","2","name","m20",1,"form-control",3,"click"],["type","radio","value","2","name","l20",1,"form-control",3,"click"],["type","radio","value","3","name","m20",1,"form-control",3,"click"],["type","radio","value","3","name","l20",1,"form-control",3,"click"],["type","radio","value","0","name","m21",1,"form-control",3,"click"],["type","radio","value","0","name","l21",1,"form-control",3,"click"],["type","radio","value","1","name","m21",1,"form-control",3,"click"],["type","radio","value","1","name","l21",1,"form-control",3,"click"],["type","radio","value","2","name","m21",1,"form-control",3,"click"],["type","radio","value","2","name","l21",1,"form-control",3,"click"],["type","radio","value","3","name","m21",1,"form-control",3,"click"],["type","radio","value","3","name","l21",1,"form-control",3,"click"],["type","radio","value","0","name","m22",1,"form-control",3,"click"],["type","radio","value","0","name","l22",1,"form-control",3,"click"],["type","radio","value","1","name","m22",1,"form-control",3,"click"],["type","radio","value","1","name","l22",1,"form-control",3,"click"],["type","radio","value","2","name","m22",1,"form-control",3,"click"],["type","radio","value","2","name","l22",1,"form-control",3,"click"],["type","radio","value","3","name","m22",1,"form-control",3,"click"],["type","radio","value","3","name","l22",1,"form-control",3,"click"],["type","radio","value","0","name","m23",1,"form-control",3,"click"],["type","radio","value","0","name","l23",1,"form-control",3,"click"],["type","radio","value","1","name","m23",1,"form-control",3,"click"],["type","radio","value","1","name","l23",1,"form-control",3,"click"],["type","radio","value","2","name","m23",1,"form-control",3,"click"],["type","radio","value","2","name","l23",1,"form-control",3,"click"],["type","radio","value","3","name","m23",1,"form-control",3,"click"],["type","radio","value","3","name","l23",1,"form-control",3,"click"],["type","radio","value","0","name","m24",1,"form-control",3,"click"],["type","radio","value","0","name","l24",1,"form-control",3,"click"],["type","radio","value","1","name","m24",1,"form-control",3,"click"],["type","radio","value","1","name","l24",1,"form-control",3,"click"],["type","radio","value","2","name","m24",1,"form-control",3,"click"],["type","radio","value","2","name","l24",1,"form-control",3,"click"],["type","radio","value","3","name","m24",1,"form-control",3,"click"],["type","radio","value","3","name","l24",1,"form-control",3,"click"],[1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,bL,1192,39,"div",1),a.YNc(2,AL,29,31,"div",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",!r.submitted),a.xp6(1),a.Q6J("ngIf",r.submitted))},dependencies:[Rs,Fm,kc,$o,Rc,Xs,dl,Ip],styles:[".submit-form[_ngcontent-%COMP%]{max-width:300px;margin:auto}"]}),n})()}];let SL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[rN.forRoot(ML),rN]}),n})(),xL=(()=>{class n{constructor(){this.title="test Cleaver"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:9,vars:1,consts:[[1,"navbar","navbar-expand","navbar-dark","bg-success"],["href","#",1,"navbar-brand"],[1,"navbar-nav","mr-auto"],[1,"container","mt-3"]],template:function(t,r){1&t&&(a.TgZ(0,"div")(1,"nav",0)(2,"a",1),a._uU(3,"UV - test de Cleaver"),a.qZA(),a._UZ(4,"div",2),a.qZA(),a.TgZ(5,"div",3)(6,"h2"),a._uU(7),a.qZA(),a._UZ(8,"router-outlet"),a.qZA()()),2&t&&(a.xp6(7),a.Oqu(r.title))},dependencies:[fM],styles:[".container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin:25px auto}"]}),n})(),NL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[xL]}),n.\u0275inj=a.cJS({imports:[fs,SL,Ih,Si.hO.initializeApp(ik_firebase),rk]}),n})();Kd().bootstrapModule(NL).catch(n=>console.error(n))},1135:(ct,Ie,k)=>{k.d(Ie,{X:()=>$});var a=k(7579);class $ extends a.x{constructor(X){super(),this._value=X}get value(){return this.getValue()}_subscribe(X){const ne=super._subscribe(X);return!ne.closed&&X.next(this._value),ne}getValue(){const{hasError:X,thrownError:ne,_value:ce}=this;if(X)throw ne;return this._throwIfClosed(),ce}next(X){super.next(this._value=X)}}},9751:(ct,Ie,k)=>{k.d(Ie,{y:()=>ke});var a=k(2961),$=k(727),O=k(8822),X=k(9635),ne=k(2416),ce=k(576),fe=k(2806);let ke=(()=>{class J{constructor(De){De&&(this._subscribe=De)}lift(De){const Ye=new J;return Ye.source=this,Ye.operator=De,Ye}subscribe(De,Ye,Se){const Ge=function Z(J){return J&&J instanceof a.Lv||function V(J){return J&&(0,ce.m)(J.next)&&(0,ce.m)(J.error)&&(0,ce.m)(J.complete)}(J)&&(0,$.Nn)(J)}(De)?De:new a.Hp(De,Ye,Se);return(0,fe.x)(()=>{const{operator:Ne,source:_t}=this;Ge.add(Ne?Ne.call(Ge,_t):_t?this._subscribe(Ge):this._trySubscribe(Ge))}),Ge}_trySubscribe(De){try{return this._subscribe(De)}catch(Ye){De.error(Ye)}}forEach(De,Ye){return new(Ye=de(Ye))((Se,Ge)=>{const Ne=new a.Hp({next:_t=>{try{De(_t)}catch(ht){Ge(ht),Ne.unsubscribe()}},error:Ge,complete:Se});this.subscribe(Ne)})}_subscribe(De){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(De)}[O.L](){return this}pipe(...De){return(0,X.U)(De)(this)}toPromise(De){return new(De=de(De))((Ye,Se)=>{let Ge;this.subscribe(Ne=>Ge=Ne,Ne=>Se(Ne),()=>Ye(Ge))})}}return J.create=Pe=>new J(Pe),J})();function de(J){var Pe;return null!==(Pe=J??ne.config.Promise)&&void 0!==Pe?Pe:Promise}},7579:(ct,Ie,k)=>{k.d(Ie,{x:()=>fe});var a=k(9751),$=k(727);const X=(0,k(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=k(8737),ce=k(2806);let fe=(()=>{class de extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const J=new ke(this,this);return J.operator=Z,J}_throwIfClosed(){if(this.closed)throw new X}next(Z){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const J of this.currentObservers)J.next(Z)}})}error(Z){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:J}=this;for(;J.length;)J.shift().error(Z)}})}complete(){(0,ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:J,isStopped:Pe,observers:De}=this;return J||Pe?$.Lc:(this.currentObservers=null,De.push(Z),new $.w0(()=>{this.currentObservers=null,(0,ne.P)(De,Z)}))}_checkFinalizedStatuses(Z){const{hasError:J,thrownError:Pe,isStopped:De}=this;J?Z.error(Pe):De&&Z.complete()}asObservable(){const Z=new a.y;return Z.source=this,Z}}return de.create=(V,Z)=>new ke(V,Z),de})();class ke extends fe{constructor(V,Z){super(),this.destination=V,this.source=Z}next(V){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===J||J.call(Z,V)}error(V){var Z,J;null===(J=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===J||J.call(Z,V)}complete(){var V,Z;null===(Z=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===Z||Z.call(V)}_subscribe(V){var Z,J;return null!==(J=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(V))&&void 0!==J?J:$.Lc}}},2961:(ct,Ie,k)=>{k.d(Ie,{Hp:()=>Se,Lv:()=>J});var a=k(576),$=k(727),O=k(2416),X=k(7849);function ne(){}const ce=de("C",void 0,void 0);function de(te,pe,W){return{kind:te,value:pe,error:W}}var V=k(3410),Z=k(2806);class J extends $.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,$.Nn)(pe)&&pe.add(this)):this.destination=ht}static create(pe,W,he){return new Se(pe,W,he)}next(pe){this.isStopped?_t(function ke(te){return de("N",te,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?_t(function fe(te){return de("E",void 0,te)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?_t(ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function De(te,pe){return Pe.call(te,pe)}class Ye{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:W}=this;if(W.next)try{W.next(pe)}catch(he){Ge(he)}}error(pe){const{partialObserver:W}=this;if(W.error)try{W.error(pe)}catch(he){Ge(he)}else Ge(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(W){Ge(W)}}}class Se extends J{constructor(pe,W,he){let be;if(super(),(0,a.m)(pe)||!pe)be={next:pe??void 0,error:W??void 0,complete:he??void 0};else{let Ve;this&&O.config.useDeprecatedNextContext?(Ve=Object.create(pe),Ve.unsubscribe=()=>this.unsubscribe(),be={next:pe.next&&De(pe.next,Ve),error:pe.error&&De(pe.error,Ve),complete:pe.complete&&De(pe.complete,Ve)}):be=pe}this.destination=new Ye(be)}}function Ge(te){O.config.useDeprecatedSynchronousErrorHandling?(0,Z.O)(te):(0,X.h)(te)}function _t(te,pe){const{onStoppedNotification:W}=O.config;W&&V.z.setTimeout(()=>W(te,pe))}const ht={closed:!0,next:ne,error:function Ne(te){throw te},complete:ne}},727:(ct,Ie,k)=>{k.d(Ie,{Lc:()=>ce,w0:()=>ne,Nn:()=>fe});var a=k(576);const O=(0,k(3888).d)(de=>function(Z){de(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((J,Pe)=>`${Pe+1}) ${J.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var X=k(8737);class ne{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const De of Z)De.remove(this);else Z.remove(this);const{initialTeardown:J}=this;if((0,a.m)(J))try{J()}catch(De){V=De instanceof O?De.errors:[De]}const{_finalizers:Pe}=this;if(Pe){this._finalizers=null;for(const De of Pe)try{ke(De)}catch(Ye){V=V??[],Ye instanceof O?V=[...V,...Ye.errors]:V.push(Ye)}}if(V)throw new O(V)}}add(V){var Z;if(V&&V!==this)if(this.closed)ke(V);else{if(V instanceof ne){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(V)}}_hasParent(V){const{_parentage:Z}=this;return Z===V||Array.isArray(Z)&&Z.includes(V)}_addParent(V){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(V),Z):Z?[Z,V]:V}_removeParent(V){const{_parentage:Z}=this;Z===V?this._parentage=null:Array.isArray(Z)&&(0,X.P)(Z,V)}remove(V){const{_finalizers:Z}=this;Z&&(0,X.P)(Z,V),V instanceof ne&&V._removeParent(this)}}ne.EMPTY=(()=>{const de=new ne;return de.closed=!0,de})();const ce=ne.EMPTY;function fe(de){return de instanceof ne||de&&"closed"in de&&(0,a.m)(de.remove)&&(0,a.m)(de.add)&&(0,a.m)(de.unsubscribe)}function ke(de){(0,a.m)(de)?de():de.unsubscribe()}},2416:(ct,Ie,k)=>{k.d(Ie,{config:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ct,Ie,k)=>{k.d(Ie,{E:()=>$});const $=new(k(9751).y)(ne=>ne.complete())},8996:(ct,Ie,k)=>{k.d(Ie,{D:()=>pe});var a=k(8421),$=k(5363),O=k(9468),ce=k(9751),ke=k(2202),de=k(576),V=k(9672);function J(W,he){if(!W)throw new Error("Iterable cannot be null");return new ce.y(be=>{(0,V.f)(be,he,()=>{const Ve=W[Symbol.asyncIterator]();(0,V.f)(be,he,()=>{Ve.next().then(ie=>{ie.done?be.complete():be.next(ie.value)})},0,!0)})})}var Pe=k(3670),De=k(8239),Ye=k(1144),Se=k(6495),Ge=k(2206),Ne=k(4532),_t=k(3260);function pe(W,he){return he?function te(W,he){if(null!=W){if((0,Pe.c)(W))return function X(W,he){return(0,a.Xf)(W).pipe((0,O.R)(he),(0,$.Q)(he))}(W,he);if((0,Ye.z)(W))return function fe(W,he){return new ce.y(be=>{let Ve=0;return he.schedule(function(){Ve===W.length?be.complete():(be.next(W[Ve++]),be.closed||this.schedule())})})}(W,he);if((0,De.t)(W))return function ne(W,he){return(0,a.Xf)(W).pipe((0,O.R)(he),(0,$.Q)(he))}(W,he);if((0,Ge.D)(W))return J(W,he);if((0,Se.T)(W))return function Z(W,he){return new ce.y(be=>{let Ve;return(0,V.f)(be,he,()=>{Ve=W[ke.h](),(0,V.f)(be,he,()=>{let ie,He;try{({value:ie,done:He}=Ve.next())}catch(jt){return void be.error(jt)}He?be.complete():be.next(ie)},0,!0)}),()=>(0,de.m)(Ve?.return)&&Ve.return()})}(W,he);if((0,_t.L)(W))return function ht(W,he){return J((0,_t.Q)(W),he)}(W,he)}throw(0,Ne.z)(W)}(W,he):(0,a.Xf)(W)}},8421:(ct,Ie,k)=>{k.d(Ie,{Xf:()=>Pe});var a=k(7582),$=k(1144),O=k(8239),X=k(9751),ne=k(3670),ce=k(2206),fe=k(4532),ke=k(6495),de=k(3260),V=k(576),Z=k(7849),J=k(8822);function Pe(te){if(te instanceof X.y)return te;if(null!=te){if((0,ne.c)(te))return function De(te){return new X.y(pe=>{const W=te[J.L]();if((0,V.m)(W.subscribe))return W.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,$.z)(te))return function Ye(te){return new X.y(pe=>{for(let W=0;W<te.length&&!pe.closed;W++)pe.next(te[W]);pe.complete()})}(te);if((0,O.t)(te))return function Se(te){return new X.y(pe=>{te.then(W=>{pe.closed||(pe.next(W),pe.complete())},W=>pe.error(W)).then(null,Z.h)})}(te);if((0,ce.D)(te))return Ne(te);if((0,ke.T)(te))return function Ge(te){return new X.y(pe=>{for(const W of te)if(pe.next(W),pe.closed)return;pe.complete()})}(te);if((0,de.L)(te))return function _t(te){return Ne((0,de.Q)(te))}(te)}throw(0,fe.z)(te)}function Ne(te){return new X.y(pe=>{(function ht(te,pe){var W,he,be,Ve;return(0,a.mG)(this,void 0,void 0,function*(){try{for(W=(0,a.KL)(te);!(he=yield W.next()).done;)if(pe.next(he.value),pe.closed)return}catch(ie){be={error:ie}}finally{try{he&&!he.done&&(Ve=W.return)&&(yield Ve.call(W))}finally{if(be)throw be.error}}pe.complete()})})(te,pe).catch(W=>pe.error(W))})}},6451:(ct,Ie,k)=>{k.d(Ie,{T:()=>ce});var a=k(8189),$=k(8421),O=k(515),X=k(7669),ne=k(8996);function ce(...fe){const ke=(0,X.yG)(fe),de=(0,X._6)(fe,1/0),V=fe;return V.length?1===V.length?(0,$.Xf)(V[0]):(0,a.J)(de)((0,ne.D)(V,ke)):O.E}},9646:(ct,Ie,k)=>{k.d(Ie,{of:()=>O});var a=k(7669),$=k(8996);function O(...X){const ne=(0,a.yG)(X);return(0,$.D)(X,ne)}},5403:(ct,Ie,k)=>{k.d(Ie,{x:()=>$});var a=k(2961);function $(X,ne,ce,fe,ke){return new O(X,ne,ce,fe,ke)}class O extends a.Lv{constructor(ne,ce,fe,ke,de,V){super(ne),this.onFinalize=de,this.shouldUnsubscribe=V,this._next=ce?function(Z){try{ce(Z)}catch(J){ne.error(J)}}:super._next,this._error=ke?function(Z){try{ke(Z)}catch(J){ne.error(J)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(Z){ne.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ce}=this;super.unsubscribe(),!ce&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},1884:(ct,Ie,k)=>{k.d(Ie,{x:()=>X});var a=k(4671),$=k(4482),O=k(5403);function X(ce,fe=a.y){return ce=ce??ne,(0,$.e)((ke,de)=>{let V,Z=!0;ke.subscribe((0,O.x)(de,J=>{const Pe=fe(J);(Z||!ce(V,Pe))&&(Z=!1,V=Pe,de.next(J))}))})}function ne(ce,fe){return ce===fe}},4004:(ct,Ie,k)=>{k.d(Ie,{U:()=>O});var a=k(4482),$=k(5403);function O(X,ne){return(0,a.e)((ce,fe)=>{let ke=0;ce.subscribe((0,$.x)(fe,de=>{fe.next(X.call(ne,de,ke++))}))})}},8189:(ct,Ie,k)=>{k.d(Ie,{J:()=>O});var a=k(5577),$=k(4671);function O(X=1/0){return(0,a.z)($.y,X)}},5577:(ct,Ie,k)=>{k.d(Ie,{z:()=>ke});var a=k(4004),$=k(8421),O=k(4482),X=k(9672),ne=k(5403),fe=k(576);function ke(de,V,Z=1/0){return(0,fe.m)(V)?ke((J,Pe)=>(0,a.U)((De,Ye)=>V(J,De,Pe,Ye))((0,$.Xf)(de(J,Pe))),Z):("number"==typeof V&&(Z=V),(0,O.e)((J,Pe)=>function ce(de,V,Z,J,Pe,De,Ye,Se){const Ge=[];let Ne=0,_t=0,ht=!1;const te=()=>{ht&&!Ge.length&&!Ne&&V.complete()},pe=he=>Ne<J?W(he):Ge.push(he),W=he=>{De&&V.next(he),Ne++;let be=!1;(0,$.Xf)(Z(he,_t++)).subscribe((0,ne.x)(V,Ve=>{Pe?.(Ve),De?pe(Ve):V.next(Ve)},()=>{be=!0},void 0,()=>{if(be)try{for(Ne--;Ge.length&&Ne<J;){const Ve=Ge.shift();Ye?(0,X.f)(V,Ye,()=>W(Ve)):W(Ve)}te()}catch(Ve){V.error(Ve)}}))};return de.subscribe((0,ne.x)(V,pe,()=>{ht=!0,te()})),()=>{Se?.()}}(J,Pe,de,Z)))}},5363:(ct,Ie,k)=>{k.d(Ie,{Q:()=>X});var a=k(9672),$=k(4482),O=k(5403);function X(ne,ce=0){return(0,$.e)((fe,ke)=>{fe.subscribe((0,O.x)(ke,de=>(0,a.f)(ke,ne,()=>ke.next(de),ce),()=>(0,a.f)(ke,ne,()=>ke.complete(),ce),de=>(0,a.f)(ke,ne,()=>ke.error(de),ce)))})}},3099:(ct,Ie,k)=>{k.d(Ie,{B:()=>ne});var a=k(8421),$=k(7579),O=k(2961),X=k(4482);function ne(fe={}){const{connector:ke=(()=>new $.x),resetOnError:de=!0,resetOnComplete:V=!0,resetOnRefCountZero:Z=!0}=fe;return J=>{let Pe,De,Ye,Se=0,Ge=!1,Ne=!1;const _t=()=>{De?.unsubscribe(),De=void 0},ht=()=>{_t(),Pe=Ye=void 0,Ge=Ne=!1},te=()=>{const pe=Pe;ht(),pe?.unsubscribe()};return(0,X.e)((pe,W)=>{Se++,!Ne&&!Ge&&_t();const he=Ye=Ye??ke();W.add(()=>{Se--,0===Se&&!Ne&&!Ge&&(De=ce(te,Z))}),he.subscribe(W),!Pe&&Se>0&&(Pe=new O.Hp({next:be=>he.next(be),error:be=>{Ne=!0,_t(),De=ce(ht,de,be),he.error(be)},complete:()=>{Ge=!0,_t(),De=ce(ht,V),he.complete()}}),(0,a.Xf)(pe).subscribe(Pe))})(J)}}function ce(fe,ke,...de){if(!0===ke)return void fe();if(!1===ke)return;const V=new O.Hp({next:()=>{V.unsubscribe(),fe()}});return(0,a.Xf)(ke(...de)).subscribe(V)}},9468:(ct,Ie,k)=>{k.d(Ie,{R:()=>$});var a=k(4482);function $(O,X=0){return(0,a.e)((ne,ce)=>{ce.add(O.schedule(()=>ne.subscribe(ce),X))})}},8505:(ct,Ie,k)=>{k.d(Ie,{b:()=>ne});var a=k(576),$=k(4482),O=k(5403),X=k(4671);function ne(ce,fe,ke){const de=(0,a.m)(ce)||fe||ke?{next:ce,error:fe,complete:ke}:ce;return de?(0,$.e)((V,Z)=>{var J;null===(J=de.subscribe)||void 0===J||J.call(de);let Pe=!0;V.subscribe((0,O.x)(Z,De=>{var Ye;null===(Ye=de.next)||void 0===Ye||Ye.call(de,De),Z.next(De)},()=>{var De;Pe=!1,null===(De=de.complete)||void 0===De||De.call(de),Z.complete()},De=>{var Ye;Pe=!1,null===(Ye=de.error)||void 0===Ye||Ye.call(de,De),Z.error(De)},()=>{var De,Ye;Pe&&(null===(De=de.unsubscribe)||void 0===De||De.call(de)),null===(Ye=de.finalize)||void 0===Ye||Ye.call(de)}))}):X.y}},4408:(ct,Ie,k)=>{k.d(Ie,{o:()=>ne});var a=k(727);class $ extends a.w0{constructor(fe,ke){super()}schedule(fe,ke=0){return this}}const O={setInterval(ce,fe,...ke){const{delegate:de}=O;return de?.setInterval?de.setInterval(ce,fe,...ke):setInterval(ce,fe,...ke)},clearInterval(ce){const{delegate:fe}=O;return(fe?.clearInterval||clearInterval)(ce)},delegate:void 0};var X=k(8737);class ne extends ${constructor(fe,ke){super(fe,ke),this.scheduler=fe,this.work=ke,this.pending=!1}schedule(fe,ke=0){var de;if(this.closed)return this;this.state=fe;const V=this.id,Z=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId(Z,V,ke)),this.pending=!0,this.delay=ke,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(Z,this.id,ke),this}requestAsyncId(fe,ke,de=0){return O.setInterval(fe.flush.bind(fe,this),de)}recycleAsyncId(fe,ke,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ke;null!=ke&&O.clearInterval(ke)}execute(fe,ke){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(fe,ke);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ke){let V,de=!1;try{this.work(fe)}catch(Z){de=!0,V=Z||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ke}=this,{actions:de}=ke;this.work=this.state=this.scheduler=null,this.pending=!1,(0,X.P)(de,this),null!=fe&&(this.id=this.recycleAsyncId(ke,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ct,Ie,k)=>{k.d(Ie,{v:()=>O});var a=k(6063);class ${constructor(ne,ce=$.now){this.schedulerActionCtor=ne,this.now=ce}schedule(ne,ce=0,fe){return new this.schedulerActionCtor(this,ne).schedule(fe,ce)}}$.now=a.l.now;class O extends ${constructor(ne,ce=$.now){super(ne,ce),this.actions=[],this._active=!1}flush(ne){const{actions:ce}=this;if(this._active)return void ce.push(ne);let fe;this._active=!0;do{if(fe=ne.execute(ne.state,ne.delay))break}while(ne=ce.shift());if(this._active=!1,fe){for(;ne=ce.shift();)ne.unsubscribe();throw fe}}}},4986:(ct,Ie,k)=>{k.d(Ie,{z:()=>O});var a=k(4408);const O=new(k(7565).v)(a.o)},6063:(ct,Ie,k)=>{k.d(Ie,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(ct,Ie,k)=>{k.d(Ie,{z:()=>a});const a={setTimeout($,O,...X){const{delegate:ne}=a;return ne?.setTimeout?ne.setTimeout($,O,...X):setTimeout($,O,...X)},clearTimeout($){const{delegate:O}=a;return(O?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(ct,Ie,k)=>{k.d(Ie,{h:()=>$});const $=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ct,Ie,k)=>{k.d(Ie,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ct,Ie,k)=>{k.d(Ie,{_6:()=>ce,jO:()=>X,yG:()=>ne});var a=k(576);function O(fe){return fe[fe.length-1]}function X(fe){return(0,a.m)(O(fe))?fe.pop():void 0}function ne(fe){return function $(fe){return fe&&(0,a.m)(fe.schedule)}(O(fe))?fe.pop():void 0}function ce(fe,ke){return"number"==typeof O(fe)?fe.pop():ke}},8737:(ct,Ie,k)=>{function a($,O){if($){const X=$.indexOf(O);0<=X&&$.splice(X,1)}}k.d(Ie,{P:()=>a})},3888:(ct,Ie,k)=>{function a($){const X=$(ne=>{Error.call(ne),ne.stack=(new Error).stack});return X.prototype=Object.create(Error.prototype),X.prototype.constructor=X,X}k.d(Ie,{d:()=>a})},2806:(ct,Ie,k)=>{k.d(Ie,{O:()=>X,x:()=>O});var a=k(2416);let $=null;function O(ne){if(a.config.useDeprecatedSynchronousErrorHandling){const ce=!$;if(ce&&($={errorThrown:!1,error:null}),ne(),ce){const{errorThrown:fe,error:ke}=$;if($=null,fe)throw ke}}else ne()}function X(ne){a.config.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ne)}},9672:(ct,Ie,k)=>{function a($,O,X,ne=0,ce=!1){const fe=O.schedule(function(){X(),ce?$.add(this.schedule(null,ne)):this.unsubscribe()},ne);if($.add(fe),!ce)return fe}k.d(Ie,{f:()=>a})},4671:(ct,Ie,k)=>{function a($){return $}k.d(Ie,{y:()=>a})},1144:(ct,Ie,k)=>{k.d(Ie,{z:()=>a});const a=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(ct,Ie,k)=>{k.d(Ie,{D:()=>$});var a=k(576);function $(O){return Symbol.asyncIterator&&(0,a.m)(O?.[Symbol.asyncIterator])}},576:(ct,Ie,k)=>{function a($){return"function"==typeof $}k.d(Ie,{m:()=>a})},3670:(ct,Ie,k)=>{k.d(Ie,{c:()=>O});var a=k(8822),$=k(576);function O(X){return(0,$.m)(X[a.L])}},6495:(ct,Ie,k)=>{k.d(Ie,{T:()=>O});var a=k(2202),$=k(576);function O(X){return(0,$.m)(X?.[a.h])}},8239:(ct,Ie,k)=>{k.d(Ie,{t:()=>$});var a=k(576);function $(O){return(0,a.m)(O?.then)}},3260:(ct,Ie,k)=>{k.d(Ie,{L:()=>X,Q:()=>O});var a=k(7582),$=k(576);function O(ne){return(0,a.FC)(this,arguments,function*(){const fe=ne.getReader();try{for(;;){const{value:ke,done:de}=yield(0,a.qq)(fe.read());if(de)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ke)}}finally{fe.releaseLock()}})}function X(ne){return(0,$.m)(ne?.getReader)}},4482:(ct,Ie,k)=>{k.d(Ie,{A:()=>$,e:()=>O});var a=k(576);function $(X){return(0,a.m)(X?.lift)}function O(X){return ne=>{if($(ne))return ne.lift(function(ce){try{return X(ce,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ct,Ie,k)=>{k.d(Ie,{U:()=>O,z:()=>$});var a=k(4671);function $(...X){return O(X)}function O(X){return 0===X.length?a.y:1===X.length?X[0]:function(ce){return X.reduce((fe,ke)=>ke(fe),ce)}}},7849:(ct,Ie,k)=>{k.d(Ie,{h:()=>O});var a=k(2416),$=k(3410);function O(X){$.z.setTimeout(()=>{const{onUnhandledError:ne}=a.config;if(!ne)throw X;ne(X)})}},4532:(ct,Ie,k)=>{function a($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(Ie,{z:()=>a})},2223:(ct,Ie,k)=>{k.d(Ie,{$8M:()=>Cc,$WT:()=>Vo,$Z:()=>ng,AFp:()=>jp,AaK:()=>J,CHM:()=>ju,CRH:()=>md,D6c:()=>_A,EJc:()=>$1,EpF:()=>Pn,F4k:()=>b0,FYo:()=>Kp,FiY:()=>qi,GfV:()=>Jv,Gpc:()=>Ye,HDt:()=>Oy,HOy:()=>Z_,JOm:()=>vs,KtG:()=>dc,LFG:()=>Qt,Lbi:()=>ml,Lck:()=>Og,MMx:()=>lD,NdJ:()=>x_,Ojb:()=>Uc,OlP:()=>pn,Oqu:()=>q0,P3R:()=>Ym,PXZ:()=>sC,Q6J:()=>vg,QGY:()=>ha,Qsj:()=>Wp,R0b:()=>_i,RDi:()=>Hm,Rgc:()=>Vg,SBq:()=>Hh,Sil:()=>QE,Suo:()=>VE,TTD:()=>Vu,TgZ:()=>lf,X6Q:()=>_C,XFs:()=>$e,Xpm:()=>os,Xts:()=>xh,Y36:()=>vl,YKP:()=>Vl,YNc:()=>_g,Yjl:()=>$l,Yz7:()=>Wt,Z0I:()=>Kn,ZZ4:()=>jy,_Bn:()=>sD,_UZ:()=>M_,_c5:()=>vw,_uU:()=>Z0,aQg:()=>yw,c2e:()=>ky,cJS:()=>zn,cg1:()=>tE,dDg:()=>X1,dqk:()=>on,eFA:()=>lC,eJc:()=>Dy,ekj:()=>U_,eoX:()=>Jg,f3M:()=>$t,g9A:()=>gI,h0i:()=>pd,hGG:()=>fA,hij:()=>Sn,iGM:()=>jg,ifc:()=>_n,ip1:()=>Ry,jDz:()=>jr,kL8:()=>j_,lG2:()=>Gl,lnq:()=>pf,lqb:()=>gl,lri:()=>rC,n5z:()=>su,oAB:()=>_o,oxw:()=>od,q4F:()=>TI,qFp:()=>vA,qLn:()=>jc,qOj:()=>hg,qZA:()=>bl,rWj:()=>iC,rg0:()=>Ud,sBO:()=>wa,s_b:()=>_y,soG:()=>Ff,tb:()=>em,tp0:()=>ci,uIk:()=>Qc,vHH:()=>te,vpe:()=>Xo,wAp:()=>St,xp6:()=>n0,z2F:()=>wd,zSh:()=>Hv,zs3:()=>mu});var a=k(7579),$=k(727),O=k(1135),X=k(9751),ne=k(6451),ce=k(9646),fe=k(3099),ke=k(5577),de=k(1884);function V(i){for(let s in i)if(i[s]===V)return s;throw Error("Could not find renamed property on target object.")}function Z(i,s){for(const u in s)s.hasOwnProperty(u)&&!i.hasOwnProperty(u)&&(i[u]=s[u])}function J(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(J).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function Pe(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const De=V({__forward_ref__:V});function Ye(i){return i.__forward_ref__=Ye,i.toString=function(){return J(this())},i}function Se(i){return Ge(i)?i():i}function Ge(i){return"function"==typeof i&&i.hasOwnProperty(De)&&i.__forward_ref__===Ye}function Ne(i){return i&&!!i.\u0275providers}const ht="https://g.co/ng/security#xss";class te extends Error{constructor(s,u){super(function pe(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,u)),this.code=s}}function W(i){return"string"==typeof i?i:null==i?"":String(i)}function He(i,s){throw new te(-201,!1)}function tt(i,s){null==i&&function ft(i,s,u,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${u} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}function Wt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function zn(i){return{providers:i.providers||[],imports:i.imports||[]}}function $r(i){return ts(i,ni)||ts(i,Fo)}function Kn(i){return null!==$r(i)}function ts(i,s){return i.hasOwnProperty(s)?i[s]:null}function ba(i){return i&&(i.hasOwnProperty(ri)||i.hasOwnProperty(Aa))?i[ri]:null}const ni=V({\u0275prov:V}),ri=V({\u0275inj:V}),Fo=V({ngInjectableDef:V}),Aa=V({ngInjectorDef:V});var $e=(()=>(($e=$e||{})[$e.Default=0]="Default",$e[$e.Host=1]="Host",$e[$e.Self=2]="Self",$e[$e.SkipSelf=4]="SkipSelf",$e[$e.Optional=8]="Optional",$e))();let pt;function cn(i){const s=pt;return pt=i,s}function bn(i,s,u){const c=$r(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&$e.Optional?null:void 0!==s?s:void He(J(i))}const on=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Sr={},Bt="__NG_DI_FLAG__",eo="ngTempTokenPath",Sa=/\n/gm,to="__source";let gr;function mn(i){const s=gr;return gr=i,s}function no(i,s=$e.Default){if(void 0===gr)throw new te(-203,!1);return null===gr?bn(i,void 0,s):gr.get(i,s&$e.Optional?null:void 0,s)}function Qt(i,s=$e.Default){return(function yt(){return pt}()||no)(Se(i),s)}function $t(i,s=$e.Default){return Qt(i,U(s))}function U(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function F(i){const s=[];for(let u=0;u<i.length;u++){const c=Se(i[u]);if(Array.isArray(c)){if(0===c.length)throw new te(900,!1);let h,p=$e.Default;for(let _=0;_<c.length;_++){const E=c[_],T=ve(E);"number"==typeof T?-1===T?h=E.token:p|=T:h=E}s.push(Qt(h,p))}else s.push(Qt(c))}return s}function G(i,s){return i[Bt]=s,i.prototype[Bt]=s,i}function ve(i){return i[Bt]}function gt(i){return{toString:i}.toString()}var kt=(()=>((kt=kt||{})[kt.OnPush=0]="OnPush",kt[kt.Default=1]="Default",kt))(),_n=(()=>{return(i=_n||(_n={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",_n;var i})();const dn={},bt=[],Gt=V({\u0275cmp:V}),mr=V({\u0275dir:V}),vi=V({\u0275pipe:V}),io=V({\u0275mod:V}),oi=V({\u0275fac:V}),ue=V({__NG_ELEMENT_ID__:V}),ee=V({__NG_ENV_ID__:V});function xe(i,s,u){let c=i.length;for(;;){const h=i.indexOf(s,u);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=s.length;if(h+p===c||i.charCodeAt(h+p)<=32)return h}u=h+1}}function ut(i,s,u){let c=0;for(;c<u.length;){const h=u[c];if("number"==typeof h){if(0!==h)break;c++;const p=u[c++],_=u[c++],E=u[c++];i.setAttribute(s,_,E,p)}else{const p=h,_=u[++c];Pt(p)?i.setProperty(s,p,_):i.setAttribute(s,p,_),c++}}return c}function At(i){return 3===i||4===i||6===i}function Pt(i){return 64===i.charCodeAt(0)}function Yt(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let u=-1;for(let c=0;c<s.length;c++){const h=s[c];"number"==typeof h?u=h:0===u||rr(i,u,h,null,-1===u||2===u?s[++c]:null)}}return i}function rr(i,s,u,c,h){let p=0,_=i.length;if(-1===s)_=-1;else for(;p<i.length;){const E=i[p++];if("number"==typeof E){if(E===s){_=-1;break}if(E>s){_=p-1;break}}}for(;p<i.length;){const E=i[p];if("number"==typeof E)break;if(E===u){if(null===c)return void(null!==h&&(i[p+1]=h));if(c===i[p+1])return void(i[p+2]=h)}p++,null!==c&&p++,null!==h&&p++}-1!==_&&(i.splice(_,0,s),p=_+1),i.splice(p++,0,u),null!==c&&i.splice(p++,0,c),null!==h&&i.splice(p++,0,h)}const Wn="ng-template";function mo(i,s,u){let c=0,h=!0;for(;c<i.length;){let p=i[c++];if("string"==typeof p&&h){const _=i[c++];if(u&&"class"===p&&-1!==xe(_.toLowerCase(),s,0))return!0}else{if(1===p){for(;c<i.length&&"string"==typeof(p=i[c++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function is(i){return 4===i.type&&i.value!==Wn}function xa(i,s,u){return s===(4!==i.type||u?i.value:Wn)}function Ad(i,s,u){let c=4;const h=i.attrs||[],p=function jl(i){for(let s=0;s<i.length;s++)if(At(i[s]))return s;return i.length}(h);let _=!1;for(let E=0;E<s.length;E++){const T=s[E];if("number"!=typeof T){if(!_)if(4&c){if(c=2|1&c,""!==T&&!xa(i,T,u)||""===T&&1===s.length){if(si(c))return!1;_=!0}}else{const A=8&c?T:s[++E];if(8&c&&null!==i.attrs){if(!mo(i.attrs,A,u)){if(si(c))return!1;_=!0}continue}const P=Md(8&c?"class":T,h,is(i),u);if(-1===P){if(si(c))return!1;_=!0;continue}if(""!==A){let j;j=P>p?"":h[P+1].toLowerCase();const K=8&c?j:null;if(K&&-1!==xe(K,A,0)||2&c&&A!==j){if(si(c))return!1;_=!0}}}}else{if(!_&&!si(c)&&!si(T))return!1;if(_&&si(T))continue;_=!1,c=T|1&c}}return si(c)||_}function si(i){return 0==(1&i)}function Md(i,s,u,c){if(null===s)return-1;let h=0;if(c||!u){let p=!1;for(;h<s.length;){const _=s[h];if(_===i)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function Sd(i,s){let u=i.indexOf(4);if(u>-1)for(u++;u<i.length;){const c=i[u];if("number"==typeof c)return-1;if(c===s)return u;u++}return-1}(s,i)}function Ei(i,s,u=!1){for(let c=0;c<s.length;c++)if(Ad(i,s[c],u))return!0;return!1}function Rs(i,s){return i?":not("+s.trim()+")":s}function mm(i){let s=i[0],u=1,c=2,h="",p=!1;for(;u<i.length;){let _=i[u];if("string"==typeof _)if(2&c){const E=i[++u];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!si(_)&&(s+=Rs(p,h),h=""),c=_,p=p||!si(c);u++}return""!==h&&(s+=Rs(p,h)),s}function os(i){return gt(()=>{const s=Ru(i),u={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,data:i.data||{},encapsulation:i.encapsulation||_n.Emulated,styles:i.styles||bt,_:null,schemas:i.schemas||null,tView:null,id:""};zl(u);const c=i.dependencies;return u.directiveDefs=ks(c,!1),u.pipeDefs=ks(c,!0),u.id=function Rd(i){let s=0;const u=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of u)s=Math.imul(31,s)+h.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(u),u})}function Nd(i){return Ft(i)||sr(i)}function _m(i){return null!==i}function _o(i){return gt(()=>({type:i.type,bootstrap:i.bootstrap||bt,declarations:i.declarations||bt,imports:i.imports||bt,exports:i.exports||bt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Na(i,s){if(null==i)return dn;const u={};for(const c in i)if(i.hasOwnProperty(c)){let h=i[c],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),u[h]=c,s&&(s[h]=p)}return u}function Gl(i){return gt(()=>{const s=Ru(i);return zl(s),s})}function $l(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ft(i){return i[Gt]||null}function sr(i){return i[mr]||null}function ln(i){return i[vi]||null}function Vo(i){const s=Ft(i)||sr(i)||ln(i);return null!==s&&s.standalone}function xr(i,s){const u=i[io]||null;if(!u&&!0===s)throw new Error(`Type ${J(i)} does not have '\u0275mod' property.`);return u}function Ru(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,exportAs:i.exportAs||null,standalone:!0===i.standalone,selectors:i.selectors||bt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Na(i.inputs,s),outputs:Na(i.outputs)}}function zl(i){i.features?.forEach(s=>s(i))}function ks(i,s){if(!i)return null;const u=s?ln:Nd;return()=>("function"==typeof i?i():i).map(c=>u(c)).filter(_m)}const Vn=0,Ke=1,Lt=2,En=3,ai=4,Uo=5,Br=6,ss=7,wn=8,_r=9,yo=10,Ot=11,Kr=12,kd=13,oo=14,kn=15,Os=16,ka=17,wi=18,Ls=19,Od=20,ui=21,Un=22,Kl=23,as=24,Ht=25,ku=1,so=2,Wr=7,Ii=8,us=9,ar=11;function Bn(i){return Array.isArray(i)&&"object"==typeof i[ku]}function li(i){return Array.isArray(i)&&!0===i[ku]}function Ps(i){return 0!=(4&i.flags)}function vo(i){return i.componentOffset>-1}function Eo(i){return 1==(1&i.flags)}function yr(i){return!!i.template}function Nr(i){return 0!=(512&i[Lt])}function Bo(i,s){return i.hasOwnProperty(oi)?i[oi]:null}let Va=on.WeakRef??class Ou{constructor(s){this.ref=s}deref(){return this.ref}},Tm=0,Zr=null,Lu=!1;function Jn(i){const s=Zr;return Zr=i,s}class Pu{constructor(){this.id=Tm++,this.ref=function Vd(i){return new Va(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[s,u]of this.producers){const c=u.producerNode.deref();if(void 0!==c&&u.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(s),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const s=Lu;Lu=!0;try{for(const[u,c]of this.consumers){const h=c.consumerNode.deref();void 0!==h&&h.trackingVersion===c.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),h?.producers.delete(this.id))}}finally{Lu=s}}producerAccessed(){if(Lu)throw new Error("");if(null===Zr)return;let s=Zr.producers.get(this.id);void 0===s?(s={consumerNode:Zr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Zr.trackingVersion},Zr.producers.set(this.id,s),this.consumers.set(Zr.id,s)):(s.seenValueVersion=this.valueVersion,s.atTrackingVersion=Zr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Zr?.consumerAllowSignalWrites}producerPollStatus(s){return this.valueVersion!==s||(this.onProducerUpdateValueVersion(),this.valueVersion!==s)}}let Za=null;function Ud(i){const s=Jn(null);try{return i()}finally{Jn(s)}}const tc=()=>{};class Bd extends Pu{constructor(s,u,c){super(),this.watch=s,this.schedule=u,this.dirty=!1,this.cleanupFn=tc,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const s=Jn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=tc,this.watch(this.registerOnCleanup)}finally{Jn(s)}}cleanup(){this.cleanupFn()}}class nc{constructor(s,u,c){this.previousValue=s,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Vu(){return Ha}function Ha(i){return i.type.prototype.ngOnChanges&&(i.setInput=Uu),rc}function rc(){const i=Bu(this),s=i?.current;if(s){const u=i.previous;if(u===dn)i.previous=s;else for(let c in s)u[c]=s[c];i.current=null,this.ngOnChanges(s)}}function Uu(i,s,u,c){const h=this.declaredInputs[u],p=Bu(i)||function Cm(i,s){return i[ic]=s}(i,{previous:dn,current:null}),_=p.current||(p.current={}),E=p.previous,T=E[h];_[h]=new nc(T&&T.currentValue,s,E===dn),i[c]=s}Vu.ngInherit=!0;const ic="__ngSimpleChanges__";function Bu(i){return i[ic]||null}const Fi=function(i,s,u){};function In(i){for(;Array.isArray(i);)i=i[Vn];return i}function Zu(i,s){return In(s[i])}function qr(i,s){return In(s[i.index])}function oc(i,s){return i.data[s]}function ur(i,s){const u=s[i];return Bn(u)?u:u[Vn]}function Zs(i){return 128==(128&i[Lt])}function Ho(i,s){return null==s?null:i[s]}function sc(i){i[ka]=0}function qd(i){1024&i[Lt]||(i[Lt]|=1024,qu(i,1))}function ac(i){1024&i[Lt]&&(i[Lt]&=-1025,qu(i,-1))}function qu(i,s){let u=i[En];if(null===u)return;u[Uo]+=s;let c=u;for(u=u[En];null!==u&&(1===s&&1===c[Uo]||-1===s&&0===c[Uo]);)u[Uo]+=s,c=u,u=u[En]}const mt={lFrame:fc(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $d(){return mt.bindingsEnabled}function Ce(){return mt.lFrame.lView}function zt(){return mt.lFrame.tView}function ju(i){return mt.lFrame.contextLView=i,i[wn]}function dc(i){return mt.lFrame.contextLView=null,i}function An(){let i=Xf();for(;null!==i&&64===i.type;)i=i.parent;return i}function Xf(){return mt.lFrame.currentTNode}function Io(i,s){const u=mt.lFrame;u.currentTNode=i,u.isParent=s}function $a(){return mt.lFrame.isParent}function To(){return mt.lFrame.bindingIndex}function jo(){return mt.lFrame.bindingIndex++}function hn(i){const s=mt.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,u}function za(i,s){const u=mt.lFrame;u.bindingIndex=u.bindingRootIndex=i,fs(s)}function fs(i){mt.lFrame.currentDirectiveIndex=i}function Wd(){return mt.lFrame.currentQueryIndex}function zu(i){mt.lFrame.currentQueryIndex=i}function Ku(i){const s=i[Ke];return 2===s.type?s.declTNode:1===s.type?i[Br]:null}function Wa(i,s,u){if(u&$e.SkipSelf){let h=s,p=i;for(;!(h=h.parent,null!==h||u&$e.Host||(h=Ku(p),null===h||(p=p[oo],10&h.type))););if(null===h)return!1;s=h,i=p}const c=mt.lFrame=Vi();return c.currentTNode=s,c.lView=i,!0}function $s(i){const s=Vi(),u=i[Ke];mt.lFrame=s,s.currentTNode=u.firstChild,s.lView=i,s.tView=u,s.contextLView=i,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Vi(){const i=mt.lFrame,s=null===i?null:i.child;return null===s?fc(i):s}function fc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Yd(){const i=mt.lFrame;return mt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Wu=Yd;function pc(){const i=Yd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Yr(){return mt.lFrame.selectedIndex}function ps(i){mt.lFrame.selectedIndex=i}function Dn(){const i=mt.lFrame;return oc(i.tView,i.selectedIndex)}let gc=!0;function mc(){return gc}function uo(i){gc=i}function Qa(i,s){for(let u=s.directiveStart,c=s.directiveEnd;u<c;u++){const p=i.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:A,ngOnDestroy:N}=p;_&&(i.contentHooks??=[]).push(-u,_),E&&((i.contentHooks??=[]).push(u,E),(i.contentCheckHooks??=[]).push(u,E)),T&&(i.viewHooks??=[]).push(-u,T),A&&((i.viewHooks??=[]).push(u,A),(i.viewCheckHooks??=[]).push(u,A)),null!=N&&(i.destroyHooks??=[]).push(u,N)}}function _c(i,s,u){yc(i,s,3,u)}function zs(i,s,u,c){(3&i[Lt])===u&&yc(i,s,u,c)}function Xd(i,s){let u=i[Lt];(3&u)===s&&(u&=4095,u+=1,i[Lt]=u)}function yc(i,s,u,c){const p=c??-1,_=s.length-1;let E=0;for(let T=void 0!==c?65535&i[ka]:0;T<_;T++)if("number"==typeof s[T+1]){if(E=s[T],null!=c&&E>=c)break}else s[T]<0&&(i[ka]+=65536),(E<p||-1==p)&&(Yu(i,u,s,T),i[ka]=(4294901760&i[ka])+T+2),T++}function rp(i,s){Fi(4,i,s);const u=Jn(null);try{s.call(i)}finally{Jn(u),Fi(5,i,s)}}function Yu(i,s,u,c){const h=u[c]<0,p=u[c+1],E=i[h?-u[c]:u[c]];h?i[Lt]>>12<i[ka]>>16&&(3&i[Lt])===s&&(i[Lt]+=4096,rp(E,p)):rp(E,p)}const fn=-1;class vr{constructor(s,u,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function qn(i){return i!==fn}function Mt(i){return 32767&i}function tu(i,s){let u=function Ci(i){return i>>16}(i),c=s;for(;u>0;)c=c[oo],u--;return c}let nu=!0;function Go(i){const s=nu;return nu=i,s}const ru=255,Er=5;let bi=0;const Ui={};function Ys(i,s){const u=Qu(i,s);if(-1!==u)return u;const c=s[Ke];c.firstCreatePass&&(i.injectorIndex=s.length,th(c.data,i),th(s,null),th(c.blueprint,null));const h=$o(i,s),p=i.injectorIndex;if(qn(h)){const _=Mt(h),E=tu(h,s),T=E[Ke].data;for(let A=0;A<8;A++)s[p+A]=E[_+A]|T[_+A]}return s[p+8]=h,p}function th(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Qu(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function $o(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let u=0,c=null,h=s;for(;null!==h;){if(c=Dc(h),null===c)return fn;if(u++,h=h[oo],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return fn}function Ai(i,s,u){!function eh(i,s,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(ue)&&(c=u[ue]),null==c&&(c=u[ue]=bi++);const h=c&ru;s.data[i+(h>>Er)]|=1<<h}(i,s,u)}function Or(i,s,u){if(u&$e.Optional||void 0!==i)return i;He()}function Bi(i,s,u,c){if(u&$e.Optional&&void 0===c&&(c=null),!(u&($e.Self|$e.Host))){const h=i[_r],p=cn(void 0);try{return h?h.get(s,c,u&$e.Optional):bn(s,c,u&$e.Optional)}finally{cn(p)}}return Or(c,0,u)}function Ic(i,s,u,c=$e.Default,h){if(null!==i){if(2048&s[Lt]&&!(c&$e.Self)){const _=function rl(i,s,u,c,h){let p=i,_=s;for(;null!==p&&null!==_&&2048&_[Lt]&&!(512&_[Lt]);){const E=nh(p,_,u,c|$e.Self,Ui);if(E!==Ui)return E;let T=p.parent;if(!T){const A=_[Od];if(A){const N=A.get(u,Ui,c);if(N!==Ui)return N}T=Dc(_),_=_[oo]}p=T}return h}(i,s,u,c,Ui);if(_!==Ui)return _}const p=nh(i,s,u,c,Ui);if(p!==Ui)return p}return Bi(s,u,c,h)}function nh(i,s,u,c,h){const p=function rh(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ue)?i[ue]:void 0;return"number"==typeof s?s>=0?s&ru:tl:s}(u);if("function"==typeof p){if(!Wa(s,i,c))return c&$e.Host?Or(h,0,c):Bi(s,u,c,h);try{const _=p(c);if(null!=_||c&$e.Optional)return _;He()}finally{Wu()}}else if("number"==typeof p){let _=null,E=Qu(i,s),T=fn,A=c&$e.Host?s[kn][Br]:null;for((-1===E||c&$e.SkipSelf)&&(T=-1===E?$o(i,s):s[E+8],T!==fn&&el(c,!1)?(_=s[Ke],E=Mt(T),s=tu(T,s)):E=-1);-1!==E;){const N=s[Ke];if(ou(p,E,N.data)){const P=Tc(E,s,u,_,c,A);if(P!==Ui)return P}T=s[E+8],T!==fn&&el(c,s[Ke].data[E+8]===A)&&ou(p,E,s)?(_=N,E=Mt(T),s=tu(T,s)):E=-1}}return h}function Tc(i,s,u,c,h,p){const _=s[Ke],E=_.data[i+8],N=Xu(E,_,u,null==c?vo(E)&&nu:c!=_&&0!=(3&E.type),h&$e.Host&&p===E);return null!==N?lo(s,_,N,E):Ui}function Xu(i,s,u,c,h){const p=i.providerIndexes,_=s.data,E=1048575&p,T=i.directiveStart,N=p>>20,j=h?E+N:i.directiveEnd;for(let K=c?E:E+N;K<j;K++){const ye=_[K];if(K<T&&u===ye||K>=T&&ye.type===u)return K}if(h){const K=_[T];if(K&&yr(K)&&K.type===u)return T}return null}function lo(i,s,u,c){let h=i[u];const p=s.data;if(function ip(i){return i instanceof vr}(h)){const _=h;_.resolving&&function be(i,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new te(-200,`Circular dependency in DI detected for ${i}${u}`)}(function he(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():W(i)}(p[u]));const E=Go(_.canSeeViewProviders);_.resolving=!0;const T=_.injectImpl?cn(_.injectImpl):null;Wa(i,c,$e.Default);try{h=i[u]=_.factory(void 0,p,i,c),s.firstCreatePass&&u>=c.directiveStart&&function Qd(i,s,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(c){const _=Ha(s);(u.preOrderHooks??=[]).push(i,_),(u.preOrderCheckHooks??=[]).push(i,_)}h&&(u.preOrderHooks??=[]).push(0-i,h),p&&((u.preOrderHooks??=[]).push(i,p),(u.preOrderCheckHooks??=[]).push(i,p))}(u,p[u],s)}finally{null!==T&&cn(T),Go(E),_.resolving=!1,Wu()}}return h}function ou(i,s,u){return!!(u[s+(i>>Er)]&1<<i)}function el(i,s){return!(i&$e.Self||i&$e.Host&&s)}class gs{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,c){return Ic(this._tNode,this._lView,s,U(c),u)}}function tl(){return new gs(An(),Ce())}function su(i){return gt(()=>{const s=i.prototype.constructor,u=s[oi]||nl(s),c=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==c;){const p=h[oi]||nl(h);if(p&&p!==u)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function nl(i){return Ge(i)?()=>{const s=nl(Se(i));return s&&s()}:Bo(i)}function Dc(i){const s=i[Ke],u=s.type;return 2===u?s.declTNode:1===u?i[Br]:null}function Cc(i){return function iu(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const u=i.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const p=u[h];if(At(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(p===s)return u[h+1];h+=2}}}return null}(An(),i)}const ms="__parameters__";function Zi(i,s,u){return gt(()=>{const c=function Js(i){return function(...u){if(i){const c=i(...u);for(const h in c)this[h]=c[h]}}}(s);function h(...p){if(this instanceof h)return c.apply(this,p),this;const _=new h(...p);return E.annotation=_,E;function E(T,A,N){const P=T.hasOwnProperty(ms)?T[ms]:Object.defineProperty(T,ms,{value:[]})[ms];for(;P.length<=N;)P.push(null);return(P[N]=P[N]||[]).push(_),T}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function Hi(i,s){i.forEach(u=>Array.isArray(u)?Hi(u,s):s(u))}function Ko(i,s,u){s>=i.length?i.push(u):i.splice(s,0,u)}function lu(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function I(i,s,u){let c=S(i,s);return c>=0?i[1|c]=u:(c=~c,function Mm(i,s,u,c){let h=i.length;if(h==s)i.push(u,c);else if(1===h)i.push(c,i[0]),i[0]=u;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=u,i[s+1]=c}}(i,c,s,u)),c}function D(i,s){const u=S(i,s);if(u>=0)return i[1|u]}function S(i,s){return function H(i,s,u){let c=0,h=i.length>>u;for(;h!==c;){const p=c+(h-c>>1),_=i[p<<u];if(s===_)return p<<u;_>s?h=p:c=p+1}return~(h<<u)}(i,s,1)}const qi=G(Zi("Optional"),8),ci=G(Zi("SkipSelf"),4);function Ep(i){return 128==(128&i.flags)}var vs=(()=>((vs=vs||{})[vs.Important=1]="Important",vs[vs.DashCase=2]="DashCase",vs))();const ch=new Map;let Ip=0;const dh="__ngContext__";function Ir(i,s){Bn(s)?(i[dh]=s[Ls],function Nc(i){ch.set(i[Ls],i)}(s)):i[dh]=s}let gh;function mh(i,s){return gh(i,s)}function co(i){const s=i[En];return li(s)?s[En]:s}function xp(i){return Np(i[Kr])}function _h(i){return Np(i[ai])}function Np(i){for(;null!==i&&!li(i);)i=i[ai];return i}function Lr(i,s,u,c,h){if(null!=c){let p,_=!1;li(c)?p=c:Bn(c)&&(_=!0,c=c[Vn]);const E=In(c);0===i&&null!==u?null==h?B(s,u,E):x(s,u,E,h||null,!0):1===i&&null!==u?x(s,u,E,h||null,!0):2===i?function Th(i,s,u){const c=et(i,s);c&&function Ae(i,s,u,c){i.removeChild(s,u,c)}(i,c,s,u)}(s,E,_):3===i&&s.destroyNode(E),null!=p&&function ob(i,s,u,c,h){const p=u[Wr];p!==In(u)&&Lr(s,i,c,p,h);for(let E=ar;E<u.length;E++){const T=u[E];wt(T[Ke],T,i,s,c,p)}}(s,i,p,u,h)}}function zi(i,s,u){return i.createElement(s,u)}function Um(i,s){const u=i[us],c=u.indexOf(s);ac(s),u.splice(c,1)}function dl(i,s){if(i.length<=ar)return;const u=ar+s,c=i[u];if(c){const h=c[Os];null!==h&&h!==i&&Um(h,c),s>0&&(i[u-1][ai]=c[ai]);const p=lu(i,ar+s);!function Co(i,s){wt(i,s,s[Ot],2,null,null),s[Vn]=null,s[Br]=null}(c[Ke],c);const _=p[wi];null!==_&&_.detachView(p[Ke]),c[En]=null,c[ai]=null,c[Lt]&=-129}return c}function kp(i,s){if(!(256&s[Lt])){const u=s[Ot];s[Kl]?.destroy(),s[as]?.destroy(),u.destroyNode&&wt(i,s,u,3,null,null),function Iv(i){let s=i[Kr];if(!s)return y(i[Ke],i);for(;s;){let u=null;if(Bn(s))u=s[Kr];else{const c=s[ar];c&&(u=c)}if(!u){for(;s&&!s[ai]&&s!==i;)Bn(s)&&y(s[Ke],s),s=s[En];null===s&&(s=i),Bn(s)&&y(s[Ke],s),u=s&&s[ai]}s=u}}(s)}}function y(i,s){if(!(256&s[Lt])){s[Lt]&=-129,s[Lt]|=256,function g(i,s){let u;if(null!=i&&null!=(u=i.destroyHooks))for(let c=0;c<u.length;c+=2){const h=s[u[c]];if(!(h instanceof vr)){const p=u[c+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=h[p[_]],T=p[_+1];Fi(4,E,T);try{T.call(E)}finally{Fi(5,E,T)}}else{Fi(4,h,p);try{p.call(h)}finally{Fi(5,h,p)}}}}}(i,s),function f(i,s){const u=i.cleanup,c=s[ss];if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const _=u[p+3];_>=0?c[_]():c[-_].unsubscribe(),p+=2}else u[p].call(c[u[p+1]]);null!==c&&(s[ss]=null);const h=s[ui];if(null!==h){s[ui]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(i,s),1===s[Ke].type&&s[Ot].destroy();const u=s[Os];if(null!==u&&li(s[En])){u!==s[En]&&Um(u,s);const c=s[wi];null!==c&&c.detachView(i)}!function Om(i){ch.delete(i[Ls])}(s)}}function v(i,s,u){return function b(i,s,u){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return u[Vn];{const{componentOffset:h}=c;if(h>-1){const{encapsulation:p}=i.data[c.directiveStart+h];if(p===_n.None||p===_n.Emulated)return null}return qr(c,u)}}(i,s.parent,u)}function x(i,s,u,c,h){i.insertBefore(s,u,c,h)}function B(i,s,u){i.appendChild(s,u)}function Y(i,s,u,c,h){null!==c?x(i,s,u,c,h):B(i,s,u)}function et(i,s){return i.parentNode(s)}let Op,hu,rn,Eh=function bo(i,s,u){return 40&i.type?qr(i,u):null};function wh(i,s,u,c){const h=v(i,c,s),p=s[Ot],E=function On(i,s,u){return Eh(i,s,u)}(c.parent||s[Br],c,s);if(null!=h)if(Array.isArray(u))for(let T=0;T<u.length;T++)Y(p,h,u[T],E,!1);else Y(p,h,u,E,!1);void 0!==Op&&Op(p,c,s,u,h)}function Oc(i,s){if(null!==s){const u=s.type;if(3&u)return qr(s,i);if(4&u)return Ih(-1,i[s.index]);if(8&u){const c=s.child;if(null!==c)return Oc(i,c);{const h=i[s.index];return li(h)?Ih(-1,h):In(h)}}if(32&u)return mh(s,i)()||In(i[s.index]);{const c=Pp(i,s);return null!==c?Array.isArray(c)?c[0]:Oc(co(i[kn]),c):Oc(i,s.next)}}return null}function Pp(i,s){return null!==s?i[kn][Br].projection[s.projection]:null}function Ih(i,s){const u=ar+i+1;if(u<s.length){const c=s[u],h=c[Ke].firstChild;if(null!==h)return Oc(c,h)}return s[Wr]}function Dh(i,s,u,c,h,p,_){for(;null!=u;){const E=c[u.index],T=u.type;if(_&&0===s&&(E&&Ir(In(E),c),u.flags|=2),32!=(32&u.flags))if(8&T)Dh(i,s,u.child,c,h,p,!1),Lr(s,i,h,E,p);else if(32&T){const A=mh(u,c);let N;for(;N=A();)Lr(s,i,h,N,p);Lr(s,i,h,E,p)}else 16&T?hl(i,s,c,u,h,p):Lr(s,i,h,E,p);u=_?u.projectionNext:u.next}}function wt(i,s,u,c,h,p){Dh(u,c,i.firstChild,s,h,p,!1)}function hl(i,s,u,c,h,p){const _=u[kn],T=_[Br].projection[c.projection];if(Array.isArray(T))for(let A=0;A<T.length;A++)Lr(s,i,h,T[A],p);else{let A=T;const N=_[En];Ep(c)&&(A.flags|=128),Dh(i,s,A,N,h,p,!0)}}function Fp(i,s,u){""===u?i.removeAttribute(s,"class"):i.setAttribute(s,"class",u)}function Bm(i,s,u){const{mergedAttrs:c,classes:h,styles:p}=u;null!==c&&ut(i,s,c),null!==h&&Fp(i,s,h),null!==p&&function Ao(i,s,u){i.setAttribute(s,"style",u)}(i,s,p)}function Hm(i){hu=i}function qm(i){return function Cv(){if(void 0===rn&&(rn=null,on.trustedTypes))try{rn=on.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return rn}()?.createScriptURL(i)||i}class Vt{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}function fl(i){return i instanceof Vt?i.changingThisBreaksApplicationSecurity:i}function Up(i,s){const u=function xi(i){return i instanceof Vt&&i.getTypeName()||null}(i);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see ${ht})`)}return u===s}const Bp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var or=(()=>((or=or||{})[or.NONE=0]="NONE",or[or.HTML=1]="HTML",or[or.STYLE=2]="STYLE",or[or.SCRIPT=3]="SCRIPT",or[or.URL=4]="URL",or[or.RESOURCE_URL=5]="RESOURCE_URL",or))();function kv(i){const s=Sh();return s?s.sanitize(or.URL,i)||"":Up(i,"URL")?fl(i):function Ah(i){return(i=String(i)).match(Bp)?i:"unsafe:"+i}(W(i))}function Ov(i){const s=Sh();if(s)return qm(s.sanitize(or.RESOURCE_URL,i)||"");if(Up(i,"ResourceURL"))return qm(fl(i));throw new te(904,!1)}function Ym(i,s,u){return function Pv(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Ov:kv}(s,u)(i)}function Sh(){const i=Ce();return i&&i[yo].sanitizer}class pn{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Wt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xh=new pn("ENVIRONMENT_INITIALIZER"),Fv=new pn("INJECTOR",-1),Jm=new pn("INJECTOR_DEF_TYPES");class Vv{get(s,u=Sr){if(u===Sr){const c=new Error(`NullInjectorError: No provider for ${J(s)}!`);throw c.name="NullInjectorError",c}return u}}function Uv(...i){return{\u0275providers:Qm(0,i),\u0275fromNgModule:!0}}function Qm(i,...s){const u=[],c=new Set;let h;return Hi(s,p=>{const _=p;Pr(_,u,[],c)&&(h||=[],h.push(_))}),void 0!==h&&Xm(h,u),u}function Xm(i,s){for(let u=0;u<i.length;u++){const{providers:h}=i[u];Nh(h,p=>{s.push(p)})}}function Pr(i,s,u,c){if(!(i=Se(i)))return!1;let h=null,p=ba(i);const _=!p&&Ft(i);if(p||_){if(_&&!_.standalone)return!1;h=i}else{const T=i.ngModule;if(p=ba(T),!p)return!1;h=T}const E=c.has(h);if(_){if(E)return!1;if(c.add(h),_.dependencies){const T="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const A of T)Pr(A,s,u,c)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let A;c.add(h);try{Hi(p.imports,N=>{Pr(N,s,u,c)&&(A||=[],A.push(N))})}finally{}void 0!==A&&Xm(A,s)}if(!E){const A=Bo(h)||(()=>new h);s.push({provide:h,useFactory:A,deps:bt},{provide:Jm,useValue:h,multi:!0},{provide:xh,useValue:()=>Qt(h),multi:!0})}const T=p.providers;null==T||E||Nh(T,N=>{s.push(N)})}}return h!==i&&void 0!==i.providers}function Nh(i,s){for(let u of i)Ne(u)&&(u=u.\u0275providers),Array.isArray(u)?Nh(u,s):s(u)}const Bv=V({provide:String,useValue:V});function Zv(i){return null!==i&&"object"==typeof i&&Bv in i}function pl(i){return"function"==typeof i}const Hv=new pn("Set Injector scope."),e_={},Hp={};let Vc;function Rh(){return void 0===Vc&&(Vc=new Vv),Vc}class gl{}class qv extends gl{get destroyed(){return this._destroyed}constructor(s,u,c,h){super(),this.parent=u,this.source=c,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,t_(s,_=>this.processProvider(_)),this.records.set(Fv,Oh(void 0,this)),h.has("environment")&&this.records.set(gl,Oh(void 0,this));const p=this.records.get(Hv);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Jm.multi,bt,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of s)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const u=mn(this),c=cn(void 0);try{return s()}finally{mn(u),cn(c)}}get(s,u=Sr,c=$e.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ee))return s[ee](this);c=U(c);const h=mn(this),p=cn(void 0);try{if(!(c&$e.SkipSelf)){let E=this.records.get(s);if(void 0===E){const T=function pI(i){return"function"==typeof i||"object"==typeof i&&i instanceof pn}(s)&&$r(s);E=T&&this.injectableDefInScope(T)?Oh(kh(s),e_):null,this.records.set(s,E)}if(null!=E)return this.hydrate(s,E)}return(c&$e.Self?Rh():this.parent).get(s,u=c&$e.Optional&&u===Sr?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[eo]=_[eo]||[]).unshift(J(s)),h)throw _;return function oe(i,s,u,c){const h=i[eo];throw s[to]&&h.unshift(s[to]),i.message=function nt(i,s,u,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=J(s);if(Array.isArray(s))h=s.map(J).join(" -> ");else if("object"==typeof s){let p=[];for(let _ in s)if(s.hasOwnProperty(_)){let E=s[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):J(E)))}h=`{${p.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${i.replace(Sa,"\n  ")}`}("\n"+i.message,h,u,c),i.ngTokenPath=h,i[eo]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{cn(p),mn(h)}}resolveInjectorInitializers(){const s=mn(this),u=cn(void 0);try{const c=this.get(xh.multi,bt,$e.Self);for(const h of c)h()}finally{mn(s),cn(u)}}toString(){const s=[],u=this.records;for(const c of u.keys())s.push(J(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(s){let u=pl(s=Se(s))?s:Se(s&&s.provide);const c=function Gv(i){return Zv(i)?Oh(void 0,i.useValue):Oh($v(i),e_)}(s);if(pl(s)||!0!==s.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=Oh(void 0,e_,!0),h.factory=()=>F(h.multi),this.records.set(u,h)),u=s,h.multi.push(s)}this.records.set(u,c)}hydrate(s,u){return u.value===e_&&(u.value=Hp,u.value=u.factory()),"object"==typeof u.value&&u.value&&function fI(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=Se(s.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(s){const u=this._onDestroyHooks.indexOf(s);-1!==u&&this._onDestroyHooks.splice(u,1)}}function kh(i){const s=$r(i),u=null!==s?s.factory:Bo(i);if(null!==u)return u;if(i instanceof pn)throw new te(204,!1);if(i instanceof Function)return function jv(i){const s=i.length;if(s>0)throw function sl(i,s){const u=[];for(let c=0;c<i;c++)u.push(s);return u}(s,"?"),new te(204,!1);const u=function ns(i){return i&&(i[ni]||i[Fo])||null}(i);return null!==u?()=>u.factory(i):()=>new i}(i);throw new te(204,!1)}function $v(i,s,u){let c;if(pl(i)){const h=Se(i);return Bo(h)||kh(h)}if(Zv(i))c=()=>Se(i.useValue);else if(function hI(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...F(i.deps||[]));else if(function dI(i){return!(!i||!i.useExisting)}(i))c=()=>Qt(Se(i.useExisting));else{const h=Se(i&&(i.useClass||i.provide));if(!function qp(i){return!!i.deps}(i))return Bo(h)||kh(h);c=()=>new h(...F(i.deps))}return c}function Oh(i,s,u=!1){return{factory:i,value:s,multi:u?[]:void 0}}function t_(i,s){for(const u of i)Array.isArray(u)?t_(u,s):u&&Ne(u)?t_(u.\u0275providers,s):s(u)}const jp=new pn("AppId",{providedIn:"root",factory:()=>_b}),_b="ng",gI=new pn("Platform Initializer"),ml=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uc=new pn("CSP nonce",{providedIn:"root",factory:()=>function Wo(){if(void 0!==hu)return hu;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kv=(i,s)=>null;function zp(i,s){return Kv(i,s)}class Ib{}class wI{}class qc{resolveComponentFactory(s){throw function II(i){const s=Error(`No component factory found for ${J(i)}.`);return s.ngComponent=i,s}(s)}}let Jo=(()=>{class i{}return i.NULL=new qc,i})();function a_(){return gu(An(),Ce())}function gu(i,s){return new Hh(qr(i,s))}let Hh=(()=>{class i{constructor(u){this.nativeElement=u}}return i.__NG_ELEMENT_ID__=a_,i})();function jn(i){return i instanceof Hh?i.nativeElement:i}class Kp{}let Wp=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Yp(){const i=Ce(),u=ur(An().index,i);return(Bn(u)?u:i)[Ot]}(),i})(),Tb=(()=>{class i{}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>null}),i})();class Jv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const TI=new Jv("16.0.4"),Qv={};function Jp(i){for(;i;){i[Lt]|=64;const s=co(i);if(Nr(i)&&!s)return i;i=s}return null}function sa(i){return i.ngOriginalError}class jc{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s);this._console.error("ERROR",s),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&sa(s);for(;u&&sa(u);)u=sa(u);return u||null}}const Gc=new pn("",{providedIn:"root",factory:()=>!1});function aa(i){return i instanceof Function?i():i}class c_ extends Pu{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(s){this._lView=s}onConsumerDependencyMayHaveChanged(){Jp(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(s,u,c){const h=Jn(this);this.trackingVersion++;try{s(u,c)}finally{Jn(h)}}destroy(){this.trackingVersion++}}let eg=null;function jh(){return eg??=new c_,eg}function Gh(i,s){return i[s]??jh()}function MI(i,s){const u=jh();u.hasReadASignal&&(i[s]=eg,u.lView=i,eg=new c_)}const at={};function n0(i){SI(zt(),Ce(),Yr()+i,!1)}function SI(i,s,u,c){if(!c)if(3==(3&s[Lt])){const p=i.preOrderCheckHooks;null!==p&&_c(s,p,u)}else{const p=i.preOrderHooks;null!==p&&zs(s,p,0,u)}ps(u)}function d_(i,s=null,u=null,c){const h=$h(i,s,u,c);return h.resolveInjectorInitializers(),h}function $h(i,s=null,u=null,c,h=new Set){const p=[u||bt,Uv(i)];return c=c||("object"==typeof i?void 0:J(i)),new qv(p,s||Rh(),c||null,h)}let mu=(()=>{class i{static create(u,c){if(Array.isArray(u))return d_({name:""},c,u,"");{const h=u.name??"";return d_({name:h},u.parent,u.providers,h)}}}return i.THROW_IF_NOT_FOUND=Sr,i.NULL=new Vv,i.\u0275prov=Wt({token:i,providedIn:"any",factory:()=>Qt(Fv)}),i.__NG_ELEMENT_ID__=-1,i})();function vl(i,s=$e.Default){const u=Ce();return null===u?Qt(i,s):Ic(An(),u,Se(i),s)}function ng(){throw new Error("invalid")}function $c(i,s,u,c,h,p,_,E,T,A,N){const P=s.blueprint.slice();return P[Vn]=h,P[Lt]=140|c,(null!==A||i&&2048&i[Lt])&&(P[Lt]|=2048),sc(P),P[En]=P[oo]=i,P[wn]=u,P[yo]=_||i&&i[yo],P[Ot]=E||i&&i[Ot],P[_r]=T||i&&i[_r]||null,P[Br]=p,P[Ls]=function wv(){return Ip++}(),P[Un]=N,P[Od]=A,P[kn]=2==s.type?i[kn]:P,P}function zh(i,s,u,c,h){let p=i.data[s];if(null===p)p=function h_(i,s,u,c,h){const p=Xf(),_=$a(),T=i.data[s]=function p_(i,s,u,c,h,p){let _=s?s.injectorIndex:-1,E=0;return function qs(){return null!==mt.skipHydrationRootTNode}()&&(E|=128),{type:u,index:c,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,u,s,c,h);return null===i.firstChild&&(i.firstChild=T),null!==p&&(_?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(i,s,u,c,h),function Kd(){return mt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=c,p.attrs=h;const _=function Di(){const i=mt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Io(p,!0),p}function _u(i,s,u,c){if(0===u)return-1;const h=s.length;for(let p=0;p<u;p++)s.push(c),i.blueprint.push(c),i.data.push(null);return h}function o0(i,s,u,c,h){const p=Gh(s,Kl),_=Yr(),E=2&c;try{if(ps(-1),E&&s.length>Ht&&SI(i,s,Ht,!1),Fi(E?2:0,h),E)p.runInContext(u,c,h);else{const A=Jn(null);try{u(c,h)}finally{Jn(A)}}}finally{E&&null===s[Kl]&&MI(s,Kl),ps(_),Fi(E?3:1,h)}}function f_(i,s,u){if(Ps(s)){const c=Jn(null);try{const p=s.directiveEnd;for(let _=s.directiveStart;_<p;_++){const E=i.data[_];E.contentQueries&&E.contentQueries(1,u[_],_)}}finally{Jn(c)}}}function rg(i,s,u){$d()&&(function d0(i,s,u,c){const h=u.directiveStart,p=u.directiveEnd;vo(u)&&function og(i,s,u){const c=qr(s,i),_=E_(i,$c(i,s0(u),null,u.onPush?64:16,c,s,null,i[yo].rendererFactory.createRenderer(c,u),null,null,null));i[s.index]=_}(s,u,i.data[h+u.componentOffset]),i.firstCreatePass||Ys(u,s),Ir(c,s);const _=u.initialInputs;for(let E=h;E<p;E++){const T=i.data[E],A=lo(s,i,E,u);Ir(A,s),null!==_&&Yh(0,E-h,A,T,0,_),yr(T)&&(ur(u.index,s)[wn]=lo(s,i,E,u))}}(i,s,u,qr(u,s)),64==(64&u.flags)&&Kc(i,s,u))}function ig(i,s,u=qr){const c=s.localNames;if(null!==c){let h=s.index+1;for(let p=0;p<c.length;p+=2){const _=c[p+1],E=-1===_?u(s,i):i[_];i[h++]=E}}}function s0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Kh(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Kh(i,s,u,c,h,p,_,E,T,A,N){const P=Ht+c,j=P+h,K=function LI(i,s){const u=[];for(let c=0;c<s;c++)u.push(c<i?null:at);return u}(P,j),ye="function"==typeof A?A():A;return K[Ke]={type:i,blueprint:K,template:u,queries:null,viewQuery:E,declTNode:s,data:K.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:T,consts:ye,incompleteFirstPass:!1,ssrId:N}}let a0=i=>null;function ho(i,s,u,c){for(let h in i)if(i.hasOwnProperty(h)){u=null===u?{}:u;const p=i[h];null===c?u0(u,s,h,p):c.hasOwnProperty(h)&&u0(u,s,c[h],p)}return u}function u0(i,s,u,c){i.hasOwnProperty(u)?i[u].push(s,c):i[u]=[s,c]}function c0(i,s,u,c){if($d()){const h=null===c?null:{"":-1},p=function HI(i,s){const u=i.directiveRegistry;let c=null,h=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];if(Ei(s,_.selectors,!1))if(c||(c=[]),yr(_))if(null!==_.findHostDirectiveDefs){const E=[];h=h||new Map,_.findHostDirectiveDefs(_,E,h),c.unshift(...E,_),Ts(i,s,E.length)}else c.unshift(_),Ts(i,s,0);else h=h||new Map,_.findHostDirectiveDefs?.(_,c,h),c.push(_)}return null===c?null:[c,h]}(i,u);let _,E;null===p?_=E=null:[_,E]=p,null!==_&&g_(i,s,u,_,h,E),h&&function Qo(i,s,u){if(s){const c=i.localNames=[];for(let h=0;h<s.length;h+=2){const p=u[s[h+1]];if(null==p)throw new te(-301,!1);c.push(s[h],p)}}}(u,c,h)}u.mergedAttrs=Yt(u.mergedAttrs,u.attrs)}function g_(i,s,u,c,h,p){for(let A=0;A<c.length;A++)Ai(Ys(u,s),i,c[A].type);!function m_(i,s,u){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+u,i.providerIndexes=s}(u,i.data.length,c.length);for(let A=0;A<c.length;A++){const N=c[A];N.providersResolver&&N.providersResolver(N)}let _=!1,E=!1,T=_u(i,s,c.length,null);for(let A=0;A<c.length;A++){const N=c[A];u.mergedAttrs=Yt(u.mergedAttrs,N.hostAttrs),__(i,u,s,T,N),pi(T,N,h),null!==N.contentQueries&&(u.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(u.flags|=64);const P=N.type.prototype;!_&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks??=[]).push(u.index),_=!0),!E&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(u.index),E=!0),T++}!function BI(i,s,u){const h=s.directiveEnd,p=i.data,_=s.attrs,E=[];let T=null,A=null;for(let N=s.directiveStart;N<h;N++){const P=p[N],j=u?u.get(P):null,ye=j?j.outputs:null;T=ho(P.inputs,N,T,j?j.inputs:null),A=ho(P.outputs,N,A,ye);const Re=null===T||null===_||is(s)?null:Nb(T,N,_);E.push(Re)}null!==T&&(T.hasOwnProperty("class")&&(s.flags|=8),T.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=T,s.outputs=A}(i,u,p)}function Kc(i,s,u){const c=u.directiveStart,h=u.directiveEnd,p=u.index,_=function $u(){return mt.lFrame.currentDirectiveIndex}();try{ps(p);for(let E=c;E<h;E++){const T=i.data[E],A=s[E];fs(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&h0(T,A)}}finally{ps(-1),fs(_)}}function h0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Ts(i,s,u){s.componentOffset=u,(i.components??=[]).push(s.index)}function pi(i,s,u){if(u){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)u[s.exportAs[c]]=i;yr(s)&&(u[""]=i)}}function __(i,s,u,c,h){i.data[c]=h;const p=h.factory||(h.factory=Bo(h.type)),_=new vr(p,yr(h),vl);i.blueprint[c]=_,u[c]=_,function ua(i,s,u,c,h){const p=h.hostBindings;if(p){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const E=~s.index;(function ZI(i){let s=i.length;for(;s>0;){const u=i[--s];if("number"==typeof u&&u<0)return u}return 0})(_)!=E&&_.push(E),_.push(u,c,p)}}(i,s,c,_u(i,u,h.hostVars,at),h)}function So(i,s,u,c,h,p){const _=qr(i,s);!function y_(i,s,u,c,h,p,_){if(null==p)i.removeAttribute(s,h,u);else{const E=null==_?W(p):_(p,c||"",h);i.setAttribute(s,h,E,u)}}(s[Ot],_,p,i.value,u,c,h)}function Yh(i,s,u,c,h,p){const _=p[s];if(null!==_)for(let E=0;E<_.length;)qI(c,u,_[E++],_[E++],_[E++])}function qI(i,s,u,c,h){const p=Jn(null);try{null!==i.setInput?i.setInput(s,h,u,c):s[c]=h}finally{Jn(p)}}function Nb(i,s,u){let c=null,h=0;for(;h<u.length;){const p=u[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(i.hasOwnProperty(p)){null===c&&(c=[]);const _=i[p];for(let E=0;E<_.length;E+=2)if(_[E]===s){c.push(p,_[E+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return c}function v_(i,s,u,c){return[i,!0,!1,s,null,0,c,u,null,null,null]}function jI(i,s){const u=i.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const p=u[c+1];if(-1!==p){const _=i.data[p];zu(u[c]),_.contentQueries(2,s[p],p)}}}function E_(i,s){return i[Kr]?i[kd][ai]=s:i[Kr]=s,i[kd]=s,s}function w_(i,s,u){zu(0);const c=Jn(null);try{s(i,u)}finally{Jn(c)}}function sg(i){return i[ss]||(i[ss]=[])}function GI(i){return i.cleanup||(i.cleanup=[])}function Wc(i,s){const u=i[_r],c=u?u.get(jc,null):null;c&&c.handleError(s)}function I_(i,s,u,c,h){for(let p=0;p<u.length;){const _=u[p++],E=u[p++];qI(i.data[_],s[_],c,E,h)}}function Ln(i,s,u){const c=Zu(s,i);!function kc(i,s,u){i.setValue(s,u)}(i[Ot],c,u)}function Jh(i,s){const u=ur(s,i),c=u[Ke];!function El(i,s){for(let u=s.length;u<i.blueprint.length;u++)s.push(i.blueprint[u])}(c,u);const h=u[Vn];null!==h&&null===u[Un]&&(u[Un]=zp(h,u[_r])),ag(c,u,u[wn])}function ag(i,s,u){$s(s);try{const c=i.viewQuery;null!==c&&w_(1,c,u);const h=i.template;null!==h&&o0(i,s,h,1,u),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&jI(i,s),i.staticViewQueries&&w_(2,i.viewQuery,u);const p=i.components;null!==p&&function Rb(i,s){for(let u=0;u<s.length;u++)Jh(i,s[u])}(s,p)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[Lt]&=-5,pc()}}let T_=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(u,c,h){const p=typeof Zone>"u"?null:Zone.current,_=new Bd(u,A=>{this.all.has(A)&&this.queue.set(A,p)},h);let E;this.all.add(_),_.notify();const T=()=>{_.cleanup(),E?.(),this.all.delete(_),this.queue.delete(_)};return E=c?.onDestroy(T),{destroy:T}}flush(){if(0!==this.queue.size)for(const[u,c]of this.queue)this.queue.delete(u),c?c.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:()=>new i}),i})();function lt(i,s,u){let c=u?i.styles:null,h=u?i.classes:null,p=0;if(null!==s)for(let _=0;_<s.length;_++){const E=s[_];"number"==typeof E?p=E:1==p?h=Pe(h,E):2==p&&(c=Pe(c,E+": "+s[++_]+";"))}u?i.styles=c:i.stylesWithoutHost=c,u?i.classes=h:i.classesWithoutHost=h}function ug(i,s,u,c,h=!1){for(;null!==u;){const p=s[u.index];if(null!==p&&c.push(In(p)),li(p)){for(let E=ar;E<p.length;E++){const T=p[E],A=T[Ke].firstChild;null!==A&&ug(T[Ke],T,A,c)}p[Wr]!==p[Vn]&&c.push(p[Wr])}const _=u.type;if(8&_)ug(i,s,u.child,c);else if(32&_){const E=mh(u,s);let T;for(;T=E();)c.push(T)}else if(16&_){const E=Pp(s,u);if(Array.isArray(E))c.push(...E);else{const T=co(s[kn]);ug(T[Ke],T,E,c,!0)}}u=h?u.projectionNext:u.next}return c}function We(i,s,u,c=!0){const h=s[yo].rendererFactory;h.begin&&h.begin();try{cr(i,s,i.template,u)}catch(_){throw c&&Wc(s,_),_}finally{h.end&&h.end(),s[yo].effectManager?.flush()}}function cr(i,s,u,c){const h=s[Lt];if(256!=(256&h)){s[yo].effectManager?.flush(),$s(s);try{sc(s),function Gu(i){return mt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==u&&o0(i,s,u,2,c);const _=3==(3&h);if(_){const A=i.preOrderCheckHooks;null!==A&&_c(s,A,null)}else{const A=i.preOrderHooks;null!==A&&zs(s,A,0,null),Xd(s,0)}if(function kb(i){for(let s=xp(i);null!==s;s=_h(s)){if(!s[so])continue;const u=s[us];for(let c=0;c<u.length;c++){qd(u[c])}}}(s),function zI(i){for(let s=xp(i);null!==s;s=_h(s))for(let u=ar;u<s.length;u++){const c=s[u],h=c[Ke];Zs(c)&&cr(h,c,h.template,c[wn])}}(s),null!==i.contentQueries&&jI(i,s),_){const A=i.contentCheckHooks;null!==A&&_c(s,A)}else{const A=i.contentHooks;null!==A&&zs(s,A,1),Xd(s,1)}!function OI(i,s){const u=i.hostBindingOpCodes;if(null===u)return;const c=Gh(s,as);try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)ps(~p);else{const _=p,E=u[++h],T=u[++h];za(E,_),c.runInContext(T,2,s[_])}}}finally{null===s[as]&&MI(s,as),ps(-1)}}(i,s);const E=i.components;null!==E&&function Lb(i,s){for(let u=0;u<s.length;u++)Ob(i,s[u])}(s,E);const T=i.viewQuery;if(null!==T&&w_(2,T,c),_){const A=i.viewCheckHooks;null!==A&&_c(s,A)}else{const A=i.viewHooks;null!==A&&zs(s,A,2),Xd(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[Lt]&=-73,ac(s)}finally{pc()}}}function Ob(i,s){const u=ur(s,i);if(Zs(u)){const c=u[Ke];80&u[Lt]?cr(c,u,c.template,u[wn]):u[Uo]>0&&f0(u)}}function f0(i){for(let c=xp(i);null!==c;c=_h(c))for(let h=ar;h<c.length;h++){const p=c[h];if(Zs(p))if(1024&p[Lt]){const _=p[Ke];cr(_,p,_.template,p[wn])}else p[Uo]>0&&f0(p)}const u=i[Ke].components;if(null!==u)for(let c=0;c<u.length;c++){const h=ur(u[c],i);Zs(h)&&h[Uo]>0&&f0(h)}}class lg{get rootNodes(){const s=this._lView,u=s[Ke];return ug(u,s,u.firstChild,[])}constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[wn]}set context(s){this._lView[wn]=s}get destroyed(){return 256==(256&this._lView[Lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[En];if(li(s)){const u=s[Ii],c=u?u.indexOf(this):-1;c>-1&&(dl(s,c),lu(u,c))}this._attachedToViewContainer=!1}kp(this._lView[Ke],this._lView)}onDestroy(s){!function uc(i,s){if(256==(256&i[Lt]))throw new te(911,!1);null===i[ui]&&(i[ui]=[]),i[ui].push(s)}(this._lView,s)}markForCheck(){Jp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Lt]&=-129}reattach(){this._lView[Lt]|=128}detectChanges(){We(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rp(i,s){wt(i,s,s[Ot],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=s}}class KI extends lg{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;We(s[Ke],s,s[wn],!1)}checkNoChanges(){}get context(){return null}}class WI extends Jo{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=Ft(s);return new Rt(u,this.ngModule)}}function Pb(i){const s=[];for(let u in i)i.hasOwnProperty(u)&&s.push({propName:i[u],templateName:u});return s}class YI{constructor(s,u){this.injector=s,this.parentInjector=u}get(s,u,c){c=U(c);const h=this.injector.get(s,Qv,c);return h!==Qv||u===Qv?h:this.parentInjector.get(s,u,c)}}class Rt extends wI{get inputs(){return Pb(this.componentDef.inputs)}get outputs(){return Pb(this.componentDef.outputs)}constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function qf(i){return i.map(mm).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}create(s,u,c,h){let p=(h=h||this.ngModule)instanceof gl?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new YI(s,p):s,E=_.get(Kp,null);if(null===E)throw new te(407,!1);const N={rendererFactory:E,sanitizer:_.get(Tb,null),effectManager:_.get(T_,null)},P=E.createRenderer(null,this.componentDef),j=this.componentDef.selectors[0][0]||"div",K=c?function PI(i,s,u,c){const p=c.get(Gc,!1)||u===_n.ShadowDom,_=i.selectRootElement(s,p);return function zc(i){a0(i)}(_),_}(P,c,this.componentDef.encapsulation,_):zi(P,j,function Fb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(j)),ye=this.componentDef.onPush?576:528,Re=Kh(0,null,null,1,0,null,null,null,null,null,null),Ze=$c(null,Re,null,ye,null,null,N,P,_,null,null);let st,Ee;$s(Ze);try{const Et=this.componentDef;let Jt,gn=null;Et.findHostDirectiveDefs?(Jt=[],gn=new Map,Et.findHostDirectiveDefs(Et,Jt,gn),Jt.push(Et)):Jt=[Et];const xs=function Xn(i,s){const u=i[Ke],c=Ht;return i[c]=s,zh(u,c,2,"#host",null)}(Ze,K),Mu=function vt(i,s,u,c,h,p,_){const E=h[Ke];!function cg(i,s,u,c){for(const h of i)s.mergedAttrs=Yt(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(lt(s,s.mergedAttrs,!0),null!==u&&Bm(c,u,s))}(c,i,s,_);let T=null;null!==s&&(T=zp(s,h[_r]));const A=p.rendererFactory.createRenderer(s,u),N=$c(h,s0(u),null,u.onPush?64:16,h[i.index],i,p,A,null,null,T);return E.firstCreatePass&&Ts(E,i,c.length-1),E_(h,N),h[i.index]=N}(xs,K,Et,Jt,Ze,N,P);Ee=oc(Re,Ht),K&&function Ub(i,s,u,c){if(c)ut(i,u,["ng-version",TI.full]);else{const{attrs:h,classes:p}=function Nu(i){const s=[],u=[];let c=1,h=2;for(;c<i.length;){let p=i[c];if("string"==typeof p)2===h?""!==p&&s.push(p,i[++c]):8===h&&u.push(p);else{if(!si(h))break;h=p}c++}return{attrs:s,classes:u}}(s.selectors[0]);h&&ut(i,u,h),p&&p.length>0&&Fp(i,u,p.join(" "))}}(P,Et,K,c),void 0!==u&&function dr(i,s,u){const c=i.projection=[];for(let h=0;h<s.length;h++){const p=u[h];c.push(null!=p?Array.from(p):null)}}(Ee,this.ngContentSelectors,u),st=function sn(i,s,u,c,h,p){const _=An(),E=h[Ke],T=qr(_,h);g_(E,h,_,u,null,c);for(let N=0;N<u.length;N++)Ir(lo(h,E,_.directiveStart+N,_),h);Kc(E,h,_),T&&Ir(T,h);const A=lo(h,E,_.directiveStart+_.componentOffset,_);if(i[wn]=h[wn]=A,null!==p)for(const N of p)N(A,s);return f_(E,_,i),A}(Mu,Et,Jt,gn,Ze,[Je]),ag(Re,Ze,null)}finally{pc()}return new Qh(this.componentType,st,gu(Ee,Ze),Ze,Ee)}}class Qh extends Ib{constructor(s,u,c,h,p){super(),this.location=c,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new KI(h),this.componentType=s}setInput(s,u){const c=this._tNode.inputs;let h;if(null!==c&&(h=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),u))return;const p=this._rootLView;I_(p[Ke],p,h,s,u),this.previousInputValues.set(s,u),Jp(ur(this._tNode.index,p))}}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Je(){const i=An();Qa(Ce()[Ke],i)}function hg(i){let s=function dg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),u=!0;const c=[i];for(;s;){let h;if(yr(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new te(903,!1);h=s.\u0275dir}if(h){if(u){c.push(h);const _=i;_.inputs=p0(i.inputs),_.declaredInputs=p0(i.declaredInputs),_.outputs=p0(i.outputs);const E=h.hostBindings;E&&fg(i,E);const T=h.viewQuery,A=h.contentQueries;if(T&&D_(i,T),A&&Bb(i,A),Z(i.inputs,h.inputs),Z(i.declaredInputs,h.declaredInputs),Z(i.outputs,h.outputs),yr(h)&&h.data.animation){const N=i.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(i),E===hg&&(u=!1)}}s=Object.getPrototypeOf(s)}!function Yc(i){let s=0,u=null;for(let c=i.length-1;c>=0;c--){const h=i[c];h.hostVars=s+=h.hostVars,h.hostAttrs=Yt(h.hostAttrs,u=Yt(u,h.hostAttrs))}}(c)}function p0(i){return i===dn?{}:i===bt?[]:i}function D_(i,s){const u=i.viewQuery;i.viewQuery=u?(c,h)=>{s(c,h),u(c,h)}:s}function Bb(i,s){const u=i.contentQueries;i.contentQueries=u?(c,h,p)=>{s(c,h,p),u(c,h,p)}:s}function fg(i,s){const u=i.hostBindings;i.hostBindings=u?(c,h)=>{s(c,h),u(c,h)}:s}function fo(i){return!!la(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function la(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Qr(i,s,u){return!Object.is(i[s],u)&&(i[s]=u,!0)}function Jc(i,s,u,c){const h=Qr(i,s,u);return Qr(i,s+1,c)||h}function Qc(i,s,u,c){const h=Ce();return Qr(h,jo(),s)&&(zt(),So(Dn(),h,i,s,u,c)),Qc}function ef(i,s,u,c,h,p,_,E){const A=function C_(i,s,u,c,h){const p=Jc(i,s,u,c);return Qr(i,s+2,h)||p}(i,To(),u,h,_);return hn(3),A?s+W(u)+c+W(h)+p+W(_)+E:at}function ed(i,s,u,c,h,p,_,E,T,A){const P=function er(i,s,u,c,h,p){const _=Jc(i,s,u,c);return Jc(i,s+2,h,p)||_}(i,To(),u,h,_,T);return hn(4),P?s+W(u)+c+W(h)+p+W(_)+E+W(T)+A:at}function _g(i,s,u,c,h,p,_,E){const T=Ce(),A=zt(),N=i+Ht,P=A.firstCreatePass?function Dl(i,s,u,c,h,p,_,E,T){const A=s.consts,N=zh(s,i,4,_||null,Ho(A,E));c0(s,u,N,Ho(A,T)),Qa(s,N);const P=N.tView=Kh(2,N,c,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A,null);return null!==s.queries&&(s.queries.template(s,N),P.queries=s.queries.embeddedTView(N)),N}(N,A,T,s,u,c,h,p,_):A.data[N];Io(P,!1);const j=Eu(A,T,P,i);mc()&&wh(A,T,j,P),Ir(j,T),E_(T,T[N]=v_(j,T,j,P)),Eo(P)&&rg(A,T,P),null!=_&&ig(T,P,E)}let Eu=function bs(i,s,u,c){return uo(!0),s[Ot].createComment("")};function vg(i,s,u){const c=Ce();return Qr(c,jo(),s)&&function Mo(i,s,u,c,h,p,_,E){const T=qr(s,u);let N,A=s.inputs;!E&&null!=A&&(N=A[c])?(I_(i,u,N,c,h),vo(s)&&function Is(i,s){const u=ur(s,i);16&u[Lt]||(u[Lt]|=64)}(u,s.index)):3&s.type&&(c=function Wh(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),h=null!=_?_(h,s.value||"",c):h,p.setProperty(T,c,h))}(zt(),Dn(),c,i,s,c[Ot],u,!1),vg}function uf(i,s,u,c,h){const _=h?"class":"style";I_(i,u,s.inputs[_],_,c)}function lf(i,s,u,c){const h=Ce(),p=zt(),_=Ht+i,E=h[Ot],T=p.firstCreatePass?function rd(i,s,u,c,h,p){const _=s.consts,T=zh(s,i,2,c,Ho(_,h));return c0(s,u,T,Ho(_,p)),null!==T.attrs&&lt(T,T.attrs,!1),null!==T.mergedAttrs&&lt(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(_,p,h,s,u,c):p.data[_],A=w0(p,h,T,E,s,i);h[_]=A;const N=Eo(T);return Io(T,!0),Bm(E,A,T),32!=(32&T.flags)&&mc()&&wh(p,h,A,T),0===function lc(){return mt.lFrame.elementDepthCount}()&&Ir(A,h),function Qf(){mt.lFrame.elementDepthCount++}(),N&&(rg(p,h,T),f_(p,T,h)),null!==c&&ig(h,T),lf}function bl(){let i=An();$a()?function Gs(){mt.lFrame.isParent=!1}():(i=i.parent,Io(i,!1));const s=i;(function ja(i){return mt.skipHydrationRootTNode===i})(s)&&function zd(){mt.skipHydrationRootTNode=null}(),function Gd(){mt.lFrame.elementDepthCount--}();const u=zt();return u.firstCreatePass&&(Qa(u,i),Ps(i)&&u.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ks(i){return 0!=(8&i.flags)}(s)&&uf(u,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ec(i){return 0!=(16&i.flags)}(s)&&uf(u,s,Ce(),s.stylesWithoutHost,!1),bl}function M_(i,s,u,c){return lf(i,s,u,c),bl(),M_}let w0=(i,s,u,c,h,p)=>(uo(!0),zi(c,h,function np(){return mt.lFrame.currentNamespace}()));function Pn(){return Ce()}function ha(i){return!!i&&"function"==typeof i.then}function b0(i){return!!i&&"function"==typeof i.subscribe}function x_(i,s,u,c){const h=Ce(),p=zt(),_=An();return function A0(i,s,u,c,h,p,_){const E=Eo(c),A=i.firstCreatePass&&GI(i),N=s[wn],P=sg(s);let j=!0;if(3&c.type||_){const Re=qr(c,s),Ze=_?_(Re):Re,st=P.length,Ee=_?Jt=>_(In(Jt[c.index])):c.index;let Et=null;if(!_&&E&&(Et=function Jb(i,s,u,c){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===u&&h[p+1]===c){const E=s[ss],T=h[p+2];return E.length>T?E[T]:null}"string"==typeof _&&(p+=2)}return null}(i,s,h,c.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,j=!1;else{p=yn(c,s,N,p,!1);const Jt=u.listen(Ze,h,p);P.push(p,Jt),A&&A.push(h,Ee,st,st+1)}}else p=yn(c,s,N,p,!1);const K=c.outputs;let ye;if(j&&null!==K&&(ye=K[h])){const Re=ye.length;if(Re)for(let Ze=0;Ze<Re;Ze+=2){const gn=s[ye[Ze]][ye[Ze+1]].subscribe(p),xs=P.length;P.push(p,gn),A&&A.push(h,c.index,xs,-(xs+1))}}}(p,h,h[Ot],_,i,s,c),x_}function Xt(i,s,u,c){try{return Fi(6,s,u),!1!==u(c)}catch(h){return Wc(i,h),!1}finally{Fi(7,s,u)}}function yn(i,s,u,c,h){return function p(_){if(_===Function)return c;Jp(i.componentOffset>-1?ur(i.index,s):s);let T=Xt(s,u,c,_),A=p.__ngNextListenerFn__;for(;A;)T=Xt(s,u,A,_)&&T,A=A.__ngNextListenerFn__;return h&&!1===T&&_.preventDefault(),T}}function od(i=1){return function Ya(i){return(mt.lFrame.contextLView=function ep(i,s){for(;i>0;)s=s[oo],i--;return s}(i,mt.lFrame.contextLView))[wn]}(i)}function k_(i,s){return i<<17|s<<2}function Al(i){return i>>17&32767}function wu(i){return 2|i}function As(i){return(131068&i)>>2}function cf(i,s){return-131069&i|s<<2}function L_(i){return 1|i}function L0(i,s,u,c,h){const p=i[u+1],_=null===s;let E=c?Al(p):As(p),T=!1;for(;0!==E&&(!1===T||_);){const N=i[E+1];P0(i[E],s)&&(T=!0,i[E+1]=c?L_(N):wu(N)),E=c?Al(N):As(N)}T&&(i[u+1]=c?wu(p):L_(p))}function P0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&S(i,s)>=0}function U_(i,s){return function Ji(i,s,u,c){const h=Ce(),p=zt(),_=hn(2);p.firstUpdatePass&&function qt(i,s,u,c){const h=i.data;if(null===h[u+1]){const p=h[Yr()],_=function TT(i,s){return s>=i.expandoStartIndex}(i,u);(function ad(i,s){return 0!=(i.flags&(s?8:16))})(p,c)&&null===s&&!_&&(s=!1),s=function t1(i,s,u,c){const h=function Ka(i){const s=mt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let p=c?s.residualClasses:s.residualStyles;if(null===h)0===(c?s.classBindings:s.styleBindings)&&(u=xl(u=B_(null,i,s,u,c),s.attrs,c),p=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==h)if(u=B_(h,i,s,u,c),null===p){let T=function U0(i,s,u){const c=u?s.classBindings:s.styleBindings;if(0!==As(c))return i[Al(c)]}(i,s,c);void 0!==T&&Array.isArray(T)&&(T=B_(null,i,s,T[1],c),T=xl(T,s.attrs,c),function DT(i,s,u,c){i[Al(u?s.classBindings:s.styleBindings)]=c}(i,s,c,T))}else p=function CT(i,s,u){let c;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)c=xl(c,i[p].hostAttrs,u);return xl(c,s.attrs,u)}(i,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),u}(h,p,s,c),function ET(i,s,u,c,h,p){let _=p?s.classBindings:s.styleBindings,E=Al(_),T=As(_);i[c]=u;let N,A=!1;if(Array.isArray(u)?(N=u[1],(null===N||S(u,N)>0)&&(A=!0)):N=u,h)if(0!==T){const j=Al(i[E+1]);i[c+1]=k_(j,E),0!==j&&(i[j+1]=cf(i[j+1],c)),i[E+1]=function O0(i,s){return 131071&i|s<<17}(i[E+1],c)}else i[c+1]=k_(E,0),0!==E&&(i[E+1]=cf(i[E+1],c)),E=c;else i[c+1]=k_(T,0),0===E?E=c:i[T+1]=cf(i[T+1],c),T=c;A&&(i[c+1]=wu(i[c+1])),L0(i,N,c,!0),L0(i,N,c,!1),function df(i,s,u,c,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof s&&S(p,s)>=0&&(u[c+1]=L_(u[c+1]))}(s,N,i,c,p),_=k_(E,T),p?s.classBindings=_:s.styleBindings=_}(h,p,s,u,_,c)}}(p,i,_,c),s!==at&&Qr(h,_,s)&&function Nl(i,s,u,c,h,p,_,E){if(!(3&s.type))return;const T=i.data,A=T[E+1],N=function O_(i){return 1==(1&i)}(A)?B0(T,s,u,h,As(A),_):void 0;ga(N)||(ga(p)||function Qb(i){return 2==(2&i)}(A)&&(p=B0(T,null,u,h,E,_)),function Dv(i,s,u,c,h){if(s)h?i.addClass(u,c):i.removeClass(u,c);else{let p=-1===c.indexOf("-")?void 0:vs.DashCase;null==h?i.removeStyle(u,c,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=vs.Important),i.setStyle(u,c,h,p))}}(c,_,Zu(Yr(),u),h,p))}(p,p.data[Yr()],h,h[Ot],i,h[_+1]=function MT(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=J(fl(i)))),i}(s,u),c,_)}(i,s,null,!0),U_}function B_(i,s,u,c,h){let p=null;const _=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<_&&(p=s[E],c=xl(c,p.hostAttrs,h),p!==i);)E++;return null!==i&&(u.directiveStylingLast=E),c}function xl(i,s,u){const c=u?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const _=s[p];"number"==typeof _?h=_:h===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),I(i,_,!!u||s[++p]))}return void 0===i?null:i}function B0(i,s,u,c,h,p){const _=null===s;let E;for(;h>0;){const T=i[h],A=Array.isArray(T),N=A?T[1]:T,P=null===N;let j=u[h+1];j===at&&(j=P?bt:void 0);let K=P?D(j,c):N===c?j:void 0;if(A&&!ga(K)&&(K=D(T,c)),ga(K)&&(E=K,_))return E;const ye=i[h+1];h=_?Al(ye):As(ye)}if(null!==s){let T=p?s.residualClasses:s.residualStyles;null!=T&&(E=D(T,c))}return E}function ga(i){return void 0!==i}function Z0(i,s=""){const u=Ce(),c=zt(),h=i+Ht,p=c.firstCreatePass?zh(c,h,1,s,null):c.data[h],_=H0(c,u,p,s,i);u[h]=_,mc()&&wh(c,u,_,p),Io(p,!1)}let H0=(i,s,u,c,h)=>(uo(!0),function oa(i,s){return i.createText(s)}(s[Ot],c));function q0(i){return Sn("",i,""),q0}function Sn(i,s,u){const c=Ce(),h=function Xc(i,s,u,c){return Qr(i,jo(),u)?s+W(u)+c:at}(c,i,s,u);return h!==at&&Ln(c,Yr(),h),Sn}function pf(i,s,u,c,h,p,_){const E=Ce(),T=ef(E,i,s,u,c,h,p,_);return T!==at&&Ln(E,Yr(),T),pf}function Z_(i,s,u,c,h,p,_,E,T){const A=Ce(),N=ed(A,i,s,u,c,h,p,_,E,T);return N!==at&&Ln(A,Yr(),N),Z_}const ld=void 0;var UT=["en",[["a","p"],["AM","PM"],ld],[["AM","PM"],ld,ld],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ld,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ld,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ld,"{1} 'at' {0}",ld],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VT(i){const u=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Ef={};function tE(i){const s=function Mr(i){return i.toLowerCase().replace(/_/g,"-")}(i);let u=cd(s);if(u)return u;const c=s.split("-")[0];if(u=cd(c),u)return u;if("en"===c)return UT;throw new te(701,!1)}function j_(i){return tE(i)[St.PluralCase]}function cd(i){return i in Ef||(Ef[i]=on.ng&&on.ng.common&&on.ng.common.locales&&on.ng.common.locales[i]),Ef[i]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const ma="en-US";let rE=ma;function ey(i,s,u,c,h){if(i=Se(i),Array.isArray(i))for(let p=0;p<i.length;p++)ey(i[p],s,u,c,h);else{const p=zt(),_=Ce();let E=pl(i)?i:Se(i.provide),T=$v(i);const A=An(),N=1048575&A.providerIndexes,P=A.directiveStart,j=A.providerIndexes>>20;if(pl(i)||!i.multi){const K=new vr(T,h,vl),ye=_E(E,s,h?N:N+j,P);-1===ye?(Ai(Ys(A,_),p,E),gE(p,i,s.length),s.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(K),_.push(K)):(u[ye]=K,_[ye]=K)}else{const K=_E(E,s,N+j,P),ye=_E(E,s,N,N+j),Ze=ye>=0&&u[ye];if(h&&!Ze||!h&&!(K>=0&&u[K])){Ai(Ys(A,_),p,E);const st=function oD(i,s,u,c,h){const p=new vr(i,u,vl);return p.multi=[],p.index=s,p.componentProviders=0,mE(p,h,c&&!u),p}(h?iD:ty,u.length,h,c,T);!h&&Ze&&(u[ye].providerFactory=st),gE(p,i,s.length,0),s.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(st),_.push(st)}else gE(p,i,K>-1?K:ye,mE(u[h?ye:K],T,!h&&c));!h&&c&&Ze&&u[ye].componentProviders++}}}function gE(i,s,u,c){const h=pl(s),p=function mb(i){return!!i.useClass}(s);if(h||p){const T=(p?Se(s.useClass):s).prototype.ngOnDestroy;if(T){const A=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const N=A.indexOf(u);-1===N?A.push(u,[c,T]):A[N+1].push(c,T)}else A.push(u,T)}}}function mE(i,s,u){return u&&i.componentProviders++,i.multi.push(s)-1}function _E(i,s,u,c){for(let h=u;h<c;h++)if(s[h]===i)return h;return-1}function ty(i,s,u,c){return yE(this.multi,[])}function iD(i,s,u,c){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=lo(u,u[Ke],this.providerFactory.index,c);p=E.slice(0,_),yE(h,p);for(let T=_;T<E.length;T++)p.push(E[T])}else p=[],yE(h,p);return p}function yE(i,s){for(let u=0;u<i.length;u++)s.push((0,i[u])());return s}function sD(i,s=[]){return u=>{u.providersResolver=(c,h)=>function T1(i,s,u){const c=zt();if(c.firstCreatePass){const h=yr(i);ey(u,c.data,c.blueprint,h,!0),ey(s,c.data,c.blueprint,h,!1)}}(c,h?h(i):i,s)}}class pd{}class Vl{}function Og(i,s){return new ny(i,s??null,[])}class ny extends pd{constructor(s,u,c){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new WI(this);const h=xr(s);this._bootstrapComponents=aa(h.bootstrap),this._r3Injector=$h(s,u,[{provide:pd,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver},...c],J(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class vE extends Vl{constructor(s){super(),this.moduleType=s}create(s){return new ny(this.moduleType,s,[])}}class uD extends pd{constructor(s){super(),this.componentFactoryResolver=new WI(this),this.instance=null;const u=new qv([...s.providers,{provide:pd,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver}],s.parent||Rh(),s.debugName,new Set(["environment"]));this.injector=u,s.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function lD(i,s,u=null){return new uD({providers:i,parent:s,debugName:u,runEnvironmentInitializers:!0}).injector}let EE=(()=>{class i{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=Qm(0,u.type),h=c.length>0?lD([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Wt({token:i,providedIn:"environment",factory:()=>new i(Qt(gl))}),i})();function jr(i){i.getStandaloneInjector=s=>s.get(EE).getOrCreateStandaloneInjector(i)}function Fg(i){return s=>{setTimeout(i,void 0,s)}}const Xo=class cy extends a.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,c){let h=s,p=u||(()=>null),_=c;if(s&&"object"==typeof s){const T=s;h=T.next?.bind(T),p=T.error?.bind(T),_=T.complete?.bind(T)}this.__isAsync&&(p=Fg(p),h&&(h=Fg(h)),_&&(_=Fg(_)));const E=super.subscribe({next:h,error:p,complete:_});return s instanceof $.w0&&s.add(E),E}};function NE(){return this._results[Symbol.iterator]()}class dy{get changes(){return this._changes||(this._changes=new Xo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=dy.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=NE)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const c=this;c.dirty=!1;const h=function Qn(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function oh(i,s,u){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let h=i[c],p=s[c];if(u&&(h=u(h),p=u(p)),p!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vg=(()=>{class i{}return i.__NG_ELEMENT_ID__=RE,i})();const ID=Vg,hy=class extends ID{constructor(s,u,c){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,u){return this.createEmbeddedViewImpl(s,u,null)}createEmbeddedViewImpl(s,u,c){const h=this._declarationTContainer.tView,p=$c(this._declarationLView,h,s,16,null,h.declTNode,null,null,null,u||null,c||null);p[Os]=this._declarationLView[this._declarationTContainer.index];const E=this._declarationLView[wi];return null!==E&&(p[wi]=E.createEmbeddedView(h)),ag(h,p,s),new lg(p)}};function RE(){return fy(An(),Ce())}function fy(i,s){return 4&i.type?new hy(s,i,gu(i,s)):null}let _y=(()=>{class i{}return i.__NG_ELEMENT_ID__=O1,i})();function O1(){return yy(An(),Ce())}const kE=_y,bD=class extends kE{constructor(s,u,c){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=c}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){const s=$o(this._hostTNode,this._hostLView);if(qn(s)){const u=tu(s,this._hostLView),c=Mt(s);return new gs(u[Ke].data[c+8],u)}return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=AD(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-ar}createEmbeddedView(s,u,c){let h,p;"number"==typeof c?h=c:null!=c&&(h=c.index,p=c.injector);const E=s.createEmbeddedViewImpl(u||{},p,null);return this.insertImpl(E,h,false),E}createComponent(s,u,c,h,p){const _=s&&!function Xs(i){return"function"==typeof i}(s);let E;if(_)E=u;else{const Re=u||{};E=Re.index,c=Re.injector,h=Re.projectableNodes,p=Re.environmentInjector||Re.ngModuleRef}const T=_?s:new Rt(Ft(s)),A=c||this.parentInjector;if(!p&&null==T.ngModule){const Ze=(_?A:this.parentInjector).get(gl,null);Ze&&(p=Ze)}Ft(T.componentType??{});const K=T.create(A,h,null,p);return this.insertImpl(K.hostView,E,false),K}insert(s,u){return this.insertImpl(s,u,!1)}insertImpl(s,u,c){const h=s._lView,p=h[Ke];if(function Hd(i){return li(i[En])}(h)){const T=this.indexOf(s);if(-1!==T)this.detach(T);else{const A=h[En],N=new bD(A,A[Br],A[En]);N.detach(N.indexOf(s))}}const _=this._adjustIndex(u),E=this._lContainer;if(function vh(i,s,u,c){const h=ar+c,p=u.length;c>0&&(u[h-1][ai]=s),c<p-ar?(s[ai]=u[h],Ko(u,ar+c,s)):(u.push(s),s[ai]=null),s[En]=u;const _=s[Os];null!==_&&u!==_&&function Tv(i,s){const u=i[us];s[kn]!==s[En][En][kn]&&(i[so]=!0),null===u?i[us]=[s]:u.push(s)}(_,s);const E=s[wi];null!==E&&E.insertView(i),s[Lt]|=128}(p,h,E,_),!c){const T=Ih(_,E),A=h[Ot],N=et(A,E[Wr]);null!==N&&function Vm(i,s,u,c,h,p){c[Vn]=h,c[Br]=s,wt(i,c,u,1,h,p)}(p,E[Br],A,h,N,T)}return s.attachToViewContainerRef(),Ko(gd(E),_,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=AD(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),c=dl(this._lContainer,u);c&&(lu(gd(this._lContainer),u),kp(c[Ke],c))}detach(s){const u=this._adjustIndex(s,-1),c=dl(this._lContainer,u);return c&&null!=lu(gd(this._lContainer),u)?new lg(c):null}_adjustIndex(s,u=0){return s??this.length+u}};function AD(i){return i[Ii]}function gd(i){return i[Ii]||(i[Ii]=[])}function yy(i,s){let u;const c=s[i.index];return li(c)?u=c:(u=v_(c,s,null,i),s[i.index]=u,E_(s,u)),vy(u,s,i,c),new bD(u,i,s)}let vy=function Bg(i,s,u,c){if(i[Wr])return;let h;h=8&u.type?In(c):function Nf(i,s){const u=i[Ot],c=u.createComment(""),h=qr(s,i);return x(u,et(u,h),c,function rt(i,s){return i.nextSibling(s)}(u,h),!1),c}(s,u),i[Wr]=h};class Ey{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ey(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hg{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const c=null!==s.contentQueries?s.contentQueries[0]:u.length,h=[];for(let p=0;p<c;p++){const _=u.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new Hg(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==BE(s,u).matches&&this.queries[u].setDirty()}}class wy{constructor(s,u,c=null){this.predicate=s,this.flags=u,this.read=c}}class va{constructor(s=[]){this.queries=s}elementStart(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,p=this.getByIndex(c).embeddedTView(s,h);p&&(p.indexInDeclarationView=c,null!==u?u.push(p):u=[p])}return null!==u?new va(u):null}template(s,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Iy{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new Iy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const p=c[h];this.matchTNodeWithReadOption(s,u,L1(u,p)),this.matchTNodeWithReadOption(s,u,Xu(u,s,p,!1,!1))}else c===Vg?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,Xu(u,s,c,!1,!1))}matchTNodeWithReadOption(s,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Hh||h===_y||h===Vg&&4&u.type)this.addMatch(u.index,-2);else{const p=Xu(u,s,h,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,c)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function L1(i,s){const u=i.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===s)return u[c+1];return null}function P1(i,s,u,c){return-1===u?function LE(i,s){return 11&i.type?gu(i,s):4&i.type?fy(i,s):null}(s,i):-2===u?function PE(i,s,u){return u===Hh?gu(s,i):u===Vg?fy(s,i):u===_y?yy(s,i):void 0}(i,s,c):lo(i,i[Ke],u,s)}function MD(i,s,u,c){const h=s[wi].queries[c];if(null===h.matches){const p=i.data,_=u.matches,E=[];for(let T=0;T<_.length;T+=2){const A=_[T];E.push(A<0?null:P1(s,p[A],_[T+1],u.metadata.read))}h.matches=E}return h.matches}function qg(i,s,u,c){const h=i.queries.getByIndex(u),p=h.matches;if(null!==p){const _=MD(i,s,h,u);for(let E=0;E<p.length;E+=2){const T=p[E];if(T>0)c.push(_[E/2]);else{const A=p[E+1],N=s[-T];for(let P=ar;P<N.length;P++){const j=N[P];j[Os]===j[En]&&qg(j[Ke],j,A,c)}if(null!==N[us]){const P=N[us];for(let j=0;j<P.length;j++){const K=P[j];qg(K[Ke],K,A,c)}}}}}return c}function jg(i){const s=Ce(),u=zt(),c=Wd();zu(c+1);const h=BE(u,c);if(i.dirty&&function bm(i){return 4==(4&i[Lt])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?qg(u,s,c,[]):MD(u,s,h,c);i.reset(p,jn),i.notifyOnChanges()}return!0}return!1}function VE(i,s,u,c){const h=zt();if(h.firstCreatePass){const p=An();(function xD(i,s,u){null===i.queries&&(i.queries=new va),i.queries.track(new Iy(s,u))})(h,new wy(s,u,c),p.index),function ND(i,s){const u=i.contentQueries||(i.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(i.queries.length-1,s)}(h,i),2==(2&u)&&(h.staticContentQueries=!0)}!function SD(i,s,u){const c=new dy(4==(4&u));(function UI(i,s,u,c){const h=sg(s);h.push(u),i.firstCreatePass&&GI(i).push(c,h.length-1)})(i,s,c,c.destroy),null===s[wi]&&(s[wi]=new Hg),s[wi].queries.push(new Ey(c))}(h,Ce(),u)}function md(){return function UE(i,s){return i[wi].queries[s].queryList}(Ce(),Wd())}function BE(i,s){return i.queries.getByIndex(s)}function Dy(i){return!!xr(i)}const Ry=new pn("Application Initializer");let JE=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c}),this.appInits=$t(Ry,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const h of this.appInits){const p=h();if(ha(p))u.push(p);else if(b0(p)){const _=new Promise((E,T)=>{p.subscribe({complete:E,error:T})});u.push(_)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ky=(()=>{class i{log(u){console.log(u)}warn(u){console.warn(u)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ff=new pn("LocaleId",{providedIn:"root",factory:()=>$t(Ff,$e.Optional|$e.SkipSelf)||function Au(){return typeof $localize<"u"&&$localize.locale||ma}()}),$1=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Oy=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class z1{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let QE=(()=>{class i{compileModuleSync(u){return new vE(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),p=aa(xr(u).declarations).reduce((_,E)=>{const T=Ft(E);return T&&_.push(new Rt(T)),_},[]);return new z1(c,p)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Y1=(()=>Promise.resolve(0))();function ew(i){typeof Zone>"u"?Y1.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}function Py(...i){}class _i{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function J1(){let i=on.requestAnimationFrame,s=on.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Q1(i){const s=()=>{!function Kg(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(on,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Wg(i),i.isCheckStableRunning=!0,nw(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Wg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,p,_,E)=>{try{return rw(i),u.invokeTask(h,p,_,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&s(),vd(i)}},onInvoke:(u,c,h,p,_,E,T)=>{try{return rw(i),u.invoke(h,p,_,E,T)}finally{i.shouldCoalesceRunChangeDetection&&s(),vd(i)}},onHasTask:(u,c,h,p)=>{u.hasTask(h,p),c===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Wg(i),nw(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,c,h,p)=>(u.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_i.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(_i.isInAngularZone())throw new te(909,!1)}run(s,u,c){return this._inner.run(s,u,c)}runTask(s,u,c,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,s,tw,Py,Py);try{return p.runTask(_,u,c)}finally{p.cancelTask(_)}}runGuarded(s,u,c){return this._inner.runGuarded(s,u,c)}runOutsideAngular(s){return this._outer.run(s)}}const tw={};function nw(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Wg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function rw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function vd(i){i._nesting--,nw(i)}class tC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(s,u,c){return s.apply(u,c)}runGuarded(s,u,c){return s.apply(u,c)}runOutsideAngular(s){return s()}runTask(s,u,c,h){return s.apply(u,c)}}const Yg=new pn("",{providedIn:"root",factory:nC});function nC(){const i=$t(_i);let s=!0;const u=new X.y(h=>{s=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(s),h.complete()})}),c=new X.y(h=>{let p;i.runOutsideAngular(()=>{p=i.onStable.subscribe(()=>{_i.assertNotInAngularZone(),ew(()=>{!s&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(s=!0,h.next(!0))})})});const _=i.onUnstable.subscribe(()=>{_i.assertInAngularZone(),s&&(s=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{p.unsubscribe(),_.unsubscribe()}});return(0,ne.T)(u,c.pipe((0,fe.B)()))}const rC=new pn(""),iC=new pn("");let Qg,X1=(()=>{class i{constructor(u,c,h){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qg||(function iw(i){Qg=i}(h),h.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_i.assertNotInAngularZone(),ew(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ew(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:p,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,h){return[]}}return i.\u0275fac=function(u){return new(u||i)(Qt(_i),Qt(Jg),Qt(iC))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac}),i})(),Jg=(()=>{class i{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Qg?.findTestabilityInTree(this,u,c)??null}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Ea=null;const ow=new pn("AllowMultipleToken"),Xg=new pn("PlatformDestroyListeners"),em=new pn("appBootstrapListener");class sC{constructor(s,u){this.name=s,this.token=u}}function lC(i,s,u=[]){const c=`Platform: ${s}`,h=new pn(c);return(p=[])=>{let _=uw();if(!_||_.injector.get(ow,!1)){const E=[...u,...p,{provide:h,useValue:!0}];i?i(E):function aw(i){if(Ea&&!Ea.get(ow,!1))throw new te(400,!1);(function sw(){!function Fu(i){Za=i}(()=>{throw new te(600,!1)})})(),Ea=i;const s=i.get(lw);(function Ed(i){i.get(gI,null)?.forEach(u=>u())})(i)}(function cC(i=[],s){return mu.create({name:s,providers:[{provide:Hv,useValue:"platform"},{provide:Xg,useValue:new Set([()=>Ea=null])},...i]})}(E,c))}return function eA(i){const s=uw();if(!s)throw new te(401,!1);return s}()}}function uw(){return Ea?.get(lw)??null}let lw=(()=>{class i{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const h=function nA(i="zone.js",s){return"noop"===i?new tC:"zone.js"===i?new _i(s):i}(c?.ngZone,function dC(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return h.run(()=>{const p=function aD(i,s,u){return new ny(i,s,u)}(u.moduleType,this.injector,function en(i){return[{provide:_i,useFactory:i},{provide:xh,multi:!0,useFactory:()=>{const s=$t(gC,{optional:!0});return()=>s.initialize()}},{provide:cw,useFactory:pC},{provide:Yg,useFactory:nC}]}(()=>h)),_=p.injector.get(jc,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:T=>{_.handleError(T)}});p.onDestroy(()=>{tm(this._modules,p),E.unsubscribe()})}),function hC(i,s,u){try{const c=u();return ha(c)?c.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(_,h,()=>{const E=p.injector.get(JE);return E.runInitializers(),E.donePromise.then(()=>(function iE(i){tt(i,"Expected localeId to be defined"),"string"==typeof i&&(rE=i.toLowerCase().replace(/_/g,"-"))}(p.injector.get(Ff,ma)||ma),this._moduleDoBootstrap(p),p))})})}bootstrapModule(u,c=[]){const h=fC({},c);return function Fy(i,s,u){const c=new vE(u);return Promise.resolve(c)}(0,0,u).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(u){const c=u.injector.get(wd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new te(-403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(Xg,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(u){return new(u||i)(Qt(mu))},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function fC(i,s){return Array.isArray(s)?s.reduce(fC,i):{...i,...s}}let wd=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=$t(cw),this.zoneIsStable=$t(Yg),this.componentTypes=[],this.components=[],this.isStable=$t(Oy).hasPendingTasks.pipe((0,ke.z)(u=>u?(0,ce.of)(!1):this.zoneIsStable),(0,de.x)(),(0,fe.B)()),this._injector=$t(gl)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const h=u instanceof wI;if(!this._injector.get(JE).done)throw!h&&Vo(u),new te(405,!1);let _;_=h?u:this._injector.get(Jo).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const E=function Vy(i){return i.isBoundToModule}(_)?void 0:this._injector.get(pd),A=_.create(mu.NULL,[],c||_.selector,E),N=A.location.nativeElement,P=A.injector.get(rC,null);return P?.registerApplication(N),A.onDestroy(()=>{this.detachView(A.hostView),tm(this.components,A),P?.unregisterApplication(N)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;tm(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const c=this._injector.get(em,[]);c.push(...this._bootstrapListeners),c.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>tm(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new te(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function tm(i,s){const u=i.indexOf(s);u>-1&&i.splice(u,1)}const cw=new pn("",{providedIn:"root",factory:()=>$t(jc).handleError.bind(void 0)});function pC(){const i=$t(_i),s=$t(jc);return u=>i.runOutsideAngular(()=>s.handleError(u))}let gC=(()=>{class i{constructor(){this.zone=$t(_i),this.applicationRef=$t(wd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275prov=Wt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function _C(){return!1}let wa=(()=>{class i{}return i.__NG_ELEMENT_ID__=yC,i})();function yC(i){return function iA(i,s,u){if(vo(i)&&!u){const c=ur(i.index,s);return new lg(c,c)}return 47&i.type?new lg(s[kn],s):null}(An(),Ce(),16==(16&i))}class IC{constructor(){}supports(s){return fo(s)}create(s){return new nm(s)}}const TC=(i,s)=>s;class nm{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||TC}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,c=this._removalsHead,h=0,p=null;for(;u||c;){const _=!c||u&&u.currentIndex<lA(c,h,p)?u:c,E=lA(_,h,p),T=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{p||(p=[]);const A=E-h,N=T-h;if(A!=N){for(let j=0;j<A;j++){const K=j<p.length?p[j]:p[j]=0,ye=K+j;N<=ye&&ye<A&&(p[j]=K+1)}p[_.previousIndex]=N-A}}E!==T&&s(_,E,T)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!fo(s))throw new te(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,_,u=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],_=this._trackByFn(E,p),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,p,_,E)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,_,E),c=!0),u=u._next}else h=0,function pg(i,s){if(Array.isArray(i))for(let u=0;u<i.length;u++)s(i[u]);else{const u=i[Symbol.iterator]();let c;for(;!(c=u.next()).done;)s(c.value)}}(s,E=>{_=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,E,_,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,_,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,c,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,p,h)):s=this._addAfter(new uA(u,c),p,h),s}_verifyReinsertion(s,u,c,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,u,c),this._addToMoves(s,c),s}_moveAfter(s,u,c){return this._unlink(s),this._insertAfter(s,u,c),this._addToMoves(s,c),s}_addAfter(s,u,c){return this._insertAfter(s,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,c){const h=null===u?this._itHead:u._next;return s._next=h,s._prev=u,null===h?this._itTail=s:h._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new Ta),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,c=s._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ta),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class uA{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ia{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const u=s._prevDup,c=s._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Ta{constructor(){this.map=new Map}put(s){const u=s.trackById;let c=this.map.get(u);c||(c=new Ia,this.map.set(u,c)),c.add(s)}get(s,u){const h=this.map.get(s);return h?h.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lA(i,s,u){const c=i.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+s+h}class Ul{constructor(){}supports(s){return s instanceof Map||la(s)}create(){return new qy}}class qy{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||la(s)))throw new te(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const c=s._prev;return u._next=s,u._prev=c,s._prev=u,c&&(c._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,u);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const c=new cA(s);return this._records.set(s,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(c=>u(s[c],c))}}class cA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DC(){return new jy([new IC])}let jy=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||DC()),deps:[[i,new ci,new qi]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new te(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:DC}),i})();function rm(){return new yw([new Ul])}let yw=(()=>{class i{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new i(u)}static extend(u){return{provide:i,useFactory:c=>i.create(u,c||rm()),deps:[[i,new ci,new qi]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new te(901,!1)}}return i.\u0275prov=Wt({token:i,providedIn:"root",factory:rm}),i})();const vw=lC(null,"core",[]);let fA=(()=>{class i{constructor(u){}}return i.\u0275fac=function(u){return new(u||i)(Qt(wd))},i.\u0275mod=_o({type:i}),i.\u0275inj=zn({}),i})();function _A(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function vA(i){const s=Ft(i);if(!s)return null;const u=new Rt(s);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return s.standalone}}}},3942:(ct,Ie,k)=>{k.d(Ie,{Z:()=>Ye});var a=k(2090),$=k(4859),O=k(6881),X=k(1877);class ne{constructor(Ge,Ne){this._delegate=Ge,this.firebase=Ne,(0,O._addComponent)(Ge,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(Ge,Ne=O._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const ht=this._delegate.container.getProvider(Ge);return!ht.isInitialized()&&"EXPLICIT"===(null===(_t=ht.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&ht.initialize(),ht.getImmediate({identifier:Ne})}_removeServiceInstance(Ge,Ne=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(Ne)}_addComponent(Ge){(0,O._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,O._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function de(){const Se=function ke(Se){const Ge={},Ne={__esModule:!0,initializeApp:function te(be,Ve={}){const ie=O.initializeApp(be,Ve);if((0,a.r3)(Ge,ie.name))return Ge[ie.name];const He=new Se(ie,Ne);return Ge[ie.name]=He,He},app:ht,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function W(be){const Ve=be.name,ie=Ve.replace("-compat","");if(O._registerComponent(be)&&"PUBLIC"===be.type){const He=(jt=ht())=>{if("function"!=typeof jt[ie])throw fe.create("invalid-app-argument",{appName:Ve});return jt[ie]()};void 0!==be.serviceProps&&(0,a.ZB)(He,be.serviceProps),Ne[ie]=He,Se.prototype[ie]=function(...jt){return this._getService.bind(this,Ve).apply(this,be.multipleInstances?jt:[])}}return"PUBLIC"===be.type?Ne[ie]:null},removeApp:function _t(be){delete Ge[be]},useAsService:function he(be,Ve){return"serverAuth"===Ve?null:Ve},modularAPIs:O}};function ht(be){if(!(0,a.r3)(Ge,be=be||O._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:be});return Ge[be]}return Ne.default=Ne,Object.defineProperty(Ne,"apps",{get:function pe(){return Object.keys(Ge).map(be=>Ge[be])}}),ht.App=Se,Ne}(ne);return Se.INTERNAL=Object.assign(Object.assign({},Se.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function Ge(Ne){(0,a.ZB)(Se,Ne)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),Se}(),Z=new X.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Se=self.firebase.SDK_VERSION;Se&&Se.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=V;!function De(Se){(0,O.registerVersion)("@firebase/app-compat","0.2.13",Se)}()},6881:(ct,Ie,k)=>{k.r(Ie),k.d(Ie,{FirebaseError:()=>X.ZR,SDK_VERSION:()=>rs,_DEFAULT_ENTRY_NAME:()=>$e,_addComponent:()=>bn,_addOrOverwriteComponent:()=>zr,_apps:()=>yt,_clearComponents:()=>un,_components:()=>cn,_getProvider:()=>pr,_registerComponent:()=>on,_removeServiceInstance:()=>Ma,deleteApp:()=>gr,getApp:()=>ii,getApps:()=>to,initializeApp:()=>Sa,onLog:()=>no,registerVersion:()=>mn,setLogLevel:()=>Qt});var a=k(5861),$=k(4859),O=k(1877),X=k(2090);const ne=(ue,ee)=>ee.some(xe=>ue instanceof xe);let ce,fe;const V=new WeakMap,Z=new WeakMap,J=new WeakMap,Pe=new WeakMap,De=new WeakMap;let Ge={get(ue,ee,xe){if(ue instanceof IDBTransaction){if("done"===ee)return Z.get(ue);if("objectStoreNames"===ee)return ue.objectStoreNames||J.get(ue);if("store"===ee)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return te(ue[ee])},set:(ue,ee,xe)=>(ue[ee]=xe,!0),has:(ue,ee)=>ue instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in ue};function ht(ue){return"function"==typeof ue?function _t(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...ee){return ue.apply(pe(this),ee),te(V.get(this))}:function(...ee){return te(ue.apply(pe(this),ee))}:function(ee,...xe){const ut=ue.call(pe(this),ee,...xe);return J.set(ut,ee.sort?ee.sort():[ee]),te(ut)}}(ue):(ue instanceof IDBTransaction&&function Se(ue){if(Z.has(ue))return;const ee=new Promise((xe,ut)=>{const At=()=>{ue.removeEventListener("complete",Pt),ue.removeEventListener("error",Yt),ue.removeEventListener("abort",Yt)},Pt=()=>{xe(),At()},Yt=()=>{ut(ue.error||new DOMException("AbortError","AbortError")),At()};ue.addEventListener("complete",Pt),ue.addEventListener("error",Yt),ue.addEventListener("abort",Yt)});Z.set(ue,ee)}(ue),ne(ue,function ke(){return ce||(ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Ge):ue)}function te(ue){if(ue instanceof IDBRequest)return function Ye(ue){const ee=new Promise((xe,ut)=>{const At=()=>{ue.removeEventListener("success",Pt),ue.removeEventListener("error",Yt)},Pt=()=>{xe(te(ue.result)),At()},Yt=()=>{ut(ue.error),At()};ue.addEventListener("success",Pt),ue.addEventListener("error",Yt)});return ee.then(xe=>{xe instanceof IDBCursor&&V.set(xe,ue)}).catch(()=>{}),De.set(ee,ue),ee}(ue);if(Pe.has(ue))return Pe.get(ue);const ee=ht(ue);return ee!==ue&&(Pe.set(ue,ee),De.set(ee,ue)),ee}const pe=ue=>De.get(ue),be=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],ie=new Map;function He(ue,ee){if(!(ue instanceof IDBDatabase)||ee in ue||"string"!=typeof ee)return;if(ie.get(ee))return ie.get(ee);const xe=ee.replace(/FromIndex$/,""),ut=ee!==xe,At=Ve.includes(xe);if(!(xe in(ut?IDBIndex:IDBObjectStore).prototype)||!At&&!be.includes(xe))return;const Pt=function(){var Yt=(0,a.Z)(function*(rr,...Wn){const mo=this.transaction(rr,At?"readwrite":"readonly");let is=mo.store;return ut&&(is=is.index(Wn.shift())),(yield Promise.all([is[xe](...Wn),At&&mo.done]))[0]});return function(Wn){return Yt.apply(this,arguments)}}();return ie.set(ee,Pt),Pt}!function Ne(ue){Ge=ue(Ge)}(ue=>({...ue,get:(ee,xe,ut)=>He(ee,xe)||ue.get(ee,xe,ut),has:(ee,xe)=>!!He(ee,xe)||ue.has(ee,xe)}));class jt{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(xe=>{if(function fr(ue){const ee=ue.getComponent();return"VERSION"===ee?.type}(xe)){const ut=xe.getImmediate();return`${ut.library}/${ut.version}`}return null}).filter(xe=>xe).join(" ")}}const Gr="@firebase/app",se=new O.Yd("@firebase/app"),$e="[DEFAULT]",pt={[Gr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},yt=new Map,cn=new Map;function bn(ue,ee){try{ue.container.addComponent(ee)}catch(xe){se.debug(`Component ${ee.name} failed to register with FirebaseApp ${ue.name}`,xe)}}function zr(ue,ee){ue.container.addOrOverwriteComponent(ee)}function on(ue){const ee=ue.name;if(cn.has(ee))return se.debug(`There were multiple attempts to register component ${ee}.`),!1;cn.set(ee,ue);for(const xe of yt.values())bn(xe,ue);return!0}function pr(ue,ee){const xe=ue.container.getProvider("heartbeat").getImmediate({optional:!0});return xe&&xe.triggerHeartbeat(),ue.container.getProvider(ee)}function Ma(ue,ee,xe=$e){pr(ue,ee).clearInstance(xe)}function un(){cn.clear()}const Bt=new X.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class eo{constructor(ee,xe,ut){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},xe),this._name=xe.name,this._automaticDataCollectionEnabled=xe.automaticDataCollectionEnabled,this._container=ut,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Bt.create("app-deleted",{appName:this._name})}}const rs="9.23.0";function Sa(ue,ee={}){let xe=ue;"object"!=typeof ee&&(ee={name:ee});const ut=Object.assign({name:$e,automaticDataCollectionEnabled:!1},ee),At=ut.name;if("string"!=typeof At||!At)throw Bt.create("bad-app-name",{appName:String(At)});if(xe||(xe=(0,X.aH)()),!xe)throw Bt.create("no-options");const Pt=yt.get(At);if(Pt){if((0,X.vZ)(xe,Pt.options)&&(0,X.vZ)(ut,Pt.config))return Pt;throw Bt.create("duplicate-app",{appName:At})}const Yt=new $.H0(At);for(const Wn of cn.values())Yt.addComponent(Wn);const rr=new eo(xe,ut,Yt);return yt.set(At,rr),rr}function ii(ue=$e){const ee=yt.get(ue);if(!ee&&ue===$e&&(0,X.aH)())return Sa();if(!ee)throw Bt.create("no-app",{appName:ue});return ee}function to(){return Array.from(yt.values())}function gr(ue){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(ue){const ee=ue.name;yt.has(ee)&&(yt.delete(ee),yield Promise.all(ue.container.getProviders().map(xe=>xe.delete())),ue.isDeleted=!0)})).apply(this,arguments)}function mn(ue,ee,xe){var ut;let At=null!==(ut=pt[ue])&&void 0!==ut?ut:ue;xe&&(At+=`-${xe}`);const Pt=At.match(/\s|\//),Yt=ee.match(/\s|\//);if(Pt||Yt){const rr=[`Unable to register library "${At}" with version "${ee}":`];return Pt&&rr.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Pt&&Yt&&rr.push("and"),Yt&&rr.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void se.warn(rr.join(" "))}on(new $.wA(`${At}-version`,()=>({library:At,version:ee}),"VERSION"))}function no(ue,ee){if(null!==ue&&"function"!=typeof ue)throw Bt.create("invalid-log-argument");(0,O.Am)(ue,ee)}function Qt(ue){(0,O.Ub)(ue)}const ro="firebase-heartbeat-database",$t=1,U="firebase-heartbeat-store";let F=null;function G(){return F||(F=function W(ue,ee,{blocked:xe,upgrade:ut,blocking:At,terminated:Pt}={}){const Yt=indexedDB.open(ue,ee),rr=te(Yt);return ut&&Yt.addEventListener("upgradeneeded",Wn=>{ut(te(Yt.result),Wn.oldVersion,Wn.newVersion,te(Yt.transaction),Wn)}),xe&&Yt.addEventListener("blocked",Wn=>xe(Wn.oldVersion,Wn.newVersion,Wn)),rr.then(Wn=>{Pt&&Wn.addEventListener("close",()=>Pt()),At&&Wn.addEventListener("versionchange",mo=>At(mo.oldVersion,mo.newVersion,mo))}).catch(()=>{}),rr}(ro,$t,{upgrade:(ue,ee)=>{0===ee&&ue.createObjectStore(U)}}).catch(ue=>{throw Bt.create("idb-open",{originalErrorMessage:ue.message})})),F}function oe(){return(oe=(0,a.Z)(function*(ue){try{return yield(yield G()).transaction(U).objectStore(U).get(kt(ue))}catch(ee){if(ee instanceof X.ZR)se.warn(ee.message);else{const xe=Bt.create("idb-get",{originalErrorMessage:ee?.message});se.warn(xe.message)}}})).apply(this,arguments)}function nt(ue,ee){return gt.apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(ue,ee){try{const ut=(yield G()).transaction(U,"readwrite");yield ut.objectStore(U).put(ee,kt(ue)),yield ut.done}catch(xe){if(xe instanceof X.ZR)se.warn(xe.message);else{const ut=Bt.create("idb-set",{originalErrorMessage:xe?.message});se.warn(ut.message)}}})).apply(this,arguments)}function kt(ue){return`${ue.name}!${ue.options.appId}`}class bt{constructor(ee){this.container=ee,this._heartbeatsCache=null;const xe=this.container.getProvider("app").getImmediate();this._storage=new vi(xe),this._heartbeatsCachePromise=this._storage.read().then(ut=>(this._heartbeatsCache=ut,ut))}triggerHeartbeat(){var ee=this;return(0,a.Z)(function*(){const ut=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Gt();if(null===ee._heartbeatsCache&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise),ee._heartbeatsCache.lastSentHeartbeatDate!==At&&!ee._heartbeatsCache.heartbeats.some(Pt=>Pt.date===At))return ee._heartbeatsCache.heartbeats.push({date:At,agent:ut}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(Pt=>{const Yt=new Date(Pt.date).valueOf();return Date.now()-Yt<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache)})()}getHeartbeatsHeader(){var ee=this;return(0,a.Z)(function*(){if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null===ee._heartbeatsCache||0===ee._heartbeatsCache.heartbeats.length)return"";const xe=Gt(),{heartbeatsToSend:ut,unsentEntries:At}=function mr(ue,ee=1024){const xe=[];let ut=ue.slice();for(const At of ue){const Pt=xe.find(Yt=>Yt.agent===At.agent);if(Pt){if(Pt.dates.push(At.date),io(xe)>ee){Pt.dates.pop();break}}else if(xe.push({agent:At.agent,dates:[At.date]}),io(xe)>ee){xe.pop();break}ut=ut.slice(1)}return{heartbeatsToSend:xe,unsentEntries:ut}}(ee._heartbeatsCache.heartbeats),Pt=(0,X.L)(JSON.stringify({version:2,heartbeats:ut}));return ee._heartbeatsCache.lastSentHeartbeatDate=xe,At.length>0?(ee._heartbeatsCache.heartbeats=At,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),Pt})()}}function Gt(){return(new Date).toISOString().substring(0,10)}class vi{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,X.hl)()&&(0,X.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,a.Z)(function*(){return(yield ee._canUseIndexedDBPromise)&&(yield function ve(ue){return oe.apply(this,arguments)}(ee.app))||{heartbeats:[]}})()}overwrite(ee){var xe=this;return(0,a.Z)(function*(){var ut;if(yield xe._canUseIndexedDBPromise){const Pt=yield xe.read();return nt(xe.app,{lastSentHeartbeatDate:null!==(ut=ee.lastSentHeartbeatDate)&&void 0!==ut?ut:Pt.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var xe=this;return(0,a.Z)(function*(){var ut;if(yield xe._canUseIndexedDBPromise){const Pt=yield xe.read();return nt(xe.app,{lastSentHeartbeatDate:null!==(ut=ee.lastSentHeartbeatDate)&&void 0!==ut?ut:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...ee.heartbeats]})}})()}}function io(ue){return(0,X.L)(JSON.stringify({version:2,heartbeats:ue})).length}!function oi(ue){on(new $.wA("platform-logger",ee=>new jt(ee),"PRIVATE")),on(new $.wA("heartbeat",ee=>new bt(ee),"PRIVATE")),mn(Gr,"0.9.13",ue),mn(Gr,"0.9.13","esm2017"),mn("fire-js","")}("")},4859:(ct,Ie,k)=>{k.d(Ie,{H0:()=>ke,wA:()=>O});var a=k(5861),$=k(2090);class O{constructor(V,Z,J){this.name=V,this.instanceFactory=Z,this.type=J,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const X="[DEFAULT]";class ne{constructor(V,Z){this.name=V,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const Z=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(Z)){const J=new $.BH;if(this.instancesDeferred.set(Z,J),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Pe=this.getOrInitializeService({instanceIdentifier:Z});Pe&&J.resolve(Pe)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(V){var Z;const J=this.normalizeInstanceIdentifier(V?.identifier),Pe=null!==(Z=V?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(J)&&!this.shouldAutoInitialize()){if(Pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:J})}catch(De){if(Pe)return null;throw De}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function fe(de){return"EAGER"===de.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:X})}catch{}for(const[Z,J]of this.instancesDeferred.entries()){const Pe=this.normalizeInstanceIdentifier(Z);try{const De=this.getOrInitializeService({instanceIdentifier:Pe});J.resolve(De)}catch{}}}}clearInstance(V=X){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,a.Z)(function*(){const Z=Array.from(V.instances.values());yield Promise.all([...Z.filter(J=>"INTERNAL"in J).map(J=>J.INTERNAL.delete()),...Z.filter(J=>"_delete"in J).map(J=>J._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=X){return this.instances.has(V)}getOptions(V=X){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:Z={}}=V,J=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(J))throw Error(`${this.name}(${J}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pe=this.getOrInitializeService({instanceIdentifier:J,options:Z});for(const[De,Ye]of this.instancesDeferred.entries())J===this.normalizeInstanceIdentifier(De)&&Ye.resolve(Pe);return Pe}onInit(V,Z){var J;const Pe=this.normalizeInstanceIdentifier(Z),De=null!==(J=this.onInitCallbacks.get(Pe))&&void 0!==J?J:new Set;De.add(V),this.onInitCallbacks.set(Pe,De);const Ye=this.instances.get(Pe);return Ye&&V(Ye,Pe),()=>{De.delete(V)}}invokeOnInitCallbacks(V,Z){const J=this.onInitCallbacks.get(Z);if(J)for(const Pe of J)try{Pe(V,Z)}catch{}}getOrInitializeService({instanceIdentifier:V,options:Z={}}){let J=this.instances.get(V);if(!J&&this.component&&(J=this.component.instanceFactory(this.container,{instanceIdentifier:(de=V,de===X?void 0:de),options:Z}),this.instances.set(V,J),this.instancesOptions.set(V,Z),this.invokeOnInitCallbacks(J,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,J)}catch{}var de;return J||null}normalizeInstanceIdentifier(V=X){return this.component?this.component.multipleInstances?V:X:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ke{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const Z=this.getProvider(V.name);if(Z.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);Z.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const Z=new ne(V,this);return this.providers.set(V,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(ct,Ie,k)=>{k.d(Ie,{Am:()=>de,Ub:()=>ke,Yd:()=>fe,in:()=>$});const a=[];var $=(()=>(($=$||{})[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",$))();const O={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},X=$.INFO,ne={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ce=(V,Z,...J)=>{if(Z<V.logLevel)return;const Pe=(new Date).toISOString(),De=ne[Z];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[De](`[${Pe}]  ${V.name}:`,...J)};class fe{constructor(Z){this.name=Z,this._logLevel=X,this._logHandler=ce,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in $))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?O[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...Z),this._logHandler(this,$.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...Z),this._logHandler(this,$.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,$.INFO,...Z),this._logHandler(this,$.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,$.WARN,...Z),this._logHandler(this,$.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...Z),this._logHandler(this,$.ERROR,...Z)}}function ke(V){a.forEach(Z=>{Z.setLogLevel(V)})}function de(V,Z){for(const J of a){let Pe=null;Z&&Z.level&&(Pe=O[Z.level]),J.userLogHandler=null===V?null:(De,Ye,...Se)=>{const Ge=Se.map(Ne=>{if(null==Ne)return null;if("string"==typeof Ne)return Ne;if("number"==typeof Ne||"boolean"==typeof Ne)return Ne.toString();if(Ne instanceof Error)return Ne.message;try{return JSON.stringify(Ne)}catch{return null}}).filter(Ne=>Ne).join(" ");Ye>=(Pe??De.logLevel)&&V({level:$[Ye].toLowerCase(),message:Ge,args:Se,type:De.name})}}}},259:(ct,Ie,k)=>{k.d(Ie,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=k(6881);(0,a.registerVersion)("firebase","9.23.0","app")},9260:(ct,Ie,k)=>{k.d(Ie,{Z:()=>a.Z});var a=k(3942);a.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(ct,Ie,k)=>{k.r(Ie);var a=k(5861),$=k(3942),O=k(2090),X=k(6881),ne=k(7582),ce=k(1877),fe=k(4859);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Ye=function Pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Se=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_t=new ce.Yd("@firebase/auth");function te(y,...f){_t.logLevel<=ce.in.ERROR&&_t.error(`Auth (${X.SDK_VERSION}): ${y}`,...f)}function pe(y,...f){throw Ve(y,...f)}function W(y,...f){return Ve(y,...f)}function he(y,f,g){const v=Object.assign(Object.assign({},Se()),{[f]:g});return new O.LL("auth","Firebase",v).create(f,{appName:y.name})}function be(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&pe(y,"argument-error"),he(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(y,...f){if("string"!=typeof y){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return Ge.create(y,...f)}function ie(y,f,...g){if(!y)throw Ve(f,...g)}function He(y){const f="INTERNAL ASSERTION FAILED: "+y;throw te(f),new Error(f)}function jt(y,f){y||He(f)}function fr(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Gr(){return"http:"===Po()||"https:"===Po()}function Po(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class we{constructor(f,g){this.shortDelay=f,this.longDelay=g,jt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gr()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(y,f){jt(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class qe{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void He("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void He("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void He("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Tt=new we(3e4,6e4);function Xe(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Ut(y,f,g,v){return tt.apply(this,arguments)}function tt(){return(tt=(0,a.Z)(function*(y,f,g,v,b={}){return ft(y,b,(0,a.Z)(function*(){let x={},B={};v&&("GET"===f?B=v:x={body:JSON.stringify(v)});const Y=(0,O.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Ae=yield y._getAdditionalHeaders();return Ae["Content-Type"]="application/json",y.languageCode&&(Ae["X-Firebase-Locale"]=y.languageCode),qe.fetch()(Wt(y,y.config.apiHost,g,Y),Object.assign({method:f,headers:Ae,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ft(y,f,g){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(y,f,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},Ue),f);try{const b=new ti(y),x=yield Promise.race([g(),b.promise]);b.clearNetworkTimeout();const B=yield x.json();if("needConfirmation"in B)throw zn(y,"account-exists-with-different-credential",B);if(x.ok&&!("errorMessage"in B))return B;{const Y=x.ok?B.errorMessage:B.error.message,[Ae,je]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw zn(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Ae)throw zn(y,"email-already-in-use",B);if("USER_DISABLED"===Ae)throw zn(y,"user-disabled",B);const et=v[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw he(y,et,je);pe(y,et)}}catch(b){if(b instanceof O.ZR)throw b;pe(y,"network-request-failed",{message:String(b)})}})).apply(this,arguments)}function tn(y,f,g,v){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(y,f,g,v,b={}){const x=yield Ut(y,f,g,v,b);return"mfaPendingCredential"in x&&pe(y,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Wt(y,f,g,v){const b=`${f}${g}?${v}`;return y.config.emulator?Me(y.config,b):`${y.config.apiScheme}://${b}`}class ti{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(W(this.auth,"network-request-failed")),Tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(y,f,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const b=W(y,f,v);return b.customData._tokenResponse=g,b}function Kn(){return(Kn=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ns(){return(ns=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ri(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function $e(){return($e=(0,a.Z)(function*(y,f=!1){const g=(0,O.m9)(y),v=yield g.getIdToken(f),b=yt(v);ie(b&&b.exp&&b.auth_time&&b.iat,g.auth,"internal-error");const x="object"==typeof b.firebase?b.firebase:void 0,B=x?.sign_in_provider;return{claims:b,token:v,authTime:ri(pt(b.auth_time)),issuedAtTime:ri(pt(b.iat)),expirationTime:ri(pt(b.exp)),signInProvider:B||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function pt(y){return 1e3*Number(y)}function yt(y){const[f,g,v]=y.split(".");if(void 0===f||void 0===g||void 0===v)return te("JWT malformed, contained fewer than 3 sections"),null;try{const b=(0,O.tV)(g);return b?JSON.parse(b):(te("Failed to decode base64 JWT payload"),null)}catch(b){return te("Caught error parsing JWT payload as JSON",b?.toString()),null}}function bn(y,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,a.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof O.ZR&&function on({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}class pr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const b=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,b)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Ma{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ri(this.lastLoginAt),this.creationTime=ri(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function un(y){return Sr.apply(this,arguments)}function Sr(){return Sr=(0,a.Z)(function*(y){var f;const g=y.auth,v=yield y.getIdToken(),b=yield bn(y,function ba(y,f){return ni.apply(this,arguments)}(g,{idToken:v}));ie(b?.users.length,g,"internal-error");const x=b.users[0];y._notifyReloadListener(x);const B=null!==(f=x.providerUserInfo)&&void 0!==f&&f.length?function Sa(y){return y.map(f=>{var{providerId:g}=f,v=(0,ne._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(x.providerUserInfo):[],Y=function rs(y,f){return[...y.filter(v=>!f.some(b=>b.providerId===v.providerId)),...f]}(y.providerData,B),et=!!y.isAnonymous&&!(y.email&&x.passwordHash||Y?.length),rt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:Y,metadata:new Ma(x.createdAt,x.lastLoginAt),isAnonymous:et};Object.assign(y,rt)}),Sr.apply(this,arguments)}function eo(){return(eo=(0,a.Z)(function*(y){const f=(0,O.m9)(y);yield un(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function to(){return(to=(0,a.Z)(function*(y,f){const g=yield ft(y,{},(0,a.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:b,apiKey:x}=y.config,B=Wt(y,b,"/v1/token",`key=${x}`),Y=yield y._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",qe.fetch()(B,{method:"POST",headers:Y,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class gr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(typeof f.idToken<"u","internal-error"),ie(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function cn(y){const f=yt(y);return ie(f,"internal-error"),ie(typeof f.exp<"u","internal-error"),ie(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,a.Z)(function*(){return ie(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,a.Z)(function*(){const{accessToken:b,refreshToken:x,expiresIn:B}=yield function ii(y,f){return to.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(b,x,Number(B))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:b,expirationTime:x}=g,B=new gr;return v&&(ie("string"==typeof v,"internal-error",{appName:f}),B.refreshToken=v),b&&(ie("string"==typeof b,"internal-error",{appName:f}),B.accessToken=b),x&&(ie("number"==typeof x,"internal-error",{appName:f}),B.expirationTime=x),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new gr,this.toJSON())}_performRefresh(){return He("not implemented")}}function nr(y,f){ie("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class mn{constructor(f){var{uid:g,auth:v,stsTokenManager:b}=f,x=(0,ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=b,this.accessToken=b.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Ma(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const v=yield bn(g,g.stsTokenManager.getToken(g.auth,f));return ie(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function Aa(y){return $e.apply(this,arguments)}(this,f)}reload(){return function Bt(y){return eo.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new mn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,a.Z)(function*(){let b=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),b=!0),g&&(yield un(v)),yield v.auth._persistUserIfCurrent(v),b&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield bn(f,function $r(y,f){return Kn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,b,x,B,Y,Ae,je,et;const rt=null!==(v=g.displayName)&&void 0!==v?v:void 0,On=null!==(b=g.email)&&void 0!==b?b:void 0,bo=null!==(x=g.phoneNumber)&&void 0!==x?x:void 0,Eh=null!==(B=g.photoURL)&&void 0!==B?B:void 0,Op=null!==(Y=g.tenantId)&&void 0!==Y?Y:void 0,Lp=null!==(Ae=g._redirectEventId)&&void 0!==Ae?Ae:void 0,wh=null!==(je=g.createdAt)&&void 0!==je?je:void 0,Oc=null!==(et=g.lastLoginAt)&&void 0!==et?et:void 0,{uid:Pp,emailVerified:Ih,isAnonymous:Th,providerData:Si,stsTokenManager:Dh}=g;ie(Pp&&Dh,f,"internal-error");const wt=gr.fromJSON(this.name,Dh);ie("string"==typeof Pp,f,"internal-error"),nr(rt,f.name),nr(On,f.name),ie("boolean"==typeof Ih,f,"internal-error"),ie("boolean"==typeof Th,f,"internal-error"),nr(bo,f.name),nr(Eh,f.name),nr(Op,f.name),nr(Lp,f.name),nr(wh,f.name),nr(Oc,f.name);const Tr=new mn({uid:Pp,auth:f,email:On,emailVerified:Ih,displayName:rt,isAnonymous:Th,photoURL:Eh,phoneNumber:bo,tenantId:Op,stsTokenManager:wt,createdAt:wh,lastLoginAt:Oc});return Si&&Array.isArray(Si)&&(Tr.providerData=Si.map(hl=>Object.assign({},hl))),Lp&&(Tr._redirectEventId=Lp),Tr}static _fromIdTokenResponse(f,g,v=!1){return(0,a.Z)(function*(){const b=new gr;b.updateFromServerResponse(g);const x=new mn({uid:g.localId,auth:f,stsTokenManager:b,isAnonymous:v});return yield un(x),x})()}}const no=new Map;function Qt(y){jt(y instanceof Function,"Expected a class definition");let f=no.get(y);return f?(jt(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,no.set(y,f),f)}const $t=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,v){var b=this;return(0,a.Z)(function*(){b.storage[g]=v})()}_get(g){var v=this;return(0,a.Z)(function*(){const b=v.storage[g];return void 0===b?null:b})()}_remove(g){var v=this;return(0,a.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function U(y,f,g){return`firebase:${y}:${f}:${g}`}class F{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:b,name:x}=this.auth;this.fullUserKey=U(this.userKey,b.apiKey,x),this.fullPersistenceKey=U("persistence",b.apiKey,x),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?mn._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,a.Z)(function*(){if(!g.length)return new F(Qt($t),f,v);const b=(yield Promise.all(g.map(function(){var je=(0,a.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return je.apply(this,arguments)}}()))).filter(je=>je);let x=b[0]||Qt($t);const B=U(v,f.config.apiKey,f.name);let Y=null;for(const je of g)try{const et=yield je._get(B);if(et){const rt=mn._fromJSON(f,et);je!==x&&(Y=rt),x=je;break}}catch{}const Ae=b.filter(je=>je._shouldAllowMigration);return x._shouldAllowMigration&&Ae.length?(x=Ae[0],Y&&(yield x._set(B,Y.toJSON())),yield Promise.all(g.map(function(){var je=(0,a.Z)(function*(et){if(et!==x)try{yield et._remove(B)}catch{}});return function(et){return je.apply(this,arguments)}}())),new F(x,f,v)):new F(x,f,v)})()}}function G(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(gt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ve(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(_n(f))return"Blackberry";if(dn(f))return"Webos";if(oe(f))return"Safari";if((f.includes("chrome/")||nt(f))&&!f.includes("edge/"))return"Chrome";if(kt(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function ve(y=(0,O.z$)()){return/firefox\//i.test(y)}function oe(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function nt(y=(0,O.z$)()){return/crios\//i.test(y)}function gt(y=(0,O.z$)()){return/iemobile/i.test(y)}function kt(y=(0,O.z$)()){return/android/i.test(y)}function _n(y=(0,O.z$)()){return/blackberry/i.test(y)}function dn(y=(0,O.z$)()){return/webos/i.test(y)}function bt(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function io(y=(0,O.z$)()){return bt(y)||kt(y)||dn(y)||_n(y)||/windows phone/i.test(y)||gt(y)}function ue(y,f=[]){let g;switch(y){case"Browser":g=G((0,O.z$)());break;case"Worker":g=`${G((0,O.z$)())}-${y}`;break;default:g=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${X.SDK_VERSION}/${v}`}function xe(){return(xe=(0,a.Z)(function*(y){return(yield Ut(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ut(y,f){return At.apply(this,arguments)}function At(){return(At=(0,a.Z)(function*(y,f){return Ut(y,"GET","/v2/recaptchaConfig",Xe(y,f))})).apply(this,arguments)}function Pt(y){return void 0!==y&&void 0!==y.getResponse}function Yt(y){return void 0!==y&&void 0!==y.enterprise}class rr{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function mo(y){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=b=>{const x=W("internal-error");x.customData=b,g(x)},v.type="text/javascript",v.charset="UTF-8",function Wn(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function is(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Md{constructor(f){this.type="recaptcha-enterprise",this.auth=Yn(f)}verify(f="verify",g=!1){var v=this;return(0,a.Z)(function*(){function x(){return x=(0,a.Z)(function*(Y){if(!g){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var Ae=(0,a.Z)(function*(je,et){ut(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rt=>{if(void 0!==rt.recaptchaKey){const On=new rr(rt);return null==Y.tenantId?Y._agentRecaptchaConfig=On:Y._tenantRecaptchaConfigs[Y.tenantId]=On,je(On.siteKey)}et(new Error("recaptcha Enterprise site key undefined"))}).catch(rt=>{et(rt)})});return function(je,et){return Ae.apply(this,arguments)}}())}),x.apply(this,arguments)}function B(Y,Ae,je){const et=window.grecaptcha;Yt(et)?et.enterprise.ready(()=>{et.enterprise.execute(Y,{action:f}).then(rt=>{Ae(rt)}).catch(()=>{Ae("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,Ae)=>{(function b(Y){return x.apply(this,arguments)})(v.auth).then(je=>{if(!g&&Yt(window.grecaptcha))B(je,Y,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));mo("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{B(je,Y,Ae)}).catch(et=>{Ae(et)})}}).catch(je=>{Ae(je)})})})()}}function Ei(y,f,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,a.Z)(function*(y,f,g,v=!1){const b=new Md(y);let x;try{x=yield b.verify(g)}catch{x=yield b.verify(g,!0)}const B=Object.assign({},f);return Object.assign(B,v?{captchaResp:x}:{captchaResponse:x}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class jl{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const v=x=>new Promise((B,Y)=>{try{B(f(x))}catch(Ae){Y(Ae)}});v.onAbort=g,this.queue.push(v);const b=this.queue.length-1;return()=>{this.queue[b]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,a.Z)(function*(){if(g.auth.currentUser===f)return;const v=[];try{for(const b of g.queue)yield b(f),b.onAbort&&v.push(b.onAbort)}catch(b){v.reverse();for(const x of v)try{x()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:b?.message})}})()}}class Sd{constructor(f,g,v,b){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=v,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rs(this),this.idTokenSubscription=new Rs(this),this.beforeStateQueue=new jl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=Qt(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var b,x;if(!v._deleted&&(v.persistenceManager=yield F.create(v,f),!v._deleted)){if(null!==(b=v._popupRedirectResolver)&&void 0!==b&&b._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(x=v.currentUser)||void 0===x?void 0:x.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var v;const b=yield g.assertedPersistence.getCurrentUser();let x=b,B=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Y=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,Ae=x?._redirectEventId,je=yield g.tryRedirectSignIn(f);(!Y||Y===Ae)&&je?.user&&(x=je.user,B=!0)}if(!x)return g.directlySetCurrentUser(null);if(!x._redirectEventId){if(B)try{yield g.beforeStateQueue.runMiddleware(x)}catch(Y){x=b,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Y))}return x?g.reloadAndSetCurrentUserOrClear(x):g.directlySetCurrentUser(null)}return ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===x._redirectEventId?g.directlySetCurrentUser(x):g.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){try{yield un(f)}catch(v){if("auth/network-request-failed"!==v?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const v=f?(0,O.m9)(f):null;return v&&ie(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f,g=!1){var v=this;return(0,a.Z)(function*(){if(!v._deleted)return f&&ie(v.tenantId===f.tenantId,v,"tenant-id-mismatch"),g||(yield v.beforeStateQueue.runMiddleware(f)),v.queue((0,a.Z)(function*(){yield v.directlySetCurrentUser(f),v.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(Qt(f))}))}initializeRecaptchaConfig(){var f=this;return(0,a.Z)(function*(){const g=yield ut(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new rr(g);null==f.tenantId?f._agentRecaptchaConfig=v:f._tenantRecaptchaConfigs[f.tenantId]=v,v.emailPasswordEnabled&&new Md(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,a.Z)(function*(){const b=yield v.getOrInitRedirectPersistenceManager(g);return null===f?b.removeCurrentUser():b.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&Qt(f)||g._popupRedirectResolver;ie(v,g,"argument-error"),g.redirectPersistenceManager=yield F.create(g,[Qt(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var v,b;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,b){if(this._deleted)return()=>{};const x="function"==typeof g?g:g.next.bind(g),B=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(B,this,"internal-error"),B.then(()=>x(this.currentUser)),"function"==typeof g?f.addObserver(g,v,b):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const b=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();b&&(v["X-Firebase-Client"]=b);const x=yield f._getAppCheckToken();return x&&(v["X-Firebase-AppCheck"]=x),v})()}_getAppCheckToken(){var f=this;return(0,a.Z)(function*(){var g;const v=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return v?.error&&function ht(y,...f){_t.logLevel<=ce.in.WARN&&_t.warn(`Auth (${X.SDK_VERSION}): ${y}`,...f)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function Yn(y){return(0,O.m9)(y)}class Rs{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function os(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Nd(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class _o{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return He("not implemented")}_getIdTokenResponse(f){return He("not implemented")}_linkToIdToken(f,g){return He("not implemented")}_getReauthenticationResolver(f){return He("not implemented")}}function jf(y,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:resetPassword",Xe(y,f))})).apply(this,arguments)}function Gl(y,f){return $l.apply(this,arguments)}function $l(){return($l=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",Xe(y,f))})).apply(this,arguments)}function ln(y,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithPassword",Xe(y,f))})).apply(this,arguments)}function xr(y,f){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:sendOobCode",Xe(y,f))})).apply(this,arguments)}function ks(){return(ks=(0,a.Z)(function*(y,f){return xr(y,f)})).apply(this,arguments)}function Ra(y,f){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,a.Z)(function*(y,f){return xr(y,f)})).apply(this,arguments)}function Vn(y,f){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(y,f){return xr(y,f)})).apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(y,f){return xr(y,f)})).apply(this,arguments)}function Uo(){return(Uo=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,f))})).apply(this,arguments)}function ss(){return(ss=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithEmailLink",Xe(y,f))})).apply(this,arguments)}class wn extends _o{constructor(f,g,v,b=null){super("password",v),this._email=f,this._password=g,this._tenantId=b}static _fromEmailAndPassword(f,g){return new wn(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new wn(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){var v;switch(g.signInMethod){case"password":const b={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=f._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const x=yield Ei(f,b,"signInWithPassword");return ln(f,x)}return ln(f,b).catch(function(){var x=(0,a.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Y=yield Ei(f,b,"signInWithPassword");return ln(f,Y)}return Promise.reject(B)});return function(B){return x.apply(this,arguments)}}());case"emailLink":return function ai(y,f){return Uo.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:pe(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,a.Z)(function*(){switch(v.signInMethod){case"password":return Gl(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Br(y,f){return ss.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:pe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _r(y,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithIdp",Xe(y,f))})).apply(this,arguments)}class Kr extends _o{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Kr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):pe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:b}=g,x=(0,ne._T)(g,["providerId","signInMethod"]);if(!v||!b)return null;const B=new Kr(v,b);return B.idToken=x.idToken||void 0,B.accessToken=x.accessToken||void 0,B.secret=x.secret,B.nonce=x.nonce,B.pendingToken=x.pendingToken||null,B}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,_r(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_r(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function oo(){return(oo=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:sendVerificationCode",Xe(y,f))})).apply(this,arguments)}function Os(){return(Os=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,f))})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(y,f){const g=yield tn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,f));if(g.temporaryProof)throw zn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ls={USER_NOT_FOUND:"user-not-found"};function ui(){return(ui=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithPhoneNumber",Xe(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ls)})).apply(this,arguments)}class Un extends _o{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Un({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Un({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function kn(y,f){return Os.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function ka(y,f){return wi.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Od(y,f){return ui.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:b}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:b}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:b,temporaryProof:x}=f;return v||g||b||x?new Un({verificationId:g,verificationCode:v,phoneNumber:b,temporaryProof:x}):null}}class Ht{constructor(f){var g,v,b,x,B,Y;const Ae=(0,O.zd)((0,O.pd)(f)),je=null!==(g=Ae.apiKey)&&void 0!==g?g:null,et=null!==(v=Ae.oobCode)&&void 0!==v?v:null,rt=function Kl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(b=Ae.mode)&&void 0!==b?b:null);ie(je&&et&&rt,"argument-error"),this.apiKey=je,this.operation=rt,this.code=et,this.continueUrl=null!==(x=Ae.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(B=Ae.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(Y=Ae.tenantId)&&void 0!==Y?Y:null}static parseLink(f){const g=function as(y){const f=(0,O.zd)((0,O.pd)(y)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||g||f||y}(f);try{return new Ht(g)}catch{return null}}}let ku=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return wn._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const b=Ht.parseLink(v);return ie(b,"argument-error"),wn._fromEmailAndCode(g,b.code,b.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class so{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Wr extends so{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Ii extends Wr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return ie("providerId"in g&&"signInMethod"in g,"argument-error"),Kr._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return ie(f.idToken||f.accessToken,"argument-error"),Kr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Ii.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Ii.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:b,pendingToken:x,nonce:B,providerId:Y}=f;if(!v&&!b&&!g&&!x||!Y)return null;try{return new Ii(Y)._credential({idToken:g,accessToken:v,nonce:B,pendingToken:x})}catch{return null}}}let us=(()=>{class y extends Wr{constructor(){super("facebook.com")}static credential(g){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ls=(()=>{class y extends Wr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:b}=g;if(!v&&!b)return null;try{return y.credential(v,b)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ar=(()=>{class y extends Wr{constructor(){super("github.com")}static credential(g){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Bn extends _o{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return _r(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,_r(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,_r(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:b,pendingToken:x}=g;return v&&b&&x&&v===b?new Bn(v,x):null}static _create(f,g){return new Bn(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ps extends so{constructor(f){ie(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Ps.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Ps.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Bn.fromJSON(f);return ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return Bn._create(v,g)}catch{return null}}}let vo=(()=>{class y extends Wr{constructor(){super("twitter.com")}static credential(g,v){return Kr._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:b}=g;if(!v||!b)return null;try{return y.credential(v,b)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Eo(y,f){return yr.apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signUp",Xe(y,f))})).apply(this,arguments)}class Nr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,b=!1){return(0,a.Z)(function*(){const x=yield mn._fromIdTokenResponse(f,v,b),B=cs(v);return new Nr({user:x,providerId:B,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const b=cs(v);return new Nr({user:f,providerId:b,_tokenResponse:v,operationType:g})})()}}function cs(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Wl(){return(Wl=(0,a.Z)(function*(y){var f;const g=Yn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Nr({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield Eo(g,{returnSecureToken:!0}),b=yield Nr._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(b.user),b})).apply(this,arguments)}class Oa extends O.ZR{constructor(f,g,v,b){var x;super(g.code,g.message),this.operationType=v,this.user=b,Object.setPrototypeOf(this,Oa.prototype),this.customData={appName:f.name,tenantId:null!==(x=f.tenantId)&&void 0!==x?x:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,b){return new Oa(f,g,v,b)}}function Gf(y,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Oa._fromErrorAndOperation(y,x,f,v):x})}function $f(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function ao(){return ao=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y);yield La(!0,g,f);const{providerUserInfo:v}=yield function ts(y,f){return ns.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),b=$f(v||[]);return g.providerData=g.providerData.filter(x=>b.has(x.providerId)),b.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ao.apply(this,arguments)}function Yl(y,f){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,a.Z)(function*(y,f,g=!1){const v=yield bn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return Nr._forOperation(y,"link",v)})).apply(this,arguments)}function La(y,f,g){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,a.Z)(function*(y,f,g){yield un(f);const b=!1===y?"provider-already-linked":"no-such-provider";ie($f(f.providerData).has(g)===y,f.auth,b)})).apply(this,arguments)}function zf(y,f){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,a.Z)(function*(y,f,g=!1){const{auth:v}=y,b="reauthenticate";try{const x=yield bn(y,Gf(v,b,f,y),g);ie(x.idToken,v,"internal-error");const B=yt(x.idToken);ie(B,v,"internal-error");const{sub:Y}=B;return ie(y.uid===Y,v,"user-mismatch"),Nr._forOperation(y,b,x)}catch(x){throw"auth/user-not-found"===x?.code&&pe(v,"user-mismatch"),x}})).apply(this,arguments)}function Pd(y,f){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,a.Z)(function*(y,f,g=!1){const v="signIn",b=yield Gf(y,v,f),x=yield Nr._fromIdTokenResponse(y,v,b);return g||(yield y._updateCurrentUser(x.user)),x})).apply(this,arguments)}function Pa(y,f){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(y,f){return Pd(Yn(y),f)})).apply(this,arguments)}function wm(y,f){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y);return yield La(!1,g,f.providerId),Yl(g,f)})).apply(this,arguments)}function Zn(y,f){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,a.Z)(function*(y,f){return zf((0,O.m9)(y),f)})).apply(this,arguments)}function Im(){return(Im=(0,a.Z)(function*(y,f){return tn(y,"POST","/v1/accounts:signInWithCustomToken",Xe(y,f))})).apply(this,arguments)}function Pi(){return Pi=(0,a.Z)(function*(y,f){const g=Yn(y),v=yield function Kf(y,f){return Im.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),b=yield Nr._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(b.user),b}),Pi.apply(this,arguments)}class Ou{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Va._fromServerResponse(f,g):"totpInfo"in g?Vd._fromServerResponse(f,g):pe(f,"internal-error")}}class Va extends Ou{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Va(g)}}class Vd extends Ou{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Vd(g)}}function Ua(y,f,g){var v;ie((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),ie(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ie(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(ie(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Zr(){return Zr=(0,a.Z)(function*(y,f,g){var v;const b=Yn(y),x={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const B=yield Ei(b,x,"getOobCode",!0);g&&Ua(b,B,g),yield Ra(b,B)}else g&&Ua(b,x,g),yield Ra(b,x).catch(function(){var B=(0,a.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ae=yield Ei(b,x,"getOobCode",!0);g&&Ua(b,Ae,g),yield Ra(b,Ae)}});return function(Y){return B.apply(this,arguments)}}())}),Zr.apply(this,arguments)}function Jn(){return(Jn=(0,a.Z)(function*(y,f,g){yield jf((0,O.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Ti(){return Ti=(0,a.Z)(function*(y,f){yield function Ft(y,f){return sr.apply(this,arguments)}((0,O.m9)(y),{oobCode:f})}),Ti.apply(this,arguments)}function Ba(y,f){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y),v=yield jf(g,{oobCode:f}),b=v.requestType;switch(ie(b,g,"internal-error"),b){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(v.mfaInfo,g,"internal-error");default:ie(v.email,g,"internal-error")}let x=null;return v.mfaInfo&&(x=Ou._fromServerResponse(Yn(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:x},operation:b}})).apply(this,arguments)}function Us(){return(Us=(0,a.Z)(function*(y,f){const{data:g}=yield Ba((0,O.m9)(y),f);return g.email})).apply(this,arguments)}function Za(){return Za=(0,a.Z)(function*(y,f,g){var v;const b=Yn(y),x={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const je=yield Ei(b,x,"signUpPassword");B=Eo(b,je)}else B=Eo(b,x).catch(function(){var je=(0,a.Z)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rt=yield Ei(b,x,"signUpPassword");return Eo(b,rt)}return Promise.reject(et)});return function(et){return je.apply(this,arguments)}}());const Y=yield B.catch(je=>Promise.reject(je)),Ae=yield Nr._fromIdTokenResponse(b,"signIn",Y);return yield b._updateCurrentUser(Ae.user),Ae}),Za.apply(this,arguments)}function ds(){return ds=(0,a.Z)(function*(y,f,g){var v;const b=Yn(y),x={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(Y,Ae){ie(Ae.handleCodeInApp,b,"argument-error"),Ae&&Ua(b,Y,Ae)}if(null!==(v=b._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Y=yield Ei(b,x,"getOobCode",!0);B(Y,g),yield Vn(b,Y)}else B(x,g),yield Vn(b,x).catch(function(){var Y=(0,a.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield Ei(b,x,"getOobCode",!0);B(je,g),yield Vn(b,je)}});return function(Ae){return Y.apply(this,arguments)}}())}),ds.apply(this,arguments)}function Yf(){return(Yf=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y),b=ku.credentialWithLink(f,g||fr());return ie(b._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Pa(v,b)})).apply(this,arguments)}function tc(){return(tc=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:createAuthUri",Xe(y,f))})).apply(this,arguments)}function nc(){return nc=(0,a.Z)(function*(y,f){const v={identifier:f,continueUri:Gr()?fr():"http://localhost"},{signinMethods:b}=yield function Ud(y,f){return tc.apply(this,arguments)}((0,O.m9)(y),v);return b||[]}),nc.apply(this,arguments)}function Ha(){return Ha=(0,a.Z)(function*(y,f){const g=(0,O.m9)(y),b={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Ua(g.auth,b,f);const{email:x}=yield function zl(y,f){return ks.apply(this,arguments)}(g.auth,b);x!==y.email&&(yield y.reload())}),Ha.apply(this,arguments)}function Uu(){return Uu=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&Ua(v.auth,x,g);const{email:B}=yield function Lt(y,f){return En.apply(this,arguments)}(v.auth,x);B!==y.email&&(yield y.reload())}),Uu.apply(this,arguments)}function Bu(){return(Bu=(0,a.Z)(function*(y,f){return Ut(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Bs(){return Bs=(0,a.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,O.m9)(y),x={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},B=yield bn(v,function ic(y,f){return Bu.apply(this,arguments)}(v.auth,x));v.displayName=B.displayName||null,v.photoURL=B.photoUrl||null;const Y=v.providerData.find(({providerId:Ae})=>"password"===Ae);Y&&(Y.displayName=v.displayName,Y.photoURL=v.photoURL),yield v._updateTokensIfNecessary(B)}),Bs.apply(this,arguments)}function Zd(y,f,g){return qa.apply(this,arguments)}function qa(){return(qa=(0,a.Z)(function*(y,f,g){const{auth:v}=y,x={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(x.email=f),g&&(x.password=g);const B=yield bn(y,Gl(v,x));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class hs{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class Zu extends hs{constructor(f,g,v,b){super(f,g,v),this.username=b}}class qr extends hs{constructor(f,g){super(f,"facebook.com",g)}}class Hu extends Zu{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class oc extends hs{constructor(f,g){super(f,"google.com",g)}}class Zo extends Zu{constructor(f,g,v){super(f,"twitter.com",g,v)}}function ur(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function In(y){var f,g;if(!y)return null;const{providerId:v}=y,b=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},x=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&y?.idToken){const B=null===(g=null===(f=yt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(B)return new hs(x,"anonymous"!==B&&"custom"!==B?B:null)}if(!v)return null;switch(v){case"facebook.com":return new qr(x,b);case"github.com":return new Hu(x,b);case"google.com":return new oc(x,b);case"twitter.com":return new Zo(x,b,y.screenName||null);case"custom":case"anonymous":return new hs(x,null);default:return new hs(x,v,b)}}(g)}class mt{constructor(f,g,v){this.type=f,this.credential=g,this.auth=v}static _fromIdtoken(f,g){return new mt("enroll",f,g)}static _fromMfaPendingCredential(f){return new mt("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return mt._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(v=f.multiFactorSession)&&void 0!==v&&v.idToken)return mt._fromIdtoken(f.multiFactorSession.idToken)}return null}}class qo{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=Yn(f),b=g.customData._serverResponse,x=(b.mfaInfo||[]).map(Y=>Ou._fromServerResponse(v,Y));ie(b.mfaPendingCredential,v,"internal-error");const B=mt._fromMfaPendingCredential(b.mfaPendingCredential);return new qo(B,x,function(){var Y=(0,a.Z)(function*(Ae){const je=yield Ae._process(v,B);delete b.mfaInfo,delete b.mfaPendingCredential;const et=Object.assign(Object.assign({},b),{idToken:je.idToken,refreshToken:je.refreshToken});switch(g.operationType){case"signIn":const rt=yield Nr._fromIdTokenResponse(v,g.operationType,et);return yield v._updateCurrentUser(rt.user),rt;case"reauthenticate":return ie(g.user,v,"internal-error"),Nr._forOperation(g.user,g.operationType,et);default:pe(v,"internal-error")}});return function(Ae){return Y.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}class ja{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>Ou._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new ja(f)}getSession(){var f=this;return(0,a.Z)(function*(){return mt._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var v=this;return(0,a.Z)(function*(){const b=f,x=yield v.getSession(),B=yield bn(v.user,b._process(v.user.auth,x,g));return yield v.user._updateTokensIfNecessary(B),v.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){const v="string"==typeof f?f:f.uid,b=yield g.user.getIdToken();try{const x=yield bn(g.user,function qs(y,f){return Ut(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Xe(y,f))}(g.user.auth,{idToken:b,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:B})=>B!==v),yield g.user._updateTokensIfNecessary(x),yield g.user.reload()}catch(x){throw x}})()}}const Ga=new WeakMap,js="__sak";class zd{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(js,"1"),this.storage.removeItem(js),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const An=(()=>{class y extends zd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ce(){const y=(0,O.z$)();return oe(y)||bt(y)}()&&function oi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=io(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const b=this.storage.getItem(v),x=this.localCache[v];b!==x&&g(v,x,b)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((Y,Ae,je)=>{this.notifyListeners(Y,je)});const b=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(b);if(g.newValue!==Y)null!==g.newValue?this.storage.setItem(b,g.newValue):this.storage.removeItem(b);else if(this.localCache[b]===g.newValue&&!v)return}const x=()=>{const Y=this.storage.getItem(b);!v&&this.localCache[b]===Y||this.notifyListeners(b,Y)},B=this.storage.getItem(b);!function vi(){return(0,O.w1)()&&10===document.documentMode}()||B===g.newValue||g.newValue===g.oldValue?x():setTimeout(x,10)}notifyListeners(g,v){this.localCache[g]=v;const b=this.listeners[g];if(b)for(const x of Array.from(b))x(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,b)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:b}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var b=()=>super._set,x=this;return(0,a.Z)(function*(){yield b().call(x,g,v),x.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,b=this;return(0,a.Z)(function*(){const x=yield v().call(b,g);return b.localCache[g]=JSON.stringify(x),x})()}_remove(g){var v=()=>super._remove,b=this;return(0,a.Z)(function*(){yield v().call(b,g),delete b.localCache[g]})()}}return y.type="LOCAL",y})(),Di=(()=>{class y extends zd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let $a=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(x=>x.isListeningto(g));if(v)return v;const b=new y(g);return this.receivers.push(b),b}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,a.Z)(function*(){const b=g,{eventId:x,eventType:B,data:Y}=b.data,Ae=v.handlersMap[B];if(!Ae?.size)return;b.ports[0].postMessage({status:"ack",eventId:x,eventType:B});const je=Array.from(Ae).map(function(){var rt=(0,a.Z)(function*(On){return On(b.origin,Y)});return function(On){return rt.apply(this,arguments)}}()),et=yield function Io(y){return Promise.all(y.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(je);b.ports[0].postMessage({status:"done",eventId:x,eventType:B,response:et})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Gs(y="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return y+g}class fv{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var b=this;return(0,a.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let B,Y;return new Promise((Ae,je)=>{const et=Gs("",20);x.port1.start();const rt=setTimeout(()=>{je(new Error("unsupported_event"))},v);Y={messageChannel:x,onMessage(On){const bo=On;if(bo.data.eventId===et)switch(bo.data.status){case"ack":clearTimeout(rt),B=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Ae(bo.data.response);break;default:clearTimeout(rt),clearTimeout(B),je(new Error("invalid_response"))}}},b.handlers.add(Y),x.port1.addEventListener("message",Y.onMessage),b.target.postMessage({eventType:f,eventId:et,data:g},[x.port2])}).finally(()=>{Y&&b.removeMessageHandler(Y)})})()}}function Hn(){return window}function Rr(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function Gu(){return(Gu=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Kd="firebaseLocalStorageDb",za="firebaseLocalStorage",$u="fbase_key";class fs{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ka(y,f){return y.transaction([za],f?"readwrite":"readonly").objectStore(za)}function zu(){const y=indexedDB.open(Kd,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(za,{keyPath:$u})}catch(b){g(b)}}),y.addEventListener("success",(0,a.Z)(function*(){const v=y.result;v.objectStoreNames.contains(za)?f(v):(v.close(),yield function Wd(){const y=indexedDB.deleteDatabase(Kd);return new fs(y).toPromise()}(),f(yield zu()))}))})}function Ku(y,f,g){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,a.Z)(function*(y,f,g){const v=Ka(y,!0).put({[$u]:f,value:g});return new fs(v).toPromise()})).apply(this,arguments)}function Vi(){return(Vi=(0,a.Z)(function*(y,f){const g=Ka(y,!1).get(f),v=yield new fs(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function fc(y,f){const g=Ka(y,!0).delete(f);return new fs(g).toPromise()}const Ya=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield zu()),g.db})()}_withRetries(g){var v=this;return(0,a.Z)(function*(){let b=0;for(;;)try{const x=yield v._openDb();return yield g(x)}catch(x){if(b++>3)throw x;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return Rr()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=$a._getInstance(function hn(){return Rr()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,a.Z)(function*(b,x){return{keyProcessed:(yield g._poll()).includes(x.key)}});return function(b,x){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,a.Z)(function*(b,x){return["keyChanged"]});return function(b,x){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var v,b;if(g.activeServiceWorker=yield function To(){return Gu.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new fv(g.activeServiceWorker);const x=yield g.sender._send("ping",{},800);x&&null!==(v=x[0])&&void 0!==v&&v.fulfilled&&null!==(b=x[0])&&void 0!==b&&b.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,a.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function jo(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield zu();return yield Ku(g,js,"1"),yield fc(g,js),!0}catch{}return!1})()}_withPendingWrite(g){var v=this;return(0,a.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(x=>Ku(x,g,v)),b.localCache[g]=v,b.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,a.Z)(function*(){const b=yield v._withRetries(x=>function $s(y,f){return Vi.apply(this,arguments)}(x,g));return v.localCache[g]=b,b})()}_remove(g){var v=this;return(0,a.Z)(function*(){return v._withPendingWrite((0,a.Z)(function*(){return yield v._withRetries(b=>fc(b,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const v=yield g._withRetries(B=>{const Y=Ka(B,!1).getAll();return new fs(Y).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const b=[],x=new Set;for(const{fbase_key:B,value:Y}of v)x.add(B),JSON.stringify(g.localCache[B])!==JSON.stringify(Y)&&(g.notifyListeners(B,Y),b.push(B));for(const B of Object.keys(g.localCache))g.localCache[B]&&!x.has(B)&&(g.notifyListeners(B,null),b.push(B));return b})()}notifyListeners(g,v){this.localCache[g]=v;const b=this.listeners[g];if(b)for(const x of Array.from(b))x(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Ja=1e12;class tp{constructor(f){this.auth=f,this.counter=Ja,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new Jd(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||Ja;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Ja))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var v;return null===(v=g._widgets.get(f||Ja))||void 0===v||v.execute(),""})()}}class Jd{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const b="string"==typeof f?document.getElementById(f):f;ie(b,"argument-error",{appName:g}),this.container=b,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function np(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gc=is("rcb"),mc=new we(3e4,6e4);class Qd{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Hn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return ie(function Qa(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&Pt(Hn().grecaptcha)?Promise.resolve(Hn().grecaptcha):new Promise((v,b)=>{const x=Hn().setTimeout(()=>{b(W(f,"network-request-failed"))},mc.get());Hn()[gc]=()=>{Hn().clearTimeout(x),delete Hn()[gc];const Y=Hn().grecaptcha;if(!Y||!Pt(Y))return void b(W(f,"internal-error"));const Ae=Y.render;Y.render=(je,et)=>{const rt=Ae(je,et);return this.counter++,rt},this.hostLanguage=g,v(Y)},mo(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:gc,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(x),b(W(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Hn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class _c{load(f){return(0,a.Z)(function*(){return new tp(f)})()}clearedOneInstance(){}}const zs="recaptcha",Xd={theme:"light",type:"image"};class yc{constructor(f,g=Object.assign({},Xd),v){this.parameters=g,this.type=zs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(v),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const b="string"==typeof f?document.getElementById(f):f;ie(b,this.auth,"argument-error"),this.container=b,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new _c:new Qd,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(x=>{const B=Y=>{Y&&(f.tokenChangeListeners.delete(B),x(Y))};f.tokenChangeListeners.add(B),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=Hn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){ie(Gr()&&!Rr(),f.auth,"internal-error"),yield function rp(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function ee(y){return xe.apply(this,arguments)}(f.auth);ie(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Yu{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Un._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function vr(){return(vr=(0,a.Z)(function*(y,f,g){const v=Yn(y),b=yield Ks(v,f,(0,O.m9)(g));return new Yu(b,x=>Pa(v,x))})).apply(this,arguments)}function Ju(){return(Ju=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);yield La(!1,v,"phone");const b=yield Ks(v.auth,f,(0,O.m9)(g));return new Yu(b,x=>wm(v,x))})).apply(this,arguments)}function vc(){return(vc=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y),b=yield Ks(v.auth,f,(0,O.m9)(g));return new Yu(b,x=>Zn(v,x))})).apply(this,arguments)}function Ks(y,f,g){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,a.Z)(function*(y,f,g){var v;const b=yield g.verify();try{let x;if(ie("string"==typeof b,y,"argument-error"),ie(g.type===zs,y,"argument-error"),x="string"==typeof f?{phoneNumber:f}:f,"session"in x){const B=x.session;if("phoneNumber"in x)return ie("enroll"===B.type,y,"internal-error"),(yield function lc(y,f){return Ut(y,"POST","/v2/accounts/mfaEnrollment:start",Xe(y,f))}(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:b}})).phoneSessionInfo.sessionInfo;{ie("signin"===B.type,y,"internal-error");const Y=(null===(v=x.multiFactorHint)||void 0===v?void 0:v.uid)||x.multiFactorUid;return ie(Y,y,"missing-multi-factor-info"),(yield function ep(y,f){return Ut(y,"POST","/v2/accounts/mfaSignIn:start",Xe(y,f))}(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:b}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function kd(y,f){return oo.apply(this,arguments)}(y,{phoneNumber:x.phoneNumber,recaptchaToken:b});return B}}finally{g._reset()}}),Ec.apply(this,arguments)}function Ws(){return(Ws=(0,a.Z)(function*(y,f){yield Yl((0,O.m9)(y),f)})).apply(this,arguments)}let qn=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Yn(g)}verifyPhoneNumber(g,v){return Ks(this.auth,g,(0,O.m9)(v))}static credential(g,v){return Un._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:b}=g;return v&&b?Un._fromTokenResponse(v,b):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Mt(y,f){return f?Qt(f):(ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ci extends _o{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _r(f,this._buildIdpRequest())}_linkToIdToken(f,g){return _r(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return _r(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function tu(y){return Pd(y.auth,new Ci(y),y.bypassAuthState)}function nu(y){const{auth:f,user:g}=y;return ie(g,f,"internal-error"),zf(g,new Ci(y),y.bypassAuthState)}function Go(y){return wc.apply(this,arguments)}function wc(){return(wc=(0,a.Z)(function*(y){const{auth:f,user:g}=y;return ie(g,f,"internal-error"),Yl(g,new Ci(y),y.bypassAuthState)})).apply(this,arguments)}class ru{constructor(f,g,v,b,x=!1){this.auth=f,this.resolver=v,this.user=b,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(v,b){f.pendingPromise={resolve:v,reject:b};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(x){f.reject(x)}});return function(v,b){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:v,sessionId:b,postBody:x,tenantId:B,error:Y,type:Ae}=f;if(Y)return void g.reject(Y);const je={auth:g.auth,requestUri:v,sessionId:b,tenantId:B||void 0,postBody:x||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ae)(je))}catch(et){g.reject(et)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return tu;case"linkViaPopup":case"linkViaRedirect":return Go;case"reauthViaPopup":case"reauthViaRedirect":return nu;default:pe(this.auth,"internal-error")}}resolve(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){jt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Er=new we(2e3,1e4);function Ui(){return(Ui=(0,a.Z)(function*(y,f,g){const v=Yn(y);be(y,f,so);const b=Mt(v,g);return new $o(v,"signInViaPopup",f,b).executeNotNull()})).apply(this,arguments)}function Ys(){return(Ys=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);be(v.auth,f,so);const b=Mt(v.auth,g);return new $o(v.auth,"reauthViaPopup",f,b,v).executeNotNull()})).apply(this,arguments)}function Qu(){return(Qu=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);be(v.auth,f,so);const b=Mt(v.auth,g);return new $o(v.auth,"linkViaPopup",f,b,v).executeNotNull()})).apply(this,arguments)}let $o=(()=>{class y extends ru{constructor(g,v,b,x,B){super(g,v,x,B),this.provider=b,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const v=yield g.execute();return ie(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,a.Z)(function*(){jt(1===g.filter.length,"Popup operations only handle one event");const v=Gs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(b=>{g.reject(b)}),g.resolver._isIframeWebStorageSupported(g.auth,b=>{b||g.reject(W(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(W(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,b;this.pollId=null!==(b=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==b&&b.closed?window.setTimeout(()=>{this.pollId=null,this.reject(W(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Er.get())};g()}}return y.currentPopupAction=null,y})();const Ai="pendingRedirect",iu=new Map;class Or extends ru{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let v=iu.get(g.auth._key());if(!v){try{const x=(yield function Bi(y,f){return Ic.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(x)}catch(b){v=()=>Promise.reject(b)}iu.set(g.auth._key(),v)}return g.bypassAuthState||iu.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const b=yield v.auth._redirectUserForId(f.eventId);if(b)return v.user=b,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Ic(){return(Ic=(0,a.Z)(function*(y,f){const g=ou(f),v=rh(y);if(!(yield v._isAvailable()))return!1;const b="true"===(yield v._get(g));return yield v._remove(g),b})).apply(this,arguments)}function nh(y,f){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,a.Z)(function*(y,f){return rh(y)._set(ou(f),"true")})).apply(this,arguments)}function lo(y,f){iu.set(y._key(),f)}function rh(y){return Qt(y._redirectPersistence)}function ou(y){return U(Ai,y.config.apiKey,y.name)}function el(y,f,g){return function gs(y,f,g){return tl.apply(this,arguments)}(y,f,g)}function tl(){return(tl=(0,a.Z)(function*(y,f,g){const v=Yn(y);be(y,f,so),yield v._initializationPromise;const b=Mt(v,g);return yield nh(b,v),b._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function su(y,f,g){return function nl(y,f,g){return rl.apply(this,arguments)}(y,f,g)}function rl(){return(rl=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);be(v.auth,f,so),yield v.auth._initializationPromise;const b=Mt(v.auth,g);yield nh(b,v.auth);const x=yield Zi(v);return b._openRedirect(v.auth,f,"reauthViaRedirect",x)})).apply(this,arguments)}function Dc(y,f,g){return function Cc(y,f,g){return zo.apply(this,arguments)}(y,f,g)}function zo(){return(zo=(0,a.Z)(function*(y,f,g){const v=(0,O.m9)(y);be(v.auth,f,so),yield v.auth._initializationPromise;const b=Mt(v.auth,g);yield La(!1,v,f.providerId),yield nh(b,v.auth);const x=yield Zi(v);return b._openRedirect(v.auth,f,"linkViaRedirect",x)})).apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(y,f){return yield Yn(y)._initializationPromise,_s(y,f,!1)})).apply(this,arguments)}function _s(y,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,a.Z)(function*(y,f,g=!1){const v=Yn(y),b=Mt(v,f),B=yield new Or(v,b,g).execute();return B&&!g&&(delete B.user._redirectEventId,yield v._persistUserIfCurrent(B.user),yield v._setRedirectUser(null,f)),B})).apply(this,arguments)}function Zi(y){return au.apply(this,arguments)}function au(){return(au=(0,a.Z)(function*(y){const f=Gs(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class ol{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function bc(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qs(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!Qs(f)){const b=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(W(this.auth,b))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uu(f))}saveEventToCache(f){this.cachedEventUids.add(uu(f)),this.lastProcessedEventTime=Date.now()}}function uu(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function Qs({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function op(y){return ih.apply(this,arguments)}function ih(){return(ih=(0,a.Z)(function*(y,f={}){return Ut(y,"GET","/v1/projects",f)})).apply(this,arguments)}const lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ys=/^https?/;function Tn(){return(Tn=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield op(y);for(const g of f)try{if(ap(g))return}catch{}pe(y,"unauthorized-domain")})).apply(this,arguments)}function ap(y){const f=fr(),{protocol:g,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&B.hostname===v}if(!ys.test(g))return!1;if(lr.test(y))return v===y;const b=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+b+"|"+b+")$","i").test(v)}const Xs=new we(3e4,6e4);function oh(){const y=Hn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Hi=null;const lu=new we(5e3,15e3),sl="__/auth/iframe",up="emulator/auth/iframe",pv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yw(y){const f=y.config;ie(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Me(f,up):`https://${y.config.authDomain}/${sl}`,v={apiKey:f.apiKey,appName:y.name,v:X.SDK_VERSION},b=Mm.get(y.config.apiHost);b&&(v.eid=b);const x=y._getFrameworks();return x.length&&(v.fw=x.join(",")),`${g}?${(0,O.xO)(v).slice(1)}`}function D(){return D=(0,a.Z)(function*(y){const f=yield function Ko(y){return Hi=Hi||function Qn(y){return new Promise((f,g)=>{var v,b,x;function B(){oh(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{oh(),g(W(y,"network-request-failed"))},timeout:Xs.get()})}if(null!==(b=null===(v=Hn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==b&&b.Iframe)f(gapi.iframes.getContext());else{if(null===(x=Hn().gapi)||void 0===x||!x.load){const Y=is("iframefcb");return Hn()[Y]=()=>{gapi.load?B():g(W(y,"network-request-failed"))},mo(`https://apis.google.com/js/api.js?onload=${Y}`).catch(Ae=>g(Ae))}B()}}).catch(f=>{throw Hi=null,f})}(y),Hi}(y),g=Hn().gapi;return ie(g,y,"internal-error"),f.open({where:document.body,url:Yw(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pv,dontclear:!0},v=>new Promise(function(){var b=(0,a.Z)(function*(x,B){yield v.restyle({setHideOnLeave:!1});const Y=W(y,"network-request-failed"),Ae=Hn().setTimeout(()=>{B(Y)},lu.get());function je(){Hn().clearTimeout(Ae),x(v)}v.ping(je).then(je,()=>{B(Y)})});return function(x,B){return b.apply(this,arguments)}}()))}),D.apply(this,arguments)}const S={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ze{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Dt="__/auth/handler",Ct="emulator/auth/handler",wr=encodeURIComponent("fac");function ir(y,f,g,v,b,x){return qi.apply(this,arguments)}function qi(){return(qi=(0,a.Z)(function*(y,f,g,v,b,x){ie(y.config.authDomain,y,"auth-domain-config-required"),ie(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:X.SDK_VERSION,eventId:b};if(f instanceof so){f.setDefaultLanguage(y.languageCode),B.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[et,rt]of Object.entries(x||{}))B[et]=rt}if(f instanceof Wr){const et=f.getScopes().filter(rt=>""!==rt);et.length>0&&(B.scopes=et.join(","))}y.tenantId&&(B.tid=y.tenantId);const Y=B;for(const et of Object.keys(Y))void 0===Y[et]&&delete Y[et];const Ae=yield y._getAppCheckToken(),je=Ae?`#${wr}=${encodeURIComponent(Ae)}`:"";return`${function Ac({config:y}){return y.emulator?Me(y,Ct):`https://${y.authDomain}/${Dt}`}(y)}?${(0,O.xO)(Y).slice(1)}${je}`})).apply(this,arguments)}const ci="webStorageSupport",ji=class Mi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Di,this._completeRedirectFn=_s,this._overrideRedirectResult=lo}_openPopup(f,g,v,b){var x=this;return(0,a.Z)(function*(){var B;jt(null===(B=x.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Y=yield ir(f,g,v,fr(),b);return function Be(y,f,g,v=500,b=600){const x=Math.max((window.screen.availHeight-b)/2,0).toString(),B=Math.max((window.screen.availWidth-v)/2,0).toString();let Y="";const Ae=Object.assign(Object.assign({},S),{width:v.toString(),height:b.toString(),top:x,left:B}),je=(0,O.z$)().toLowerCase();g&&(Y=nt(je)?"_blank":g),ve(je)&&(f=f||"http://localhost",Ae.scrollbars="yes");const et=Object.entries(Ae).reduce((On,[bo,Eh])=>`${On}${bo}=${Eh},`,"");if(function mr(y=(0,O.z$)()){var f;return bt(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(je)&&"_self"!==Y)return function it(y,f){const g=document.createElement("a");g.href=y,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",Y),new ze(null);const rt=window.open(f||"",Y,et);ie(rt,y,"popup-blocked");try{rt.focus()}catch{}return new ze(rt)}(f,Y,Gs())})()}_openRedirect(f,g,v,b){var x=this;return(0,a.Z)(function*(){return yield x._originValidation(f),function hc(y){Hn().location.href=y}(yield ir(f,g,v,fr(),b)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:b,promise:x}=this.eventManagers[g];return b?Promise.resolve(b):(jt(x,"If manager is not set, promise should be"),x)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const v=yield function I(y){return D.apply(this,arguments)}(f),b=new ol(f);return v.register("authEvent",x=>(ie(x?.authEvent,f,"invalid-auth-event"),{status:b.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:b},g.iframes[f._key()]=v,b})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ci,{type:ci},b=>{var x;const B=null===(x=b?.[0])||void 0===x?void 0:x[ci];void 0!==B&&g(!!B),pe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function sp(y){return Tn.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return io()||oe()||bt()}};class cu{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return He("unexpected MultiFactorSessionType")}}}class ea extends cu{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ea(f)}_finalizeEnroll(f,g,v){return function Qf(y,f){return Ut(y,"POST","/v2/accounts/mfaEnrollment:finalize",Xe(y,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Yr(y,f){return Ut(y,"POST","/v2/accounts/mfaSignIn:finalize",Xe(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gv=(()=>{class y{constructor(){}static assertion(g){return ea._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Mc="@firebase/auth";class ul{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{f(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ta(){return window}(0,O.Pz)("authIdTokenMaxAge"),function cp(y){(0,X._registerComponent)(new fe.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),b=f.getProvider("heartbeat"),x=f.getProvider("app-check-internal"),{apiKey:B,authDomain:Y}=v.options;ie(B&&!B.includes(":"),"invalid-api-key",{appName:v.name});const Ae={apiKey:B,authDomain:Y,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ue(y)},je=new Sd(v,b,x,Ae);return function qf(y,f){const g=f?.persistence||[],v=(Array.isArray(g)?g:[g]).map(Qt);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,f?.popupRedirectResolver)}(je,g),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new fe.wA("auth-internal",f=>{const g=Yn(f.getProvider("auth").getImmediate());return new ul(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(Mc,"0.23.2",function ah(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,X.registerVersion)(Mc,"0.23.2","esm2017")}("Browser");function lh(){return lh=(0,a.Z)(function*(y,f,g){var v;const{BuildInfo:b}=ta();jt(f.sessionId,"AuthEvent did not contain a session ID");const x=yield function pp(y){return gp.apply(this,arguments)}(f.sessionId),B={};return bt()?B.ibi=b.packageName:kt()?B.apn=b.packageName:pe(y,"operation-not-supported-in-this-environment"),b.displayName&&(B.appDisplayName=b.displayName),B.sessionId=x,ir(y,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,B)}),lh.apply(this,arguments)}function hp(){return(hp=(0,a.Z)(function*(y){const{BuildInfo:f}=ta(),g={};bt()?g.iosBundleId=f.packageName:kt()?g.androidPackageName=f.packageName:pe(y,"operation-not-supported-in-this-environment"),yield op(y,g)})).apply(this,arguments)}function vv(){return(vv=(0,a.Z)(function*(y,f,g){const{cordova:v}=ta();let b=()=>{};try{yield new Promise((x,B)=>{let Y=null;function Ae(){var rt;x();const On=null===(rt=v.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof On&&On(),"function"==typeof g?.close&&g.close()}function je(){Y||(Y=window.setTimeout(()=>{B(W(y,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===document?.visibilityState&&je()}f.addPassiveListener(Ae),document.addEventListener("resume",je,!1),kt()&&document.addEventListener("visibilitychange",et,!1),b=()=>{f.removePassiveListener(Ae),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",et,!1),Y&&window.clearTimeout(Y)}})}finally{b()}})).apply(this,arguments)}function gp(){return(gp=(0,a.Z)(function*(y){const f=function Rm(y){if(jt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(b=>b.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ib extends ol{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function du(y){return ll.apply(this,arguments)}function ll(){return(ll=(0,a.Z)(function*(y){const f=yield yp()._get(na(y));return f&&(yield yp()._remove(na(y))),f})).apply(this,arguments)}function _p(){const y=[];for(let g=0;g<20;g++){const v=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return y.join("")}function yp(){return Qt(An)}function na(y){return U("authEvent",y.config.apiKey,y.name)}function cl(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,O.zd)(g.join("?"))}const Ev=class Xw{constructor(){this._redirectPersistence=Di,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=_s,this._overrideRedirectResult=lo}_initialize(f){var g=this;return(0,a.Z)(function*(){const v=f._key();let b=g.eventManagers.get(v);return b||(b=new ib(f),g.eventManagers.set(v,b),g.attachCallbackListeners(f,b)),b})()}_openPopup(f){pe(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,b){var x=this;return(0,a.Z)(function*(){!function Nm(y){var f,g,v,b,x,B,Y,Ae,je,et;const rt=ta();ie("function"==typeof(null===(f=rt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ie(typeof(null===(g=rt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ie("function"==typeof(null===(x=null===(b=null===(v=rt?.cordova)||void 0===v?void 0:v.plugins)||void 0===b?void 0:b.browsertab)||void 0===x?void 0:x.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(Ae=null===(Y=null===(B=rt?.cordova)||void 0===B?void 0:B.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===Ae?void 0:Ae.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ie("function"==typeof(null===(et=null===(je=rt?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===et?void 0:et.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const B=yield x._initialize(f);yield B.initialized(),B.resetRedirect(),function Xu(){iu.clear()}(),yield x._originValidation(f);const Y=function Qw(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:_p(),postBody:null,tenantId:y.tenantId,error:W(y,"no-auth-event")}}(f,v,b);yield function xc(y,f){return yp()._set(na(y),f)}(f,Y);const Ae=yield function yv(y,f,g){return lh.apply(this,arguments)}(f,Y,g),je=yield function fp(y){const{cordova:f}=ta();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let b=null;v?f.plugins.browsertab.openUrl(y):b=f.InAppBrowser.open(y,function Gt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(b)})})}(Ae);return function xm(y,f,g){return vv.apply(this,arguments)}(f,B,je)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function rb(y){return hp.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:b,BuildInfo:x}=ta(),B=setTimeout((0,a.Z)(function*(){yield du(f),g.onEvent(wp())}),500),Y=function(){var et=(0,a.Z)(function*(rt){clearTimeout(B);const On=yield du(f);let bo=null;On&&rt?.url&&(bo=function mp(y,f){var g,v;const b=function Ep(y){const f=cl(y),g=f.link?decodeURIComponent(f.link):void 0,v=cl(g).link,b=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return cl(b).link||b||v||g||y}(f);if(b.includes("/__/auth/callback")){const x=cl(b),B=x.firebaseError?function vp(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(x.firebaseError)):null,Y=null===(v=null===(g=B?.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Ae=Y?W(Y):null;return Ae?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:b,postBody:null}}return null}(On,rt.url)),g.onEvent(bo||wp())});return function(On){return et.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,Y);const Ae=b,je=`${x.packageName.toLowerCase()}://`;ta().handleOpenURL=function(){var et=(0,a.Z)(function*(rt){if(rt.toLowerCase().startsWith(je)&&Y({url:rt}),"function"==typeof Ae)try{Ae(rt)}catch(On){console.error(On)}});return function(rt){return et.apply(this,arguments)}}()}};function wp(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:W("no-auth-event")}}function Nc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Om(y=(0,O.z$)()){return!("file:"!==Nc()&&"ionic:"!==Nc()&&"capacitor:"!==Nc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function dh(){try{const y=self.localStorage,f=Gs();if(y)return y.setItem(f,"1"),y.removeItem(f),!function Cp(y=(0,O.z$)()){return function di(){return(0,O.w1)()&&11===document?.documentMode}()||function Dp(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Ir()&&(0,O.hl)()}return!1}function Ir(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ra(){return(function Tp(){return"http:"===Nc()||"https:"===Nc()}()||(0,O.ru)()||Om())&&!function eI(){return(0,O.b$)()||(0,O.UG)()}()&&dh()&&!Ir()}function bp(){return Om()&&typeof document<"u"}function Mp(){return(Mp=(0,a.Z)(function*(){return!!bp()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const $i={LOCAL:"local",NONE:"none",SESSION:"session"},ia=ie,Lm="persistence";function ph(y){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,a.Z)(function*(y){yield y._initializationPromise;const f=mh(),g=U(Lm,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function mh(){var y;try{return(null===(y=function hh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Pm=ie;class co{constructor(){this.browserResolver=Qt(ji),this.cordovaResolver=Qt(Ev),this.underlyingResolver=null,this._redirectPersistence=Di,this._completeRedirectFn=_s,this._overrideRedirectResult=lo}_initialize(f){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,b){var x=this;return(0,a.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openPopup(f,g,v,b)})()}_openRedirect(f,g,v,b){var x=this;return(0,a.Z)(function*(){return yield x.selectUnderlyingResolver(),x.assertedUnderlyingResolver._openRedirect(f,g,v,b)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return bp()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pm(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Ap(){return Mp.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Rc(y){return y.unwrap()}function xp(y){return Np(y)}function Np(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return qn.credentialFromResult(y);const g=f.providerId;if(!g||g===de.PASSWORD)return null;let v;switch(g){case de.GOOGLE:v=ls;break;case de.FACEBOOK:v=us;break;case de.GITHUB:v=ar;break;case de.TWITTER:v=vo;break;default:const{oauthIdToken:b,oauthAccessToken:x,oauthTokenSecret:B,pendingToken:Y,nonce:Ae}=f;return x||B||b||Y?Y?g.startsWith("saml.")?Bn._create(g,Y):Kr._fromParams({providerId:g,signInMethod:g,pendingToken:Y,idToken:b,accessToken:x}):new Ii(g).credential({idToken:b,accessToken:x,rawNonce:Ae}):null}return y instanceof O.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function Lr(y,f){return f.catch(g=>{throw g instanceof O.ZR&&function _h(y,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new yh(y,function jd(y,f){var g;const v=(0,O.m9)(y),b=f;return ie(f.customData.operationType,v,"argument-error"),ie(null===(g=b.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),qo._fromError(v,b)}(y,f));else if(v){const b=Np(f),x=f;b&&(x.credential=b,x.tenantId=v.tenantId||void 0,x.email=v.email||void 0,x.phoneNumber=v.phoneNumber||void 0)}}(y,g),g}).then(g=>{const b=g.user;return{operationType:g.operationType,credential:xp(g),additionalUserInfo:ur(g),user:zi.getOrCreate(b)}})}function oa(y,f){return kc.apply(this,arguments)}function kc(){return(kc=(0,a.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>Lr(y,g.confirm(v))}})).apply(this,arguments)}class yh{constructor(f,g){this.resolver=g,this.auth=function Fm(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Lr(Rc(this.auth),this.resolver.resolveSignIn(f))}}class zi{constructor(f){this._delegate=f,this.multiFactor=function cc(y){const f=(0,O.m9)(y);return Ga.has(f)||Ga.set(f,ja._fromUser(f)),Ga.get(f)}(f)}static getOrCreate(f){return zi.USER_MAP.has(f)||zi.USER_MAP.set(f,new zi(f)),zi.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,a.Z)(function*(){return Lr(g.auth,wm(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,a.Z)(function*(){return oa(v.auth,function ip(y,f,g){return Ju.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,a.Z)(function*(){return Lr(g.auth,function th(y,f,g){return Qu.apply(this,arguments)}(g._delegate,f,co))})()}linkWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield ph(Yn(g.auth)),Dc(g._delegate,f,co)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,a.Z)(function*(){return Lr(g.auth,Zn(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return oa(this.auth,function Xa(y,f,g){return vc.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Lr(this.auth,function eh(y,f,g){return Ys.apply(this,arguments)}(this._delegate,f,co))}reauthenticateWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield ph(Yn(g.auth)),su(g._delegate,f,co)})()}sendEmailVerification(f){return function Vu(y,f){return Ha.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,a.Z)(function*(){return yield function Em(y,f){return ao.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Jf(y,f){return Zd((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Fi(y,f){return Zd((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function eu(y,f){return Ws.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Cm(y,f){return Bs.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function rc(y,f,g){return Uu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}zi.USER_MAP=new WeakMap;const Co=ie;let Vm=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:b}=g.options;Co(b,"invalid-api-key",{appName:g.name}),Co(b,"invalid-api-key",{appName:g.name});const x=typeof window<"u"?co:void 0;this._delegate=v.initialize({options:{persistence:Iv(b,g.name),popupRedirectResolver:x}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?zi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function Nu(y,f,g){const v=Yn(y);ie(v._canInitEmulator,v,"emulator-config-failed"),ie(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const b=!!g?.disableWarnings,x=os(f),{host:B,port:Y}=function xd(y){const f=os(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",b=/^(\[[^\]]+\])(:|$)/.exec(v);if(b){const x=b[1];return{host:x,port:Nd(v.substr(x.length+1))}}{const[x,B]=v.split(":");return{host:x,port:Nd(B)}}}(f);v.config.emulator={url:`${x}//${B}${null===Y?"":`:${Y}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:B,port:Y,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:b})}),b||function _m(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function Pu(y,f){return Ti.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ba(this._delegate,g)}confirmPasswordReset(g,v){return function Lu(y,f,g){return Jn.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var b=this;return(0,a.Z)(function*(){return Lr(b._delegate,function Wf(y,f,g){return Za.apply(this,arguments)}(b._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Bd(y,f){return nc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Dm(y,f){const g=Ht.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){Co(ra(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function ms(y,f){return Do.apply(this,arguments)}(g._delegate,co);return v?Lr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function km(y,f){Yn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,b){const{next:x,error:B,complete:Y}=Rp(g,v,b);return this._delegate.onAuthStateChanged(x,B,Y)}onIdTokenChanged(g,v,b){const{next:x,error:B,complete:Y}=Rp(g,v,b);return this._delegate.onIdTokenChanged(x,B,Y)}sendSignInLinkToEmail(g,v){return function Fu(y,f,g){return ds.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function Tm(y,f,g){return Zr.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,a.Z)(function*(){let b;switch(function fh(y,f){ia(Object.values($i).includes(f),y,"invalid-persistence-type"),(0,O.b$)()?ia(f!==$i.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?ia(f===$i.NONE,y,"unsupported-persistence-type"):Ir()?ia(f===$i.NONE||f===$i.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):ia(f===$i.NONE||dh(),y,"unsupported-persistence-type")}(v._delegate,g),g){case $i.SESSION:b=Di;break;case $i.LOCAL:b=(yield Qt(Ya)._isAvailable())?Ya:An;break;case $i.NONE:b=$t;break;default:return pe("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(b)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Lr(this._delegate,function vm(y){return Wl.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Lr(this._delegate,Pa(this._delegate,g))}signInWithCustomToken(g){return Lr(this._delegate,function wo(y,f){return Pi.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return Lr(this._delegate,function ec(y,f,g){return Pa((0,O.m9)(y),ku.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return Lr(this._delegate,function Hr(y,f,g){return Yf.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return oa(this._delegate,function fn(y,f,g){return vr.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,a.Z)(function*(){return Co(ra(),v._delegate,"operation-not-supported-in-this-environment"),Lr(v._delegate,function bi(y,f,g){return Ui.apply(this,arguments)}(v._delegate,g,co))})()}signInWithRedirect(g){var v=this;return(0,a.Z)(function*(){return Co(ra(),v._delegate,"operation-not-supported-in-this-environment"),yield ph(v._delegate),el(v._delegate,g,co)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Vs(y,f){return Us.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=$i,y})();function Rp(y,f,g){let v=y;"function"!=typeof y&&({next:v,error:f,complete:g}=y);const b=v;return{next:B=>b(B&&zi.getOrCreate(B)),error:f,complete:g}}function Iv(y,f){const g=function gh(y,f){const g=mh();if(!g)return[];const v=U(Lm,y,f);switch(g.getItem(v)){case $i.NONE:return[$t];case $i.LOCAL:return[Ya,Di];case $i.SESSION:return[Di];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(Ya)&&g.push(Ya),typeof window<"u")for(const v of[An,Di])g.includes(v)||g.push(v);return g.includes($t)||g.push($t),g}class vh{constructor(){this.providerId="phone",this._delegate=new qn(Rc($.Z.auth()))}static credential(f,g){return qn.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}vh.PHONE_SIGN_IN_METHOD=qn.PHONE_SIGN_IN_METHOD,vh.PROVIDER_ID=qn.PROVIDER_ID;const Tv=ie;class Um{constructor(f,g,v=$.Z.app()){var b;Tv(null===(b=v.options)||void 0===b?void 0:b.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new yc(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kp(y){y.INTERNAL.registerComponent(new fe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new Vm(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ku,FacebookAuthProvider:us,GithubAuthProvider:ar,GoogleAuthProvider:ls,OAuthProvider:Ii,SAMLAuthProvider:Ps,PhoneAuthProvider:vh,PhoneMultiFactorGenerator:gv,RecaptchaVerifier:Um,TwitterAuthProvider:vo,Auth:Vm,AuthCredential:_o,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}($.Z)},5861:(ct,Ie,k)=>{function a(O,X,ne,ce,fe,ke,de){try{var V=O[ke](de),Z=V.value}catch(J){return void ne(J)}V.done?X(Z):Promise.resolve(Z).then(ce,fe)}function $(O){return function(){var X=this,ne=arguments;return new Promise(function(ce,fe){var ke=O.apply(X,ne);function de(Z){a(ke,ce,fe,de,V,"next",Z)}function V(Z){a(ke,ce,fe,de,V,"throw",Z)}de(void 0)})}}k.d(Ie,{Z:()=>$})},7582:(ct,Ie,k)=>{function X(se,_e){var we={};for(var Me in se)Object.prototype.hasOwnProperty.call(se,Me)&&_e.indexOf(Me)<0&&(we[Me]=se[Me]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(Me=Object.getOwnPropertySymbols(se);qe<Me.length;qe++)_e.indexOf(Me[qe])<0&&Object.prototype.propertyIsEnumerable.call(se,Me[qe])&&(we[Me[qe]]=se[Me[qe]])}return we}function J(se,_e,we,Me){return new(we||(we=Promise))(function(Ue,Tt){function Xe(ft){try{tt(Me.next(ft))}catch(vn){Tt(vn)}}function Ut(ft){try{tt(Me.throw(ft))}catch(vn){Tt(vn)}}function tt(ft){ft.done?Ue(ft.value):function qe(Ue){return Ue instanceof we?Ue:new we(function(Tt){Tt(Ue)})}(ft.value).then(Xe,Ut)}tt((Me=Me.apply(se,_e||[])).next())})}function te(se){return this instanceof te?(this.v=se,this):new te(se)}function pe(se,_e,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Me=we.apply(se,_e||[]),Ue=[];return qe={},Tt("next"),Tt("throw"),Tt("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function Tt(tn){Me[tn]&&(qe[tn]=function(Rn){return new Promise(function(Wt,ti){Ue.push([tn,Rn,Wt,ti])>1||Xe(tn,Rn)})})}function Xe(tn,Rn){try{!function Ut(tn){tn.value instanceof te?Promise.resolve(tn.value.v).then(tt,ft):vn(Ue[0][2],tn)}(Me[tn](Rn))}catch(Wt){vn(Ue[0][3],Wt)}}function tt(tn){Xe("next",tn)}function ft(tn){Xe("throw",tn)}function vn(tn,Rn){tn(Rn),Ue.shift(),Ue.length&&Xe(Ue[0][0],Ue[0][1])}}function he(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,_e=se[Symbol.asyncIterator];return _e?_e.call(se):(se=function Se(se){var _e="function"==typeof Symbol&&Symbol.iterator,we=_e&&se[_e],Me=0;if(we)return we.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Me>=se.length&&(se=void 0),{value:se&&se[Me++],done:!se}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),we={},Me("next"),Me("throw"),Me("return"),we[Symbol.asyncIterator]=function(){return this},we);function Me(Ue){we[Ue]=se[Ue]&&function(Tt){return new Promise(function(Xe,Ut){!function qe(Ue,Tt,Xe,Ut){Promise.resolve(Ut).then(function(tt){Ue({value:tt,done:Xe})},Tt)}(Xe,Ut,(Tt=se[Ue](Tt)).done,Tt.value)})}}}k.d(Ie,{FC:()=>pe,KL:()=>he,_T:()=>X,mG:()=>J,qq:()=>te})}},ct=>{ct(ct.s=6741)}]);